/*! For license information please see main.3fca03c4.js.LICENSE.txt */
(()=>{var __webpack_modules__={492:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";function emptyItem(){return{portionsPaying:1,totalPortions:1,id:crypto.randomUUID()}}function safeEval(expr,defaultValue){try{return eval(expr)}catch(ignored){return defaultValue}}__webpack_require__.d(__webpack_exports__,{T:()=>emptyItem,s:()=>safeEval})},812:e=>{"use strict";var t,n=Object.defineProperty,r=Object.getOwnPropertyDescriptor,a=Object.getOwnPropertyNames,o=Object.prototype.hasOwnProperty,i={};((e,t)=>{for(var r in t)n(e,r,{get:t[r],enumerable:!0})})(i,{SYMBOL_FOR_REQ_CONTEXT:()=>s,getContext:()=>l}),e.exports=(t=i,((e,t,i,s)=>{if(t&&"object"===typeof t||"function"===typeof t)for(let l of a(t))o.call(e,l)||l===i||n(e,l,{get:()=>t[l],enumerable:!(s=r(t,l))||s.enumerable});return e})(n({},"__esModule",{value:!0}),t));const s=Symbol.for("@vercel/request-context");function l(){var e,t,n;return null!==(e=null===(t=globalThis[s])||void 0===t||null===(n=t.get)||void 0===n?void 0:n.call(t))&&void 0!==e?e:{}}},327:(e,t,n)=>{"use strict";var r,a=Object.defineProperty,o=Object.getOwnPropertyDescriptor,i=Object.getOwnPropertyNames,s=Object.prototype.hasOwnProperty,l={};((e,t)=>{for(var n in t)a(e,n,{get:t[n],enumerable:!0})})(l,{getContext:()=>u.getContext,getVercelOidcToken:()=>c,getVercelOidcTokenSync:()=>d}),e.exports=(r=l,((e,t,n,r)=>{if(t&&"object"===typeof t||"function"===typeof t)for(let l of i(t))s.call(e,l)||l===n||a(e,l,{get:()=>t[l],enumerable:!(r=o(t,l))||r.enumerable});return e})(a({},"__esModule",{value:!0}),r));var u=n(812);async function c(){return""}function d(){return""}},497:(e,t,n)=>{"use strict";var r=n(218);function a(){}function o(){}o.resetWarningCache=a,e.exports=function(){function e(e,t,n,a,o,i){if(i!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:a};return n.PropTypes=n,n}},173:(e,t,n)=>{e.exports=n(497)()},218:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},343:(e,t,n)=>{var r=n(957);function a(e){this.mode=r.MODE_8BIT_BYTE,this.data=e}a.prototype={getLength:function(e){return this.data.length},write:function(e){for(var t=0;t<this.data.length;t++)e.put(this.data.charCodeAt(t),8)}},e.exports=a},813:e=>{function t(){this.buffer=new Array,this.length=0}t.prototype={get:function(e){var t=Math.floor(e/8);return 1==(this.buffer[t]>>>7-e%8&1)},put:function(e,t){for(var n=0;n<t;n++)this.putBit(1==(e>>>t-n-1&1))},getLengthInBits:function(){return this.length},putBit:function(e){var t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0),e&&(this.buffer[t]|=128>>>this.length%8),this.length++}},e.exports=t},742:e=>{e.exports={L:1,M:0,Q:3,H:2}},392:(e,t,n)=>{var r=n(460);function a(e,t){if(void 0==e.length)throw new Error(e.length+"/"+t);for(var n=0;n<e.length&&0==e[n];)n++;this.num=new Array(e.length-n+t);for(var r=0;r<e.length-n;r++)this.num[r]=e[r+n]}a.prototype={get:function(e){return this.num[e]},getLength:function(){return this.num.length},multiply:function(e){for(var t=new Array(this.getLength()+e.getLength()-1),n=0;n<this.getLength();n++)for(var o=0;o<e.getLength();o++)t[n+o]^=r.gexp(r.glog(this.get(n))+r.glog(e.get(o)));return new a(t,0)},mod:function(e){if(this.getLength()-e.getLength()<0)return this;for(var t=r.glog(this.get(0))-r.glog(e.get(0)),n=new Array(this.getLength()),o=0;o<this.getLength();o++)n[o]=this.get(o);for(o=0;o<e.getLength();o++)n[o]^=r.gexp(r.glog(e.get(o))+t);return new a(n,0).mod(e)}},e.exports=a},612:(e,t,n)=>{var r=n(343),a=n(436),o=n(813),i=n(898),s=n(392);function l(e,t){this.typeNumber=e,this.errorCorrectLevel=t,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}var u=l.prototype;u.addData=function(e){var t=new r(e);this.dataList.push(t),this.dataCache=null},u.isDark=function(e,t){if(e<0||this.moduleCount<=e||t<0||this.moduleCount<=t)throw new Error(e+","+t);return this.modules[e][t]},u.getModuleCount=function(){return this.moduleCount},u.make=function(){if(this.typeNumber<1){var e=1;for(e=1;e<40;e++){for(var t=a.getRSBlocks(e,this.errorCorrectLevel),n=new o,r=0,s=0;s<t.length;s++)r+=t[s].dataCount;for(s=0;s<this.dataList.length;s++){var l=this.dataList[s];n.put(l.mode,4),n.put(l.getLength(),i.getLengthInBits(l.mode,e)),l.write(n)}if(n.getLengthInBits()<=8*r)break}this.typeNumber=e}this.makeImpl(!1,this.getBestMaskPattern())},u.makeImpl=function(e,t){this.moduleCount=4*this.typeNumber+17,this.modules=new Array(this.moduleCount);for(var n=0;n<this.moduleCount;n++){this.modules[n]=new Array(this.moduleCount);for(var r=0;r<this.moduleCount;r++)this.modules[n][r]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(e,t),this.typeNumber>=7&&this.setupTypeNumber(e),null==this.dataCache&&(this.dataCache=l.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,t)},u.setupPositionProbePattern=function(e,t){for(var n=-1;n<=7;n++)if(!(e+n<=-1||this.moduleCount<=e+n))for(var r=-1;r<=7;r++)t+r<=-1||this.moduleCount<=t+r||(this.modules[e+n][t+r]=0<=n&&n<=6&&(0==r||6==r)||0<=r&&r<=6&&(0==n||6==n)||2<=n&&n<=4&&2<=r&&r<=4)},u.getBestMaskPattern=function(){for(var e=0,t=0,n=0;n<8;n++){this.makeImpl(!0,n);var r=i.getLostPoint(this);(0==n||e>r)&&(e=r,t=n)}return t},u.createMovieClip=function(e,t,n){var r=e.createEmptyMovieClip(t,n);this.make();for(var a=0;a<this.modules.length;a++)for(var o=1*a,i=0;i<this.modules[a].length;i++){var s=1*i;this.modules[a][i]&&(r.beginFill(0,100),r.moveTo(s,o),r.lineTo(s+1,o),r.lineTo(s+1,o+1),r.lineTo(s,o+1),r.endFill())}return r},u.setupTimingPattern=function(){for(var e=8;e<this.moduleCount-8;e++)null==this.modules[e][6]&&(this.modules[e][6]=e%2==0);for(var t=8;t<this.moduleCount-8;t++)null==this.modules[6][t]&&(this.modules[6][t]=t%2==0)},u.setupPositionAdjustPattern=function(){for(var e=i.getPatternPosition(this.typeNumber),t=0;t<e.length;t++)for(var n=0;n<e.length;n++){var r=e[t],a=e[n];if(null==this.modules[r][a])for(var o=-2;o<=2;o++)for(var s=-2;s<=2;s++)this.modules[r+o][a+s]=-2==o||2==o||-2==s||2==s||0==o&&0==s}},u.setupTypeNumber=function(e){for(var t=i.getBCHTypeNumber(this.typeNumber),n=0;n<18;n++){var r=!e&&1==(t>>n&1);this.modules[Math.floor(n/3)][n%3+this.moduleCount-8-3]=r}for(n=0;n<18;n++){r=!e&&1==(t>>n&1);this.modules[n%3+this.moduleCount-8-3][Math.floor(n/3)]=r}},u.setupTypeInfo=function(e,t){for(var n=this.errorCorrectLevel<<3|t,r=i.getBCHTypeInfo(n),a=0;a<15;a++){var o=!e&&1==(r>>a&1);a<6?this.modules[a][8]=o:a<8?this.modules[a+1][8]=o:this.modules[this.moduleCount-15+a][8]=o}for(a=0;a<15;a++){o=!e&&1==(r>>a&1);a<8?this.modules[8][this.moduleCount-a-1]=o:a<9?this.modules[8][15-a-1+1]=o:this.modules[8][15-a-1]=o}this.modules[this.moduleCount-8][8]=!e},u.mapData=function(e,t){for(var n=-1,r=this.moduleCount-1,a=7,o=0,s=this.moduleCount-1;s>0;s-=2)for(6==s&&s--;;){for(var l=0;l<2;l++)if(null==this.modules[r][s-l]){var u=!1;o<e.length&&(u=1==(e[o]>>>a&1)),i.getMask(t,r,s-l)&&(u=!u),this.modules[r][s-l]=u,-1==--a&&(o++,a=7)}if((r+=n)<0||this.moduleCount<=r){r-=n,n=-n;break}}},l.PAD0=236,l.PAD1=17,l.createData=function(e,t,n){for(var r=a.getRSBlocks(e,t),s=new o,u=0;u<n.length;u++){var c=n[u];s.put(c.mode,4),s.put(c.getLength(),i.getLengthInBits(c.mode,e)),c.write(s)}var d=0;for(u=0;u<r.length;u++)d+=r[u].dataCount;if(s.getLengthInBits()>8*d)throw new Error("code length overflow. ("+s.getLengthInBits()+">"+8*d+")");for(s.getLengthInBits()+4<=8*d&&s.put(0,4);s.getLengthInBits()%8!=0;)s.putBit(!1);for(;!(s.getLengthInBits()>=8*d)&&(s.put(l.PAD0,8),!(s.getLengthInBits()>=8*d));)s.put(l.PAD1,8);return l.createBytes(s,r)},l.createBytes=function(e,t){for(var n=0,r=0,a=0,o=new Array(t.length),l=new Array(t.length),u=0;u<t.length;u++){var c=t[u].dataCount,d=t[u].totalCount-c;r=Math.max(r,c),a=Math.max(a,d),o[u]=new Array(c);for(var p=0;p<o[u].length;p++)o[u][p]=255&e.buffer[p+n];n+=c;var f=i.getErrorCorrectPolynomial(d),h=new s(o[u],f.getLength()-1).mod(f);l[u]=new Array(f.getLength()-1);for(p=0;p<l[u].length;p++){var m=p+h.getLength()-l[u].length;l[u][p]=m>=0?h.get(m):0}}var g=0;for(p=0;p<t.length;p++)g+=t[p].totalCount;var v=new Array(g),y=0;for(p=0;p<r;p++)for(u=0;u<t.length;u++)p<o[u].length&&(v[y++]=o[u][p]);for(p=0;p<a;p++)for(u=0;u<t.length;u++)p<l[u].length&&(v[y++]=l[u][p]);return v},e.exports=l},436:(e,t,n)=>{var r=n(742);function a(e,t){this.totalCount=e,this.dataCount=t}a.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],a.getRSBlocks=function(e,t){var n=a.getRsBlockTable(e,t);if(void 0==n)throw new Error("bad rs block @ typeNumber:"+e+"/errorCorrectLevel:"+t);for(var r=n.length/3,o=new Array,i=0;i<r;i++)for(var s=n[3*i+0],l=n[3*i+1],u=n[3*i+2],c=0;c<s;c++)o.push(new a(l,u));return o},a.getRsBlockTable=function(e,t){switch(t){case r.L:return a.RS_BLOCK_TABLE[4*(e-1)+0];case r.M:return a.RS_BLOCK_TABLE[4*(e-1)+1];case r.Q:return a.RS_BLOCK_TABLE[4*(e-1)+2];case r.H:return a.RS_BLOCK_TABLE[4*(e-1)+3];default:return}},e.exports=a},460:e=>{for(var t={glog:function(e){if(e<1)throw new Error("glog("+e+")");return t.LOG_TABLE[e]},gexp:function(e){for(;e<0;)e+=255;for(;e>=256;)e-=255;return t.EXP_TABLE[e]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)},n=0;n<8;n++)t.EXP_TABLE[n]=1<<n;for(n=8;n<256;n++)t.EXP_TABLE[n]=t.EXP_TABLE[n-4]^t.EXP_TABLE[n-5]^t.EXP_TABLE[n-6]^t.EXP_TABLE[n-8];for(n=0;n<255;n++)t.LOG_TABLE[t.EXP_TABLE[n]]=n;e.exports=t},957:e=>{e.exports={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8}},898:(e,t,n)=>{var r=n(957),a=n(392),o=n(460),i=0,s=1,l=2,u=3,c=4,d=5,p=6,f=7,h={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(e){for(var t=e<<10;h.getBCHDigit(t)-h.getBCHDigit(h.G15)>=0;)t^=h.G15<<h.getBCHDigit(t)-h.getBCHDigit(h.G15);return(e<<10|t)^h.G15_MASK},getBCHTypeNumber:function(e){for(var t=e<<12;h.getBCHDigit(t)-h.getBCHDigit(h.G18)>=0;)t^=h.G18<<h.getBCHDigit(t)-h.getBCHDigit(h.G18);return e<<12|t},getBCHDigit:function(e){for(var t=0;0!=e;)t++,e>>>=1;return t},getPatternPosition:function(e){return h.PATTERN_POSITION_TABLE[e-1]},getMask:function(e,t,n){switch(e){case i:return(t+n)%2==0;case s:return t%2==0;case l:return n%3==0;case u:return(t+n)%3==0;case c:return(Math.floor(t/2)+Math.floor(n/3))%2==0;case d:return t*n%2+t*n%3==0;case p:return(t*n%2+t*n%3)%2==0;case f:return(t*n%3+(t+n)%2)%2==0;default:throw new Error("bad maskPattern:"+e)}},getErrorCorrectPolynomial:function(e){for(var t=new a([1],0),n=0;n<e;n++)t=t.multiply(new a([1,o.gexp(n)],0));return t},getLengthInBits:function(e,t){if(1<=t&&t<10)switch(e){case r.MODE_NUMBER:return 10;case r.MODE_ALPHA_NUM:return 9;case r.MODE_8BIT_BYTE:case r.MODE_KANJI:return 8;default:throw new Error("mode:"+e)}else if(t<27)switch(e){case r.MODE_NUMBER:return 12;case r.MODE_ALPHA_NUM:return 11;case r.MODE_8BIT_BYTE:return 16;case r.MODE_KANJI:return 10;default:throw new Error("mode:"+e)}else{if(!(t<41))throw new Error("type:"+t);switch(e){case r.MODE_NUMBER:return 14;case r.MODE_ALPHA_NUM:return 13;case r.MODE_8BIT_BYTE:return 16;case r.MODE_KANJI:return 12;default:throw new Error("mode:"+e)}}},getLostPoint:function(e){for(var t=e.getModuleCount(),n=0,r=0;r<t;r++)for(var a=0;a<t;a++){for(var o=0,i=e.isDark(r,a),s=-1;s<=1;s++)if(!(r+s<0||t<=r+s))for(var l=-1;l<=1;l++)a+l<0||t<=a+l||0==s&&0==l||i==e.isDark(r+s,a+l)&&o++;o>5&&(n+=3+o-5)}for(r=0;r<t-1;r++)for(a=0;a<t-1;a++){var u=0;e.isDark(r,a)&&u++,e.isDark(r+1,a)&&u++,e.isDark(r,a+1)&&u++,e.isDark(r+1,a+1)&&u++,0!=u&&4!=u||(n+=3)}for(r=0;r<t;r++)for(a=0;a<t-6;a++)e.isDark(r,a)&&!e.isDark(r,a+1)&&e.isDark(r,a+2)&&e.isDark(r,a+3)&&e.isDark(r,a+4)&&!e.isDark(r,a+5)&&e.isDark(r,a+6)&&(n+=40);for(a=0;a<t;a++)for(r=0;r<t-6;r++)e.isDark(r,a)&&!e.isDark(r+1,a)&&e.isDark(r+2,a)&&e.isDark(r+3,a)&&e.isDark(r+4,a)&&!e.isDark(r+5,a)&&e.isDark(r+6,a)&&(n+=40);var c=0;for(a=0;a<t;a++)for(r=0;r<t;r++)e.isDark(r,a)&&c++;return n+=10*(Math.abs(100*c/t/t-50)/5)}};e.exports=h},730:(e,t,n)=>{"use strict";var r=n(43),a=n(853);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,s={};function l(e,t){u(e,t),u(e+"Capture",t)}function u(e,t){for(s[e]=t,e=0;e<t.length;e++)i.add(t[e])}var c=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},h={};function m(e,t,n,r,a,o,i){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=a,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=i}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){g[e]=new m(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];g[t]=new m(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){g[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){g[e]=new m(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){g[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){g[e]=new m(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){g[e]=new m(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){g[e]=new m(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){g[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)}));var v=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function b(e,t,n,r){var a=g.hasOwnProperty(t)?g[t]:null;(null!==a?0!==a.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,a,r)&&(n=null),r||null===a?function(e){return!!d.call(h,e)||!d.call(f,e)&&(p.test(e)?h[e]=!0:(f[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):a.mustUseProperty?e[a.propertyName]=null===n?3!==a.type&&"":n:(t=a.attributeName,r=a.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(a=a.type)||4===a&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)})),g.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)}));var _=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),k=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),C=Symbol.for("react.provider"),A=Symbol.for("react.context"),I=Symbol.for("react.forward_ref"),T=Symbol.for("react.suspense"),N=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),P=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var z=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var R=Symbol.iterator;function j(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=R&&e[R]||e["@@iterator"])?e:null}var M,F=Object.assign;function L(e){if(void 0===M)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);M=t&&t[1]||""}return"\n"+M+e}var D=!1;function U(e,t){if(!e||D)return"";D=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&"string"===typeof u.stack){for(var a=u.stack.split("\n"),o=r.stack.split("\n"),i=a.length-1,s=o.length-1;1<=i&&0<=s&&a[i]!==o[s];)s--;for(;1<=i&&0<=s;i--,s--)if(a[i]!==o[s]){if(1!==i||1!==s)do{if(i--,0>--s||a[i]!==o[s]){var l="\n"+a[i].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=i&&0<=s);break}}}finally{D=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?L(e):""}function B(e){switch(e.tag){case 5:return L(e.type);case 16:return L("Lazy");case 13:return L("Suspense");case 19:return L("SuspenseList");case 0:case 2:case 15:return e=U(e.type,!1);case 11:return e=U(e.type.render,!1);case 1:return e=U(e.type,!0);default:return""}}function Z(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case x:return"Fragment";case k:return"Portal";case E:return"Profiler";case S:return"StrictMode";case T:return"Suspense";case N:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case A:return(e.displayName||"Context")+".Consumer";case C:return(e._context.displayName||"Context")+".Provider";case I:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case O:return null!==(t=e.displayName||null)?t:Z(e.type)||"Memo";case P:t=e._payload,e=e._init;try{return Z(e(t))}catch(n){}}return null}function q(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Z(t);case 8:return t===S?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function V(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function $(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function H(e){e._valueTracker||(e._valueTracker=function(e){var t=$(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var a=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function W(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=$(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Q(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function K(e,t){var n=t.checked;return F({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function J(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=V(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function G(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function Y(e,t){G(e,t);var n=V(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,V(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function X(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Q(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var a=0;a<n.length;a++)t["$"+n[a]]=!0;for(n=0;n<e.length;n++)a=t.hasOwnProperty("$"+e[n].value),e[n].selected!==a&&(e[n].selected=a),a&&r&&(e[n].defaultSelected=!0)}else{for(n=""+V(n),t=null,a=0;a<e.length;a++){if(e[a].value===n)return e[a].selected=!0,void(r&&(e[a].defaultSelected=!0));null!==t||e[a].disabled||(t=e[a])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return F({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ae(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(te(n)){if(1<n.length)throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:V(n)}}function oe(e,t){var n=V(t.value),r=V(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ie(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function se(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?se(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ue,ce,de=(ce=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ue=ue||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ue.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ce(e,t)}))}:ce);function pe(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var fe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},he=["Webkit","ms","Moz","O"];function me(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||fe.hasOwnProperty(e)&&fe[e]?(""+t).trim():t+"px"}function ge(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),a=me(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,a):e[n]=a}}Object.keys(fe).forEach((function(e){he.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),fe[t]=fe[e]}))}));var ve=F({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(ve[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(o(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var _e=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var ke=null,xe=null,Se=null;function Ee(e){if(e=ba(e)){if("function"!==typeof ke)throw Error(o(280));var t=e.stateNode;t&&(t=wa(t),ke(e.stateNode,e.type,t))}}function Ce(e){xe?Se?Se.push(e):Se=[e]:xe=e}function Ae(){if(xe){var e=xe,t=Se;if(Se=xe=null,Ee(e),t)for(e=0;e<t.length;e++)Ee(t[e])}}function Ie(e,t){return e(t)}function Te(){}var Ne=!1;function Oe(e,t,n){if(Ne)return e(t,n);Ne=!0;try{return Ie(e,t,n)}finally{Ne=!1,(null!==xe||null!==Se)&&(Te(),Ae())}}function Pe(e,t){var n=e.stateNode;if(null===n)return null;var r=wa(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}var ze=!1;if(c)try{var Re={};Object.defineProperty(Re,"passive",{get:function(){ze=!0}}),window.addEventListener("test",Re,Re),window.removeEventListener("test",Re,Re)}catch(ce){ze=!1}function je(e,t,n,r,a,o,i,s,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(c){this.onError(c)}}var Me=!1,Fe=null,Le=!1,De=null,Ue={onError:function(e){Me=!0,Fe=e}};function Be(e,t,n,r,a,o,i,s,l){Me=!1,Fe=null,je.apply(Ue,arguments)}function Ze(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function qe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Ve(e){if(Ze(e)!==e)throw Error(o(188))}function $e(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ze(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var a=n.return;if(null===a)break;var i=a.alternate;if(null===i){if(null!==(r=a.return)){n=r;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===n)return Ve(a),e;if(i===r)return Ve(a),t;i=i.sibling}throw Error(o(188))}if(n.return!==r.return)n=a,r=i;else{for(var s=!1,l=a.child;l;){if(l===n){s=!0,n=a,r=i;break}if(l===r){s=!0,r=a,n=i;break}l=l.sibling}if(!s){for(l=i.child;l;){if(l===n){s=!0,n=i,r=a;break}if(l===r){s=!0,r=i,n=a;break}l=l.sibling}if(!s)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e))?He(e):null}function He(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=He(e);if(null!==t)return t;e=e.sibling}return null}var We=a.unstable_scheduleCallback,Qe=a.unstable_cancelCallback,Ke=a.unstable_shouldYield,Je=a.unstable_requestPaint,Ge=a.unstable_now,Ye=a.unstable_getCurrentPriorityLevel,Xe=a.unstable_ImmediatePriority,et=a.unstable_UserBlockingPriority,tt=a.unstable_NormalPriority,nt=a.unstable_LowPriority,rt=a.unstable_IdlePriority,at=null,ot=null;var it=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(st(e)/lt|0)|0},st=Math.log,lt=Math.LN2;var ut=64,ct=4194304;function dt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function pt(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,a=e.suspendedLanes,o=e.pingedLanes,i=268435455&n;if(0!==i){var s=i&~a;0!==s?r=dt(s):0!==(o&=i)&&(r=dt(o))}else 0!==(i=n&~a)?r=dt(i):0!==o&&(r=dt(o));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&a)&&((a=r&-r)>=(o=t&-t)||16===a&&0!==(4194240&o)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)a=1<<(n=31-it(t)),r|=e[n],t&=~a;return r}function ft(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function ht(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function mt(){var e=ut;return 0===(4194240&(ut<<=1))&&(ut=64),e}function gt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function vt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-it(t)]=n}function yt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-it(n),a=1<<r;a&t|e[r]&t&&(e[r]|=t),n&=~a}}var bt=0;function _t(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var wt,kt,xt,St,Et,Ct=!1,At=[],It=null,Tt=null,Nt=null,Ot=new Map,Pt=new Map,zt=[],Rt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function jt(e,t){switch(e){case"focusin":case"focusout":It=null;break;case"dragenter":case"dragleave":Tt=null;break;case"mouseover":case"mouseout":Nt=null;break;case"pointerover":case"pointerout":Ot.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pt.delete(t.pointerId)}}function Mt(e,t,n,r,a,o){return null===e||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[a]},null!==t&&(null!==(t=ba(t))&&kt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==a&&-1===t.indexOf(a)&&t.push(a),e)}function Ft(e){var t=ya(e.target);if(null!==t){var n=Ze(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=qe(n)))return e.blockedOn=t,void Et(e.priority,(function(){xt(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Lt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Kt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ba(n))&&kt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);_e=r,n.target.dispatchEvent(r),_e=null,t.shift()}return!0}function Dt(e,t,n){Lt(e)&&n.delete(t)}function Ut(){Ct=!1,null!==It&&Lt(It)&&(It=null),null!==Tt&&Lt(Tt)&&(Tt=null),null!==Nt&&Lt(Nt)&&(Nt=null),Ot.forEach(Dt),Pt.forEach(Dt)}function Bt(e,t){e.blockedOn===t&&(e.blockedOn=null,Ct||(Ct=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,Ut)))}function Zt(e){function t(t){return Bt(t,e)}if(0<At.length){Bt(At[0],e);for(var n=1;n<At.length;n++){var r=At[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==It&&Bt(It,e),null!==Tt&&Bt(Tt,e),null!==Nt&&Bt(Nt,e),Ot.forEach(t),Pt.forEach(t),n=0;n<zt.length;n++)(r=zt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<zt.length&&null===(n=zt[0]).blockedOn;)Ft(n),null===n.blockedOn&&zt.shift()}var qt=_.ReactCurrentBatchConfig,Vt=!0;function $t(e,t,n,r){var a=bt,o=qt.transition;qt.transition=null;try{bt=1,Wt(e,t,n,r)}finally{bt=a,qt.transition=o}}function Ht(e,t,n,r){var a=bt,o=qt.transition;qt.transition=null;try{bt=4,Wt(e,t,n,r)}finally{bt=a,qt.transition=o}}function Wt(e,t,n,r){if(Vt){var a=Kt(e,t,n,r);if(null===a)Vr(e,t,r,Qt,n),jt(e,r);else if(function(e,t,n,r,a){switch(t){case"focusin":return It=Mt(It,e,t,n,r,a),!0;case"dragenter":return Tt=Mt(Tt,e,t,n,r,a),!0;case"mouseover":return Nt=Mt(Nt,e,t,n,r,a),!0;case"pointerover":var o=a.pointerId;return Ot.set(o,Mt(Ot.get(o)||null,e,t,n,r,a)),!0;case"gotpointercapture":return o=a.pointerId,Pt.set(o,Mt(Pt.get(o)||null,e,t,n,r,a)),!0}return!1}(a,e,t,n,r))r.stopPropagation();else if(jt(e,r),4&t&&-1<Rt.indexOf(e)){for(;null!==a;){var o=ba(a);if(null!==o&&wt(o),null===(o=Kt(e,t,n,r))&&Vr(e,t,r,Qt,n),o===a)break;a=o}null!==a&&r.stopPropagation()}else Vr(e,t,r,null,n)}}var Qt=null;function Kt(e,t,n,r){if(Qt=null,null!==(e=ya(e=we(r))))if(null===(t=Ze(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=qe(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Qt=e,null}function Jt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ye()){case Xe:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Gt=null,Yt=null,Xt=null;function en(){if(Xt)return Xt;var e,t,n=Yt,r=n.length,a="value"in Gt?Gt.value:Gt.textContent,o=a.length;for(e=0;e<r&&n[e]===a[e];e++);var i=r-e;for(t=1;t<=i&&n[r-t]===a[o-t];t++);return Xt=a.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function an(e){function t(t,n,r,a,o){for(var i in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=a,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(i)&&(t=e[i],this[i]=t?t(a):a[i]);return this.isDefaultPrevented=(null!=a.defaultPrevented?a.defaultPrevented:!1===a.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return F(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var on,sn,ln,un={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cn=an(un),dn=F({},un,{view:0,detail:0}),pn=an(dn),fn=F({},dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:En,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(on=e.screenX-ln.screenX,sn=e.screenY-ln.screenY):sn=on=0,ln=e),on)},movementY:function(e){return"movementY"in e?e.movementY:sn}}),hn=an(fn),mn=an(F({},fn,{dataTransfer:0})),gn=an(F({},dn,{relatedTarget:0})),vn=an(F({},un,{animationName:0,elapsedTime:0,pseudoElement:0})),yn=F({},un,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bn=an(yn),_n=an(F({},un,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},kn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},xn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Sn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=xn[e])&&!!t[e]}function En(){return Sn}var Cn=F({},dn,{key:function(e){if(e.key){var t=wn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?kn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:En,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),An=an(Cn),In=an(F({},fn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Tn=an(F({},dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:En})),Nn=an(F({},un,{propertyName:0,elapsedTime:0,pseudoElement:0})),On=F({},fn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Pn=an(On),zn=[9,13,27,32],Rn=c&&"CompositionEvent"in window,jn=null;c&&"documentMode"in document&&(jn=document.documentMode);var Mn=c&&"TextEvent"in window&&!jn,Fn=c&&(!Rn||jn&&8<jn&&11>=jn),Ln=String.fromCharCode(32),Dn=!1;function Un(e,t){switch(e){case"keyup":return-1!==zn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Bn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Zn=!1;var qn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Vn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!qn[e.type]:"textarea"===t}function $n(e,t,n,r){Ce(r),0<(t=Hr(t,"onChange")).length&&(n=new cn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Hn=null,Wn=null;function Qn(e){Lr(e,0)}function Kn(e){if(W(_a(e)))return e}function Jn(e,t){if("change"===e)return t}var Gn=!1;if(c){var Yn;if(c){var Xn="oninput"in document;if(!Xn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Xn="function"===typeof er.oninput}Yn=Xn}else Yn=!1;Gn=Yn&&(!document.documentMode||9<document.documentMode)}function tr(){Hn&&(Hn.detachEvent("onpropertychange",nr),Wn=Hn=null)}function nr(e){if("value"===e.propertyName&&Kn(Wn)){var t=[];$n(t,Wn,e,we(e)),Oe(Qn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Wn=n,(Hn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ar(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Kn(Wn)}function or(e,t){if("click"===e)return Kn(t)}function ir(e,t){if("input"===e||"change"===e)return Kn(t)}var sr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function lr(e,t){if(sr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var a=n[r];if(!d.call(t,a)||!sr(e[a],t[a]))return!1}return!0}function ur(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function cr(e,t){var n,r=ur(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=ur(r)}}function dr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?dr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function pr(){for(var e=window,t=Q();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Q((e=t.contentWindow).document)}return t}function fr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function hr(e){var t=pr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&dr(n.ownerDocument.documentElement,n)){if(null!==r&&fr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var a=n.textContent.length,o=Math.min(r.start,a);r=void 0===r.end?o:Math.min(r.end,a),!e.extend&&o>r&&(a=r,r=o,o=a),a=cr(n,o);var i=cr(n,r);a&&i&&(1!==e.rangeCount||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&((t=t.createRange()).setStart(a.node,a.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var mr=c&&"documentMode"in document&&11>=document.documentMode,gr=null,vr=null,yr=null,br=!1;function _r(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;br||null==gr||gr!==Q(r)||("selectionStart"in(r=gr)&&fr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},yr&&lr(yr,r)||(yr=r,0<(r=Hr(vr,"onSelect")).length&&(t=new cn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=gr)))}function wr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var kr={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionend:wr("Transition","TransitionEnd")},xr={},Sr={};function Er(e){if(xr[e])return xr[e];if(!kr[e])return e;var t,n=kr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Sr)return xr[e]=n[t];return e}c&&(Sr=document.createElement("div").style,"AnimationEvent"in window||(delete kr.animationend.animation,delete kr.animationiteration.animation,delete kr.animationstart.animation),"TransitionEvent"in window||delete kr.transitionend.transition);var Cr=Er("animationend"),Ar=Er("animationiteration"),Ir=Er("animationstart"),Tr=Er("transitionend"),Nr=new Map,Or="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Pr(e,t){Nr.set(e,t),l(t,[e])}for(var zr=0;zr<Or.length;zr++){var Rr=Or[zr];Pr(Rr.toLowerCase(),"on"+(Rr[0].toUpperCase()+Rr.slice(1)))}Pr(Cr,"onAnimationEnd"),Pr(Ar,"onAnimationIteration"),Pr(Ir,"onAnimationStart"),Pr("dblclick","onDoubleClick"),Pr("focusin","onFocus"),Pr("focusout","onBlur"),Pr(Tr,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var jr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Mr=new Set("cancel close invalid load scroll toggle".split(" ").concat(jr));function Fr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,a,i,s,l,u){if(Be.apply(this,arguments),Me){if(!Me)throw Error(o(198));var c=Fe;Me=!1,Fe=null,Le||(Le=!0,De=c)}}(r,t,void 0,e),e.currentTarget=null}function Lr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],a=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var i=r.length-1;0<=i;i--){var s=r[i],l=s.instance,u=s.currentTarget;if(s=s.listener,l!==o&&a.isPropagationStopped())break e;Fr(a,s,u),o=l}else for(i=0;i<r.length;i++){if(l=(s=r[i]).instance,u=s.currentTarget,s=s.listener,l!==o&&a.isPropagationStopped())break e;Fr(a,s,u),o=l}}}if(Le)throw e=De,Le=!1,De=null,e}function Dr(e,t){var n=t[ma];void 0===n&&(n=t[ma]=new Set);var r=e+"__bubble";n.has(r)||(qr(t,e,2,!1),n.add(r))}function Ur(e,t,n){var r=0;t&&(r|=4),qr(n,e,r,t)}var Br="_reactListening"+Math.random().toString(36).slice(2);function Zr(e){if(!e[Br]){e[Br]=!0,i.forEach((function(t){"selectionchange"!==t&&(Mr.has(t)||Ur(t,!1,e),Ur(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Br]||(t[Br]=!0,Ur("selectionchange",!1,t))}}function qr(e,t,n,r){switch(Jt(t)){case 1:var a=$t;break;case 4:a=Ht;break;default:a=Wt}n=a.bind(null,t,n,e),a=void 0,!ze||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(a=!0),r?void 0!==a?e.addEventListener(t,n,{capture:!0,passive:a}):e.addEventListener(t,n,!0):void 0!==a?e.addEventListener(t,n,{passive:a}):e.addEventListener(t,n,!1)}function Vr(e,t,n,r,a){var o=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var i=r.tag;if(3===i||4===i){var s=r.stateNode.containerInfo;if(s===a||8===s.nodeType&&s.parentNode===a)break;if(4===i)for(i=r.return;null!==i;){var l=i.tag;if((3===l||4===l)&&((l=i.stateNode.containerInfo)===a||8===l.nodeType&&l.parentNode===a))return;i=i.return}for(;null!==s;){if(null===(i=ya(s)))return;if(5===(l=i.tag)||6===l){r=o=i;continue e}s=s.parentNode}}r=r.return}Oe((function(){var r=o,a=we(n),i=[];e:{var s=Nr.get(e);if(void 0!==s){var l=cn,u=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=An;break;case"focusin":u="focus",l=gn;break;case"focusout":u="blur",l=gn;break;case"beforeblur":case"afterblur":l=gn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=hn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=mn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Tn;break;case Cr:case Ar:case Ir:l=vn;break;case Tr:l=Nn;break;case"scroll":l=pn;break;case"wheel":l=Pn;break;case"copy":case"cut":case"paste":l=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=In}var c=0!==(4&t),d=!c&&"scroll"===e,p=c?null!==s?s+"Capture":null:s;c=[];for(var f,h=r;null!==h;){var m=(f=h).stateNode;if(5===f.tag&&null!==m&&(f=m,null!==p&&(null!=(m=Pe(h,p))&&c.push($r(h,m,f)))),d)break;h=h.return}0<c.length&&(s=new l(s,u,null,n,a),i.push({event:s,listeners:c}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===_e||!(u=n.relatedTarget||n.fromElement)||!ya(u)&&!u[ha])&&(l||s)&&(s=a.window===a?a:(s=a.ownerDocument)?s.defaultView||s.parentWindow:window,l?(l=r,null!==(u=(u=n.relatedTarget||n.toElement)?ya(u):null)&&(u!==(d=Ze(u))||5!==u.tag&&6!==u.tag)&&(u=null)):(l=null,u=r),l!==u)){if(c=hn,m="onMouseLeave",p="onMouseEnter",h="mouse","pointerout"!==e&&"pointerover"!==e||(c=In,m="onPointerLeave",p="onPointerEnter",h="pointer"),d=null==l?s:_a(l),f=null==u?s:_a(u),(s=new c(m,h+"leave",l,n,a)).target=d,s.relatedTarget=f,m=null,ya(a)===r&&((c=new c(p,h+"enter",u,n,a)).target=f,c.relatedTarget=d,m=c),d=m,l&&u)e:{for(p=u,h=0,f=c=l;f;f=Wr(f))h++;for(f=0,m=p;m;m=Wr(m))f++;for(;0<h-f;)c=Wr(c),h--;for(;0<f-h;)p=Wr(p),f--;for(;h--;){if(c===p||null!==p&&c===p.alternate)break e;c=Wr(c),p=Wr(p)}c=null}else c=null;null!==l&&Qr(i,s,l,c,!1),null!==u&&null!==d&&Qr(i,d,u,c,!0)}if("select"===(l=(s=r?_a(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===l&&"file"===s.type)var g=Jn;else if(Vn(s))if(Gn)g=ir;else{g=ar;var v=rr}else(l=s.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(g=or);switch(g&&(g=g(e,r))?$n(i,g,n,a):(v&&v(e,s,r),"focusout"===e&&(v=s._wrapperState)&&v.controlled&&"number"===s.type&&ee(s,"number",s.value)),v=r?_a(r):window,e){case"focusin":(Vn(v)||"true"===v.contentEditable)&&(gr=v,vr=r,yr=null);break;case"focusout":yr=vr=gr=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,_r(i,n,a);break;case"selectionchange":if(mr)break;case"keydown":case"keyup":_r(i,n,a)}var y;if(Rn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Zn?Un(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Fn&&"ko"!==n.locale&&(Zn||"onCompositionStart"!==b?"onCompositionEnd"===b&&Zn&&(y=en()):(Yt="value"in(Gt=a)?Gt.value:Gt.textContent,Zn=!0)),0<(v=Hr(r,b)).length&&(b=new _n(b,e,null,n,a),i.push({event:b,listeners:v}),y?b.data=y:null!==(y=Bn(n))&&(b.data=y))),(y=Mn?function(e,t){switch(e){case"compositionend":return Bn(t);case"keypress":return 32!==t.which?null:(Dn=!0,Ln);case"textInput":return(e=t.data)===Ln&&Dn?null:e;default:return null}}(e,n):function(e,t){if(Zn)return"compositionend"===e||!Rn&&Un(e,t)?(e=en(),Xt=Yt=Gt=null,Zn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Fn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Hr(r,"onBeforeInput")).length&&(a=new _n("onBeforeInput","beforeinput",null,n,a),i.push({event:a,listeners:r}),a.data=y))}Lr(i,t)}))}function $r(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Hr(e,t){for(var n=t+"Capture",r=[];null!==e;){var a=e,o=a.stateNode;5===a.tag&&null!==o&&(a=o,null!=(o=Pe(e,n))&&r.unshift($r(e,o,a)),null!=(o=Pe(e,t))&&r.push($r(e,o,a))),e=e.return}return r}function Wr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Qr(e,t,n,r,a){for(var o=t._reactName,i=[];null!==n&&n!==r;){var s=n,l=s.alternate,u=s.stateNode;if(null!==l&&l===r)break;5===s.tag&&null!==u&&(s=u,a?null!=(l=Pe(n,o))&&i.unshift($r(n,l,s)):a||null!=(l=Pe(n,o))&&i.push($r(n,l,s))),n=n.return}0!==i.length&&e.push({event:t,listeners:i})}var Kr=/\r\n?/g,Jr=/\u0000|\uFFFD/g;function Gr(e){return("string"===typeof e?e:""+e).replace(Kr,"\n").replace(Jr,"")}function Yr(e,t,n){if(t=Gr(t),Gr(e)!==t&&n)throw Error(o(425))}function Xr(){}var ea=null,ta=null;function na(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ra="function"===typeof setTimeout?setTimeout:void 0,aa="function"===typeof clearTimeout?clearTimeout:void 0,oa="function"===typeof Promise?Promise:void 0,ia="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof oa?function(e){return oa.resolve(null).then(e).catch(sa)}:ra;function sa(e){setTimeout((function(){throw e}))}function la(e,t){var n=t,r=0;do{var a=n.nextSibling;if(e.removeChild(n),a&&8===a.nodeType)if("/$"===(n=a.data)){if(0===r)return e.removeChild(a),void Zt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=a}while(n);Zt(t)}function ua(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ca(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var da=Math.random().toString(36).slice(2),pa="__reactFiber$"+da,fa="__reactProps$"+da,ha="__reactContainer$"+da,ma="__reactEvents$"+da,ga="__reactListeners$"+da,va="__reactHandles$"+da;function ya(e){var t=e[pa];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ha]||n[pa]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ca(e);null!==e;){if(n=e[pa])return n;e=ca(e)}return t}n=(e=n).parentNode}return null}function ba(e){return!(e=e[pa]||e[ha])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function _a(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function wa(e){return e[fa]||null}var ka=[],xa=-1;function Sa(e){return{current:e}}function Ea(e){0>xa||(e.current=ka[xa],ka[xa]=null,xa--)}function Ca(e,t){xa++,ka[xa]=e.current,e.current=t}var Aa={},Ia=Sa(Aa),Ta=Sa(!1),Na=Aa;function Oa(e,t){var n=e.type.contextTypes;if(!n)return Aa;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var a,o={};for(a in n)o[a]=t[a];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function Pa(e){return null!==(e=e.childContextTypes)&&void 0!==e}function za(){Ea(Ta),Ea(Ia)}function Ra(e,t,n){if(Ia.current!==Aa)throw Error(o(168));Ca(Ia,t),Ca(Ta,n)}function ja(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var a in r=r.getChildContext())if(!(a in t))throw Error(o(108,q(e)||"Unknown",a));return F({},n,r)}function Ma(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Aa,Na=Ia.current,Ca(Ia,e),Ca(Ta,Ta.current),!0}function Fa(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=ja(e,t,Na),r.__reactInternalMemoizedMergedChildContext=e,Ea(Ta),Ea(Ia),Ca(Ia,e)):Ea(Ta),Ca(Ta,n)}var La=null,Da=!1,Ua=!1;function Ba(e){null===La?La=[e]:La.push(e)}function Za(){if(!Ua&&null!==La){Ua=!0;var e=0,t=bt;try{var n=La;for(bt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}La=null,Da=!1}catch(a){throw null!==La&&(La=La.slice(e+1)),We(Xe,Za),a}finally{bt=t,Ua=!1}}return null}var qa=[],Va=0,$a=null,Ha=0,Wa=[],Qa=0,Ka=null,Ja=1,Ga="";function Ya(e,t){qa[Va++]=Ha,qa[Va++]=$a,$a=e,Ha=t}function Xa(e,t,n){Wa[Qa++]=Ja,Wa[Qa++]=Ga,Wa[Qa++]=Ka,Ka=e;var r=Ja;e=Ga;var a=32-it(r)-1;r&=~(1<<a),n+=1;var o=32-it(t)+a;if(30<o){var i=a-a%5;o=(r&(1<<i)-1).toString(32),r>>=i,a-=i,Ja=1<<32-it(t)+a|n<<a|r,Ga=o+e}else Ja=1<<o|n<<a|r,Ga=e}function eo(e){null!==e.return&&(Ya(e,1),Xa(e,1,0))}function to(e){for(;e===$a;)$a=qa[--Va],qa[Va]=null,Ha=qa[--Va],qa[Va]=null;for(;e===Ka;)Ka=Wa[--Qa],Wa[Qa]=null,Ga=Wa[--Qa],Wa[Qa]=null,Ja=Wa[--Qa],Wa[Qa]=null}var no=null,ro=null,ao=!1,oo=null;function io(e,t){var n=Pu(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function so(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,no=e,ro=ua(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,no=e,ro=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Ka?{id:Ja,overflow:Ga}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Pu(18,null,null,0)).stateNode=t,n.return=e,e.child=n,no=e,ro=null,!0);default:return!1}}function lo(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function uo(e){if(ao){var t=ro;if(t){var n=t;if(!so(e,t)){if(lo(e))throw Error(o(418));t=ua(n.nextSibling);var r=no;t&&so(e,t)?io(r,n):(e.flags=-4097&e.flags|2,ao=!1,no=e)}}else{if(lo(e))throw Error(o(418));e.flags=-4097&e.flags|2,ao=!1,no=e}}}function co(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;no=e}function po(e){if(e!==no)return!1;if(!ao)return co(e),ao=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!na(e.type,e.memoizedProps)),t&&(t=ro)){if(lo(e))throw fo(),Error(o(418));for(;t;)io(e,t),t=ua(t.nextSibling)}if(co(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ro=ua(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ro=null}}else ro=no?ua(e.stateNode.nextSibling):null;return!0}function fo(){for(var e=ro;e;)e=ua(e.nextSibling)}function ho(){ro=no=null,ao=!1}function mo(e){null===oo?oo=[e]:oo.push(e)}var go=_.ReactCurrentBatchConfig;function vo(e,t){if(e&&e.defaultProps){for(var n in t=F({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var yo=Sa(null),bo=null,_o=null,wo=null;function ko(){wo=_o=bo=null}function xo(e){var t=yo.current;Ea(yo),e._currentValue=t}function So(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Eo(e,t){bo=e,wo=_o=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(_s=!0),e.firstContext=null)}function Co(e){var t=e._currentValue;if(wo!==e)if(e={context:e,memoizedValue:t,next:null},null===_o){if(null===bo)throw Error(o(308));_o=e,bo.dependencies={lanes:0,firstContext:e}}else _o=_o.next=e;return t}var Ao=null;function Io(e){null===Ao?Ao=[e]:Ao.push(e)}function To(e,t,n,r){var a=t.interleaved;return null===a?(n.next=n,Io(t)):(n.next=a.next,a.next=n),t.interleaved=n,No(e,r)}function No(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Oo=!1;function Po(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function zo(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ro(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function jo(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Tl)){var a=r.pending;return null===a?t.next=t:(t.next=a.next,a.next=t),r.pending=t,No(e,n)}return null===(a=r.interleaved)?(t.next=t,Io(r)):(t.next=a.next,a.next=t),r.interleaved=t,No(e,n)}function Mo(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}function Fo(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var a=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var i={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?a=o=i:o=o.next=i,n=n.next}while(null!==n);null===o?a=o=t:o=o.next=t}else a=o=t;return n={baseState:r.baseState,firstBaseUpdate:a,lastBaseUpdate:o,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Lo(e,t,n,r){var a=e.updateQueue;Oo=!1;var o=a.firstBaseUpdate,i=a.lastBaseUpdate,s=a.shared.pending;if(null!==s){a.shared.pending=null;var l=s,u=l.next;l.next=null,null===i?o=u:i.next=u,i=l;var c=e.alternate;null!==c&&((s=(c=c.updateQueue).lastBaseUpdate)!==i&&(null===s?c.firstBaseUpdate=u:s.next=u,c.lastBaseUpdate=l))}if(null!==o){var d=a.baseState;for(i=0,c=u=l=null,s=o;;){var p=s.lane,f=s.eventTime;if((r&p)===p){null!==c&&(c=c.next={eventTime:f,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var h=e,m=s;switch(p=t,f=n,m.tag){case 1:if("function"===typeof(h=m.payload)){d=h.call(f,d,p);break e}d=h;break e;case 3:h.flags=-65537&h.flags|128;case 0:if(null===(p="function"===typeof(h=m.payload)?h.call(f,d,p):h)||void 0===p)break e;d=F({},d,p);break e;case 2:Oo=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,null===(p=a.effects)?a.effects=[s]:p.push(s))}else f={eventTime:f,lane:p,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===c?(u=c=f,l=d):c=c.next=f,i|=p;if(null===(s=s.next)){if(null===(s=a.shared.pending))break;s=(p=s).next,p.next=null,a.lastBaseUpdate=p,a.shared.pending=null}}if(null===c&&(l=d),a.baseState=l,a.firstBaseUpdate=u,a.lastBaseUpdate=c,null!==(t=a.shared.interleaved)){a=t;do{i|=a.lane,a=a.next}while(a!==t)}else null===o&&(a.shared.lanes=0);Fl|=i,e.lanes=i,e.memoizedState=d}}function Do(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],a=r.callback;if(null!==a){if(r.callback=null,r=n,"function"!==typeof a)throw Error(o(191,a));a.call(r)}}}var Uo=(new r.Component).refs;function Bo(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:F({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var Zo={isMounted:function(e){return!!(e=e._reactInternals)&&Ze(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=tu(),a=nu(e),o=Ro(r,a);o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=jo(e,o,a))&&(ru(t,e,a,r),Mo(t,e,a))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=tu(),a=nu(e),o=Ro(r,a);o.tag=1,o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=jo(e,o,a))&&(ru(t,e,a,r),Mo(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=tu(),r=nu(e),a=Ro(n,r);a.tag=2,void 0!==t&&null!==t&&(a.callback=t),null!==(t=jo(e,a,r))&&(ru(t,e,r,n),Mo(t,e,r))}};function qo(e,t,n,r,a,o,i){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,i):!t.prototype||!t.prototype.isPureReactComponent||(!lr(n,r)||!lr(a,o))}function Vo(e,t,n){var r=!1,a=Aa,o=t.contextType;return"object"===typeof o&&null!==o?o=Co(o):(a=Pa(t)?Na:Ia.current,o=(r=null!==(r=t.contextTypes)&&void 0!==r)?Oa(e,a):Aa),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Zo,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=o),t}function $o(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Zo.enqueueReplaceState(t,t.state,null)}function Ho(e,t,n,r){var a=e.stateNode;a.props=n,a.state=e.memoizedState,a.refs=Uo,Po(e);var o=t.contextType;"object"===typeof o&&null!==o?a.context=Co(o):(o=Pa(t)?Na:Ia.current,a.context=Oa(e,o)),a.state=e.memoizedState,"function"===typeof(o=t.getDerivedStateFromProps)&&(Bo(e,t,o,n),a.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof a.getSnapshotBeforeUpdate||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||(t=a.state,"function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount(),t!==a.state&&Zo.enqueueReplaceState(a,a.state,null),Lo(e,n,a,r),a.state=e.memoizedState),"function"===typeof a.componentDidMount&&(e.flags|=4194308)}function Wo(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var a=r,i=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===i?t.ref:(t=function(e){var t=a.refs;t===Uo&&(t=a.refs={}),null===e?delete t[i]:t[i]=e},t._stringRef=i,t)}if("string"!==typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function Qo(e,t){throw e=Object.prototype.toString.call(t),Error(o(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Ko(e){return(0,e._init)(e._payload)}function Jo(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function a(e,t){return(e=Ru(e,t)).index=0,e.sibling=null,e}function i(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Lu(n,e.mode,r)).return=e,t):((t=a(t,n)).return=e,t)}function u(e,t,n,r){var o=n.type;return o===x?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===o||"object"===typeof o&&null!==o&&o.$$typeof===P&&Ko(o)===t.type)?((r=a(t,n.props)).ref=Wo(e,t,n),r.return=e,r):((r=ju(n.type,n.key,n.props,null,e.mode,r)).ref=Wo(e,t,n),r.return=e,r)}function c(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Du(n,e.mode,r)).return=e,t):((t=a(t,n.children||[])).return=e,t)}function d(e,t,n,r,o){return null===t||7!==t.tag?((t=Mu(n,e.mode,r,o)).return=e,t):((t=a(t,n)).return=e,t)}function p(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Lu(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=ju(t.type,t.key,t.props,null,e.mode,n)).ref=Wo(e,null,t),n.return=e,n;case k:return(t=Du(t,e.mode,n)).return=e,t;case P:return p(e,(0,t._init)(t._payload),n)}if(te(t)||j(t))return(t=Mu(t,e.mode,n,null)).return=e,t;Qo(e,t)}return null}function f(e,t,n,r){var a=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==a?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===a?u(e,t,n,r):null;case k:return n.key===a?c(e,t,n,r):null;case P:return f(e,t,(a=n._init)(n._payload),r)}if(te(n)||j(n))return null!==a?null:d(e,t,n,r,null);Qo(e,n)}return null}function h(e,t,n,r,a){if("string"===typeof r&&""!==r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,a);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return u(t,e=e.get(null===r.key?n:r.key)||null,r,a);case k:return c(t,e=e.get(null===r.key?n:r.key)||null,r,a);case P:return h(e,t,n,(0,r._init)(r._payload),a)}if(te(r)||j(r))return d(t,e=e.get(n)||null,r,a,null);Qo(t,r)}return null}function m(a,o,s,l){for(var u=null,c=null,d=o,m=o=0,g=null;null!==d&&m<s.length;m++){d.index>m?(g=d,d=null):g=d.sibling;var v=f(a,d,s[m],l);if(null===v){null===d&&(d=g);break}e&&d&&null===v.alternate&&t(a,d),o=i(v,o,m),null===c?u=v:c.sibling=v,c=v,d=g}if(m===s.length)return n(a,d),ao&&Ya(a,m),u;if(null===d){for(;m<s.length;m++)null!==(d=p(a,s[m],l))&&(o=i(d,o,m),null===c?u=d:c.sibling=d,c=d);return ao&&Ya(a,m),u}for(d=r(a,d);m<s.length;m++)null!==(g=h(d,a,m,s[m],l))&&(e&&null!==g.alternate&&d.delete(null===g.key?m:g.key),o=i(g,o,m),null===c?u=g:c.sibling=g,c=g);return e&&d.forEach((function(e){return t(a,e)})),ao&&Ya(a,m),u}function g(a,s,l,u){var c=j(l);if("function"!==typeof c)throw Error(o(150));if(null==(l=c.call(l)))throw Error(o(151));for(var d=c=null,m=s,g=s=0,v=null,y=l.next();null!==m&&!y.done;g++,y=l.next()){m.index>g?(v=m,m=null):v=m.sibling;var b=f(a,m,y.value,u);if(null===b){null===m&&(m=v);break}e&&m&&null===b.alternate&&t(a,m),s=i(b,s,g),null===d?c=b:d.sibling=b,d=b,m=v}if(y.done)return n(a,m),ao&&Ya(a,g),c;if(null===m){for(;!y.done;g++,y=l.next())null!==(y=p(a,y.value,u))&&(s=i(y,s,g),null===d?c=y:d.sibling=y,d=y);return ao&&Ya(a,g),c}for(m=r(a,m);!y.done;g++,y=l.next())null!==(y=h(m,a,g,y.value,u))&&(e&&null!==y.alternate&&m.delete(null===y.key?g:y.key),s=i(y,s,g),null===d?c=y:d.sibling=y,d=y);return e&&m.forEach((function(e){return t(a,e)})),ao&&Ya(a,g),c}return function e(r,o,i,l){if("object"===typeof i&&null!==i&&i.type===x&&null===i.key&&(i=i.props.children),"object"===typeof i&&null!==i){switch(i.$$typeof){case w:e:{for(var u=i.key,c=o;null!==c;){if(c.key===u){if((u=i.type)===x){if(7===c.tag){n(r,c.sibling),(o=a(c,i.props.children)).return=r,r=o;break e}}else if(c.elementType===u||"object"===typeof u&&null!==u&&u.$$typeof===P&&Ko(u)===c.type){n(r,c.sibling),(o=a(c,i.props)).ref=Wo(r,c,i),o.return=r,r=o;break e}n(r,c);break}t(r,c),c=c.sibling}i.type===x?((o=Mu(i.props.children,r.mode,l,i.key)).return=r,r=o):((l=ju(i.type,i.key,i.props,null,r.mode,l)).ref=Wo(r,o,i),l.return=r,r=l)}return s(r);case k:e:{for(c=i.key;null!==o;){if(o.key===c){if(4===o.tag&&o.stateNode.containerInfo===i.containerInfo&&o.stateNode.implementation===i.implementation){n(r,o.sibling),(o=a(o,i.children||[])).return=r,r=o;break e}n(r,o);break}t(r,o),o=o.sibling}(o=Du(i,r.mode,l)).return=r,r=o}return s(r);case P:return e(r,o,(c=i._init)(i._payload),l)}if(te(i))return m(r,o,i,l);if(j(i))return g(r,o,i,l);Qo(r,i)}return"string"===typeof i&&""!==i||"number"===typeof i?(i=""+i,null!==o&&6===o.tag?(n(r,o.sibling),(o=a(o,i)).return=r,r=o):(n(r,o),(o=Lu(i,r.mode,l)).return=r,r=o),s(r)):n(r,o)}}var Go=Jo(!0),Yo=Jo(!1),Xo={},ei=Sa(Xo),ti=Sa(Xo),ni=Sa(Xo);function ri(e){if(e===Xo)throw Error(o(174));return e}function ai(e,t){switch(Ca(ni,t),Ca(ti,e),Ca(ei,Xo),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ea(ei),Ca(ei,t)}function oi(){Ea(ei),Ea(ti),Ea(ni)}function ii(e){ri(ni.current);var t=ri(ei.current),n=le(t,e.type);t!==n&&(Ca(ti,e),Ca(ei,n))}function si(e){ti.current===e&&(Ea(ei),Ea(ti))}var li=Sa(0);function ui(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ci=[];function di(){for(var e=0;e<ci.length;e++)ci[e]._workInProgressVersionPrimary=null;ci.length=0}var pi=_.ReactCurrentDispatcher,fi=_.ReactCurrentBatchConfig,hi=0,mi=null,gi=null,vi=null,yi=!1,bi=!1,_i=0,wi=0;function ki(){throw Error(o(321))}function xi(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!sr(e[n],t[n]))return!1;return!0}function Si(e,t,n,r,a,i){if(hi=i,mi=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,pi.current=null===e||null===e.memoizedState?ss:ls,e=n(r,a),bi){i=0;do{if(bi=!1,_i=0,25<=i)throw Error(o(301));i+=1,vi=gi=null,t.updateQueue=null,pi.current=us,e=n(r,a)}while(bi)}if(pi.current=is,t=null!==gi&&null!==gi.next,hi=0,vi=gi=mi=null,yi=!1,t)throw Error(o(300));return e}function Ei(){var e=0!==_i;return _i=0,e}function Ci(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===vi?mi.memoizedState=vi=e:vi=vi.next=e,vi}function Ai(){if(null===gi){var e=mi.alternate;e=null!==e?e.memoizedState:null}else e=gi.next;var t=null===vi?mi.memoizedState:vi.next;if(null!==t)vi=t,gi=e;else{if(null===e)throw Error(o(310));e={memoizedState:(gi=e).memoizedState,baseState:gi.baseState,baseQueue:gi.baseQueue,queue:gi.queue,next:null},null===vi?mi.memoizedState=vi=e:vi=vi.next=e}return vi}function Ii(e,t){return"function"===typeof t?t(e):t}function Ti(e){var t=Ai(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=gi,a=r.baseQueue,i=n.pending;if(null!==i){if(null!==a){var s=a.next;a.next=i.next,i.next=s}r.baseQueue=a=i,n.pending=null}if(null!==a){i=a.next,r=r.baseState;var l=s=null,u=null,c=i;do{var d=c.lane;if((hi&d)===d)null!==u&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var p={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};null===u?(l=u=p,s=r):u=u.next=p,mi.lanes|=d,Fl|=d}c=c.next}while(null!==c&&c!==i);null===u?s=r:u.next=l,sr(r,t.memoizedState)||(_s=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=u,n.lastRenderedState=r}if(null!==(e=n.interleaved)){a=e;do{i=a.lane,mi.lanes|=i,Fl|=i,a=a.next}while(a!==e)}else null===a&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ni(e){var t=Ai(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,a=n.pending,i=t.memoizedState;if(null!==a){n.pending=null;var s=a=a.next;do{i=e(i,s.action),s=s.next}while(s!==a);sr(i,t.memoizedState)||(_s=!0),t.memoizedState=i,null===t.baseQueue&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function Oi(){}function Pi(e,t){var n=mi,r=Ai(),a=t(),i=!sr(r.memoizedState,a);if(i&&(r.memoizedState=a,_s=!0),r=r.queue,Vi(ji.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||null!==vi&&1&vi.memoizedState.tag){if(n.flags|=2048,Di(9,Ri.bind(null,n,r,a,t),void 0,null),null===Nl)throw Error(o(349));0!==(30&hi)||zi(n,t,a)}return a}function zi(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=mi.updateQueue)?(t={lastEffect:null,stores:null},mi.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Ri(e,t,n,r){t.value=n,t.getSnapshot=r,Mi(t)&&Fi(e)}function ji(e,t,n){return n((function(){Mi(t)&&Fi(e)}))}function Mi(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!sr(e,n)}catch(r){return!0}}function Fi(e){var t=No(e,1);null!==t&&ru(t,e,1,-1)}function Li(e){var t=Ci();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ii,lastRenderedState:e},t.queue=e,e=e.dispatch=ns.bind(null,mi,e),[t.memoizedState,e]}function Di(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=mi.updateQueue)?(t={lastEffect:null,stores:null},mi.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Ui(){return Ai().memoizedState}function Bi(e,t,n,r){var a=Ci();mi.flags|=e,a.memoizedState=Di(1|t,n,void 0,void 0===r?null:r)}function Zi(e,t,n,r){var a=Ai();r=void 0===r?null:r;var o=void 0;if(null!==gi){var i=gi.memoizedState;if(o=i.destroy,null!==r&&xi(r,i.deps))return void(a.memoizedState=Di(t,n,o,r))}mi.flags|=e,a.memoizedState=Di(1|t,n,o,r)}function qi(e,t){return Bi(8390656,8,e,t)}function Vi(e,t){return Zi(2048,8,e,t)}function $i(e,t){return Zi(4,2,e,t)}function Hi(e,t){return Zi(4,4,e,t)}function Wi(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Qi(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Zi(4,4,Wi.bind(null,t,e),n)}function Ki(){}function Ji(e,t){var n=Ai();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&xi(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Gi(e,t){var n=Ai();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&xi(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Yi(e,t,n){return 0===(21&hi)?(e.baseState&&(e.baseState=!1,_s=!0),e.memoizedState=n):(sr(n,t)||(n=mt(),mi.lanes|=n,Fl|=n,e.baseState=!0),t)}function Xi(e,t){var n=bt;bt=0!==n&&4>n?n:4,e(!0);var r=fi.transition;fi.transition={};try{e(!1),t()}finally{bt=n,fi.transition=r}}function es(){return Ai().memoizedState}function ts(e,t,n){var r=nu(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},rs(e))as(t,n);else if(null!==(n=To(e,t,n,r))){ru(n,e,r,tu()),os(n,t,r)}}function ns(e,t,n){var r=nu(e),a={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(rs(e))as(t,a);else{var o=e.alternate;if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var i=t.lastRenderedState,s=o(i,n);if(a.hasEagerState=!0,a.eagerState=s,sr(s,i)){var l=t.interleaved;return null===l?(a.next=a,Io(t)):(a.next=l.next,l.next=a),void(t.interleaved=a)}}catch(u){}null!==(n=To(e,t,a,r))&&(ru(n,e,r,a=tu()),os(n,t,r))}}function rs(e){var t=e.alternate;return e===mi||null!==t&&t===mi}function as(e,t){bi=yi=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function os(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}var is={readContext:Co,useCallback:ki,useContext:ki,useEffect:ki,useImperativeHandle:ki,useInsertionEffect:ki,useLayoutEffect:ki,useMemo:ki,useReducer:ki,useRef:ki,useState:ki,useDebugValue:ki,useDeferredValue:ki,useTransition:ki,useMutableSource:ki,useSyncExternalStore:ki,useId:ki,unstable_isNewReconciler:!1},ss={readContext:Co,useCallback:function(e,t){return Ci().memoizedState=[e,void 0===t?null:t],e},useContext:Co,useEffect:qi,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Bi(4194308,4,Wi.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Bi(4194308,4,e,t)},useInsertionEffect:function(e,t){return Bi(4,2,e,t)},useMemo:function(e,t){var n=Ci();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Ci();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=ts.bind(null,mi,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Ci().memoizedState=e},useState:Li,useDebugValue:Ki,useDeferredValue:function(e){return Ci().memoizedState=e},useTransition:function(){var e=Li(!1),t=e[0];return e=Xi.bind(null,e[1]),Ci().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=mi,a=Ci();if(ao){if(void 0===n)throw Error(o(407));n=n()}else{if(n=t(),null===Nl)throw Error(o(349));0!==(30&hi)||zi(r,t,n)}a.memoizedState=n;var i={value:n,getSnapshot:t};return a.queue=i,qi(ji.bind(null,r,i,e),[e]),r.flags|=2048,Di(9,Ri.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=Ci(),t=Nl.identifierPrefix;if(ao){var n=Ga;t=":"+t+"R"+(n=(Ja&~(1<<32-it(Ja)-1)).toString(32)+n),0<(n=_i++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=wi++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},ls={readContext:Co,useCallback:Ji,useContext:Co,useEffect:Vi,useImperativeHandle:Qi,useInsertionEffect:$i,useLayoutEffect:Hi,useMemo:Gi,useReducer:Ti,useRef:Ui,useState:function(){return Ti(Ii)},useDebugValue:Ki,useDeferredValue:function(e){return Yi(Ai(),gi.memoizedState,e)},useTransition:function(){return[Ti(Ii)[0],Ai().memoizedState]},useMutableSource:Oi,useSyncExternalStore:Pi,useId:es,unstable_isNewReconciler:!1},us={readContext:Co,useCallback:Ji,useContext:Co,useEffect:Vi,useImperativeHandle:Qi,useInsertionEffect:$i,useLayoutEffect:Hi,useMemo:Gi,useReducer:Ni,useRef:Ui,useState:function(){return Ni(Ii)},useDebugValue:Ki,useDeferredValue:function(e){var t=Ai();return null===gi?t.memoizedState=e:Yi(t,gi.memoizedState,e)},useTransition:function(){return[Ni(Ii)[0],Ai().memoizedState]},useMutableSource:Oi,useSyncExternalStore:Pi,useId:es,unstable_isNewReconciler:!1};function cs(e,t){try{var n="",r=t;do{n+=B(r),r=r.return}while(r);var a=n}catch(o){a="\nError generating stack: "+o.message+"\n"+o.stack}return{value:e,source:t,stack:a,digest:null}}function ds(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function ps(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var fs="function"===typeof WeakMap?WeakMap:Map;function hs(e,t,n){(n=Ro(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){$l||($l=!0,Hl=r),ps(0,t)},n}function ms(e,t,n){(n=Ro(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var a=t.value;n.payload=function(){return r(a)},n.callback=function(){ps(0,t)}}var o=e.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(n.callback=function(){ps(0,t),"function"!==typeof r&&(null===Wl?Wl=new Set([this]):Wl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function gs(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new fs;var a=new Set;r.set(t,a)}else void 0===(a=r.get(t))&&(a=new Set,r.set(t,a));a.has(n)||(a.add(n),e=Cu.bind(null,e,t,n),t.then(e,e))}function vs(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function ys(e,t,n,r,a){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Ro(-1,1)).tag=2,jo(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=a,e)}var bs=_.ReactCurrentOwner,_s=!1;function ws(e,t,n,r){t.child=null===e?Yo(t,null,n,r):Go(t,e.child,n,r)}function ks(e,t,n,r,a){n=n.render;var o=t.ref;return Eo(t,a),r=Si(e,t,n,r,o,a),n=Ei(),null===e||_s?(ao&&n&&eo(t),t.flags|=1,ws(e,t,r,a),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,$s(e,t,a))}function xs(e,t,n,r,a){if(null===e){var o=n.type;return"function"!==typeof o||zu(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=ju(n.type,null,r,t,t.mode,a)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,Ss(e,t,o,r,a))}if(o=e.child,0===(e.lanes&a)){var i=o.memoizedProps;if((n=null!==(n=n.compare)?n:lr)(i,r)&&e.ref===t.ref)return $s(e,t,a)}return t.flags|=1,(e=Ru(o,r)).ref=t.ref,e.return=t,t.child=e}function Ss(e,t,n,r,a){if(null!==e){var o=e.memoizedProps;if(lr(o,r)&&e.ref===t.ref){if(_s=!1,t.pendingProps=r=o,0===(e.lanes&a))return t.lanes=e.lanes,$s(e,t,a);0!==(131072&e.flags)&&(_s=!0)}}return As(e,t,n,r,a)}function Es(e,t,n){var r=t.pendingProps,a=r.children,o=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ca(Rl,zl),zl|=n;else{if(0===(1073741824&n))return e=null!==o?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ca(Rl,zl),zl|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==o?o.baseLanes:n,Ca(Rl,zl),zl|=r}else null!==o?(r=o.baseLanes|n,t.memoizedState=null):r=n,Ca(Rl,zl),zl|=r;return ws(e,t,a,n),t.child}function Cs(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function As(e,t,n,r,a){var o=Pa(n)?Na:Ia.current;return o=Oa(t,o),Eo(t,a),n=Si(e,t,n,r,o,a),r=Ei(),null===e||_s?(ao&&r&&eo(t),t.flags|=1,ws(e,t,n,a),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,$s(e,t,a))}function Is(e,t,n,r,a){if(Pa(n)){var o=!0;Ma(t)}else o=!1;if(Eo(t,a),null===t.stateNode)Vs(e,t),Vo(t,n,r),Ho(t,n,r,a),r=!0;else if(null===e){var i=t.stateNode,s=t.memoizedProps;i.props=s;var l=i.context,u=n.contextType;"object"===typeof u&&null!==u?u=Co(u):u=Oa(t,u=Pa(n)?Na:Ia.current);var c=n.getDerivedStateFromProps,d="function"===typeof c||"function"===typeof i.getSnapshotBeforeUpdate;d||"function"!==typeof i.UNSAFE_componentWillReceiveProps&&"function"!==typeof i.componentWillReceiveProps||(s!==r||l!==u)&&$o(t,i,r,u),Oo=!1;var p=t.memoizedState;i.state=p,Lo(t,r,i,a),l=t.memoizedState,s!==r||p!==l||Ta.current||Oo?("function"===typeof c&&(Bo(t,n,c,r),l=t.memoizedState),(s=Oo||qo(t,n,s,r,p,l,u))?(d||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||("function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount()),"function"===typeof i.componentDidMount&&(t.flags|=4194308)):("function"===typeof i.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),i.props=r,i.state=l,i.context=u,r=s):("function"===typeof i.componentDidMount&&(t.flags|=4194308),r=!1)}else{i=t.stateNode,zo(e,t),s=t.memoizedProps,u=t.type===t.elementType?s:vo(t.type,s),i.props=u,d=t.pendingProps,p=i.context,"object"===typeof(l=n.contextType)&&null!==l?l=Co(l):l=Oa(t,l=Pa(n)?Na:Ia.current);var f=n.getDerivedStateFromProps;(c="function"===typeof f||"function"===typeof i.getSnapshotBeforeUpdate)||"function"!==typeof i.UNSAFE_componentWillReceiveProps&&"function"!==typeof i.componentWillReceiveProps||(s!==d||p!==l)&&$o(t,i,r,l),Oo=!1,p=t.memoizedState,i.state=p,Lo(t,r,i,a);var h=t.memoizedState;s!==d||p!==h||Ta.current||Oo?("function"===typeof f&&(Bo(t,n,f,r),h=t.memoizedState),(u=Oo||qo(t,n,u,r,p,h,l)||!1)?(c||"function"!==typeof i.UNSAFE_componentWillUpdate&&"function"!==typeof i.componentWillUpdate||("function"===typeof i.componentWillUpdate&&i.componentWillUpdate(r,h,l),"function"===typeof i.UNSAFE_componentWillUpdate&&i.UNSAFE_componentWillUpdate(r,h,l)),"function"===typeof i.componentDidUpdate&&(t.flags|=4),"function"===typeof i.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof i.componentDidUpdate||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),"function"!==typeof i.getSnapshotBeforeUpdate||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=h),i.props=r,i.state=h,i.context=l,r=u):("function"!==typeof i.componentDidUpdate||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),"function"!==typeof i.getSnapshotBeforeUpdate||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),r=!1)}return Ts(e,t,n,r,o,a)}function Ts(e,t,n,r,a,o){Cs(e,t);var i=0!==(128&t.flags);if(!r&&!i)return a&&Fa(t,n,!1),$s(e,t,o);r=t.stateNode,bs.current=t;var s=i&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&i?(t.child=Go(t,e.child,null,o),t.child=Go(t,null,s,o)):ws(e,t,s,o),t.memoizedState=r.state,a&&Fa(t,n,!0),t.child}function Ns(e){var t=e.stateNode;t.pendingContext?Ra(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Ra(0,t.context,!1),ai(e,t.containerInfo)}function Os(e,t,n,r,a){return ho(),mo(a),t.flags|=256,ws(e,t,n,r),t.child}var Ps,zs,Rs,js,Ms={dehydrated:null,treeContext:null,retryLane:0};function Fs(e){return{baseLanes:e,cachePool:null,transitions:null}}function Ls(e,t,n){var r,a=t.pendingProps,i=li.current,s=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&i)),r?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(i|=1),Ca(li,1&i),null===e)return uo(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=a.children,e=a.fallback,s?(a=t.mode,s=t.child,l={mode:"hidden",children:l},0===(1&a)&&null!==s?(s.childLanes=0,s.pendingProps=l):s=Fu(l,a,0,null),e=Mu(e,a,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Fs(n),t.memoizedState=Ms,e):Ds(t,l));if(null!==(i=e.memoizedState)&&null!==(r=i.dehydrated))return function(e,t,n,r,a,i,s){if(n)return 256&t.flags?(t.flags&=-257,Us(e,t,s,r=ds(Error(o(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(i=r.fallback,a=t.mode,r=Fu({mode:"visible",children:r.children},a,0,null),(i=Mu(i,a,s,null)).flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,0!==(1&t.mode)&&Go(t,e.child,null,s),t.child.memoizedState=Fs(s),t.memoizedState=Ms,i);if(0===(1&t.mode))return Us(e,t,s,null);if("$!"===a.data){if(r=a.nextSibling&&a.nextSibling.dataset)var l=r.dgst;return r=l,Us(e,t,s,r=ds(i=Error(o(419)),r,void 0))}if(l=0!==(s&e.childLanes),_s||l){if(null!==(r=Nl)){switch(s&-s){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}0!==(a=0!==(a&(r.suspendedLanes|s))?0:a)&&a!==i.retryLane&&(i.retryLane=a,No(e,a),ru(r,e,a,-1))}return gu(),Us(e,t,s,r=ds(Error(o(421))))}return"$?"===a.data?(t.flags|=128,t.child=e.child,t=Iu.bind(null,e),a._reactRetry=t,null):(e=i.treeContext,ro=ua(a.nextSibling),no=t,ao=!0,oo=null,null!==e&&(Wa[Qa++]=Ja,Wa[Qa++]=Ga,Wa[Qa++]=Ka,Ja=e.id,Ga=e.overflow,Ka=t),t=Ds(t,r.children),t.flags|=4096,t)}(e,t,l,a,r,i,n);if(s){s=a.fallback,l=t.mode,r=(i=e.child).sibling;var u={mode:"hidden",children:a.children};return 0===(1&l)&&t.child!==i?((a=t.child).childLanes=0,a.pendingProps=u,t.deletions=null):(a=Ru(i,u)).subtreeFlags=14680064&i.subtreeFlags,null!==r?s=Ru(r,s):(s=Mu(s,l,n,null)).flags|=2,s.return=t,a.return=t,a.sibling=s,t.child=a,a=s,s=t.child,l=null===(l=e.child.memoizedState)?Fs(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},s.memoizedState=l,s.childLanes=e.childLanes&~n,t.memoizedState=Ms,a}return e=(s=e.child).sibling,a=Ru(s,{mode:"visible",children:a.children}),0===(1&t.mode)&&(a.lanes=n),a.return=t,a.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=a,t.memoizedState=null,a}function Ds(e,t){return(t=Fu({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Us(e,t,n,r){return null!==r&&mo(r),Go(t,e.child,null,n),(e=Ds(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Bs(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),So(e.return,t,n)}function Zs(e,t,n,r,a){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:a}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=a)}function qs(e,t,n){var r=t.pendingProps,a=r.revealOrder,o=r.tail;if(ws(e,t,r.children,n),0!==(2&(r=li.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Bs(e,n,t);else if(19===e.tag)Bs(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ca(li,r),0===(1&t.mode))t.memoizedState=null;else switch(a){case"forwards":for(n=t.child,a=null;null!==n;)null!==(e=n.alternate)&&null===ui(e)&&(a=n),n=n.sibling;null===(n=a)?(a=t.child,t.child=null):(a=n.sibling,n.sibling=null),Zs(t,!1,a,n,o);break;case"backwards":for(n=null,a=t.child,t.child=null;null!==a;){if(null!==(e=a.alternate)&&null===ui(e)){t.child=a;break}e=a.sibling,a.sibling=n,n=a,a=e}Zs(t,!0,n,null,o);break;case"together":Zs(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Vs(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function $s(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Fl|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=Ru(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Ru(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Hs(e,t){if(!ao)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ws(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var a=e.child;null!==a;)n|=a.lanes|a.childLanes,r|=14680064&a.subtreeFlags,r|=14680064&a.flags,a.return=e,a=a.sibling;else for(a=e.child;null!==a;)n|=a.lanes|a.childLanes,r|=a.subtreeFlags,r|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Qs(e,t,n){var r=t.pendingProps;switch(to(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ws(t),null;case 1:case 17:return Pa(t.type)&&za(),Ws(t),null;case 3:return r=t.stateNode,oi(),Ea(Ta),Ea(Ia),di(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(po(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==oo&&(su(oo),oo=null))),zs(e,t),Ws(t),null;case 5:si(t);var a=ri(ni.current);if(n=t.type,null!==e&&null!=t.stateNode)Rs(e,t,n,r,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(o(166));return Ws(t),null}if(e=ri(ei.current),po(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[pa]=t,r[fa]=i,e=0!==(1&t.mode),n){case"dialog":Dr("cancel",r),Dr("close",r);break;case"iframe":case"object":case"embed":Dr("load",r);break;case"video":case"audio":for(a=0;a<jr.length;a++)Dr(jr[a],r);break;case"source":Dr("error",r);break;case"img":case"image":case"link":Dr("error",r),Dr("load",r);break;case"details":Dr("toggle",r);break;case"input":J(r,i),Dr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Dr("invalid",r);break;case"textarea":ae(r,i),Dr("invalid",r)}for(var l in ye(n,i),a=null,i)if(i.hasOwnProperty(l)){var u=i[l];"children"===l?"string"===typeof u?r.textContent!==u&&(!0!==i.suppressHydrationWarning&&Yr(r.textContent,u,e),a=["children",u]):"number"===typeof u&&r.textContent!==""+u&&(!0!==i.suppressHydrationWarning&&Yr(r.textContent,u,e),a=["children",""+u]):s.hasOwnProperty(l)&&null!=u&&"onScroll"===l&&Dr("scroll",r)}switch(n){case"input":H(r),X(r,i,!0);break;case"textarea":H(r),ie(r);break;case"select":case"option":break;default:"function"===typeof i.onClick&&(r.onclick=Xr)}r=a,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===a.nodeType?a:a.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=se(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[pa]=t,e[fa]=r,Ps(e,t,!1,!1),t.stateNode=e;e:{switch(l=be(n,r),n){case"dialog":Dr("cancel",e),Dr("close",e),a=r;break;case"iframe":case"object":case"embed":Dr("load",e),a=r;break;case"video":case"audio":for(a=0;a<jr.length;a++)Dr(jr[a],e);a=r;break;case"source":Dr("error",e),a=r;break;case"img":case"image":case"link":Dr("error",e),Dr("load",e),a=r;break;case"details":Dr("toggle",e),a=r;break;case"input":J(e,r),a=K(e,r),Dr("invalid",e);break;case"option":default:a=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},a=F({},r,{value:void 0}),Dr("invalid",e);break;case"textarea":ae(e,r),a=re(e,r),Dr("invalid",e)}for(i in ye(n,a),u=a)if(u.hasOwnProperty(i)){var c=u[i];"style"===i?ge(e,c):"dangerouslySetInnerHTML"===i?null!=(c=c?c.__html:void 0)&&de(e,c):"children"===i?"string"===typeof c?("textarea"!==n||""!==c)&&pe(e,c):"number"===typeof c&&pe(e,""+c):"suppressContentEditableWarning"!==i&&"suppressHydrationWarning"!==i&&"autoFocus"!==i&&(s.hasOwnProperty(i)?null!=c&&"onScroll"===i&&Dr("scroll",e):null!=c&&b(e,i,c,l))}switch(n){case"input":H(e),X(e,r,!1);break;case"textarea":H(e),ie(e);break;case"option":null!=r.value&&e.setAttribute("value",""+V(r.value));break;case"select":e.multiple=!!r.multiple,null!=(i=r.value)?ne(e,!!r.multiple,i,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof a.onClick&&(e.onclick=Xr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Ws(t),null;case 6:if(e&&null!=t.stateNode)js(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(o(166));if(n=ri(ni.current),ri(ei.current),po(t)){if(r=t.stateNode,n=t.memoizedProps,r[pa]=t,(i=r.nodeValue!==n)&&null!==(e=no))switch(e.tag){case 3:Yr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Yr(r.nodeValue,n,0!==(1&e.mode))}i&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[pa]=t,t.stateNode=r}return Ws(t),null;case 13:if(Ea(li),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ao&&null!==ro&&0!==(1&t.mode)&&0===(128&t.flags))fo(),ho(),t.flags|=98560,i=!1;else if(i=po(t),null!==r&&null!==r.dehydrated){if(null===e){if(!i)throw Error(o(318));if(!(i=null!==(i=t.memoizedState)?i.dehydrated:null))throw Error(o(317));i[pa]=t}else ho(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Ws(t),i=!1}else null!==oo&&(su(oo),oo=null),i=!0;if(!i)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&li.current)?0===jl&&(jl=3):gu())),null!==t.updateQueue&&(t.flags|=4),Ws(t),null);case 4:return oi(),zs(e,t),null===e&&Zr(t.stateNode.containerInfo),Ws(t),null;case 10:return xo(t.type._context),Ws(t),null;case 19:if(Ea(li),null===(i=t.memoizedState))return Ws(t),null;if(r=0!==(128&t.flags),null===(l=i.rendering))if(r)Hs(i,!1);else{if(0!==jl||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=ui(e))){for(t.flags|=128,Hs(i,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(i=n).flags&=14680066,null===(l=i.alternate)?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=l.childLanes,i.lanes=l.lanes,i.child=l.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=l.memoizedProps,i.memoizedState=l.memoizedState,i.updateQueue=l.updateQueue,i.type=l.type,e=l.dependencies,i.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ca(li,1&li.current|2),t.child}e=e.sibling}null!==i.tail&&Ge()>ql&&(t.flags|=128,r=!0,Hs(i,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=ui(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Hs(i,!0),null===i.tail&&"hidden"===i.tailMode&&!l.alternate&&!ao)return Ws(t),null}else 2*Ge()-i.renderingStartTime>ql&&1073741824!==n&&(t.flags|=128,r=!0,Hs(i,!1),t.lanes=4194304);i.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=i.last)?n.sibling=l:t.child=l,i.last=l)}return null!==i.tail?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Ge(),t.sibling=null,n=li.current,Ca(li,r?1&n|2:1&n),t):(Ws(t),null);case 22:case 23:return pu(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&zl)&&(Ws(t),6&t.subtreeFlags&&(t.flags|=8192)):Ws(t),null;case 24:case 25:return null}throw Error(o(156,t.tag))}function Ks(e,t){switch(to(t),t.tag){case 1:return Pa(t.type)&&za(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return oi(),Ea(Ta),Ea(Ia),di(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return si(t),null;case 13:if(Ea(li),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(o(340));ho()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ea(li),null;case 4:return oi(),null;case 10:return xo(t.type._context),null;case 22:case 23:return pu(),null;default:return null}}Ps=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},zs=function(){},Rs=function(e,t,n,r){var a=e.memoizedProps;if(a!==r){e=t.stateNode,ri(ei.current);var o,i=null;switch(n){case"input":a=K(e,a),r=K(e,r),i=[];break;case"select":a=F({},a,{value:void 0}),r=F({},r,{value:void 0}),i=[];break;case"textarea":a=re(e,a),r=re(e,r),i=[];break;default:"function"!==typeof a.onClick&&"function"===typeof r.onClick&&(e.onclick=Xr)}for(c in ye(n,r),n=null,a)if(!r.hasOwnProperty(c)&&a.hasOwnProperty(c)&&null!=a[c])if("style"===c){var l=a[c];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==c&&"children"!==c&&"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&"autoFocus"!==c&&(s.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in r){var u=r[c];if(l=null!=a?a[c]:void 0,r.hasOwnProperty(c)&&u!==l&&(null!=u||null!=l))if("style"===c)if(l){for(o in l)!l.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in u)u.hasOwnProperty(o)&&l[o]!==u[o]&&(n||(n={}),n[o]=u[o])}else n||(i||(i=[]),i.push(c,n)),n=u;else"dangerouslySetInnerHTML"===c?(u=u?u.__html:void 0,l=l?l.__html:void 0,null!=u&&l!==u&&(i=i||[]).push(c,u)):"children"===c?"string"!==typeof u&&"number"!==typeof u||(i=i||[]).push(c,""+u):"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&(s.hasOwnProperty(c)?(null!=u&&"onScroll"===c&&Dr("scroll",e),i||l===u||(i=[])):(i=i||[]).push(c,u))}n&&(i=i||[]).push("style",n);var c=i;(t.updateQueue=c)&&(t.flags|=4)}},js=function(e,t,n,r){n!==r&&(t.flags|=4)};var Js=!1,Gs=!1,Ys="function"===typeof WeakSet?WeakSet:Set,Xs=null;function el(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Eu(e,t,r)}else n.current=null}function tl(e,t,n){try{n()}catch(r){Eu(e,t,r)}}var nl=!1;function rl(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var a=r=r.next;do{if((a.tag&e)===e){var o=a.destroy;a.destroy=void 0,void 0!==o&&tl(t,n,o)}a=a.next}while(a!==r)}}function al(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function ol(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function il(e){var t=e.alternate;null!==t&&(e.alternate=null,il(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[pa],delete t[fa],delete t[ma],delete t[ga],delete t[va])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function sl(e){return 5===e.tag||3===e.tag||4===e.tag}function ll(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||sl(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ul(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Xr));else if(4!==r&&null!==(e=e.child))for(ul(e,t,n),e=e.sibling;null!==e;)ul(e,t,n),e=e.sibling}function cl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(cl(e,t,n),e=e.sibling;null!==e;)cl(e,t,n),e=e.sibling}var dl=null,pl=!1;function fl(e,t,n){for(n=n.child;null!==n;)hl(e,t,n),n=n.sibling}function hl(e,t,n){if(ot&&"function"===typeof ot.onCommitFiberUnmount)try{ot.onCommitFiberUnmount(at,n)}catch(s){}switch(n.tag){case 5:Gs||el(n,t);case 6:var r=dl,a=pl;dl=null,fl(e,t,n),pl=a,null!==(dl=r)&&(pl?(e=dl,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):dl.removeChild(n.stateNode));break;case 18:null!==dl&&(pl?(e=dl,n=n.stateNode,8===e.nodeType?la(e.parentNode,n):1===e.nodeType&&la(e,n),Zt(e)):la(dl,n.stateNode));break;case 4:r=dl,a=pl,dl=n.stateNode.containerInfo,pl=!0,fl(e,t,n),dl=r,pl=a;break;case 0:case 11:case 14:case 15:if(!Gs&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){a=r=r.next;do{var o=a,i=o.destroy;o=o.tag,void 0!==i&&(0!==(2&o)||0!==(4&o))&&tl(n,t,i),a=a.next}while(a!==r)}fl(e,t,n);break;case 1:if(!Gs&&(el(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){Eu(n,t,s)}fl(e,t,n);break;case 21:fl(e,t,n);break;case 22:1&n.mode?(Gs=(r=Gs)||null!==n.memoizedState,fl(e,t,n),Gs=r):fl(e,t,n);break;default:fl(e,t,n)}}function ml(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Ys),t.forEach((function(t){var r=Tu.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function gl(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var a=n[r];try{var i=e,s=t,l=s;e:for(;null!==l;){switch(l.tag){case 5:dl=l.stateNode,pl=!1;break e;case 3:case 4:dl=l.stateNode.containerInfo,pl=!0;break e}l=l.return}if(null===dl)throw Error(o(160));hl(i,s,a),dl=null,pl=!1;var u=a.alternate;null!==u&&(u.return=null),a.return=null}catch(c){Eu(a,t,c)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)vl(t,e),t=t.sibling}function vl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(gl(t,e),yl(e),4&r){try{rl(3,e,e.return),al(3,e)}catch(g){Eu(e,e.return,g)}try{rl(5,e,e.return)}catch(g){Eu(e,e.return,g)}}break;case 1:gl(t,e),yl(e),512&r&&null!==n&&el(n,n.return);break;case 5:if(gl(t,e),yl(e),512&r&&null!==n&&el(n,n.return),32&e.flags){var a=e.stateNode;try{pe(a,"")}catch(g){Eu(e,e.return,g)}}if(4&r&&null!=(a=e.stateNode)){var i=e.memoizedProps,s=null!==n?n.memoizedProps:i,l=e.type,u=e.updateQueue;if(e.updateQueue=null,null!==u)try{"input"===l&&"radio"===i.type&&null!=i.name&&G(a,i),be(l,s);var c=be(l,i);for(s=0;s<u.length;s+=2){var d=u[s],p=u[s+1];"style"===d?ge(a,p):"dangerouslySetInnerHTML"===d?de(a,p):"children"===d?pe(a,p):b(a,d,p,c)}switch(l){case"input":Y(a,i);break;case"textarea":oe(a,i);break;case"select":var f=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!i.multiple;var h=i.value;null!=h?ne(a,!!i.multiple,h,!1):f!==!!i.multiple&&(null!=i.defaultValue?ne(a,!!i.multiple,i.defaultValue,!0):ne(a,!!i.multiple,i.multiple?[]:"",!1))}a[fa]=i}catch(g){Eu(e,e.return,g)}}break;case 6:if(gl(t,e),yl(e),4&r){if(null===e.stateNode)throw Error(o(162));a=e.stateNode,i=e.memoizedProps;try{a.nodeValue=i}catch(g){Eu(e,e.return,g)}}break;case 3:if(gl(t,e),yl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Zt(t.containerInfo)}catch(g){Eu(e,e.return,g)}break;case 4:default:gl(t,e),yl(e);break;case 13:gl(t,e),yl(e),8192&(a=e.child).flags&&(i=null!==a.memoizedState,a.stateNode.isHidden=i,!i||null!==a.alternate&&null!==a.alternate.memoizedState||(Zl=Ge())),4&r&&ml(e);break;case 22:if(d=null!==n&&null!==n.memoizedState,1&e.mode?(Gs=(c=Gs)||d,gl(t,e),Gs=c):gl(t,e),yl(e),8192&r){if(c=null!==e.memoizedState,(e.stateNode.isHidden=c)&&!d&&0!==(1&e.mode))for(Xs=e,d=e.child;null!==d;){for(p=Xs=d;null!==Xs;){switch(h=(f=Xs).child,f.tag){case 0:case 11:case 14:case 15:rl(4,f,f.return);break;case 1:el(f,f.return);var m=f.stateNode;if("function"===typeof m.componentWillUnmount){r=f,n=f.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(g){Eu(r,n,g)}}break;case 5:el(f,f.return);break;case 22:if(null!==f.memoizedState){kl(p);continue}}null!==h?(h.return=f,Xs=h):kl(p)}d=d.sibling}e:for(d=null,p=e;;){if(5===p.tag){if(null===d){d=p;try{a=p.stateNode,c?"function"===typeof(i=a.style).setProperty?i.setProperty("display","none","important"):i.display="none":(l=p.stateNode,s=void 0!==(u=p.memoizedProps.style)&&null!==u&&u.hasOwnProperty("display")?u.display:null,l.style.display=me("display",s))}catch(g){Eu(e,e.return,g)}}}else if(6===p.tag){if(null===d)try{p.stateNode.nodeValue=c?"":p.memoizedProps}catch(g){Eu(e,e.return,g)}}else if((22!==p.tag&&23!==p.tag||null===p.memoizedState||p===e)&&null!==p.child){p.child.return=p,p=p.child;continue}if(p===e)break e;for(;null===p.sibling;){if(null===p.return||p.return===e)break e;d===p&&(d=null),p=p.return}d===p&&(d=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:gl(t,e),yl(e),4&r&&ml(e);case 21:}}function yl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(sl(n)){var r=n;break e}n=n.return}throw Error(o(160))}switch(r.tag){case 5:var a=r.stateNode;32&r.flags&&(pe(a,""),r.flags&=-33),cl(e,ll(e),a);break;case 3:case 4:var i=r.stateNode.containerInfo;ul(e,ll(e),i);break;default:throw Error(o(161))}}catch(s){Eu(e,e.return,s)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function bl(e,t,n){Xs=e,_l(e,t,n)}function _l(e,t,n){for(var r=0!==(1&e.mode);null!==Xs;){var a=Xs,o=a.child;if(22===a.tag&&r){var i=null!==a.memoizedState||Js;if(!i){var s=a.alternate,l=null!==s&&null!==s.memoizedState||Gs;s=Js;var u=Gs;if(Js=i,(Gs=l)&&!u)for(Xs=a;null!==Xs;)l=(i=Xs).child,22===i.tag&&null!==i.memoizedState?xl(a):null!==l?(l.return=i,Xs=l):xl(a);for(;null!==o;)Xs=o,_l(o,t,n),o=o.sibling;Xs=a,Js=s,Gs=u}wl(e)}else 0!==(8772&a.subtreeFlags)&&null!==o?(o.return=a,Xs=o):wl(e)}}function wl(e){for(;null!==Xs;){var t=Xs;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Gs||al(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Gs)if(null===n)r.componentDidMount();else{var a=t.elementType===t.type?n.memoizedProps:vo(t.type,n.memoizedProps);r.componentDidUpdate(a,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;null!==i&&Do(t,i,r);break;case 3:var s=t.updateQueue;if(null!==s){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Do(t,s,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var c=t.alternate;if(null!==c){var d=c.memoizedState;if(null!==d){var p=d.dehydrated;null!==p&&Zt(p)}}}break;default:throw Error(o(163))}Gs||512&t.flags&&ol(t)}catch(f){Eu(t,t.return,f)}}if(t===e){Xs=null;break}if(null!==(n=t.sibling)){n.return=t.return,Xs=n;break}Xs=t.return}}function kl(e){for(;null!==Xs;){var t=Xs;if(t===e){Xs=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Xs=n;break}Xs=t.return}}function xl(e){for(;null!==Xs;){var t=Xs;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{al(4,t)}catch(l){Eu(t,n,l)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var a=t.return;try{r.componentDidMount()}catch(l){Eu(t,a,l)}}var o=t.return;try{ol(t)}catch(l){Eu(t,o,l)}break;case 5:var i=t.return;try{ol(t)}catch(l){Eu(t,i,l)}}}catch(l){Eu(t,t.return,l)}if(t===e){Xs=null;break}var s=t.sibling;if(null!==s){s.return=t.return,Xs=s;break}Xs=t.return}}var Sl,El=Math.ceil,Cl=_.ReactCurrentDispatcher,Al=_.ReactCurrentOwner,Il=_.ReactCurrentBatchConfig,Tl=0,Nl=null,Ol=null,Pl=0,zl=0,Rl=Sa(0),jl=0,Ml=null,Fl=0,Ll=0,Dl=0,Ul=null,Bl=null,Zl=0,ql=1/0,Vl=null,$l=!1,Hl=null,Wl=null,Ql=!1,Kl=null,Jl=0,Gl=0,Yl=null,Xl=-1,eu=0;function tu(){return 0!==(6&Tl)?Ge():-1!==Xl?Xl:Xl=Ge()}function nu(e){return 0===(1&e.mode)?1:0!==(2&Tl)&&0!==Pl?Pl&-Pl:null!==go.transition?(0===eu&&(eu=mt()),eu):0!==(e=bt)?e:e=void 0===(e=window.event)?16:Jt(e.type)}function ru(e,t,n,r){if(50<Gl)throw Gl=0,Yl=null,Error(o(185));vt(e,n,r),0!==(2&Tl)&&e===Nl||(e===Nl&&(0===(2&Tl)&&(Ll|=n),4===jl&&lu(e,Pl)),au(e,r),1===n&&0===Tl&&0===(1&t.mode)&&(ql=Ge()+500,Da&&Za()))}function au(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,a=e.expirationTimes,o=e.pendingLanes;0<o;){var i=31-it(o),s=1<<i,l=a[i];-1===l?0!==(s&n)&&0===(s&r)||(a[i]=ft(s,t)):l<=t&&(e.expiredLanes|=s),o&=~s}}(e,t);var r=pt(e,e===Nl?Pl:0);if(0===r)null!==n&&Qe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Qe(n),1===t)0===e.tag?function(e){Da=!0,Ba(e)}(uu.bind(null,e)):Ba(uu.bind(null,e)),ia((function(){0===(6&Tl)&&Za()})),n=null;else{switch(_t(r)){case 1:n=Xe;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Nu(n,ou.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ou(e,t){if(Xl=-1,eu=0,0!==(6&Tl))throw Error(o(327));var n=e.callbackNode;if(xu()&&e.callbackNode!==n)return null;var r=pt(e,e===Nl?Pl:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=vu(e,r);else{t=r;var a=Tl;Tl|=2;var i=mu();for(Nl===e&&Pl===t||(Vl=null,ql=Ge()+500,fu(e,t));;)try{bu();break}catch(l){hu(e,l)}ko(),Cl.current=i,Tl=a,null!==Ol?t=0:(Nl=null,Pl=0,t=jl)}if(0!==t){if(2===t&&(0!==(a=ht(e))&&(r=a,t=iu(e,a))),1===t)throw n=Ml,fu(e,0),lu(e,r),au(e,Ge()),n;if(6===t)lu(e,r);else{if(a=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var a=n[r],o=a.getSnapshot;a=a.value;try{if(!sr(o(),a))return!1}catch(s){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(a)&&(2===(t=vu(e,r))&&(0!==(i=ht(e))&&(r=i,t=iu(e,i))),1===t))throw n=Ml,fu(e,0),lu(e,r),au(e,Ge()),n;switch(e.finishedWork=a,e.finishedLanes=r,t){case 0:case 1:throw Error(o(345));case 2:case 5:ku(e,Bl,Vl);break;case 3:if(lu(e,r),(130023424&r)===r&&10<(t=Zl+500-Ge())){if(0!==pt(e,0))break;if(((a=e.suspendedLanes)&r)!==r){tu(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=ra(ku.bind(null,e,Bl,Vl),t);break}ku(e,Bl,Vl);break;case 4:if(lu(e,r),(4194240&r)===r)break;for(t=e.eventTimes,a=-1;0<r;){var s=31-it(r);i=1<<s,(s=t[s])>a&&(a=s),r&=~i}if(r=a,10<(r=(120>(r=Ge()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*El(r/1960))-r)){e.timeoutHandle=ra(ku.bind(null,e,Bl,Vl),r);break}ku(e,Bl,Vl);break;default:throw Error(o(329))}}}return au(e,Ge()),e.callbackNode===n?ou.bind(null,e):null}function iu(e,t){var n=Ul;return e.current.memoizedState.isDehydrated&&(fu(e,t).flags|=256),2!==(e=vu(e,t))&&(t=Bl,Bl=n,null!==t&&su(t)),e}function su(e){null===Bl?Bl=e:Bl.push.apply(Bl,e)}function lu(e,t){for(t&=~Dl,t&=~Ll,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-it(t),r=1<<n;e[n]=-1,t&=~r}}function uu(e){if(0!==(6&Tl))throw Error(o(327));xu();var t=pt(e,0);if(0===(1&t))return au(e,Ge()),null;var n=vu(e,t);if(0!==e.tag&&2===n){var r=ht(e);0!==r&&(t=r,n=iu(e,r))}if(1===n)throw n=Ml,fu(e,0),lu(e,t),au(e,Ge()),n;if(6===n)throw Error(o(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,ku(e,Bl,Vl),au(e,Ge()),null}function cu(e,t){var n=Tl;Tl|=1;try{return e(t)}finally{0===(Tl=n)&&(ql=Ge()+500,Da&&Za())}}function du(e){null!==Kl&&0===Kl.tag&&0===(6&Tl)&&xu();var t=Tl;Tl|=1;var n=Il.transition,r=bt;try{if(Il.transition=null,bt=1,e)return e()}finally{bt=r,Il.transition=n,0===(6&(Tl=t))&&Za()}}function pu(){zl=Rl.current,Ea(Rl)}function fu(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,aa(n)),null!==Ol)for(n=Ol.return;null!==n;){var r=n;switch(to(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&za();break;case 3:oi(),Ea(Ta),Ea(Ia),di();break;case 5:si(r);break;case 4:oi();break;case 13:case 19:Ea(li);break;case 10:xo(r.type._context);break;case 22:case 23:pu()}n=n.return}if(Nl=e,Ol=e=Ru(e.current,null),Pl=zl=t,jl=0,Ml=null,Dl=Ll=Fl=0,Bl=Ul=null,null!==Ao){for(t=0;t<Ao.length;t++)if(null!==(r=(n=Ao[t]).interleaved)){n.interleaved=null;var a=r.next,o=n.pending;if(null!==o){var i=o.next;o.next=a,r.next=i}n.pending=r}Ao=null}return e}function hu(e,t){for(;;){var n=Ol;try{if(ko(),pi.current=is,yi){for(var r=mi.memoizedState;null!==r;){var a=r.queue;null!==a&&(a.pending=null),r=r.next}yi=!1}if(hi=0,vi=gi=mi=null,bi=!1,_i=0,Al.current=null,null===n||null===n.return){jl=1,Ml=t,Ol=null;break}e:{var i=e,s=n.return,l=n,u=t;if(t=Pl,l.flags|=32768,null!==u&&"object"===typeof u&&"function"===typeof u.then){var c=u,d=l,p=d.tag;if(0===(1&d.mode)&&(0===p||11===p||15===p)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var h=vs(s);if(null!==h){h.flags&=-257,ys(h,s,l,0,t),1&h.mode&&gs(i,c,t),u=c;var m=(t=h).updateQueue;if(null===m){var g=new Set;g.add(u),t.updateQueue=g}else m.add(u);break e}if(0===(1&t)){gs(i,c,t),gu();break e}u=Error(o(426))}else if(ao&&1&l.mode){var v=vs(s);if(null!==v){0===(65536&v.flags)&&(v.flags|=256),ys(v,s,l,0,t),mo(cs(u,l));break e}}i=u=cs(u,l),4!==jl&&(jl=2),null===Ul?Ul=[i]:Ul.push(i),i=s;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t,Fo(i,hs(0,u,t));break e;case 1:l=u;var y=i.type,b=i.stateNode;if(0===(128&i.flags)&&("function"===typeof y.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Wl||!Wl.has(b)))){i.flags|=65536,t&=-t,i.lanes|=t,Fo(i,ms(i,l,t));break e}}i=i.return}while(null!==i)}wu(n)}catch(_){t=_,Ol===n&&null!==n&&(Ol=n=n.return);continue}break}}function mu(){var e=Cl.current;return Cl.current=is,null===e?is:e}function gu(){0!==jl&&3!==jl&&2!==jl||(jl=4),null===Nl||0===(268435455&Fl)&&0===(268435455&Ll)||lu(Nl,Pl)}function vu(e,t){var n=Tl;Tl|=2;var r=mu();for(Nl===e&&Pl===t||(Vl=null,fu(e,t));;)try{yu();break}catch(a){hu(e,a)}if(ko(),Tl=n,Cl.current=r,null!==Ol)throw Error(o(261));return Nl=null,Pl=0,jl}function yu(){for(;null!==Ol;)_u(Ol)}function bu(){for(;null!==Ol&&!Ke();)_u(Ol)}function _u(e){var t=Sl(e.alternate,e,zl);e.memoizedProps=e.pendingProps,null===t?wu(e):Ol=t,Al.current=null}function wu(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Qs(n,t,zl)))return void(Ol=n)}else{if(null!==(n=Ks(n,t)))return n.flags&=32767,void(Ol=n);if(null===e)return jl=6,void(Ol=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Ol=t);Ol=t=e}while(null!==t);0===jl&&(jl=5)}function ku(e,t,n){var r=bt,a=Il.transition;try{Il.transition=null,bt=1,function(e,t,n,r){do{xu()}while(null!==Kl);if(0!==(6&Tl))throw Error(o(327));n=e.finishedWork;var a=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(o(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var a=31-it(n),o=1<<a;t[a]=0,r[a]=-1,e[a]=-1,n&=~o}}(e,i),e===Nl&&(Ol=Nl=null,Pl=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Ql||(Ql=!0,Nu(tt,(function(){return xu(),null}))),i=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||i){i=Il.transition,Il.transition=null;var s=bt;bt=1;var l=Tl;Tl|=4,Al.current=null,function(e,t){if(ea=Vt,fr(e=pr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var a=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch(w){n=null;break e}var s=0,l=-1,u=-1,c=0,d=0,p=e,f=null;t:for(;;){for(var h;p!==n||0!==a&&3!==p.nodeType||(l=s+a),p!==i||0!==r&&3!==p.nodeType||(u=s+r),3===p.nodeType&&(s+=p.nodeValue.length),null!==(h=p.firstChild);)f=p,p=h;for(;;){if(p===e)break t;if(f===n&&++c===a&&(l=s),f===i&&++d===r&&(u=s),null!==(h=p.nextSibling))break;f=(p=f).parentNode}p=h}n=-1===l||-1===u?null:{start:l,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(ta={focusedElem:e,selectionRange:n},Vt=!1,Xs=t;null!==Xs;)if(e=(t=Xs).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Xs=e;else for(;null!==Xs;){t=Xs;try{var m=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var g=m.memoizedProps,v=m.memoizedState,y=t.stateNode,b=y.getSnapshotBeforeUpdate(t.elementType===t.type?g:vo(t.type,g),v);y.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var _=t.stateNode.containerInfo;1===_.nodeType?_.textContent="":9===_.nodeType&&_.documentElement&&_.removeChild(_.documentElement);break;default:throw Error(o(163))}}catch(w){Eu(t,t.return,w)}if(null!==(e=t.sibling)){e.return=t.return,Xs=e;break}Xs=t.return}m=nl,nl=!1}(e,n),vl(n,e),hr(ta),Vt=!!ea,ta=ea=null,e.current=n,bl(n,e,a),Je(),Tl=l,bt=s,Il.transition=i}else e.current=n;if(Ql&&(Ql=!1,Kl=e,Jl=a),i=e.pendingLanes,0===i&&(Wl=null),function(e){if(ot&&"function"===typeof ot.onCommitFiberRoot)try{ot.onCommitFiberRoot(at,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),au(e,Ge()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)a=t[n],r(a.value,{componentStack:a.stack,digest:a.digest});if($l)throw $l=!1,e=Hl,Hl=null,e;0!==(1&Jl)&&0!==e.tag&&xu(),i=e.pendingLanes,0!==(1&i)?e===Yl?Gl++:(Gl=0,Yl=e):Gl=0,Za()}(e,t,n,r)}finally{Il.transition=a,bt=r}return null}function xu(){if(null!==Kl){var e=_t(Jl),t=Il.transition,n=bt;try{if(Il.transition=null,bt=16>e?16:e,null===Kl)var r=!1;else{if(e=Kl,Kl=null,Jl=0,0!==(6&Tl))throw Error(o(331));var a=Tl;for(Tl|=4,Xs=e.current;null!==Xs;){var i=Xs,s=i.child;if(0!==(16&Xs.flags)){var l=i.deletions;if(null!==l){for(var u=0;u<l.length;u++){var c=l[u];for(Xs=c;null!==Xs;){var d=Xs;switch(d.tag){case 0:case 11:case 15:rl(8,d,i)}var p=d.child;if(null!==p)p.return=d,Xs=p;else for(;null!==Xs;){var f=(d=Xs).sibling,h=d.return;if(il(d),d===c){Xs=null;break}if(null!==f){f.return=h,Xs=f;break}Xs=h}}}var m=i.alternate;if(null!==m){var g=m.child;if(null!==g){m.child=null;do{var v=g.sibling;g.sibling=null,g=v}while(null!==g)}}Xs=i}}if(0!==(2064&i.subtreeFlags)&&null!==s)s.return=i,Xs=s;else e:for(;null!==Xs;){if(0!==(2048&(i=Xs).flags))switch(i.tag){case 0:case 11:case 15:rl(9,i,i.return)}var y=i.sibling;if(null!==y){y.return=i.return,Xs=y;break e}Xs=i.return}}var b=e.current;for(Xs=b;null!==Xs;){var _=(s=Xs).child;if(0!==(2064&s.subtreeFlags)&&null!==_)_.return=s,Xs=_;else e:for(s=b;null!==Xs;){if(0!==(2048&(l=Xs).flags))try{switch(l.tag){case 0:case 11:case 15:al(9,l)}}catch(k){Eu(l,l.return,k)}if(l===s){Xs=null;break e}var w=l.sibling;if(null!==w){w.return=l.return,Xs=w;break e}Xs=l.return}}if(Tl=a,Za(),ot&&"function"===typeof ot.onPostCommitFiberRoot)try{ot.onPostCommitFiberRoot(at,e)}catch(k){}r=!0}return r}finally{bt=n,Il.transition=t}}return!1}function Su(e,t,n){e=jo(e,t=hs(0,t=cs(n,t),1),1),t=tu(),null!==e&&(vt(e,1,t),au(e,t))}function Eu(e,t,n){if(3===e.tag)Su(e,e,n);else for(;null!==t;){if(3===t.tag){Su(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Wl||!Wl.has(r))){t=jo(t,e=ms(t,e=cs(n,e),1),1),e=tu(),null!==t&&(vt(t,1,e),au(t,e));break}}t=t.return}}function Cu(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=tu(),e.pingedLanes|=e.suspendedLanes&n,Nl===e&&(Pl&n)===n&&(4===jl||3===jl&&(130023424&Pl)===Pl&&500>Ge()-Zl?fu(e,0):Dl|=n),au(e,t)}function Au(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ct,0===(130023424&(ct<<=1))&&(ct=4194304)));var n=tu();null!==(e=No(e,t))&&(vt(e,t,n),au(e,n))}function Iu(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Au(e,n)}function Tu(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,a=e.memoizedState;null!==a&&(n=a.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(o(314))}null!==r&&r.delete(t),Au(e,n)}function Nu(e,t){return We(e,t)}function Ou(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pu(e,t,n,r){return new Ou(e,t,n,r)}function zu(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Ru(e,t){var n=e.alternate;return null===n?((n=Pu(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function ju(e,t,n,r,a,i){var s=2;if(r=e,"function"===typeof e)zu(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case x:return Mu(n.children,a,i,t);case S:s=8,a|=8;break;case E:return(e=Pu(12,n,t,2|a)).elementType=E,e.lanes=i,e;case T:return(e=Pu(13,n,t,a)).elementType=T,e.lanes=i,e;case N:return(e=Pu(19,n,t,a)).elementType=N,e.lanes=i,e;case z:return Fu(n,a,i,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case C:s=10;break e;case A:s=9;break e;case I:s=11;break e;case O:s=14;break e;case P:s=16,r=null;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=Pu(s,n,t,a)).elementType=e,t.type=r,t.lanes=i,t}function Mu(e,t,n,r){return(e=Pu(7,e,r,t)).lanes=n,e}function Fu(e,t,n,r){return(e=Pu(22,e,r,t)).elementType=z,e.lanes=n,e.stateNode={isHidden:!1},e}function Lu(e,t,n){return(e=Pu(6,e,null,t)).lanes=n,e}function Du(e,t,n){return(t=Pu(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Uu(e,t,n,r,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=r,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function Bu(e,t,n,r,a,o,i,s,l){return e=new Uu(e,t,n,s,l),1===t?(t=1,!0===o&&(t|=8)):t=0,o=Pu(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Po(o),e}function Zu(e){if(!e)return Aa;e:{if(Ze(e=e._reactInternals)!==e||1!==e.tag)throw Error(o(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Pa(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(o(171))}if(1===e.tag){var n=e.type;if(Pa(n))return ja(e,n,t)}return t}function qu(e,t,n,r,a,o,i,s,l){return(e=Bu(n,r,!0,e,0,o,0,s,l)).context=Zu(null),n=e.current,(o=Ro(r=tu(),a=nu(n))).callback=void 0!==t&&null!==t?t:null,jo(n,o,a),e.current.lanes=a,vt(e,a,r),au(e,r),e}function Vu(e,t,n,r){var a=t.current,o=tu(),i=nu(a);return n=Zu(n),null===t.context?t.context=n:t.pendingContext=n,(t=Ro(o,i)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=jo(a,t,i))&&(ru(e,a,i,o),Mo(e,a,i)),i}function $u(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Hu(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Wu(e,t){Hu(e,t),(e=e.alternate)&&Hu(e,t)}Sl=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ta.current)_s=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return _s=!1,function(e,t,n){switch(t.tag){case 3:Ns(t),ho();break;case 5:ii(t);break;case 1:Pa(t.type)&&Ma(t);break;case 4:ai(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,a=t.memoizedProps.value;Ca(yo,r._currentValue),r._currentValue=a;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ca(li,1&li.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Ls(e,t,n):(Ca(li,1&li.current),null!==(e=$s(e,t,n))?e.sibling:null);Ca(li,1&li.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return qs(e,t,n);t.flags|=128}if(null!==(a=t.memoizedState)&&(a.rendering=null,a.tail=null,a.lastEffect=null),Ca(li,li.current),r)break;return null;case 22:case 23:return t.lanes=0,Es(e,t,n)}return $s(e,t,n)}(e,t,n);_s=0!==(131072&e.flags)}else _s=!1,ao&&0!==(1048576&t.flags)&&Xa(t,Ha,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Vs(e,t),e=t.pendingProps;var a=Oa(t,Ia.current);Eo(t,n),a=Si(null,t,r,e,a,n);var i=Ei();return t.flags|=1,"object"===typeof a&&null!==a&&"function"===typeof a.render&&void 0===a.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Pa(r)?(i=!0,Ma(t)):i=!1,t.memoizedState=null!==a.state&&void 0!==a.state?a.state:null,Po(t),a.updater=Zo,t.stateNode=a,a._reactInternals=t,Ho(t,r,e,n),t=Ts(null,t,r,!0,i,n)):(t.tag=0,ao&&i&&eo(t),ws(null,t,a,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Vs(e,t),e=t.pendingProps,r=(a=r._init)(r._payload),t.type=r,a=t.tag=function(e){if("function"===typeof e)return zu(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===I)return 11;if(e===O)return 14}return 2}(r),e=vo(r,e),a){case 0:t=As(null,t,r,e,n);break e;case 1:t=Is(null,t,r,e,n);break e;case 11:t=ks(null,t,r,e,n);break e;case 14:t=xs(null,t,r,vo(r.type,e),n);break e}throw Error(o(306,r,""))}return t;case 0:return r=t.type,a=t.pendingProps,As(e,t,r,a=t.elementType===r?a:vo(r,a),n);case 1:return r=t.type,a=t.pendingProps,Is(e,t,r,a=t.elementType===r?a:vo(r,a),n);case 3:e:{if(Ns(t),null===e)throw Error(o(387));r=t.pendingProps,a=(i=t.memoizedState).element,zo(e,t),Lo(t,r,null,n);var s=t.memoizedState;if(r=s.element,i.isDehydrated){if(i={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=i,t.memoizedState=i,256&t.flags){t=Os(e,t,r,n,a=cs(Error(o(423)),t));break e}if(r!==a){t=Os(e,t,r,n,a=cs(Error(o(424)),t));break e}for(ro=ua(t.stateNode.containerInfo.firstChild),no=t,ao=!0,oo=null,n=Yo(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(ho(),r===a){t=$s(e,t,n);break e}ws(e,t,r,n)}t=t.child}return t;case 5:return ii(t),null===e&&uo(t),r=t.type,a=t.pendingProps,i=null!==e?e.memoizedProps:null,s=a.children,na(r,a)?s=null:null!==i&&na(r,i)&&(t.flags|=32),Cs(e,t),ws(e,t,s,n),t.child;case 6:return null===e&&uo(t),null;case 13:return Ls(e,t,n);case 4:return ai(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Go(t,null,r,n):ws(e,t,r,n),t.child;case 11:return r=t.type,a=t.pendingProps,ks(e,t,r,a=t.elementType===r?a:vo(r,a),n);case 7:return ws(e,t,t.pendingProps,n),t.child;case 8:case 12:return ws(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,a=t.pendingProps,i=t.memoizedProps,s=a.value,Ca(yo,r._currentValue),r._currentValue=s,null!==i)if(sr(i.value,s)){if(i.children===a.children&&!Ta.current){t=$s(e,t,n);break e}}else for(null!==(i=t.child)&&(i.return=t);null!==i;){var l=i.dependencies;if(null!==l){s=i.child;for(var u=l.firstContext;null!==u;){if(u.context===r){if(1===i.tag){(u=Ro(-1,n&-n)).tag=2;var c=i.updateQueue;if(null!==c){var d=(c=c.shared).pending;null===d?u.next=u:(u.next=d.next,d.next=u),c.pending=u}}i.lanes|=n,null!==(u=i.alternate)&&(u.lanes|=n),So(i.return,n,t),l.lanes|=n;break}u=u.next}}else if(10===i.tag)s=i.type===t.type?null:i.child;else if(18===i.tag){if(null===(s=i.return))throw Error(o(341));s.lanes|=n,null!==(l=s.alternate)&&(l.lanes|=n),So(s,n,t),s=i.sibling}else s=i.child;if(null!==s)s.return=i;else for(s=i;null!==s;){if(s===t){s=null;break}if(null!==(i=s.sibling)){i.return=s.return,s=i;break}s=s.return}i=s}ws(e,t,a.children,n),t=t.child}return t;case 9:return a=t.type,r=t.pendingProps.children,Eo(t,n),r=r(a=Co(a)),t.flags|=1,ws(e,t,r,n),t.child;case 14:return a=vo(r=t.type,t.pendingProps),xs(e,t,r,a=vo(r.type,a),n);case 15:return Ss(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:vo(r,a),Vs(e,t),t.tag=1,Pa(r)?(e=!0,Ma(t)):e=!1,Eo(t,n),Vo(t,r,a),Ho(t,r,a,n),Ts(null,t,r,!0,e,n);case 19:return qs(e,t,n);case 22:return Es(e,t,n)}throw Error(o(156,t.tag))};var Qu="function"===typeof reportError?reportError:function(e){console.error(e)};function Ku(e){this._internalRoot=e}function Ju(e){this._internalRoot=e}function Gu(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Yu(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Xu(){}function ec(e,t,n,r,a){var o=n._reactRootContainer;if(o){var i=o;if("function"===typeof a){var s=a;a=function(){var e=$u(i);s.call(e)}}Vu(t,i,e,a)}else i=function(e,t,n,r,a){if(a){if("function"===typeof r){var o=r;r=function(){var e=$u(i);o.call(e)}}var i=qu(t,r,e,0,null,!1,0,"",Xu);return e._reactRootContainer=i,e[ha]=i.current,Zr(8===e.nodeType?e.parentNode:e),du(),i}for(;a=e.lastChild;)e.removeChild(a);if("function"===typeof r){var s=r;r=function(){var e=$u(l);s.call(e)}}var l=Bu(e,0,!1,null,0,!1,0,"",Xu);return e._reactRootContainer=l,e[ha]=l.current,Zr(8===e.nodeType?e.parentNode:e),du((function(){Vu(t,l,n,r)})),l}(n,t,e,a,r);return $u(i)}Ju.prototype.render=Ku.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(o(409));Vu(e,t,null,null)},Ju.prototype.unmount=Ku.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;du((function(){Vu(null,e,null,null)})),t[ha]=null}},Ju.prototype.unstable_scheduleHydration=function(e){if(e){var t=St();e={blockedOn:null,target:e,priority:t};for(var n=0;n<zt.length&&0!==t&&t<zt[n].priority;n++);zt.splice(n,0,e),0===n&&Ft(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=dt(t.pendingLanes);0!==n&&(yt(t,1|n),au(t,Ge()),0===(6&Tl)&&(ql=Ge()+500,Za()))}break;case 13:du((function(){var t=No(e,1);if(null!==t){var n=tu();ru(t,e,1,n)}})),Wu(e,1)}},kt=function(e){if(13===e.tag){var t=No(e,134217728);if(null!==t)ru(t,e,134217728,tu());Wu(e,134217728)}},xt=function(e){if(13===e.tag){var t=nu(e),n=No(e,t);if(null!==n)ru(n,e,t,tu());Wu(e,t)}},St=function(){return bt},Et=function(e,t){var n=bt;try{return bt=e,t()}finally{bt=n}},ke=function(e,t,n){switch(t){case"input":if(Y(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var a=wa(r);if(!a)throw Error(o(90));W(r),Y(r,a)}}}break;case"textarea":oe(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ie=cu,Te=du;var tc={usingClientEntryPoint:!1,Events:[ba,_a,wa,Ce,Ae,cu]},nc={findFiberByHostInstance:ya,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},rc={bundleType:nc.bundleType,version:nc.version,rendererPackageName:nc.rendererPackageName,rendererConfig:nc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:_.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=$e(e))?null:e.stateNode},findFiberByHostInstance:nc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ac=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ac.isDisabled&&ac.supportsFiber)try{at=ac.inject(rc),ot=ac}catch(ce){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tc,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Gu(t))throw Error(o(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:k,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Gu(e))throw Error(o(299));var n=!1,r="",a=Qu;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(a=t.onRecoverableError)),t=Bu(e,1,!1,null,0,n,0,r,a),e[ha]=t.current,Zr(8===e.nodeType?e.parentNode:e),new Ku(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw e=Object.keys(e).join(","),Error(o(268,e))}return e=null===(e=$e(t))?null:e.stateNode},t.flushSync=function(e){return du(e)},t.hydrate=function(e,t,n){if(!Yu(t))throw Error(o(200));return ec(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Gu(e))throw Error(o(405));var r=null!=n&&n.hydratedSources||null,a=!1,i="",s=Qu;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(a=!0),void 0!==n.identifierPrefix&&(i=n.identifierPrefix),void 0!==n.onRecoverableError&&(s=n.onRecoverableError)),t=qu(t,null,e,1,null!=n?n:null,a,0,i,s),e[ha]=t.current,Zr(e),r)for(e=0;e<r.length;e++)a=(a=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,a]:t.mutableSourceEagerHydrationData.push(n,a);return new Ju(t)},t.render=function(e,t,n){if(!Yu(t))throw Error(o(200));return ec(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Yu(e))throw Error(o(40));return!!e._reactRootContainer&&(du((function(){ec(null,null,e,!1,(function(){e._reactRootContainer=null,e[ha]=null}))})),!0)},t.unstable_batchedUpdates=cu,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Yu(n))throw Error(o(200));if(null==e||void 0===e._reactInternals)throw Error(o(38));return ec(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},391:(e,t,n)=>{"use strict";var r=n(950);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},950:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(730)},686:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=s(n(173)),o=n(43),i=s(o);function s(e){return e&&e.__esModule?e:{default:e}}var l={bgColor:a.default.oneOfType([a.default.object,a.default.string]).isRequired,bgD:a.default.string.isRequired,fgColor:a.default.oneOfType([a.default.object,a.default.string]).isRequired,fgD:a.default.string.isRequired,size:a.default.number.isRequired,title:a.default.string,viewBoxSize:a.default.number.isRequired,xmlns:a.default.string},u=(0,o.forwardRef)((function(e,t){var n=e.bgColor,a=e.bgD,o=e.fgD,s=e.fgColor,l=e.size,u=e.title,c=e.viewBoxSize,d=e.xmlns,p=void 0===d?"http://www.w3.org/2000/svg":d,f=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["bgColor","bgD","fgD","fgColor","size","title","viewBoxSize","xmlns"]);return i.default.createElement("svg",r({},f,{height:l,ref:t,viewBox:"0 0 "+c+" "+c,width:l,xmlns:p}),u?i.default.createElement("title",null,u):null,i.default.createElement("path",{d:a,fill:n}),i.default.createElement("path",{d:o,fill:s}))}));u.displayName="QRCodeSvg",u.propTypes=l,t.default=u},245:(e,t,n)=>{"use strict";var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=c(n(173)),o=c(n(742)),i=c(n(612)),s=n(43),l=c(s),u=c(n(686));function c(e){return e&&e.__esModule?e:{default:e}}var d={bgColor:a.default.oneOfType([a.default.object,a.default.string]),fgColor:a.default.oneOfType([a.default.object,a.default.string]),level:a.default.string,size:a.default.number,value:a.default.string.isRequired},p=(0,s.forwardRef)((function(e,t){var n=e.bgColor,a=void 0===n?"#FFFFFF":n,s=e.fgColor,c=void 0===s?"#000000":s,d=e.level,p=void 0===d?"L":d,f=e.size,h=void 0===f?256:f,m=e.value,g=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["bgColor","fgColor","level","size","value"]),v=new i.default(-1,o.default[p]);v.addData(m),v.make();var y=v.modules;return l.default.createElement(u.default,r({},g,{bgColor:a,bgD:y.map((function(e,t){return e.map((function(e,n){return e?"":"M "+n+" "+t+" l 1 0 0 1 -1 0 Z"})).join(" ")})).join(" "),fgColor:c,fgD:y.map((function(e,t){return e.map((function(e,n){return e?"M "+n+" "+t+" l 1 0 0 1 -1 0 Z":""})).join(" ")})).join(" "),ref:t,size:h,viewBoxSize:y.length}))}));p.displayName="QRCode",p.propTypes=d,t.Ay=p},153:(e,t,n)=>{"use strict";var r=n(43),a=Symbol.for("react.element"),o=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function u(e,t,n){var r,o={},u=null,c=null;for(r in void 0!==n&&(u=""+n),void 0!==t.key&&(u=""+t.key),void 0!==t.ref&&(c=t.ref),t)i.call(t,r)&&!l.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===o[r]&&(o[r]=t[r]);return{$$typeof:a,type:e,key:u,ref:c,props:o,_owner:s.current}}t.Fragment=o,t.jsx=u,t.jsxs=u},202:(e,t)=>{"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),f=Symbol.iterator;var h={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function v(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||h}function y(){}function b(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||h}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=v.prototype;var _=b.prototype=new y;_.constructor=b,m(_,v.prototype),_.isPureReactComponent=!0;var w=Array.isArray,k=Object.prototype.hasOwnProperty,x={current:null},S={key:!0,ref:!0,__self:!0,__source:!0};function E(e,t,r){var a,o={},i=null,s=null;if(null!=t)for(a in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(i=""+t.key),t)k.call(t,a)&&!S.hasOwnProperty(a)&&(o[a]=t[a]);var l=arguments.length-2;if(1===l)o.children=r;else if(1<l){for(var u=Array(l),c=0;c<l;c++)u[c]=arguments[c+2];o.children=u}if(e&&e.defaultProps)for(a in l=e.defaultProps)void 0===o[a]&&(o[a]=l[a]);return{$$typeof:n,type:e,key:i,ref:s,props:o,_owner:x.current}}function C(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var A=/\/+/g;function I(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function T(e,t,a,o,i){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var l=!1;if(null===e)l=!0;else switch(s){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return i=i(l=e),e=""===o?"."+I(l,0):o,w(i)?(a="",null!=e&&(a=e.replace(A,"$&/")+"/"),T(i,t,a,"",(function(e){return e}))):null!=i&&(C(i)&&(i=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(i,a+(!i.key||l&&l.key===i.key?"":(""+i.key).replace(A,"$&/")+"/")+e)),t.push(i)),1;if(l=0,o=""===o?".":o+":",w(e))for(var u=0;u<e.length;u++){var c=o+I(s=e[u],u);l+=T(s,t,a,c,i)}else if(c=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"===typeof c)for(e=c.call(e),u=0;!(s=e.next()).done;)l+=T(s=s.value,t,a,c=o+I(s,u++),i);else if("object"===s)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function N(e,t,n){if(null==e)return e;var r=[],a=0;return T(e,r,"","",(function(e){return t.call(n,e,a++)})),r}function O(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var P={current:null},z={transition:null},R={ReactCurrentDispatcher:P,ReactCurrentBatchConfig:z,ReactCurrentOwner:x};t.Children={map:N,forEach:function(e,t,n){N(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return N(e,(function(){t++})),t},toArray:function(e){return N(e,(function(e){return e}))||[]},only:function(e){if(!C(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=v,t.Fragment=a,t.Profiler=i,t.PureComponent=b,t.StrictMode=o,t.Suspense=c,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=R,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var a=m({},e.props),o=e.key,i=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(i=t.ref,s=x.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(u in t)k.call(t,u)&&!S.hasOwnProperty(u)&&(a[u]=void 0===t[u]&&void 0!==l?l[u]:t[u])}var u=arguments.length-2;if(1===u)a.children=r;else if(1<u){l=Array(u);for(var c=0;c<u;c++)l[c]=arguments[c+2];a.children=l}return{$$typeof:n,type:e.type,key:o,ref:i,props:a,_owner:s}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=E,t.createFactory=function(e){var t=E.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:u,render:e}},t.isValidElement=C,t.lazy=function(e){return{$$typeof:p,_payload:{_status:-1,_result:e},_init:O}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=z.transition;z.transition={};try{e()}finally{z.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return P.current.useCallback(e,t)},t.useContext=function(e){return P.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return P.current.useDeferredValue(e)},t.useEffect=function(e,t){return P.current.useEffect(e,t)},t.useId=function(){return P.current.useId()},t.useImperativeHandle=function(e,t,n){return P.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return P.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return P.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return P.current.useMemo(e,t)},t.useReducer=function(e,t,n){return P.current.useReducer(e,t,n)},t.useRef=function(e){return P.current.useRef(e)},t.useState=function(e){return P.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return P.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return P.current.useTransition()},t.version="18.2.0"},43:(e,t,n)=>{"use strict";e.exports=n(202)},579:(e,t,n)=>{"use strict";e.exports=n(153)},234:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,a=e[r];if(!(0<o(a,t)))break e;e[r]=t,e[n]=a,n=r}}function r(e){return 0===e.length?null:e[0]}function a(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,a=e.length,i=a>>>1;r<i;){var s=2*(r+1)-1,l=e[s],u=s+1,c=e[u];if(0>o(l,n))u<a&&0>o(c,l)?(e[r]=c,e[u]=n,r=u):(e[r]=l,e[s]=n,r=s);else{if(!(u<a&&0>o(c,n)))break e;e[r]=c,e[u]=n,r=u}}}return t}function o(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var i=performance;t.unstable_now=function(){return i.now()}}else{var s=Date,l=s.now();t.unstable_now=function(){return s.now()-l}}var u=[],c=[],d=1,p=null,f=3,h=!1,m=!1,g=!1,v="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function _(e){for(var t=r(c);null!==t;){if(null===t.callback)a(c);else{if(!(t.startTime<=e))break;a(c),t.sortIndex=t.expirationTime,n(u,t)}t=r(c)}}function w(e){if(g=!1,_(e),!m)if(null!==r(u))m=!0,z(k);else{var t=r(c);null!==t&&R(w,t.startTime-e)}}function k(e,n){m=!1,g&&(g=!1,y(C),C=-1),h=!0;var o=f;try{for(_(n),p=r(u);null!==p&&(!(p.expirationTime>n)||e&&!T());){var i=p.callback;if("function"===typeof i){p.callback=null,f=p.priorityLevel;var s=i(p.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?p.callback=s:p===r(u)&&a(u),_(n)}else a(u);p=r(u)}if(null!==p)var l=!0;else{var d=r(c);null!==d&&R(w,d.startTime-n),l=!1}return l}finally{p=null,f=o,h=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var x,S=!1,E=null,C=-1,A=5,I=-1;function T(){return!(t.unstable_now()-I<A)}function N(){if(null!==E){var e=t.unstable_now();I=e;var n=!0;try{n=E(!0,e)}finally{n?x():(S=!1,E=null)}}else S=!1}if("function"===typeof b)x=function(){b(N)};else if("undefined"!==typeof MessageChannel){var O=new MessageChannel,P=O.port2;O.port1.onmessage=N,x=function(){P.postMessage(null)}}else x=function(){v(N,0)};function z(e){E=e,S||(S=!0,x())}function R(e,n){C=v((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||h||(m=!0,z(k))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(u)},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,a,o){var i=t.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?i+o:i:o=i,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:d++,callback:a,priorityLevel:e,startTime:o,expirationTime:s=o+s,sortIndex:-1},o>i?(e.sortIndex=o,n(c,e),null===r(u)&&e===r(c)&&(g?(y(C),C=-1):g=!0,R(w,o-i))):(e.sortIndex=s,n(u,e),m||h||(m=!0,z(k))),e},t.unstable_shouldYield=T,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},853:(e,t,n)=>{"use strict";e.exports=n(234)}},__webpack_module_cache__={};function __webpack_require__(e){var t=__webpack_module_cache__[e];if(void 0!==t)return t.exports;var n=__webpack_module_cache__[e]={exports:{}};return __webpack_modules__[e](n,n.exports,__webpack_require__),n.exports}__webpack_require__.m=__webpack_modules__,__webpack_require__.d=(e,t)=>{for(var n in t)__webpack_require__.o(t,n)&&!__webpack_require__.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},__webpack_require__.f={},__webpack_require__.e=e=>Promise.all(Object.keys(__webpack_require__.f).reduce(((t,n)=>(__webpack_require__.f[n](e,t),t)),[])),__webpack_require__.u=e=>"static/js/"+e+".ad07704e.chunk.js",__webpack_require__.miniCssF=e=>{},__webpack_require__.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),__webpack_require__.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="dinner-debt:";__webpack_require__.l=(n,r,a,o)=>{if(e[n])e[n].push(r);else{var i,s;if(void 0!==a)for(var l=document.getElementsByTagName("script"),u=0;u<l.length;u++){var c=l[u];if(c.getAttribute("src")==n||c.getAttribute("data-webpack")==t+a){i=c;break}}i||(s=!0,(i=document.createElement("script")).charset="utf-8",i.timeout=120,__webpack_require__.nc&&i.setAttribute("nonce",__webpack_require__.nc),i.setAttribute("data-webpack",t+a),i.src=n),e[n]=[r];var d=(t,r)=>{i.onerror=i.onload=null,clearTimeout(p);var a=e[n];if(delete e[n],i.parentNode&&i.parentNode.removeChild(i),a&&a.forEach((e=>e(r))),t)return t(r)},p=setTimeout(d.bind(null,void 0,{type:"timeout",target:i}),12e4);i.onerror=d.bind(null,i.onerror),i.onload=d.bind(null,i.onload),s&&document.head.appendChild(i)}}})(),__webpack_require__.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},__webpack_require__.p="/dinner-debt/",(()=>{var e={792:0};__webpack_require__.f.j=(t,n)=>{var r=__webpack_require__.o(e,t)?e[t]:void 0;if(0!==r)if(r)n.push(r[2]);else{var a=new Promise(((n,a)=>r=e[t]=[n,a]));n.push(r[2]=a);var o=__webpack_require__.p+__webpack_require__.u(t),i=new Error;__webpack_require__.l(o,(n=>{if(__webpack_require__.o(e,t)&&(0!==(r=e[t])&&(e[t]=void 0),r)){var a=n&&("load"===n.type?"missing":n.type),o=n&&n.target&&n.target.src;i.message="Loading chunk "+t+" failed.\n("+a+": "+o+")",i.name="ChunkLoadError",i.type=a,i.request=o,r[1](i)}}),"chunk-"+t,t)}};var t=(t,n)=>{var r,a,o=n[0],i=n[1],s=n[2],l=0;if(o.some((t=>0!==e[t]))){for(r in i)__webpack_require__.o(i,r)&&(__webpack_require__.m[r]=i[r]);if(s)s(__webpack_require__)}for(t&&t(n);l<o.length;l++)a=o[l],__webpack_require__.o(e,a)&&e[a]&&e[a][0](),e[a]=0},n=self.webpackChunkdinner_debt=self.webpackChunkdinner_debt||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})();var __webpack_exports__={};(()=>{"use strict";var e={};__webpack_require__.r(e),__webpack_require__.d(e,{base64:()=>rn,base64url:()=>an,bigint:()=>mn,boolean:()=>yn,browserEmail:()=>Jt,cidrv4:()=>tn,cidrv6:()=>nn,cuid:()=>Pt,cuid2:()=>zt,date:()=>cn,datetime:()=>fn,domain:()=>sn,duration:()=>Lt,e164:()=>ln,email:()=>$t,emoji:()=>Yt,extendedDuration:()=>Dt,guid:()=>Ut,hex:()=>xn,hostname:()=>on,html5Email:()=>Ht,idnEmail:()=>Kt,integer:()=>gn,ipv4:()=>Xt,ipv6:()=>en,ksuid:()=>Mt,lowercase:()=>wn,md5_base64:()=>An,md5_base64url:()=>In,md5_hex:()=>Cn,nanoid:()=>Ft,null:()=>bn,number:()=>vn,rfc5322Email:()=>Wt,sha1_base64:()=>Nn,sha1_base64url:()=>On,sha1_hex:()=>Tn,sha256_base64:()=>zn,sha256_base64url:()=>Rn,sha256_hex:()=>Pn,sha384_base64:()=>Mn,sha384_base64url:()=>Fn,sha384_hex:()=>jn,sha512_base64:()=>Dn,sha512_base64url:()=>Un,sha512_hex:()=>Ln,string:()=>hn,time:()=>pn,ulid:()=>Rt,undefined:()=>_n,unicodeEmail:()=>Qt,uppercase:()=>kn,uuid:()=>Bt,uuid4:()=>Zt,uuid6:()=>qt,uuid7:()=>Vt,xid:()=>jt});var t=__webpack_require__(43),n=__webpack_require__(391),r=__webpack_require__(245);function a(e){const{items:t,subtotal:n,total:r,tip:a,tipIsRate:o,tipIncludedInTotal:i}=e,s=function(e){let t=0;for(const{cost:n,portionsPaying:r,totalPortions:a}of e){t+=(null!==n&&void 0!==n?n:0)*((null!==r&&void 0!==r?r:1)/Math.max(1,Math.abs(null!==a&&void 0!==a?a:1)))}return t}(t),l=(null!==r&&void 0!==r?r:s)-(null!==n&&void 0!==n?n:s),u=function(e,t,n,r,a,o){var i;if(n)return 0;return t?(null!==(i=null!==r&&void 0!==r?r:a)&&void 0!==i?i:o)*e/100:e}(a,o,i,r,n,s),c=l+u,d=function(e,t){return e/(null!==t&&void 0!==t?t:e)}(s,n);if(!n&&!s)return 0;return s+c*d}function o(e,t,n){if(/iPhone|iPad|iPod|Android/i.test(navigator.userAgent)){const r="venmo://paycharge?txn=pay",a="amount=".concat(e,"&note=").concat(t);return n?"".concat(r,"&").concat(a,"&recipients=").concat(n):"".concat(r,"&").concat(a)}{const r="https://venmo.com/?txn=pay",a="amount=".concat(e,"&note=").concat(t);return n?"".concat(r,"&").concat(a,"&recipients=@").concat(n):"".concat(r,"&").concat(a)}}var i=__webpack_require__(492);function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function l(e){var t=function(e,t){if("object"!=s(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=s(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==s(t)?t:t+""}function u(e,t,n){return(t=l(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p(){const[e,n]=(0,t.useState)([(0,i.T)()]),[r,a]=(0,t.useState)(),[o,s]=(0,t.useState)(),[l,u]=(0,t.useState)(20),[c,p]=(0,t.useState)(!0),[f,h]=(0,t.useState)(!1),[m,g]=(0,t.useState)(!1);(0,t.useEffect)((()=>{const e=new URLSearchParams(window.location.search).get("data");if(e){const t=function(e){try{const t=atob(e);return JSON.parse(t)}catch(t){return console.error("Failed to decode form state:",t),null}}(e);t&&(n(t.items.map((e=>d(d({},e),{},{id:e.id||crypto.randomUUID()})))),a(t.subtotal),s(t.total),u(t.tip),p(t.tipIsRate),h(t.tipIncludedInTotal),g(t.isPayingMe))}}),[]);return{items:e,setItems:n,subtotal:r,setSubtotal:a,total:o,setTotal:s,tip:l,setTip:u,tipIsRate:c,setTipIsRate:p,tipIncludedInTotal:f,setTipIncludedInTotal:h,isPayingMe:m,setIsPayingMe:g,setItem:(e,t)=>{n((n=>{const r=n.slice();return r[e]=d(d({},n[e]),t),r}))},removeItem:e=>{n((t=>{const n=t.slice();return n.splice(e,1),n}))},addItem:()=>{n((e=>[...e,(0,i.T)()]))},populateFormFromReceipt:e=>{const t=e.items.map((e=>({name:e.name,cost:e.cost,portionsPaying:1,totalPortions:1,id:crypto.randomUUID()})));n(t),e.subtotal&&a(e.subtotal),e.total&&s(e.total),e.tipIncludedInTotal?(u(0),h(!0)):e.tip?(u(e.tip),p(!1),h(!1)):h(!1),console.log("Form populated successfully")},getFormState:()=>({items:e,subtotal:r,total:o,tip:l,tipIsRate:c,tipIncludedInTotal:f,isPayingMe:m})}}function f(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function h(e){var t,n,r,a=2;for("undefined"!=typeof Symbol&&(n=Symbol.asyncIterator,r=Symbol.iterator);a--;){if(n&&null!=(t=e[n]))return t.call(e);if(r&&null!=(t=e[r]))return new m(t.call(e));n="@@asyncIterator",r="@@iterator"}throw new TypeError("Object is not async iterable")}function m(e){function t(e){if(Object(e)!==e)return Promise.reject(new TypeError(e+" is not an object."));var t=e.done;return Promise.resolve(e.value).then((function(e){return{value:e,done:t}}))}return m=function(e){this.s=e,this.n=e.next},m.prototype={s:null,n:null,next:function(){return t(this.n.apply(this.s,arguments))},return:function(e){var n=this.s.return;return void 0===n?Promise.resolve({value:e,done:!0}):t(n.apply(this.s,arguments))},throw:function(e){var n=this.s.return;return void 0===n?Promise.reject(e):t(n.apply(this.s,arguments))}},new m(e)}function g(e,t){this.v=e,this.k=t}function v(e){return new g(e,0)}function y(e){var t,n;function r(t,n){try{var o=e[t](n),i=o.value,s=i instanceof g;Promise.resolve(s?i.v:i).then((function(n){if(s){var l="return"===t?"return":"next";if(!i.k||n.done)return r(l,n);n=e[l](n).value}a(o.done?"return":"normal",n)}),(function(e){r("throw",e)}))}catch(e){a("throw",e)}}function a(e,a){switch(e){case"return":t.resolve({value:a,done:!0});break;case"throw":t.reject(a);break;default:t.resolve({value:a,done:!1})}(t=t.next)?r(t.key,t.arg):n=null}this._invoke=function(e,a){return new Promise((function(o,i){var s={key:e,arg:a,resolve:o,reject:i,next:null};n?n=n.next=s:(t=n=s,r(e,a))}))},"function"!=typeof e.return&&(this.return=void 0)}y.prototype["function"==typeof Symbol&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},y.prototype.next=function(e){return this._invoke("next",e)},y.prototype.throw=function(e){return this._invoke("throw",e)},y.prototype.return=function(e){return this._invoke("return",e)};var b,_="vercel.ai.error",w=Symbol.for(_),k=class e extends Error{constructor(e){let{name:t,message:n,cause:r}=e;super(n),this[b]=!0,this.name=t,this.cause=r}static isInstance(t){return e.hasMarker(t,_)}static hasMarker(e,t){const n=Symbol.for(t);return null!=e&&"object"===typeof e&&n in e&&"boolean"===typeof e[n]&&!0===e[n]}};b=w;var x,S=k,E="AI_APICallError",C="vercel.ai.error.".concat(E),A=Symbol.for(C),I=class extends S{constructor(e){let{message:t,url:n,requestBodyValues:r,statusCode:a,responseHeaders:o,responseBody:i,cause:s,isRetryable:l=null!=a&&(408===a||409===a||429===a||a>=500),data:u}=e;super({name:E,message:t,cause:s}),this[x]=!0,this.url=n,this.requestBodyValues=r,this.statusCode=a,this.responseHeaders=o,this.responseBody=i,this.isRetryable=l,this.data=u}static isInstance(e){return S.hasMarker(e,C)}};x=A;var T,N="AI_EmptyResponseBodyError",O="vercel.ai.error.".concat(N),P=Symbol.for(O),z=class extends S{constructor(){let{message:e="Empty response body"}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super({name:N,message:e}),this[T]=!0}static isInstance(e){return S.hasMarker(e,O)}};function R(e){return null==e?"unknown error":"string"===typeof e?e:e instanceof Error?e.message:JSON.stringify(e)}T=P;var j,M="AI_InvalidArgumentError",F="vercel.ai.error.".concat(M),L=Symbol.for(F),D=class extends S{constructor(e){let{message:t,cause:n,argument:r}=e;super({name:M,message:t,cause:n}),this[j]=!0,this.argument=r}static isInstance(e){return S.hasMarker(e,F)}};j=L;var U,B="AI_InvalidPromptError",Z="vercel.ai.error.".concat(B),q=Symbol.for(Z),V=class extends S{constructor(e){let{prompt:t,message:n,cause:r}=e;super({name:B,message:"Invalid prompt: ".concat(n),cause:r}),this[U]=!0,this.prompt=t}static isInstance(e){return S.hasMarker(e,Z)}};U=q;var $,H="AI_InvalidResponseDataError",W="vercel.ai.error.".concat(H),Q=Symbol.for(W),K=class extends S{constructor(e){let{data:t,message:n="Invalid response data: ".concat(JSON.stringify(t),".")}=e;super({name:H,message:n}),this[$]=!0,this.data=t}static isInstance(e){return S.hasMarker(e,W)}};$=Q;var J,G="AI_JSONParseError",Y="vercel.ai.error.".concat(G),X=Symbol.for(Y),ee=class extends S{constructor(e){let{text:t,cause:n}=e;super({name:G,message:"JSON parsing failed: Text: ".concat(t,".\nError message: ").concat(R(n)),cause:n}),this[J]=!0,this.text=t}static isInstance(e){return S.hasMarker(e,Y)}};J=X;var te,ne="AI_LoadAPIKeyError",re="vercel.ai.error.".concat(ne),ae=Symbol.for(re),oe=class extends S{constructor(e){let{message:t}=e;super({name:ne,message:t}),this[te]=!0}static isInstance(e){return S.hasMarker(e,re)}};te=ae;var ie="AI_LoadSettingError",se="vercel.ai.error.".concat(ie),le=Symbol.for(se);var ue="AI_NoContentGeneratedError",ce="vercel.ai.error.".concat(ue),de=Symbol.for(ce);var pe,fe="AI_NoSuchModelError",he="vercel.ai.error.".concat(fe),me=Symbol.for(he),ge=class extends S{constructor(e){let{errorName:t=fe,modelId:n,modelType:r,message:a="No such ".concat(r,": ").concat(n)}=e;super({name:t,message:a}),this[pe]=!0,this.modelId=n,this.modelType=r}static isInstance(e){return S.hasMarker(e,he)}};pe=me;var ve,ye="AI_TooManyEmbeddingValuesForCallError",be="vercel.ai.error.".concat(ye),_e=Symbol.for(be),we=class extends S{constructor(e){super({name:ye,message:"Too many values for a single embedding call. The ".concat(e.provider,' model "').concat(e.modelId,'" can only embed up to ').concat(e.maxEmbeddingsPerCall," values per call, but ").concat(e.values.length," values were provided.")}),this[ve]=!0,this.provider=e.provider,this.modelId=e.modelId,this.maxEmbeddingsPerCall=e.maxEmbeddingsPerCall,this.values=e.values}static isInstance(e){return S.hasMarker(e,be)}};ve=_e;var ke,xe="AI_TypeValidationError",Se="vercel.ai.error.".concat(xe),Ee=Symbol.for(Se);ke=Ee;var Ce,Ae=class e extends S{constructor(e){let{value:t,cause:n}=e;super({name:xe,message:"Type validation failed: Value: ".concat(JSON.stringify(t),".\nError message: ").concat(R(n)),cause:n}),this[ke]=!0,this.value=t}static isInstance(e){return S.hasMarker(e,Se)}static wrap(t){let{value:n,cause:r}=t;return e.isInstance(r)&&r.value===n?r:new e({value:n,cause:r})}},Ie="AI_UnsupportedFunctionalityError",Te="vercel.ai.error.".concat(Ie),Ne=Symbol.for(Te),Oe=class extends S{constructor(e){let{functionality:t,message:n="'".concat(t,"' functionality not supported.")}=e;super({name:Ie,message:n}),this[Ce]=!0,this.functionality=t}static isInstance(e){return S.hasMarker(e,Te)}};Ce=Ne;class Pe extends Error{constructor(e,t){super(e),this.name="ParseError",this.type=t.type,this.field=t.field,this.value=t.value,this.line=t.line}}function ze(e){}function Re(e){if("function"==typeof e)throw new TypeError("`callbacks` must be an object, got a function instead. Did you mean `{onEvent: fn}`?");const{onEvent:t=ze,onError:n=ze,onRetry:r=ze,onComment:a}=e;let o,i="",s=!0,l="",u="";function c(e){if(""===e)return l.length>0&&t({id:o,event:u||void 0,data:l.endsWith("\n")?l.slice(0,-1):l}),o=void 0,l="",void(u="");if(e.startsWith(":"))return void(a&&a(e.slice(e.startsWith(": ")?2:1)));const n=e.indexOf(":");if(-1===n)d(e,"",e);else{const t=e.slice(0,n),r=" "===e[n+1]?2:1;d(t,e.slice(n+r),e)}}function d(e,t,a){switch(e){case"event":u=t;break;case"data":l="".concat(l).concat(t,"\n");break;case"id":o=t.includes("\0")?void 0:t;break;case"retry":/^\d+$/.test(t)?r(parseInt(t,10)):n(new Pe('Invalid `retry` value: "'.concat(t,'"'),{type:"invalid-retry",value:t,line:a}));break;default:n(new Pe('Unknown field "'.concat(e.length>20?"".concat(e.slice(0,20),"\u2026"):e,'"'),{type:"unknown-field",field:e,value:t,line:a}))}}return{feed:function(e){const t=s?e.replace(/^\xEF\xBB\xBF/,""):e,[n,r]=function(e){const t=[];let n="",r=0;for(;r<e.length;){const a=e.indexOf("\r",r),o=e.indexOf("\n",r);let i=-1;if(-1!==a&&-1!==o?i=Math.min(a,o):-1!==a?i=a===e.length-1?-1:a:-1!==o&&(i=o),-1===i){n=e.slice(r);break}{const n=e.slice(r,i);t.push(n),r=i+1,"\r"===e[r-1]&&"\n"===e[r]&&r++}}return[t,n]}("".concat(i).concat(t));for(const a of n)c(a);i=r,s=!1},reset:function(){i&&(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).consume&&c(i),s=!0,o=void 0,l="",u="",i=""}}}class je extends TransformStream{constructor(){let e,{onError:t,onRetry:n,onComment:r}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super({start(a){e=Re({onEvent:e=>{a.enqueue(e)},onError(e){"terminate"===t?a.error(e):"function"==typeof t&&t(e)},onRetry:n,onComment:r})},transform(t){e.feed(t)}})}}Object.freeze({status:"aborted"});function Me(e,t,n){var r;function a(n,r){var a,o,i;Object.defineProperty(n,"_zod",{value:null!==(a=n._zod)&&void 0!==a?a:{},enumerable:!1}),null!==(o=(i=n._zod).traits)&&void 0!==o||(i.traits=new Set),n._zod.traits.add(e),t(n,r);for(const e in s.prototype)e in n||Object.defineProperty(n,e,{value:s.prototype[e].bind(n)});n._zod.constr=s,n._zod.def=r}const o=null!==(r=null===n||void 0===n?void 0:n.Parent)&&void 0!==r?r:Object;class i extends o{}function s(e){var t,r;const o=null!==n&&void 0!==n&&n.Parent?new i:this;a(o,e),null!==(t=(r=o._zod).deferred)&&void 0!==t||(r.deferred=[]);for(const n of o._zod.deferred)n();return o}return Object.defineProperty(i,"name",{value:e}),Object.defineProperty(s,"init",{value:a}),Object.defineProperty(s,Symbol.hasInstance,{value:t=>{var r;return!!(null!==n&&void 0!==n&&n.Parent&&t instanceof n.Parent)||(null===t||void 0===t||null===(r=t._zod)||void 0===r||null===(r=r.traits)||void 0===r?void 0:r.has(e))}}),Object.defineProperty(s,"name",{value:e}),s}Symbol("zod_brand");class Fe extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}class Le extends Error{constructor(e){super("Encountered unidirectional transform during encode: ".concat(e)),this.name="ZodEncodeError"}}const De={};function Ue(e){return e&&Object.assign(De,e),De}function Be(e){const t=Object.values(e).filter((e=>"number"===typeof e));return Object.entries(e).filter((e=>{let[n,r]=e;return-1===t.indexOf(+n)})).map((e=>{let[t,n]=e;return n}))}function Ze(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"|";return e.map((e=>st(e))).join(t)}function qe(e,t){return"bigint"===typeof t?t.toString():t}function Ve(e){return{get value(){{const t=e();return Object.defineProperty(this,"value",{value:t}),t}}}}function $e(e){return null===e||void 0===e}function He(e){const t=e.startsWith("^")?1:0,n=e.endsWith("$")?e.length-1:e.length;return e.slice(t,n)}const We=Symbol("evaluating");function Qe(e,t,n){let r;Object.defineProperty(e,t,{get(){if(r!==We)return void 0===r&&(r=We,r=n()),r},set(n){Object.defineProperty(e,t,{value:n})},configurable:!0})}function Ke(e,t,n){Object.defineProperty(e,t,{value:n,writable:!0,enumerable:!0,configurable:!0})}function Je(){const e={};for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const a of n){const t=Object.getOwnPropertyDescriptors(a);Object.assign(e,t)}return Object.defineProperties({},e)}function Ge(e){return JSON.stringify(e)}const Ye="captureStackTrace"in Error?Error.captureStackTrace:function(){};function Xe(e){return"object"===typeof e&&null!==e&&!Array.isArray(e)}const et=Ve((()=>{var e;if("undefined"!==typeof navigator&&null!==(e=navigator)&&void 0!==e&&null!==(e=e.userAgent)&&void 0!==e&&e.includes("Cloudflare"))return!1;try{return new Function(""),!0}catch(t){return!1}}));function tt(e){if(!1===Xe(e))return!1;const t=e.constructor;if(void 0===t)return!0;const n=t.prototype;return!1!==Xe(n)&&!1!==Object.prototype.hasOwnProperty.call(n,"isPrototypeOf")}function nt(e){return tt(e)?d({},e):Array.isArray(e)?[...e]:e}const rt=new Set(["string","number","symbol"]);new Set(["string","number","bigint","boolean","symbol","undefined"]);function at(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function ot(e,t,n){const r=new e._zod.constr(null!==t&&void 0!==t?t:e._zod.def);return(!t||null!==n&&void 0!==n&&n.parent)&&(r._zod.parent=e),r}function it(e){const t=e;if(!t)return{};if("string"===typeof t)return{error:()=>t};if(void 0!==(null===t||void 0===t?void 0:t.message)){if(void 0!==(null===t||void 0===t?void 0:t.error))throw new Error("Cannot specify both `message` and `error` params");t.error=t.message}return delete t.message,"string"===typeof t.error?d(d({},t),{},{error:()=>t.error}):t}function st(e){return"bigint"===typeof e?e.toString()+"n":"string"===typeof e?'"'.concat(e,'"'):"".concat(e)}const lt={safeint:[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],int32:[-2147483648,2147483647],uint32:[0,4294967295],float32:[-34028234663852886e22,34028234663852886e22],float64:[-Number.MAX_VALUE,Number.MAX_VALUE]};function ut(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(!0===e.aborted)return!0;for(let r=t;r<e.issues.length;r++){var n;if(!0!==(null===(n=e.issues[r])||void 0===n?void 0:n.continue))return!0}return!1}function ct(e,t){return t.map((t=>{var n,r;return null!==(n=(r=t).path)&&void 0!==n||(r.path=[]),t.path.unshift(e),t}))}function dt(e){return"string"===typeof e?e:null===e||void 0===e?void 0:e.message}function pt(e,t,n){var r;const a=d(d({},e),{},{path:null!==(r=e.path)&&void 0!==r?r:[]});if(!e.message){var o,i,s,l,u,c,p,f,h;const r=null!==(o=null!==(i=null!==(s=null!==(l=dt(null===(u=e.inst)||void 0===u||null===(u=u._zod.def)||void 0===u||null===(c=u.error)||void 0===c?void 0:c.call(u,e)))&&void 0!==l?l:dt(null===t||void 0===t||null===(p=t.error)||void 0===p?void 0:p.call(t,e)))&&void 0!==s?s:dt(null===(f=n.customError)||void 0===f?void 0:f.call(n,e)))&&void 0!==i?i:dt(null===(h=n.localeError)||void 0===h?void 0:h.call(n,e)))&&void 0!==o?o:"Invalid input";a.message=r}return delete a.inst,delete a.continue,null!==t&&void 0!==t&&t.reportInput||delete a.input,a}function ft(e){return Array.isArray(e)?"array":"string"===typeof e?"string":"unknown"}function ht(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const[r,a,o]=t;return"string"===typeof r?{message:r,code:"custom",input:a,inst:o}:d({},r)}const mt=(e,t)=>{e.name="$ZodError",Object.defineProperty(e,"_zod",{value:e._zod,enumerable:!1}),Object.defineProperty(e,"issues",{value:t,enumerable:!1}),e.message=JSON.stringify(t,qe,2),Object.defineProperty(e,"toString",{value:()=>e.message,enumerable:!1})},gt=Me("$ZodError",mt),vt=Me("$ZodError",mt,{Parent:Error});const yt=e=>(t,n,r,a)=>{const o=r?Object.assign(r,{async:!1}):{async:!1},i=t._zod.run({value:n,issues:[]},o);if(i instanceof Promise)throw new Fe;if(i.issues.length){var s;const t=new(null!==(s=null===a||void 0===a?void 0:a.Err)&&void 0!==s?s:e)(i.issues.map((e=>pt(e,o,Ue()))));throw Ye(t,null===a||void 0===a?void 0:a.callee),t}return i.value},bt=e=>async(t,n,r,a)=>{const o=r?Object.assign(r,{async:!0}):{async:!0};let i=t._zod.run({value:n,issues:[]},o);if(i instanceof Promise&&(i=await i),i.issues.length){var s;const t=new(null!==(s=null===a||void 0===a?void 0:a.Err)&&void 0!==s?s:e)(i.issues.map((e=>pt(e,o,Ue()))));throw Ye(t,null===a||void 0===a?void 0:a.callee),t}return i.value},_t=e=>(t,n,r)=>{const a=r?d(d({},r),{},{async:!1}):{async:!1},o=t._zod.run({value:n,issues:[]},a);if(o instanceof Promise)throw new Fe;return o.issues.length?{success:!1,error:new(null!==e&&void 0!==e?e:gt)(o.issues.map((e=>pt(e,a,Ue()))))}:{success:!0,data:o.value}},wt=_t(vt),kt=e=>async(t,n,r)=>{const a=r?Object.assign(r,{async:!0}):{async:!0};let o=t._zod.run({value:n,issues:[]},a);return o instanceof Promise&&(o=await o),o.issues.length?{success:!1,error:new e(o.issues.map((e=>pt(e,a,Ue()))))}:{success:!0,data:o.value}},xt=kt(vt),St=e=>(t,n,r)=>{const a=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return yt(e)(t,n,a)},Et=e=>(t,n,r)=>yt(e)(t,n,r),Ct=e=>async(t,n,r)=>{const a=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return bt(e)(t,n,a)},At=e=>async(t,n,r)=>bt(e)(t,n,r),It=e=>(t,n,r)=>{const a=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return _t(e)(t,n,a)},Tt=e=>(t,n,r)=>_t(e)(t,n,r),Nt=e=>async(t,n,r)=>{const a=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return kt(e)(t,n,a)},Ot=e=>async(t,n,r)=>kt(e)(t,n,r),Pt=/^[cC][^\s-]{8,}$/,zt=/^[0-9a-z]+$/,Rt=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,jt=/^[0-9a-vA-V]{20}$/,Mt=/^[A-Za-z0-9]{27}$/,Ft=/^[a-zA-Z0-9_-]{21}$/,Lt=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,Dt=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,Ut=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,Bt=e=>e?new RegExp("^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-".concat(e,"[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$")):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/,Zt=Bt(4),qt=Bt(6),Vt=Bt(7),$t=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,Ht=/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,Wt=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,Qt=/^(?:[\0-\x08\x0E-\x1F!#-\?A-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]){1,64}@(?:[\0-\x08\x0E-\x1F!-\?A-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]){1,255}$/,Kt=Qt,Jt=/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,Gt="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";function Yt(){return new RegExp(Gt,"u")}const Xt=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,en=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:))$/,tn=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,nn=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,rn=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,an=/^[A-Za-z0-9_-]*$/,on=/^(?=.{1,253}\.?$)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[-0-9a-zA-Z]{0,61}[0-9a-zA-Z])?)*\.?$/,sn=/^([a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?\.)+[a-zA-Z]{2,}$/,ln=/^\+(?:[0-9]){6,14}[0-9]$/,un="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",cn=new RegExp("^".concat(un,"$"));function dn(e){const t="(?:[01]\\d|2[0-3]):[0-5]\\d";return"number"===typeof e.precision?-1===e.precision?"".concat(t):0===e.precision?"".concat(t,":[0-5]\\d"):"".concat(t,":[0-5]\\d\\.\\d{").concat(e.precision,"}"):"".concat(t,"(?::[0-5]\\d(?:\\.\\d+)?)?")}function pn(e){return new RegExp("^".concat(dn(e),"$"))}function fn(e){const t=dn({precision:e.precision}),n=["Z"];e.local&&n.push(""),e.offset&&n.push("([+-](?:[01]\\d|2[0-3]):[0-5]\\d)");const r="".concat(t,"(?:").concat(n.join("|"),")");return new RegExp("^".concat(un,"T(?:").concat(r,")$"))}const hn=e=>{var t,n;const r=e?"[\\s\\S]{".concat(null!==(t=null===e||void 0===e?void 0:e.minimum)&&void 0!==t?t:0,",").concat(null!==(n=null===e||void 0===e?void 0:e.maximum)&&void 0!==n?n:"","}"):"[\\s\\S]*";return new RegExp("^".concat(r,"$"))},mn=/^-?\d+n?$/,gn=/^-?\d+$/,vn=/^-?\d+(?:\.\d+)?/,yn=/^(?:true|false)$/i,bn=/^null$/i,_n=/^undefined$/i,wn=/^[^A-Z]*$/,kn=/^[^a-z]*$/,xn=/^[0-9a-fA-F]*$/;function Sn(e,t){return new RegExp("^[A-Za-z0-9+/]{".concat(e,"}").concat(t,"$"))}function En(e){return new RegExp("^[A-Za-z0-9_-]{".concat(e,"}$"))}const Cn=/^[0-9a-fA-F]{32}$/,An=Sn(22,"=="),In=En(22),Tn=/^[0-9a-fA-F]{40}$/,Nn=Sn(27,"="),On=En(27),Pn=/^[0-9a-fA-F]{64}$/,zn=Sn(43,"="),Rn=En(43),jn=/^[0-9a-fA-F]{96}$/,Mn=Sn(64,""),Fn=En(64),Ln=/^[0-9a-fA-F]{128}$/,Dn=Sn(86,"=="),Un=En(86),Bn=Me("$ZodCheck",((e,t)=>{var n,r,a;null!==(n=e._zod)&&void 0!==n||(e._zod={}),e._zod.def=t,null!==(r=(a=e._zod).onattach)&&void 0!==r||(a.onattach=[])})),Zn={number:"number",bigint:"bigint",object:"date"},qn=Me("$ZodCheckLessThan",((e,t)=>{Bn.init(e,t);const n=Zn[typeof t.value];e._zod.onattach.push((e=>{var n;const r=e._zod.bag,a=null!==(n=t.inclusive?r.maximum:r.exclusiveMaximum)&&void 0!==n?n:Number.POSITIVE_INFINITY;t.value<a&&(t.inclusive?r.maximum=t.value:r.exclusiveMaximum=t.value)})),e._zod.check=r=>{(t.inclusive?r.value<=t.value:r.value<t.value)||r.issues.push({origin:n,code:"too_big",maximum:t.value,input:r.value,inclusive:t.inclusive,inst:e,continue:!t.abort})}})),Vn=Me("$ZodCheckGreaterThan",((e,t)=>{Bn.init(e,t);const n=Zn[typeof t.value];e._zod.onattach.push((e=>{var n;const r=e._zod.bag,a=null!==(n=t.inclusive?r.minimum:r.exclusiveMinimum)&&void 0!==n?n:Number.NEGATIVE_INFINITY;t.value>a&&(t.inclusive?r.minimum=t.value:r.exclusiveMinimum=t.value)})),e._zod.check=r=>{(t.inclusive?r.value>=t.value:r.value>t.value)||r.issues.push({origin:n,code:"too_small",minimum:t.value,input:r.value,inclusive:t.inclusive,inst:e,continue:!t.abort})}})),$n=Me("$ZodCheckMultipleOf",((e,t)=>{Bn.init(e,t),e._zod.onattach.push((e=>{var n,r;null!==(n=(r=e._zod.bag).multipleOf)&&void 0!==n||(r.multipleOf=t.value)})),e._zod.check=n=>{if(typeof n.value!==typeof t.value)throw new Error("Cannot mix number and bigint in multiple_of check.");("bigint"===typeof n.value?n.value%t.value===BigInt(0):0===function(e,t){const n=(e.toString().split(".")[1]||"").length,r=t.toString();let a=(r.split(".")[1]||"").length;if(0===a&&/\d?e-\d?/.test(r)){const e=r.match(/\d?e-(\d?)/);null!==e&&void 0!==e&&e[1]&&(a=Number.parseInt(e[1]))}const o=n>a?n:a;return Number.parseInt(e.toFixed(o).replace(".",""))%Number.parseInt(t.toFixed(o).replace(".",""))/10**o}(n.value,t.value))||n.issues.push({origin:typeof n.value,code:"not_multiple_of",divisor:t.value,input:n.value,inst:e,continue:!t.abort})}})),Hn=Me("$ZodCheckNumberFormat",((e,t)=>{var n;Bn.init(e,t),t.format=t.format||"float64";const r=null===(n=t.format)||void 0===n?void 0:n.includes("int"),a=r?"int":"number",[o,i]=lt[t.format];e._zod.onattach.push((e=>{const n=e._zod.bag;n.format=t.format,n.minimum=o,n.maximum=i,r&&(n.pattern=gn)})),e._zod.check=n=>{const s=n.value;if(r){if(!Number.isInteger(s))return void n.issues.push({expected:a,format:t.format,code:"invalid_type",continue:!1,input:s,inst:e});if(!Number.isSafeInteger(s))return void(s>0?n.issues.push({input:s,code:"too_big",maximum:Number.MAX_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:a,continue:!t.abort}):n.issues.push({input:s,code:"too_small",minimum:Number.MIN_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:a,continue:!t.abort}))}s<o&&n.issues.push({origin:"number",input:s,code:"too_small",minimum:o,inclusive:!0,inst:e,continue:!t.abort}),s>i&&n.issues.push({origin:"number",input:s,code:"too_big",maximum:i,inst:e})}})),Wn=Me("$ZodCheckMaxLength",((e,t)=>{var n,r;Bn.init(e,t),null!==(n=(r=e._zod.def).when)&&void 0!==n||(r.when=e=>{const t=e.value;return!$e(t)&&void 0!==t.length}),e._zod.onattach.push((e=>{var n;const r=null!==(n=e._zod.bag.maximum)&&void 0!==n?n:Number.POSITIVE_INFINITY;t.maximum<r&&(e._zod.bag.maximum=t.maximum)})),e._zod.check=n=>{const r=n.value;if(r.length<=t.maximum)return;const a=ft(r);n.issues.push({origin:a,code:"too_big",maximum:t.maximum,inclusive:!0,input:r,inst:e,continue:!t.abort})}})),Qn=Me("$ZodCheckMinLength",((e,t)=>{var n,r;Bn.init(e,t),null!==(n=(r=e._zod.def).when)&&void 0!==n||(r.when=e=>{const t=e.value;return!$e(t)&&void 0!==t.length}),e._zod.onattach.push((e=>{var n;const r=null!==(n=e._zod.bag.minimum)&&void 0!==n?n:Number.NEGATIVE_INFINITY;t.minimum>r&&(e._zod.bag.minimum=t.minimum)})),e._zod.check=n=>{const r=n.value;if(r.length>=t.minimum)return;const a=ft(r);n.issues.push({origin:a,code:"too_small",minimum:t.minimum,inclusive:!0,input:r,inst:e,continue:!t.abort})}})),Kn=Me("$ZodCheckLengthEquals",((e,t)=>{var n,r;Bn.init(e,t),null!==(n=(r=e._zod.def).when)&&void 0!==n||(r.when=e=>{const t=e.value;return!$e(t)&&void 0!==t.length}),e._zod.onattach.push((e=>{const n=e._zod.bag;n.minimum=t.length,n.maximum=t.length,n.length=t.length})),e._zod.check=n=>{const r=n.value,a=r.length;if(a===t.length)return;const o=ft(r),i=a>t.length;n.issues.push(d(d({origin:o},i?{code:"too_big",maximum:t.length}:{code:"too_small",minimum:t.length}),{},{inclusive:!0,exact:!0,input:n.value,inst:e,continue:!t.abort}))}})),Jn=Me("$ZodCheckStringFormat",((e,t)=>{var n,r,a,o;Bn.init(e,t),e._zod.onattach.push((e=>{const n=e._zod.bag;var r;(n.format=t.format,t.pattern)&&(null!==(r=n.patterns)&&void 0!==r||(n.patterns=new Set),n.patterns.add(t.pattern))})),t.pattern?null!==(n=(a=e._zod).check)&&void 0!==n||(a.check=n=>{t.pattern.lastIndex=0,t.pattern.test(n.value)||n.issues.push(d(d({origin:"string",code:"invalid_format",format:t.format,input:n.value},t.pattern?{pattern:t.pattern.toString()}:{}),{},{inst:e,continue:!t.abort}))}):null!==(r=(o=e._zod).check)&&void 0!==r||(o.check=()=>{})})),Gn=Me("$ZodCheckRegex",((e,t)=>{Jn.init(e,t),e._zod.check=n=>{t.pattern.lastIndex=0,t.pattern.test(n.value)||n.issues.push({origin:"string",code:"invalid_format",format:"regex",input:n.value,pattern:t.pattern.toString(),inst:e,continue:!t.abort})}})),Yn=Me("$ZodCheckLowerCase",((e,t)=>{var n;null!==(n=t.pattern)&&void 0!==n||(t.pattern=wn),Jn.init(e,t)})),Xn=Me("$ZodCheckUpperCase",((e,t)=>{var n;null!==(n=t.pattern)&&void 0!==n||(t.pattern=kn),Jn.init(e,t)})),er=Me("$ZodCheckIncludes",((e,t)=>{Bn.init(e,t);const n=at(t.includes),r=new RegExp("number"===typeof t.position?"^.{".concat(t.position,"}").concat(n):n);t.pattern=r,e._zod.onattach.push((e=>{var t;const n=e._zod.bag;null!==(t=n.patterns)&&void 0!==t||(n.patterns=new Set),n.patterns.add(r)})),e._zod.check=n=>{n.value.includes(t.includes,t.position)||n.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:t.includes,input:n.value,inst:e,continue:!t.abort})}})),tr=Me("$ZodCheckStartsWith",((e,t)=>{var n;Bn.init(e,t);const r=new RegExp("^".concat(at(t.prefix),".*"));null!==(n=t.pattern)&&void 0!==n||(t.pattern=r),e._zod.onattach.push((e=>{var t;const n=e._zod.bag;null!==(t=n.patterns)&&void 0!==t||(n.patterns=new Set),n.patterns.add(r)})),e._zod.check=n=>{n.value.startsWith(t.prefix)||n.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:t.prefix,input:n.value,inst:e,continue:!t.abort})}})),nr=Me("$ZodCheckEndsWith",((e,t)=>{var n;Bn.init(e,t);const r=new RegExp(".*".concat(at(t.suffix),"$"));null!==(n=t.pattern)&&void 0!==n||(t.pattern=r),e._zod.onattach.push((e=>{var t;const n=e._zod.bag;null!==(t=n.patterns)&&void 0!==t||(n.patterns=new Set),n.patterns.add(r)})),e._zod.check=n=>{n.value.endsWith(t.suffix)||n.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:t.suffix,input:n.value,inst:e,continue:!t.abort})}}));const rr=Me("$ZodCheckOverwrite",((e,t)=>{Bn.init(e,t),e._zod.check=e=>{e.value=t.tx(e.value)}}));class ar{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this.content=[],this.indent=0,this&&(this.args=e)}indented(e){this.indent+=1,e(this),this.indent-=1}write(e){if("function"===typeof e)return e(this,{execution:"sync"}),void e(this,{execution:"async"});const t=e.split("\n").filter((e=>e)),n=Math.min(...t.map((e=>e.length-e.trimStart().length))),r=t.map((e=>e.slice(n))).map((e=>" ".repeat(2*this.indent)+e));for(const a of r)this.content.push(a)}compile(){var e;return new Function(...null===this||void 0===this?void 0:this.args,[...(null!==(e=null===this||void 0===this?void 0:this.content)&&void 0!==e?e:[""]).map((e=>"  ".concat(e)))].join("\n"))}}const or={major:4,minor:1,patch:12},ir=Me("$ZodType",((e,t)=>{var n,r,a;null!==(n=e)&&void 0!==n||(e={}),e._zod.def=t,e._zod.bag=e._zod.bag||{},e._zod.version=or;const o=[...null!==(r=e._zod.def.checks)&&void 0!==r?r:[]];e._zod.traits.has("$ZodCheck")&&o.unshift(e);for(const l of o)for(const t of l._zod.onattach)t(e);if(0===o.length){var i,s;null!==(i=(a=e._zod).deferred)&&void 0!==i||(a.deferred=[]),null===(s=e._zod.deferred)||void 0===s||s.push((()=>{e._zod.run=e._zod.parse}))}else{const t=(e,t,n)=>{let r,a=ut(e);for(const i of t){if(i._zod.def.when){if(!i._zod.def.when(e))continue}else if(a)continue;const t=e.issues.length,s=i._zod.check(e);if(s instanceof Promise&&!1===(null===n||void 0===n?void 0:n.async))throw new Fe;if(r||s instanceof Promise){var o;r=(null!==(o=r)&&void 0!==o?o:Promise.resolve()).then((async()=>{await s;e.issues.length!==t&&(a||(a=ut(e,t)))}))}else{if(e.issues.length===t)continue;a||(a=ut(e,t))}}return r?r.then((()=>e)):e},n=(n,r,a)=>{if(ut(n))return n.aborted=!0,n;const i=t(r,o,a);if(i instanceof Promise){if(!1===a.async)throw new Fe;return i.then((t=>e._zod.parse(t,a)))}return e._zod.parse(i,a)};e._zod.run=(r,a)=>{if(a.skipChecks)return e._zod.parse(r,a);if("backward"===a.direction){const t=e._zod.parse({value:r.value,issues:[]},d(d({},a),{},{skipChecks:!0}));return t instanceof Promise?t.then((e=>n(e,r,a))):n(t,r,a)}const i=e._zod.parse(r,a);if(i instanceof Promise){if(!1===a.async)throw new Fe;return i.then((e=>t(e,o,a)))}return t(i,o,a)}}e["~standard"]={validate:t=>{try{var n;const r=wt(e,t);return r.success?{value:r.data}:{issues:null===(n=r.error)||void 0===n?void 0:n.issues}}catch(r){return xt(e,t).then((e=>{var t;return e.success?{value:e.data}:{issues:null===(t=e.error)||void 0===t?void 0:t.issues}}))}},vendor:"zod",version:1}})),sr=Me("$ZodString",((e,t)=>{var n,r,a;ir.init(e,t),e._zod.pattern=null!==(n=[...null!==(r=null===e||void 0===e||null===(a=e._zod.bag)||void 0===a?void 0:a.patterns)&&void 0!==r?r:[]].pop())&&void 0!==n?n:hn(e._zod.bag),e._zod.parse=(n,r)=>{if(t.coerce)try{n.value=String(n.value)}catch(r){}return"string"===typeof n.value||n.issues.push({expected:"string",code:"invalid_type",input:n.value,inst:e}),n}})),lr=Me("$ZodStringFormat",((e,t)=>{Jn.init(e,t),sr.init(e,t)})),ur=Me("$ZodGUID",((e,t)=>{var n;null!==(n=t.pattern)&&void 0!==n||(t.pattern=Ut),lr.init(e,t)})),cr=Me("$ZodUUID",((e,t)=>{var n;if(t.version){var r;const e={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[t.version];if(void 0===e)throw new Error('Invalid UUID version: "'.concat(t.version,'"'));null!==(r=t.pattern)&&void 0!==r||(t.pattern=Bt(e))}else null!==(n=t.pattern)&&void 0!==n||(t.pattern=Bt());lr.init(e,t)})),dr=Me("$ZodEmail",((e,t)=>{var n;null!==(n=t.pattern)&&void 0!==n||(t.pattern=$t),lr.init(e,t)})),pr=Me("$ZodURL",((e,t)=>{lr.init(e,t),e._zod.check=n=>{try{const r=n.value.trim(),a=new URL(r);return t.hostname&&(t.hostname.lastIndex=0,t.hostname.test(a.hostname)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:on.source,input:n.value,inst:e,continue:!t.abort})),t.protocol&&(t.protocol.lastIndex=0,t.protocol.test(a.protocol.endsWith(":")?a.protocol.slice(0,-1):a.protocol)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:t.protocol.source,input:n.value,inst:e,continue:!t.abort})),void(t.normalize?n.value=a.href:n.value=r)}catch(r){n.issues.push({code:"invalid_format",format:"url",input:n.value,inst:e,continue:!t.abort})}}})),fr=Me("$ZodEmoji",((e,t)=>{var n;null!==(n=t.pattern)&&void 0!==n||(t.pattern=Yt()),lr.init(e,t)})),hr=Me("$ZodNanoID",((e,t)=>{var n;null!==(n=t.pattern)&&void 0!==n||(t.pattern=Ft),lr.init(e,t)})),mr=Me("$ZodCUID",((e,t)=>{var n;null!==(n=t.pattern)&&void 0!==n||(t.pattern=Pt),lr.init(e,t)})),gr=Me("$ZodCUID2",((e,t)=>{var n;null!==(n=t.pattern)&&void 0!==n||(t.pattern=zt),lr.init(e,t)})),vr=Me("$ZodULID",((e,t)=>{var n;null!==(n=t.pattern)&&void 0!==n||(t.pattern=Rt),lr.init(e,t)})),yr=Me("$ZodXID",((e,t)=>{var n;null!==(n=t.pattern)&&void 0!==n||(t.pattern=jt),lr.init(e,t)})),br=Me("$ZodKSUID",((e,t)=>{var n;null!==(n=t.pattern)&&void 0!==n||(t.pattern=Mt),lr.init(e,t)})),_r=Me("$ZodISODateTime",((e,t)=>{var n;null!==(n=t.pattern)&&void 0!==n||(t.pattern=fn(t)),lr.init(e,t)})),wr=Me("$ZodISODate",((e,t)=>{var n;null!==(n=t.pattern)&&void 0!==n||(t.pattern=cn),lr.init(e,t)})),kr=Me("$ZodISOTime",((e,t)=>{var n;null!==(n=t.pattern)&&void 0!==n||(t.pattern=pn(t)),lr.init(e,t)})),xr=Me("$ZodISODuration",((e,t)=>{var n;null!==(n=t.pattern)&&void 0!==n||(t.pattern=Lt),lr.init(e,t)})),Sr=Me("$ZodIPv4",((e,t)=>{var n;null!==(n=t.pattern)&&void 0!==n||(t.pattern=Xt),lr.init(e,t),e._zod.onattach.push((e=>{e._zod.bag.format="ipv4"}))})),Er=Me("$ZodIPv6",((e,t)=>{var n;null!==(n=t.pattern)&&void 0!==n||(t.pattern=en),lr.init(e,t),e._zod.onattach.push((e=>{e._zod.bag.format="ipv6"})),e._zod.check=n=>{try{new URL("http://[".concat(n.value,"]"))}catch(r){n.issues.push({code:"invalid_format",format:"ipv6",input:n.value,inst:e,continue:!t.abort})}}})),Cr=Me("$ZodCIDRv4",((e,t)=>{var n;null!==(n=t.pattern)&&void 0!==n||(t.pattern=tn),lr.init(e,t)})),Ar=Me("$ZodCIDRv6",((e,t)=>{var n;null!==(n=t.pattern)&&void 0!==n||(t.pattern=nn),lr.init(e,t),e._zod.check=n=>{const r=n.value.split("/");try{if(2!==r.length)throw new Error;const[e,t]=r;if(!t)throw new Error;const n=Number(t);if("".concat(n)!==t)throw new Error;if(n<0||n>128)throw new Error;new URL("http://[".concat(e,"]"))}catch(a){n.issues.push({code:"invalid_format",format:"cidrv6",input:n.value,inst:e,continue:!t.abort})}}}));function Ir(e){if(""===e)return!0;if(e.length%4!==0)return!1;try{return atob(e),!0}catch(t){return!1}}const Tr=Me("$ZodBase64",((e,t)=>{var n;null!==(n=t.pattern)&&void 0!==n||(t.pattern=rn),lr.init(e,t),e._zod.onattach.push((e=>{e._zod.bag.contentEncoding="base64"})),e._zod.check=n=>{Ir(n.value)||n.issues.push({code:"invalid_format",format:"base64",input:n.value,inst:e,continue:!t.abort})}}));const Nr=Me("$ZodBase64URL",((e,t)=>{var n;null!==(n=t.pattern)&&void 0!==n||(t.pattern=an),lr.init(e,t),e._zod.onattach.push((e=>{e._zod.bag.contentEncoding="base64url"})),e._zod.check=n=>{(function(e){if(!an.test(e))return!1;const t=e.replace(/[-_]/g,(e=>"-"===e?"+":"/"));return Ir(t.padEnd(4*Math.ceil(t.length/4),"="))})(n.value)||n.issues.push({code:"invalid_format",format:"base64url",input:n.value,inst:e,continue:!t.abort})}})),Or=Me("$ZodE164",((e,t)=>{var n;null!==(n=t.pattern)&&void 0!==n||(t.pattern=ln),lr.init(e,t)}));const Pr=Me("$ZodJWT",((e,t)=>{lr.init(e,t),e._zod.check=n=>{(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;try{const n=e.split(".");if(3!==n.length)return!1;const[r]=n;if(!r)return!1;const a=JSON.parse(atob(r));return(!("typ"in a)||"JWT"===(null===a||void 0===a?void 0:a.typ))&&!!a.alg&&(!t||"alg"in a&&a.alg===t)}catch(n){return!1}})(n.value,t.alg)||n.issues.push({code:"invalid_format",format:"jwt",input:n.value,inst:e,continue:!t.abort})}})),zr=Me("$ZodNumber",((e,t)=>{var n;ir.init(e,t),e._zod.pattern=null!==(n=e._zod.bag.pattern)&&void 0!==n?n:vn,e._zod.parse=(n,r)=>{if(t.coerce)try{n.value=Number(n.value)}catch(i){}const a=n.value;if("number"===typeof a&&!Number.isNaN(a)&&Number.isFinite(a))return n;const o="number"===typeof a?Number.isNaN(a)?"NaN":Number.isFinite(a)?void 0:"Infinity":void 0;return n.issues.push(d({expected:"number",code:"invalid_type",input:a,inst:e},o?{received:o}:{})),n}})),Rr=Me("$ZodNumber",((e,t)=>{Hn.init(e,t),zr.init(e,t)})),jr=Me("$ZodBoolean",((e,t)=>{ir.init(e,t),e._zod.pattern=yn,e._zod.parse=(n,r)=>{if(t.coerce)try{n.value=Boolean(n.value)}catch(o){}const a=n.value;return"boolean"===typeof a||n.issues.push({expected:"boolean",code:"invalid_type",input:a,inst:e}),n}})),Mr=Me("$ZodNull",((e,t)=>{ir.init(e,t),e._zod.pattern=bn,e._zod.values=new Set([null]),e._zod.parse=(t,n)=>{const r=t.value;return null===r||t.issues.push({expected:"null",code:"invalid_type",input:r,inst:e}),t}})),Fr=Me("$ZodAny",((e,t)=>{ir.init(e,t),e._zod.parse=e=>e})),Lr=Me("$ZodUnknown",((e,t)=>{ir.init(e,t),e._zod.parse=e=>e})),Dr=Me("$ZodNever",((e,t)=>{ir.init(e,t),e._zod.parse=(t,n)=>(t.issues.push({expected:"never",code:"invalid_type",input:t.value,inst:e}),t)}));function Ur(e,t,n){e.issues.length&&t.issues.push(...ct(n,e.issues)),t.value[n]=e.value}const Br=Me("$ZodArray",((e,t)=>{ir.init(e,t),e._zod.parse=(n,r)=>{const a=n.value;if(!Array.isArray(a))return n.issues.push({expected:"array",code:"invalid_type",input:a,inst:e}),n;n.value=Array(a.length);const o=[];for(let e=0;e<a.length;e++){const i=a[e],s=t.element._zod.run({value:i,issues:[]},r);s instanceof Promise?o.push(s.then((t=>Ur(t,n,e)))):Ur(s,n,e)}return o.length?Promise.all(o).then((()=>n)):n}}));function Zr(e,t,n,r){e.issues.length&&t.issues.push(...ct(n,e.issues)),void 0===e.value?n in r&&(t.value[n]=void 0):t.value[n]=e.value}function qr(e){const t=Object.keys(e.shape);for(const o of t){var n;if(null===(n=e.shape)||void 0===n||null===(n=n[o])||void 0===n||null===(n=n._zod)||void 0===n||null===(n=n.traits)||void 0===n||!n.has("$ZodType"))throw new Error('Invalid element at key "'.concat(o,'": expected a Zod schema'))}const r=(a=e.shape,Object.keys(a).filter((e=>"optional"===a[e]._zod.optin&&"optional"===a[e]._zod.optout)));var a;return d(d({},e),{},{keys:t,keySet:new Set(t),numKeys:t.length,optionalKeys:new Set(r)})}function Vr(e,t,n,r,a,o){const i=[],s=a.keySet,l=a.catchall._zod,u=l.def.type;for(const c of Object.keys(t)){if(s.has(c))continue;if("never"===u){i.push(c);continue}const a=l.run({value:t[c],issues:[]},r);a instanceof Promise?e.push(a.then((e=>Zr(e,n,c,t)))):Zr(a,n,c,t)}return i.length&&n.issues.push({code:"unrecognized_keys",keys:i,input:t,inst:o}),e.length?Promise.all(e).then((()=>n)):n}const $r=Me("$ZodObject",((e,t)=>{ir.init(e,t);const n=Object.getOwnPropertyDescriptor(t,"shape");if(null===n||void 0===n||!n.get){const e=t.shape;Object.defineProperty(t,"shape",{get:()=>{const n=d({},e);return Object.defineProperty(t,"shape",{value:n}),n}})}const r=Ve((()=>qr(t)));Qe(e._zod,"propValues",(()=>{const e=t.shape,n={};for(const t in e){const a=e[t]._zod;if(a.values){var r;null!==(r=n[t])&&void 0!==r||(n[t]=new Set);for(const e of a.values)n[t].add(e)}}return n}));const a=Xe,o=t.catchall;let i;e._zod.parse=(t,n)=>{var s;null!==(s=i)&&void 0!==s||(i=r.value);const l=t.value;if(!a(l))return t.issues.push({expected:"object",code:"invalid_type",input:l,inst:e}),t;t.value={};const u=[],c=i.shape;for(const e of i.keys){const r=c[e]._zod.run({value:l[e],issues:[]},n);r instanceof Promise?u.push(r.then((n=>Zr(n,t,e,l)))):Zr(r,t,e,l)}return o?Vr(u,l,t,n,r.value,e):u.length?Promise.all(u).then((()=>t)):t}})),Hr=Me("$ZodObjectJIT",((e,t)=>{$r.init(e,t);const n=e._zod.parse,r=Ve((()=>qr(t)));let a;const o=Xe,i=!De.jitless,s=i&&et.value,l=t.catchall;let u;e._zod.parse=(c,d)=>{var p;null!==(p=u)&&void 0!==p||(u=r.value);const f=c.value;return o(f)?i&&s&&!1===(null===d||void 0===d?void 0:d.async)&&!0!==d.jitless?(a||(a=(e=>{const t=new ar(["shape","payload","ctx"]),n=r.value,a=e=>{const t=Ge(e);return"shape[".concat(t,"]._zod.run({ value: input[").concat(t,"], issues: [] }, ctx)")};t.write("const input = payload.value;");const o=Object.create(null);let i=0;for(const r of n.keys)o[r]="key_".concat(i++);t.write("const newResult = {};");for(const r of n.keys){const e=o[r],n=Ge(r);t.write("const ".concat(e," = ").concat(a(r),";")),t.write("\n        if (".concat(e,".issues.length) {\n          payload.issues = payload.issues.concat(").concat(e,".issues.map(iss => ({\n            ...iss,\n            path: iss.path ? [").concat(n,", ...iss.path] : [").concat(n,"]\n          })));\n        }\n        \n        \n        if (").concat(e,".value === undefined) {\n          if (").concat(n," in input) {\n            newResult[").concat(n,"] = undefined;\n          }\n        } else {\n          newResult[").concat(n,"] = ").concat(e,".value;\n        }\n        \n      "))}t.write("payload.value = newResult;"),t.write("return payload;");const s=t.compile();return(t,n)=>s(e,t,n)})(t.shape)),c=a(c,d),l?Vr([],f,c,d,u,e):c):n(c,d):(c.issues.push({expected:"object",code:"invalid_type",input:f,inst:e}),c)}}));function Wr(e,t,n,r){for(const o of e)if(0===o.issues.length)return t.value=o.value,t;const a=e.filter((e=>!ut(e)));return 1===a.length?(t.value=a[0].value,a[0]):(t.issues.push({code:"invalid_union",input:t.value,inst:n,errors:e.map((e=>e.issues.map((e=>pt(e,r,Ue())))))}),t)}const Qr=Me("$ZodUnion",((e,t)=>{ir.init(e,t),Qe(e._zod,"optin",(()=>t.options.some((e=>"optional"===e._zod.optin))?"optional":void 0)),Qe(e._zod,"optout",(()=>t.options.some((e=>"optional"===e._zod.optout))?"optional":void 0)),Qe(e._zod,"values",(()=>{if(t.options.every((e=>e._zod.values)))return new Set(t.options.flatMap((e=>Array.from(e._zod.values))))})),Qe(e._zod,"pattern",(()=>{if(t.options.every((e=>e._zod.pattern))){const e=t.options.map((e=>e._zod.pattern));return new RegExp("^(".concat(e.map((e=>He(e.source))).join("|"),")$"))}}));const n=1===t.options.length,r=t.options[0]._zod.run;e._zod.parse=(a,o)=>{if(n)return r(a,o);let i=!1;const s=[];for(const e of t.options){const t=e._zod.run({value:a.value,issues:[]},o);if(t instanceof Promise)s.push(t),i=!0;else{if(0===t.issues.length)return t;s.push(t)}}return i?Promise.all(s).then((t=>Wr(t,a,e,o))):Wr(s,a,e,o)}})),Kr=Me("$ZodDiscriminatedUnion",((e,t)=>{Qr.init(e,t);const n=e._zod.parse;Qe(e._zod,"propValues",(()=>{const e={};for(const n of t.options){const r=n._zod.propValues;if(!r||0===Object.keys(r).length)throw new Error('Invalid discriminated union option at index "'.concat(t.options.indexOf(n),'"'));for(const[t,n]of Object.entries(r)){e[t]||(e[t]=new Set);for(const r of n)e[t].add(r)}}return e}));const r=Ve((()=>{const e=t.options,n=new Map;for(const a of e){var r;const e=null===(r=a._zod.propValues)||void 0===r?void 0:r[t.discriminator];if(!e||0===e.size)throw new Error('Invalid discriminated union option at index "'.concat(t.options.indexOf(a),'"'));for(const t of e){if(n.has(t))throw new Error('Duplicate discriminator value "'.concat(String(t),'"'));n.set(t,a)}}return n}));e._zod.parse=(a,o)=>{const i=a.value;if(!Xe(i))return a.issues.push({code:"invalid_type",expected:"object",input:i,inst:e}),a;const s=r.value.get(null===i||void 0===i?void 0:i[t.discriminator]);return s?s._zod.run(a,o):t.unionFallback?n(a,o):(a.issues.push({code:"invalid_union",errors:[],note:"No matching discriminator",discriminator:t.discriminator,input:i,path:[t.discriminator],inst:e}),a)}})),Jr=Me("$ZodIntersection",((e,t)=>{ir.init(e,t),e._zod.parse=(e,n)=>{const r=e.value,a=t.left._zod.run({value:r,issues:[]},n),o=t.right._zod.run({value:r,issues:[]},n);return a instanceof Promise||o instanceof Promise?Promise.all([a,o]).then((t=>{let[n,r]=t;return Yr(e,n,r)})):Yr(e,a,o)}}));function Gr(e,t){if(e===t)return{valid:!0,data:e};if(e instanceof Date&&t instanceof Date&&+e===+t)return{valid:!0,data:e};if(tt(e)&&tt(t)){const n=Object.keys(t),r=Object.keys(e).filter((e=>-1!==n.indexOf(e))),a=d(d({},e),t);for(const o of r){const n=Gr(e[o],t[o]);if(!n.valid)return{valid:!1,mergeErrorPath:[o,...n.mergeErrorPath]};a[o]=n.data}return{valid:!0,data:a}}if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return{valid:!1,mergeErrorPath:[]};const n=[];for(let r=0;r<e.length;r++){const a=Gr(e[r],t[r]);if(!a.valid)return{valid:!1,mergeErrorPath:[r,...a.mergeErrorPath]};n.push(a.data)}return{valid:!0,data:n}}return{valid:!1,mergeErrorPath:[]}}function Yr(e,t,n){if(t.issues.length&&e.issues.push(...t.issues),n.issues.length&&e.issues.push(...n.issues),ut(e))return e;const r=Gr(t.value,n.value);if(!r.valid)throw new Error("Unmergable intersection. Error path: "+"".concat(JSON.stringify(r.mergeErrorPath)));return e.value=r.data,e}const Xr=Me("$ZodRecord",((e,t)=>{ir.init(e,t),e._zod.parse=(n,r)=>{const a=n.value;if(!tt(a))return n.issues.push({expected:"record",code:"invalid_type",input:a,inst:e}),n;const o=[];if(t.keyType._zod.values){const s=t.keyType._zod.values;n.value={};for(const e of s)if("string"===typeof e||"number"===typeof e||"symbol"===typeof e){const i=t.valueType._zod.run({value:a[e],issues:[]},r);i instanceof Promise?o.push(i.then((t=>{t.issues.length&&n.issues.push(...ct(e,t.issues)),n.value[e]=t.value}))):(i.issues.length&&n.issues.push(...ct(e,i.issues)),n.value[e]=i.value)}let l;for(const e in a){var i;if(!s.has(e))l=null!==(i=l)&&void 0!==i?i:[],l.push(e)}l&&l.length>0&&n.issues.push({code:"unrecognized_keys",input:a,inst:e,keys:l})}else{n.value={};for(const i of Reflect.ownKeys(a)){if("__proto__"===i)continue;const s=t.keyType._zod.run({value:i,issues:[]},r);if(s instanceof Promise)throw new Error("Async schemas not supported in object keys currently");if(s.issues.length){n.issues.push({code:"invalid_key",origin:"record",issues:s.issues.map((e=>pt(e,r,Ue()))),input:i,path:[i],inst:e}),n.value[s.value]=s.value;continue}const l=t.valueType._zod.run({value:a[i],issues:[]},r);l instanceof Promise?o.push(l.then((e=>{e.issues.length&&n.issues.push(...ct(i,e.issues)),n.value[s.value]=e.value}))):(l.issues.length&&n.issues.push(...ct(i,l.issues)),n.value[s.value]=l.value)}}return o.length?Promise.all(o).then((()=>n)):n}}));const ea=Me("$ZodEnum",((e,t)=>{ir.init(e,t);const n=Be(t.entries),r=new Set(n);e._zod.values=r,e._zod.pattern=new RegExp("^(".concat(n.filter((e=>rt.has(typeof e))).map((e=>"string"===typeof e?at(e):e.toString())).join("|"),")$")),e._zod.parse=(t,a)=>{const o=t.value;return r.has(o)||t.issues.push({code:"invalid_value",values:n,input:o,inst:e}),t}})),ta=Me("$ZodLiteral",((e,t)=>{if(ir.init(e,t),0===t.values.length)throw new Error("Cannot create literal schema with no valid values");e._zod.values=new Set(t.values),e._zod.pattern=new RegExp("^(".concat(t.values.map((e=>"string"===typeof e?at(e):e?at(e.toString()):String(e))).join("|"),")$")),e._zod.parse=(n,r)=>{const a=n.value;return e._zod.values.has(a)||n.issues.push({code:"invalid_value",values:t.values,input:a,inst:e}),n}})),na=Me("$ZodTransform",((e,t)=>{ir.init(e,t),e._zod.parse=(n,r)=>{if("backward"===r.direction)throw new Le(e.constructor.name);const a=t.transform(n.value,n);if(r.async){return(a instanceof Promise?a:Promise.resolve(a)).then((e=>(n.value=e,n)))}if(a instanceof Promise)throw new Fe;return n.value=a,n}}));function ra(e,t){return e.issues.length&&void 0===t?{issues:[],value:void 0}:e}const aa=Me("$ZodOptional",((e,t)=>{ir.init(e,t),e._zod.optin="optional",e._zod.optout="optional",Qe(e._zod,"values",(()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,void 0]):void 0)),Qe(e._zod,"pattern",(()=>{const e=t.innerType._zod.pattern;return e?new RegExp("^(".concat(He(e.source),")?$")):void 0})),e._zod.parse=(e,n)=>{if("optional"===t.innerType._zod.optin){const r=t.innerType._zod.run(e,n);return r instanceof Promise?r.then((t=>ra(t,e.value))):ra(r,e.value)}return void 0===e.value?e:t.innerType._zod.run(e,n)}})),oa=Me("$ZodNullable",((e,t)=>{ir.init(e,t),Qe(e._zod,"optin",(()=>t.innerType._zod.optin)),Qe(e._zod,"optout",(()=>t.innerType._zod.optout)),Qe(e._zod,"pattern",(()=>{const e=t.innerType._zod.pattern;return e?new RegExp("^(".concat(He(e.source),"|null)$")):void 0})),Qe(e._zod,"values",(()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,null]):void 0)),e._zod.parse=(e,n)=>null===e.value?e:t.innerType._zod.run(e,n)})),ia=Me("$ZodDefault",((e,t)=>{ir.init(e,t),e._zod.optin="optional",Qe(e._zod,"values",(()=>t.innerType._zod.values)),e._zod.parse=(e,n)=>{if("backward"===n.direction)return t.innerType._zod.run(e,n);if(void 0===e.value)return e.value=t.defaultValue,e;const r=t.innerType._zod.run(e,n);return r instanceof Promise?r.then((e=>sa(e,t))):sa(r,t)}}));function sa(e,t){return void 0===e.value&&(e.value=t.defaultValue),e}const la=Me("$ZodPrefault",((e,t)=>{ir.init(e,t),e._zod.optin="optional",Qe(e._zod,"values",(()=>t.innerType._zod.values)),e._zod.parse=(e,n)=>("backward"===n.direction||void 0===e.value&&(e.value=t.defaultValue),t.innerType._zod.run(e,n))})),ua=Me("$ZodNonOptional",((e,t)=>{ir.init(e,t),Qe(e._zod,"values",(()=>{const e=t.innerType._zod.values;return e?new Set([...e].filter((e=>void 0!==e))):void 0})),e._zod.parse=(n,r)=>{const a=t.innerType._zod.run(n,r);return a instanceof Promise?a.then((t=>ca(t,e))):ca(a,e)}}));function ca(e,t){return e.issues.length||void 0!==e.value||e.issues.push({code:"invalid_type",expected:"nonoptional",input:e.value,inst:t}),e}const da=Me("$ZodCatch",((e,t)=>{ir.init(e,t),Qe(e._zod,"optin",(()=>t.innerType._zod.optin)),Qe(e._zod,"optout",(()=>t.innerType._zod.optout)),Qe(e._zod,"values",(()=>t.innerType._zod.values)),e._zod.parse=(e,n)=>{if("backward"===n.direction)return t.innerType._zod.run(e,n);const r=t.innerType._zod.run(e,n);return r instanceof Promise?r.then((r=>(e.value=r.value,r.issues.length&&(e.value=t.catchValue(d(d({},e),{},{error:{issues:r.issues.map((e=>pt(e,n,Ue())))},input:e.value})),e.issues=[]),e))):(e.value=r.value,r.issues.length&&(e.value=t.catchValue(d(d({},e),{},{error:{issues:r.issues.map((e=>pt(e,n,Ue())))},input:e.value})),e.issues=[]),e)}})),pa=Me("$ZodPipe",((e,t)=>{ir.init(e,t),Qe(e._zod,"values",(()=>t.in._zod.values)),Qe(e._zod,"optin",(()=>t.in._zod.optin)),Qe(e._zod,"optout",(()=>t.out._zod.optout)),Qe(e._zod,"propValues",(()=>t.in._zod.propValues)),e._zod.parse=(e,n)=>{if("backward"===n.direction){const r=t.out._zod.run(e,n);return r instanceof Promise?r.then((e=>fa(e,t.in,n))):fa(r,t.in,n)}const r=t.in._zod.run(e,n);return r instanceof Promise?r.then((e=>fa(e,t.out,n))):fa(r,t.out,n)}}));function fa(e,t,n){return e.issues.length?(e.aborted=!0,e):t._zod.run({value:e.value,issues:e.issues},n)}const ha=Me("$ZodReadonly",((e,t)=>{ir.init(e,t),Qe(e._zod,"propValues",(()=>t.innerType._zod.propValues)),Qe(e._zod,"values",(()=>t.innerType._zod.values)),Qe(e._zod,"optin",(()=>t.innerType._zod.optin)),Qe(e._zod,"optout",(()=>t.innerType._zod.optout)),e._zod.parse=(e,n)=>{if("backward"===n.direction)return t.innerType._zod.run(e,n);const r=t.innerType._zod.run(e,n);return r instanceof Promise?r.then(ma):ma(r)}}));function ma(e){return e.value=Object.freeze(e.value),e}const ga=Me("$ZodLazy",((e,t)=>{ir.init(e,t),Qe(e._zod,"innerType",(()=>t.getter())),Qe(e._zod,"pattern",(()=>e._zod.innerType._zod.pattern)),Qe(e._zod,"propValues",(()=>e._zod.innerType._zod.propValues)),Qe(e._zod,"optin",(()=>{var t;return null!==(t=e._zod.innerType._zod.optin)&&void 0!==t?t:void 0})),Qe(e._zod,"optout",(()=>{var t;return null!==(t=e._zod.innerType._zod.optout)&&void 0!==t?t:void 0})),e._zod.parse=(t,n)=>e._zod.innerType._zod.run(t,n)})),va=Me("$ZodCustom",((e,t)=>{Bn.init(e,t),ir.init(e,t),e._zod.parse=(e,t)=>e,e._zod.check=n=>{const r=n.value,a=t.fn(r);if(a instanceof Promise)return a.then((t=>ya(t,n,r,e)));ya(a,n,r,e)}}));function ya(e,t,n,r){if(!e){var a;const e={code:"custom",input:n,inst:r,path:[...null!==(a=r._zod.def.path)&&void 0!==a?a:[]],continue:!r._zod.def.abort};r._zod.def.params&&(e.params=r._zod.def.params),t.issues.push(ht(e))}}const ba=()=>{const e={string:{unit:"characters",verb:"to have"},file:{unit:"bytes",verb:"to have"},array:{unit:"items",verb:"to have"},set:{unit:"items",verb:"to have"}};function t(t){var n;return null!==(n=e[t])&&void 0!==n?n:null}const n={regex:"input",email:"email address",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO datetime",date:"ISO date",time:"ISO time",duration:"ISO duration",ipv4:"IPv4 address",ipv6:"IPv6 address",cidrv4:"IPv4 range",cidrv6:"IPv6 range",base64:"base64-encoded string",base64url:"base64url-encoded string",json_string:"JSON string",e164:"E.164 number",jwt:"JWT",template_literal:"input"};return e=>{switch(e.code){case"invalid_type":return"Invalid input: expected ".concat(e.expected,", received ").concat((e=>{const t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"number";case"object":if(Array.isArray(e))return"array";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(e.input));case"invalid_value":return 1===e.values.length?"Invalid input: expected ".concat(st(e.values[0])):"Invalid option: expected one of ".concat(Ze(e.values,"|"));case"too_big":{var r,a,o;const n=e.inclusive?"<=":"<",i=t(e.origin);return i?"Too big: expected ".concat(null!==(r=e.origin)&&void 0!==r?r:"value"," to have ").concat(n).concat(e.maximum.toString()," ").concat(null!==(a=i.unit)&&void 0!==a?a:"elements"):"Too big: expected ".concat(null!==(o=e.origin)&&void 0!==o?o:"value"," to be ").concat(n).concat(e.maximum.toString())}case"too_small":{const n=e.inclusive?">=":">",r=t(e.origin);return r?"Too small: expected ".concat(e.origin," to have ").concat(n).concat(e.minimum.toString()," ").concat(r.unit):"Too small: expected ".concat(e.origin," to be ").concat(n).concat(e.minimum.toString())}case"invalid_format":{var i;const t=e;return"starts_with"===t.format?'Invalid string: must start with "'.concat(t.prefix,'"'):"ends_with"===t.format?'Invalid string: must end with "'.concat(t.suffix,'"'):"includes"===t.format?'Invalid string: must include "'.concat(t.includes,'"'):"regex"===t.format?"Invalid string: must match pattern ".concat(t.pattern):"Invalid ".concat(null!==(i=n[t.format])&&void 0!==i?i:e.format)}case"not_multiple_of":return"Invalid number: must be a multiple of ".concat(e.divisor);case"unrecognized_keys":return"Unrecognized key".concat(e.keys.length>1?"s":"",": ").concat(Ze(e.keys,", "));case"invalid_key":return"Invalid key in ".concat(e.origin);case"invalid_union":default:return"Invalid input";case"invalid_element":return"Invalid value in ".concat(e.origin)}}};Symbol("ZodOutput"),Symbol("ZodInput");class _a{constructor(){this._map=new WeakMap,this._idmap=new Map}add(e){const t=arguments.length<=1?void 0:arguments[1];if(this._map.set(e,t),t&&"object"===typeof t&&"id"in t){if(this._idmap.has(t.id))throw new Error("ID ".concat(t.id," already exists in the registry"));this._idmap.set(t.id,e)}return this}clear(){return this._map=new WeakMap,this._idmap=new Map,this}remove(e){const t=this._map.get(e);return t&&"object"===typeof t&&"id"in t&&this._idmap.delete(t.id),this._map.delete(e),this}get(e){const t=e._zod.parent;if(t){var n;const r=d({},null!==(n=this.get(t))&&void 0!==n?n:{});delete r.id;const a=d(d({},r),this._map.get(e));return Object.keys(a).length?a:void 0}return this._map.get(e)}has(e){return this._map.has(e)}}function wa(){return new _a}const ka=wa();function xa(e,t){return new e(d({type:"string",format:"email",check:"string_format",abort:!1},it(t)))}function Sa(e,t){return new e(d({type:"string",format:"guid",check:"string_format",abort:!1},it(t)))}function Ea(e,t){return new e(d({type:"string",format:"uuid",check:"string_format",abort:!1},it(t)))}function Ca(e,t){return new e(d({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4"},it(t)))}function Aa(e,t){return new e(d({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6"},it(t)))}function Ia(e,t){return new e(d({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7"},it(t)))}function Ta(e,t){return new e(d({type:"string",format:"url",check:"string_format",abort:!1},it(t)))}function Na(e,t){return new e(d({type:"string",format:"emoji",check:"string_format",abort:!1},it(t)))}function Oa(e,t){return new e(d({type:"string",format:"nanoid",check:"string_format",abort:!1},it(t)))}function Pa(e,t){return new e(d({type:"string",format:"cuid",check:"string_format",abort:!1},it(t)))}function za(e,t){return new e(d({type:"string",format:"cuid2",check:"string_format",abort:!1},it(t)))}function Ra(e,t){return new e(d({type:"string",format:"ulid",check:"string_format",abort:!1},it(t)))}function ja(e,t){return new e(d({type:"string",format:"xid",check:"string_format",abort:!1},it(t)))}function Ma(e,t){return new e(d({type:"string",format:"ksuid",check:"string_format",abort:!1},it(t)))}function Fa(e,t){return new e(d({type:"string",format:"ipv4",check:"string_format",abort:!1},it(t)))}function La(e,t){return new e(d({type:"string",format:"ipv6",check:"string_format",abort:!1},it(t)))}function Da(e,t){return new e(d({type:"string",format:"cidrv4",check:"string_format",abort:!1},it(t)))}function Ua(e,t){return new e(d({type:"string",format:"cidrv6",check:"string_format",abort:!1},it(t)))}function Ba(e,t){return new e(d({type:"string",format:"base64",check:"string_format",abort:!1},it(t)))}function Za(e,t){return new e(d({type:"string",format:"base64url",check:"string_format",abort:!1},it(t)))}function qa(e,t){return new e(d({type:"string",format:"e164",check:"string_format",abort:!1},it(t)))}function Va(e,t){return new e(d({type:"string",format:"jwt",check:"string_format",abort:!1},it(t)))}function $a(e,t){return new qn(d(d({check:"less_than"},it(t)),{},{value:e,inclusive:!1}))}function Ha(e,t){return new qn(d(d({check:"less_than"},it(t)),{},{value:e,inclusive:!0}))}function Wa(e,t){return new Vn(d(d({check:"greater_than"},it(t)),{},{value:e,inclusive:!1}))}function Qa(e,t){return new Vn(d(d({check:"greater_than"},it(t)),{},{value:e,inclusive:!0}))}function Ka(e,t){return new $n(d(d({check:"multiple_of"},it(t)),{},{value:e}))}function Ja(e,t){return new Wn(d(d({check:"max_length"},it(t)),{},{maximum:e}))}function Ga(e,t){return new Qn(d(d({check:"min_length"},it(t)),{},{minimum:e}))}function Ya(e,t){return new Kn(d(d({check:"length_equals"},it(t)),{},{length:e}))}function Xa(e){return new rr({check:"overwrite",tx:e})}function eo(e){const t=function(e,t){const n=new Bn(d({check:"custom"},it(t)));return n._zod.check=e,n}((n=>(n.addIssue=e=>{if("string"===typeof e)n.issues.push(ht(e,n.value,t._zod.def));else{var r,a,o,i;const s=e;s.fatal&&(s.continue=!1),null!==(r=s.code)&&void 0!==r||(s.code="custom"),null!==(a=s.input)&&void 0!==a||(s.input=n.value),null!==(o=s.inst)&&void 0!==o||(s.inst=t),null!==(i=s.continue)&&void 0!==i||(s.continue=!t._zod.def.abort),n.issues.push(ht(s))}},e(n.value,n))));return t}class to{constructor(e){var t,n,r,a,o;this.counter=0,this.metadataRegistry=null!==(t=null===e||void 0===e?void 0:e.metadata)&&void 0!==t?t:ka,this.target=null!==(n=null===e||void 0===e?void 0:e.target)&&void 0!==n?n:"draft-2020-12",this.unrepresentable=null!==(r=null===e||void 0===e?void 0:e.unrepresentable)&&void 0!==r?r:"throw",this.override=null!==(a=null===e||void 0===e?void 0:e.override)&&void 0!==a?a:()=>{},this.io=null!==(o=null===e||void 0===e?void 0:e.io)&&void 0!==o?o:"output",this.seen=new Map}process(e){var t,n,r;let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{path:[],schemaPath:[]};var o;const i=e._zod.def,s={guid:"uuid",url:"uri",datetime:"date-time",json_string:"json-string",regex:""},l=this.seen.get(e);if(l){l.count++;return a.schemaPath.includes(e)&&(l.cycle=a.path),l.schema}const u={schema:{},count:1,cycle:void 0,path:a.path};this.seen.set(e,u);const c=null===(t=(n=e._zod).toJSONSchema)||void 0===t?void 0:t.call(n);if(c)u.schema=c;else{const t=d(d({},a),{},{schemaPath:[...a.schemaPath,e],path:a.path}),n=e._zod.parent;if(n)u.ref=n,this.process(n,t),this.seen.get(n).isParent=!0;else{const n=u.schema;switch(i.type){case"string":{const t=n;t.type="string";const{minimum:r,maximum:a,format:o,patterns:i,contentEncoding:l}=e._zod.bag;var p;if("number"===typeof r&&(t.minLength=r),"number"===typeof a&&(t.maxLength=a),o)t.format=null!==(p=s[o])&&void 0!==p?p:o,""===t.format&&delete t.format;if(l&&(t.contentEncoding=l),i&&i.size>0){const e=[...i];1===e.length?t.pattern=e[0].source:e.length>1&&(u.schema.allOf=[...e.map((e=>d(d({},"draft-7"===this.target||"draft-4"===this.target||"openapi-3.0"===this.target?{type:"string"}:{}),{},{pattern:e.source})))])}break}case"number":{const t=n,{minimum:r,maximum:a,format:o,multipleOf:i,exclusiveMaximum:s,exclusiveMinimum:l}=e._zod.bag;"string"===typeof o&&o.includes("int")?t.type="integer":t.type="number","number"===typeof l&&("draft-4"===this.target||"openapi-3.0"===this.target?(t.minimum=l,t.exclusiveMinimum=!0):t.exclusiveMinimum=l),"number"===typeof r&&(t.minimum=r,"number"===typeof l&&"draft-4"!==this.target&&(l>=r?delete t.minimum:delete t.exclusiveMinimum)),"number"===typeof s&&("draft-4"===this.target||"openapi-3.0"===this.target?(t.maximum=s,t.exclusiveMaximum=!0):t.exclusiveMaximum=s),"number"===typeof a&&(t.maximum=a,"number"===typeof s&&"draft-4"!==this.target&&(s<=a?delete t.maximum:delete t.exclusiveMaximum)),"number"===typeof i&&(t.multipleOf=i);break}case"boolean":n.type="boolean";break;case"bigint":if("throw"===this.unrepresentable)throw new Error("BigInt cannot be represented in JSON Schema");break;case"symbol":if("throw"===this.unrepresentable)throw new Error("Symbols cannot be represented in JSON Schema");break;case"null":"openapi-3.0"===this.target?(n.type="string",n.nullable=!0,n.enum=[null]):n.type="null";break;case"any":case"unknown":break;case"undefined":if("throw"===this.unrepresentable)throw new Error("Undefined cannot be represented in JSON Schema");break;case"void":if("throw"===this.unrepresentable)throw new Error("Void cannot be represented in JSON Schema");break;case"never":n.not={};break;case"date":if("throw"===this.unrepresentable)throw new Error("Date cannot be represented in JSON Schema");break;case"array":{const r=n,{minimum:a,maximum:o}=e._zod.bag;"number"===typeof a&&(r.minItems=a),"number"===typeof o&&(r.maxItems=o),r.type="array",r.items=this.process(i.element,d(d({},t),{},{path:[...t.path,"items"]}));break}case"object":{var f;const e=n;e.type="object",e.properties={};const r=i.shape;for(const n in r)e.properties[n]=this.process(r[n],d(d({},t),{},{path:[...t.path,"properties",n]}));const a=new Set(Object.keys(r)),o=new Set([...a].filter((e=>{const t=i.shape[e]._zod;return"input"===this.io?void 0===t.optin:void 0===t.optout})));o.size>0&&(e.required=Array.from(o)),"never"===(null===(f=i.catchall)||void 0===f?void 0:f._zod.def.type)?e.additionalProperties=!1:i.catchall?i.catchall&&(e.additionalProperties=this.process(i.catchall,d(d({},t),{},{path:[...t.path,"additionalProperties"]}))):"output"===this.io&&(e.additionalProperties=!1);break}case"union":{const e=n,r=i.options.map(((e,n)=>this.process(e,d(d({},t),{},{path:[...t.path,"anyOf",n]}))));e.anyOf=r;break}case"intersection":{const e=n,r=this.process(i.left,d(d({},t),{},{path:[...t.path,"allOf",0]})),a=this.process(i.right,d(d({},t),{},{path:[...t.path,"allOf",1]})),o=e=>"allOf"in e&&1===Object.keys(e).length,s=[...o(r)?r.allOf:[r],...o(a)?a.allOf:[a]];e.allOf=s;break}case"tuple":{const r=n;r.type="array";const a="draft-2020-12"===this.target?"prefixItems":"items",o="draft-2020-12"===this.target||"openapi-3.0"===this.target?"items":"additionalItems",s=i.items.map(((e,n)=>this.process(e,d(d({},t),{},{path:[...t.path,a,n]})))),l=i.rest?this.process(i.rest,d(d({},t),{},{path:[...t.path,o,..."openapi-3.0"===this.target?[i.items.length]:[]]})):null;"draft-2020-12"===this.target?(r.prefixItems=s,l&&(r.items=l)):"openapi-3.0"===this.target?(r.items={anyOf:s},l&&r.items.anyOf.push(l),r.minItems=s.length,l||(r.maxItems=s.length)):(r.items=s,l&&(r.additionalItems=l));const{minimum:u,maximum:c}=e._zod.bag;"number"===typeof u&&(r.minItems=u),"number"===typeof c&&(r.maxItems=c);break}case"record":{const e=n;e.type="object","draft-7"!==this.target&&"draft-2020-12"!==this.target||(e.propertyNames=this.process(i.keyType,d(d({},t),{},{path:[...t.path,"propertyNames"]}))),e.additionalProperties=this.process(i.valueType,d(d({},t),{},{path:[...t.path,"additionalProperties"]}));break}case"map":if("throw"===this.unrepresentable)throw new Error("Map cannot be represented in JSON Schema");break;case"set":if("throw"===this.unrepresentable)throw new Error("Set cannot be represented in JSON Schema");break;case"enum":{const e=n,t=Be(i.entries);t.every((e=>"number"===typeof e))&&(e.type="number"),t.every((e=>"string"===typeof e))&&(e.type="string"),e.enum=t;break}case"literal":{const e=n,t=[];for(const n of i.values)if(void 0===n){if("throw"===this.unrepresentable)throw new Error("Literal `undefined` cannot be represented in JSON Schema")}else if("bigint"===typeof n){if("throw"===this.unrepresentable)throw new Error("BigInt literals cannot be represented in JSON Schema");t.push(Number(n))}else t.push(n);if(0===t.length);else if(1===t.length){const n=t[0];e.type=null===n?"null":typeof n,"draft-4"===this.target||"openapi-3.0"===this.target?e.enum=[n]:e.const=n}else t.every((e=>"number"===typeof e))&&(e.type="number"),t.every((e=>"string"===typeof e))&&(e.type="string"),t.every((e=>"boolean"===typeof e))&&(e.type="string"),t.every((e=>null===e))&&(e.type="null"),e.enum=t;break}case"file":{const t=n,r={type:"string",format:"binary",contentEncoding:"binary"},{minimum:a,maximum:o,mime:i}=e._zod.bag;void 0!==a&&(r.minLength=a),void 0!==o&&(r.maxLength=o),i?1===i.length?(r.contentMediaType=i[0],Object.assign(t,r)):t.anyOf=i.map((e=>d(d({},r),{},{contentMediaType:e}))):Object.assign(t,r);break}case"transform":if("throw"===this.unrepresentable)throw new Error("Transforms cannot be represented in JSON Schema");break;case"nullable":{const e=this.process(i.innerType,t);"openapi-3.0"===this.target?(u.ref=i.innerType,n.nullable=!0):n.anyOf=[e,{type:"null"}];break}case"nonoptional":case"promise":case"optional":this.process(i.innerType,t),u.ref=i.innerType;break;case"success":n.type="boolean";break;case"default":this.process(i.innerType,t),u.ref=i.innerType,n.default=JSON.parse(JSON.stringify(i.defaultValue));break;case"prefault":this.process(i.innerType,t),u.ref=i.innerType,"input"===this.io&&(n._prefault=JSON.parse(JSON.stringify(i.defaultValue)));break;case"catch":{let e;this.process(i.innerType,t),u.ref=i.innerType;try{e=i.catchValue(void 0)}catch(m){throw new Error("Dynamic catch values are not supported in JSON Schema")}n.default=e;break}case"nan":if("throw"===this.unrepresentable)throw new Error("NaN cannot be represented in JSON Schema");break;case"template_literal":{const t=n,r=e._zod.pattern;if(!r)throw new Error("Pattern not found in template literal");t.type="string",t.pattern=r.source;break}case"pipe":{const e="input"===this.io?"transform"===i.in._zod.def.type?i.out:i.in:i.out;this.process(e,t),u.ref=e;break}case"readonly":this.process(i.innerType,t),u.ref=i.innerType,n.readOnly=!0;break;case"lazy":{const n=e._zod.innerType;this.process(n,t),u.ref=n;break}case"custom":if("throw"===this.unrepresentable)throw new Error("Custom types cannot be represented in JSON Schema");break;case"function":if("throw"===this.unrepresentable)throw new Error("Function types cannot be represented in JSON Schema")}}}const h=this.metadataRegistry.get(e);h&&Object.assign(u.schema,h),"input"===this.io&&no(e)&&(delete u.schema.examples,delete u.schema.default),"input"===this.io&&u.schema._prefault&&(null!==(r=(o=u.schema).default)&&void 0!==r||(o.default=u.schema._prefault)),delete u.schema._prefault;return this.seen.get(e).schema}emit(e,t){var n,r,a,o,i,s;const l={cycles:null!==(n=null===t||void 0===t?void 0:t.cycles)&&void 0!==n?n:"ref",reused:null!==(r=null===t||void 0===t?void 0:t.reused)&&void 0!==r?r:"inline",external:null!==(a=null===t||void 0===t?void 0:t.external)&&void 0!==a?a:void 0},u=this.seen.get(e);if(!u)throw new Error("Unprocessed schema. This is a bug in Zod.");const c=e=>{var t;const n="draft-2020-12"===this.target?"$defs":"definitions";if(l.external){var r,a,o,i;const t=null===(r=l.external.registry.get(e[0]))||void 0===r?void 0:r.id,s=null!==(a=l.external.uri)&&void 0!==a?a:e=>e;if(t)return{ref:s(t)};const u=null!==(o=null!==(i=e[1].defId)&&void 0!==i?i:e[1].schema.id)&&void 0!==o?o:"schema".concat(this.counter++);return e[1].defId=u,{defId:u,ref:"".concat(s("__shared"),"#/").concat(n,"/").concat(u)}}if(e[1]===u)return{ref:"#"};const s="".concat("#","/").concat(n,"/"),c=null!==(t=e[1].schema.id)&&void 0!==t?t:"__schema".concat(this.counter++);return{defId:c,ref:s+c}},p=e=>{if(e[1].schema.$ref)return;const t=e[1],{ref:n,defId:r}=c(e);t.def=d({},t.schema),r&&(t.defId=r);const a=t.schema;for(const o in a)delete a[o];a.$ref=n};if("throw"===l.cycles)for(const d of this.seen.entries()){const e=d[1];var f;if(e.cycle)throw new Error("Cycle detected: "+"#/".concat(null===(f=e.cycle)||void 0===f?void 0:f.join("/"),"/<root>")+'\n\nSet the `cycles` parameter to `"ref"` to resolve cyclical schemas with defs.')}for(const d of this.seen.entries()){var h;const t=d[1];if(e===d[0]){p(d);continue}if(l.external){var m;const t=null===(m=l.external.registry.get(d[0]))||void 0===m?void 0:m.id;if(e!==d[0]&&t){p(d);continue}}(null===(h=this.metadataRegistry.get(d[0]))||void 0===h?void 0:h.id)?p(d):(t.cycle||t.count>1&&"ref"===l.reused)&&p(d)}const g=(e,t)=>{var n,r;const a=this.seen.get(e),o=null!==(n=a.def)&&void 0!==n?n:a.schema,i=d({},o);if(null===a.ref)return;const s=a.ref;if(a.ref=null,s){g(s,t);const e=this.seen.get(s).schema;var l;if(!e.$ref||"draft-7"!==t.target&&"draft-4"!==t.target&&"openapi-3.0"!==t.target)Object.assign(o,e),Object.assign(o,i);else o.allOf=null!==(l=o.allOf)&&void 0!==l?l:[],o.allOf.push(e)}a.isParent||this.override({zodSchema:e,jsonSchema:o,path:null!==(r=a.path)&&void 0!==r?r:[]})};for(const d of[...this.seen.entries()].reverse())g(d[0],{target:this.target});const v={};if("draft-2020-12"===this.target?v.$schema="https://json-schema.org/draft/2020-12/schema":"draft-7"===this.target?v.$schema="http://json-schema.org/draft-07/schema#":"draft-4"===this.target?v.$schema="http://json-schema.org/draft-04/schema#":"openapi-3.0"===this.target||console.warn("Invalid target: ".concat(this.target)),null!==(o=l.external)&&void 0!==o&&o.uri){var y;const t=null===(y=l.external.registry.get(e))||void 0===y?void 0:y.id;if(!t)throw new Error("Schema is missing an `id` property");v.$id=l.external.uri(t)}Object.assign(v,u.def);const b=null!==(i=null===(s=l.external)||void 0===s?void 0:s.defs)&&void 0!==i?i:{};for(const d of this.seen.entries()){const e=d[1];e.def&&e.defId&&(b[e.defId]=e.def)}l.external||Object.keys(b).length>0&&("draft-2020-12"===this.target?v.$defs=b:v.definitions=b);try{return JSON.parse(JSON.stringify(v))}catch(_){throw new Error("Error converting schema to JSON.")}}}function no(e,t){const n=null!==t&&void 0!==t?t:{seen:new Set};if(n.seen.has(e))return!1;n.seen.add(e);const r=e._zod.def;switch(r.type){case"string":case"number":case"bigint":case"boolean":case"date":case"symbol":case"undefined":case"null":case"any":case"unknown":case"never":case"void":case"literal":case"enum":case"nan":case"file":case"template_literal":case"custom":case"success":case"catch":case"function":return!1;case"array":return no(r.element,n);case"object":for(const e in r.shape)if(no(r.shape[e],n))return!0;return!1;case"union":for(const e of r.options)if(no(e,n))return!0;return!1;case"intersection":return no(r.left,n)||no(r.right,n);case"tuple":for(const e of r.items)if(no(e,n))return!0;return!(!r.rest||!no(r.rest,n));case"record":case"map":return no(r.keyType,n)||no(r.valueType,n);case"set":return no(r.valueType,n);case"promise":case"optional":case"nonoptional":case"nullable":case"readonly":case"default":case"prefault":return no(r.innerType,n);case"lazy":return no(r.getter(),n);case"transform":return!0;case"pipe":return no(r.in,n)||no(r.out,n)}throw new Error("Unknown schema type: ".concat(r.type))}const ro=Me("ZodISODateTime",((e,t)=>{_r.init(e,t),No.init(e,t)}));function ao(e){return function(e,t){return new e(d({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null},it(t)))}(ro,e)}const oo=Me("ZodISODate",((e,t)=>{wr.init(e,t),No.init(e,t)}));function io(e){return function(e,t){return new e(d({type:"string",format:"date",check:"string_format"},it(t)))}(oo,e)}const so=Me("ZodISOTime",((e,t)=>{kr.init(e,t),No.init(e,t)}));function lo(e){return function(e,t){return new e(d({type:"string",format:"time",check:"string_format",precision:null},it(t)))}(so,e)}const uo=Me("ZodISODuration",((e,t)=>{xr.init(e,t),No.init(e,t)}));function co(e){return function(e,t){return new e(d({type:"string",format:"duration",check:"string_format"},it(t)))}(uo,e)}const po=(e,t)=>{gt.init(e,t),e.name="ZodError",Object.defineProperties(e,{format:{value:t=>function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e=>e.message;const n={_errors:[]},r=e=>{for(const a of e.issues)if("invalid_union"===a.code&&a.errors.length)a.errors.map((e=>r({issues:e})));else if("invalid_key"===a.code)r({issues:a.issues});else if("invalid_element"===a.code)r({issues:a.issues});else if(0===a.path.length)n._errors.push(t(a));else{let e=n,r=0;for(;r<a.path.length;){const n=a.path[r];r===a.path.length-1?(e[n]=e[n]||{_errors:[]},e[n]._errors.push(t(a))):e[n]=e[n]||{_errors:[]},e=e[n],r++}}};return r(e),n}(e,t)},flatten:{value:t=>function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e=>e.message;const n={},r=[];for(const a of e.issues)a.path.length>0?(n[a.path[0]]=n[a.path[0]]||[],n[a.path[0]].push(t(a))):r.push(t(a));return{formErrors:r,fieldErrors:n}}(e,t)},addIssue:{value:t=>{e.issues.push(t),e.message=JSON.stringify(e.issues,qe,2)}},addIssues:{value:t=>{e.issues.push(...t),e.message=JSON.stringify(e.issues,qe,2)}},isEmpty:{get:()=>0===e.issues.length}})},fo=(Me("ZodError",po),Me("ZodError",po,{Parent:Error})),ho=yt(fo),mo=bt(fo),go=_t(fo),vo=kt(fo),yo=St(fo),bo=Et(fo),_o=Ct(fo),wo=At(fo),ko=It(fo),xo=Tt(fo),So=Nt(fo),Eo=Ot(fo),Co=Me("ZodType",((e,t)=>(ir.init(e,t),e.def=t,e.type=t.type,Object.defineProperty(e,"_def",{value:t}),e.check=function(){for(var n,r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return e.clone(Je(t,{checks:[...null!==(n=t.checks)&&void 0!==n?n:[],...a.map((e=>"function"===typeof e?{_zod:{check:e,def:{check:"custom"},onattach:[]}}:e))]}))},e.clone=(t,n)=>ot(e,t,n),e.brand=()=>e,e.register=(t,n)=>(t.add(e,n),e),e.parse=(t,n)=>ho(e,t,n,{callee:e.parse}),e.safeParse=(t,n)=>go(e,t,n),e.parseAsync=async(t,n)=>mo(e,t,n,{callee:e.parseAsync}),e.safeParseAsync=async(t,n)=>vo(e,t,n),e.spa=e.safeParseAsync,e.encode=(t,n)=>yo(e,t,n),e.decode=(t,n)=>bo(e,t,n),e.encodeAsync=async(t,n)=>_o(e,t,n),e.decodeAsync=async(t,n)=>wo(e,t,n),e.safeEncode=(t,n)=>ko(e,t,n),e.safeDecode=(t,n)=>xo(e,t,n),e.safeEncodeAsync=async(t,n)=>So(e,t,n),e.safeDecodeAsync=async(t,n)=>Eo(e,t,n),e.refine=(t,n)=>e.check(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(e,t,n){return new e(d({type:"custom",check:"custom",fn:t},it(n)))}(qi,e,t)}(t,n)),e.superRefine=t=>e.check(eo(t)),e.overwrite=t=>e.check(Xa(t)),e.optional=()=>Oi(e),e.nullable=()=>zi(e),e.nullish=()=>Oi(zi(e)),e.nonoptional=t=>function(e,t){return new Mi(d({type:"nonoptional",innerType:e},it(t)))}(e,t),e.array=()=>pi(e),e.or=t=>yi([e,t]),e.and=t=>new wi({type:"intersection",left:e,right:t}),e.transform=t=>Di(e,Ti(t)),e.default=t=>{return n=t,new Ri({type:"default",innerType:e,get defaultValue(){return"function"===typeof n?n():nt(n)}});var n},e.prefault=t=>{return n=t,new ji({type:"prefault",innerType:e,get defaultValue(){return"function"===typeof n?n():nt(n)}});var n},e.catch=t=>{return new Fi({type:"catch",innerType:e,catchValue:"function"===typeof(n=t)?n:()=>n});var n},e.pipe=t=>Di(e,t),e.readonly=()=>new Ui({type:"readonly",innerType:e}),e.describe=t=>{const n=e.clone();return ka.add(n,{description:t}),n},Object.defineProperty(e,"description",{get(){var t;return null===(t=ka.get(e))||void 0===t?void 0:t.description},configurable:!0}),e.meta=function(){if(0===arguments.length)return ka.get(e);const t=e.clone();return ka.add(t,arguments.length<=0?void 0:arguments[0]),t},e.isOptional=()=>e.safeParse(void 0).success,e.isNullable=()=>e.safeParse(null).success,e))),Ao=Me("_ZodString",((e,t)=>{var n,r,a;sr.init(e,t),Co.init(e,t);const o=e._zod.bag;e.format=null!==(n=o.format)&&void 0!==n?n:null,e.minLength=null!==(r=o.minimum)&&void 0!==r?r:null,e.maxLength=null!==(a=o.maximum)&&void 0!==a?a:null,e.regex=function(){return e.check(function(e,t){return new Gn(d(d({check:"string_format",format:"regex"},it(t)),{},{pattern:e}))}(...arguments))},e.includes=function(){return e.check(function(e,t){return new er(d(d({check:"string_format",format:"includes"},it(t)),{},{includes:e}))}(...arguments))},e.startsWith=function(){return e.check(function(e,t){return new tr(d(d({check:"string_format",format:"starts_with"},it(t)),{},{prefix:e}))}(...arguments))},e.endsWith=function(){return e.check(function(e,t){return new nr(d(d({check:"string_format",format:"ends_with"},it(t)),{},{suffix:e}))}(...arguments))},e.min=function(){return e.check(Ga(...arguments))},e.max=function(){return e.check(Ja(...arguments))},e.length=function(){return e.check(Ya(...arguments))},e.nonempty=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.check(Ga(1,...n))},e.lowercase=t=>e.check(function(e){return new Yn(d({check:"string_format",format:"lowercase"},it(e)))}(t)),e.uppercase=t=>e.check(function(e){return new Xn(d({check:"string_format",format:"uppercase"},it(e)))}(t)),e.trim=()=>e.check(Xa((e=>e.trim()))),e.normalize=function(){return e.check(function(e){return Xa((t=>t.normalize(e)))}(...arguments))},e.toLowerCase=()=>e.check(Xa((e=>e.toLowerCase()))),e.toUpperCase=()=>e.check(Xa((e=>e.toUpperCase())))})),Io=Me("ZodString",((e,t)=>{sr.init(e,t),Ao.init(e,t),e.email=t=>e.check(xa(Oo,t)),e.url=t=>e.check(Ta(Ro,t)),e.jwt=t=>e.check(Va(Jo,t)),e.emoji=t=>e.check(Na(jo,t)),e.guid=t=>e.check(Sa(Po,t)),e.uuid=t=>e.check(Ea(zo,t)),e.uuidv4=t=>e.check(Ca(zo,t)),e.uuidv6=t=>e.check(Aa(zo,t)),e.uuidv7=t=>e.check(Ia(zo,t)),e.nanoid=t=>e.check(Oa(Mo,t)),e.guid=t=>e.check(Sa(Po,t)),e.cuid=t=>e.check(Pa(Fo,t)),e.cuid2=t=>e.check(za(Lo,t)),e.ulid=t=>e.check(Ra(Do,t)),e.base64=t=>e.check(Ba(Ho,t)),e.base64url=t=>e.check(Za(Qo,t)),e.xid=t=>e.check(ja(Uo,t)),e.ksuid=t=>e.check(Ma(Bo,t)),e.ipv4=t=>e.check(Fa(Zo,t)),e.ipv6=t=>e.check(La(qo,t)),e.cidrv4=t=>e.check(Da(Vo,t)),e.cidrv6=t=>e.check(Ua($o,t)),e.e164=t=>e.check(qa(Ko,t)),e.datetime=t=>e.check(ao(t)),e.date=t=>e.check(io(t)),e.time=t=>e.check(lo(t)),e.duration=t=>e.check(co(t))}));function To(e){return function(e,t){return new e(d({type:"string"},it(t)))}(Io,e)}const No=Me("ZodStringFormat",((e,t)=>{lr.init(e,t),Ao.init(e,t)})),Oo=Me("ZodEmail",((e,t)=>{dr.init(e,t),No.init(e,t)}));const Po=Me("ZodGUID",((e,t)=>{ur.init(e,t),No.init(e,t)}));const zo=Me("ZodUUID",((e,t)=>{cr.init(e,t),No.init(e,t)}));const Ro=Me("ZodURL",((e,t)=>{pr.init(e,t),No.init(e,t)}));const jo=Me("ZodEmoji",((e,t)=>{fr.init(e,t),No.init(e,t)}));const Mo=Me("ZodNanoID",((e,t)=>{hr.init(e,t),No.init(e,t)}));const Fo=Me("ZodCUID",((e,t)=>{mr.init(e,t),No.init(e,t)}));const Lo=Me("ZodCUID2",((e,t)=>{gr.init(e,t),No.init(e,t)}));const Do=Me("ZodULID",((e,t)=>{vr.init(e,t),No.init(e,t)}));const Uo=Me("ZodXID",((e,t)=>{yr.init(e,t),No.init(e,t)}));const Bo=Me("ZodKSUID",((e,t)=>{br.init(e,t),No.init(e,t)}));const Zo=Me("ZodIPv4",((e,t)=>{Sr.init(e,t),No.init(e,t)}));const qo=Me("ZodIPv6",((e,t)=>{Er.init(e,t),No.init(e,t)}));const Vo=Me("ZodCIDRv4",((e,t)=>{Cr.init(e,t),No.init(e,t)}));const $o=Me("ZodCIDRv6",((e,t)=>{Ar.init(e,t),No.init(e,t)}));const Ho=Me("ZodBase64",((e,t)=>{Tr.init(e,t),No.init(e,t)}));function Wo(e){return Ba(Ho,e)}const Qo=Me("ZodBase64URL",((e,t)=>{Nr.init(e,t),No.init(e,t)}));const Ko=Me("ZodE164",((e,t)=>{Or.init(e,t),No.init(e,t)}));const Jo=Me("ZodJWT",((e,t)=>{Pr.init(e,t),No.init(e,t)}));const Go=Me("ZodNumber",((e,t)=>{var n,r,a,o,i,s,l,u,c;zr.init(e,t),Co.init(e,t),e.gt=(t,n)=>e.check(Wa(t,n)),e.gte=(t,n)=>e.check(Qa(t,n)),e.min=(t,n)=>e.check(Qa(t,n)),e.lt=(t,n)=>e.check($a(t,n)),e.lte=(t,n)=>e.check(Ha(t,n)),e.max=(t,n)=>e.check(Ha(t,n)),e.int=t=>e.check(ei(t)),e.safe=t=>e.check(ei(t)),e.positive=t=>e.check(Wa(0,t)),e.nonnegative=t=>e.check(Qa(0,t)),e.negative=t=>e.check($a(0,t)),e.nonpositive=t=>e.check(Ha(0,t)),e.multipleOf=(t,n)=>e.check(Ka(t,n)),e.step=(t,n)=>e.check(Ka(t,n)),e.finite=()=>e;const d=e._zod.bag;e.minValue=null!==(n=Math.max(null!==(r=d.minimum)&&void 0!==r?r:Number.NEGATIVE_INFINITY,null!==(a=d.exclusiveMinimum)&&void 0!==a?a:Number.NEGATIVE_INFINITY))&&void 0!==n?n:null,e.maxValue=null!==(o=Math.min(null!==(i=d.maximum)&&void 0!==i?i:Number.POSITIVE_INFINITY,null!==(s=d.exclusiveMaximum)&&void 0!==s?s:Number.POSITIVE_INFINITY))&&void 0!==o?o:null,e.isInt=(null!==(l=d.format)&&void 0!==l?l:"").includes("int")||Number.isSafeInteger(null!==(u=d.multipleOf)&&void 0!==u?u:.5),e.isFinite=!0,e.format=null!==(c=d.format)&&void 0!==c?c:null}));function Yo(e){return function(e,t){return new e(d({type:"number",checks:[]},it(t)))}(Go,e)}const Xo=Me("ZodNumberFormat",((e,t)=>{Rr.init(e,t),Go.init(e,t)}));function ei(e){return function(e,t){return new e(d({type:"number",check:"number_format",abort:!1,format:"safeint"},it(t)))}(Xo,e)}const ti=Me("ZodBoolean",((e,t)=>{jr.init(e,t),Co.init(e,t)}));function ni(e){return function(e,t){return new e(d({type:"boolean"},it(t)))}(ti,e)}const ri=Me("ZodNull",((e,t)=>{Mr.init(e,t),Co.init(e,t)}));function ai(e){return function(e,t){return new e(d({type:"null"},it(t)))}(ri,e)}const oi=Me("ZodAny",((e,t)=>{Fr.init(e,t),Co.init(e,t)}));function ii(){return function(e){return new e({type:"any"})}(oi)}const si=Me("ZodUnknown",((e,t)=>{Lr.init(e,t),Co.init(e,t)}));function li(){return function(e){return new e({type:"unknown"})}(si)}const ui=Me("ZodNever",((e,t)=>{Dr.init(e,t),Co.init(e,t)}));function ci(e){return function(e,t){return new e(d({type:"never"},it(t)))}(ui,e)}const di=Me("ZodArray",((e,t)=>{Br.init(e,t),Co.init(e,t),e.element=t.element,e.min=(t,n)=>e.check(Ga(t,n)),e.nonempty=t=>e.check(Ga(1,t)),e.max=(t,n)=>e.check(Ja(t,n)),e.length=(t,n)=>e.check(Ya(t,n)),e.unwrap=()=>e.element}));function pi(e,t){return function(e,t,n){return new e(d({type:"array",element:t},it(n)))}(di,e,t)}const fi=Me("ZodObject",((e,t)=>{Hr.init(e,t),Co.init(e,t),Qe(e,"shape",(()=>t.shape)),e.keyof=()=>Ei(Object.keys(e._zod.def.shape)),e.catchall=t=>e.clone(d(d({},e._zod.def),{},{catchall:t})),e.passthrough=()=>e.clone(d(d({},e._zod.def),{},{catchall:li()})),e.loose=()=>e.clone(d(d({},e._zod.def),{},{catchall:li()})),e.strict=()=>e.clone(d(d({},e._zod.def),{},{catchall:ci()})),e.strip=()=>e.clone(d(d({},e._zod.def),{},{catchall:void 0})),e.extend=t=>function(e,t){if(!tt(t))throw new Error("Invalid input to extend: expected a plain object");const n=e._zod.def.checks;if(n&&n.length>0)throw new Error("Object schemas containing refinements cannot be extended. Use `.safeExtend()` instead.");const r=Je(e._zod.def,{get shape(){const n=d(d({},e._zod.def.shape),t);return Ke(this,"shape",n),n},checks:[]});return ot(e,r)}(e,t),e.safeExtend=t=>function(e,t){if(!tt(t))throw new Error("Invalid input to safeExtend: expected a plain object");const n=d(d({},e._zod.def),{},{get shape(){const n=d(d({},e._zod.def.shape),t);return Ke(this,"shape",n),n},checks:e._zod.def.checks});return ot(e,n)}(e,t),e.merge=t=>function(e,t){const n=Je(e._zod.def,{get shape(){const n=d(d({},e._zod.def.shape),t._zod.def.shape);return Ke(this,"shape",n),n},get catchall(){return t._zod.def.catchall},checks:[]});return ot(e,n)}(e,t),e.pick=t=>function(e,t){const n=e._zod.def;return ot(e,Je(e._zod.def,{get shape(){const e={};for(const r in t){if(!(r in n.shape))throw new Error('Unrecognized key: "'.concat(r,'"'));t[r]&&(e[r]=n.shape[r])}return Ke(this,"shape",e),e},checks:[]}))}(e,t),e.omit=t=>function(e,t){const n=e._zod.def,r=Je(e._zod.def,{get shape(){const r=d({},e._zod.def.shape);for(const e in t){if(!(e in n.shape))throw new Error('Unrecognized key: "'.concat(e,'"'));t[e]&&delete r[e]}return Ke(this,"shape",r),r},checks:[]});return ot(e,r)}(e,t),e.partial=function(){return function(e,t,n){const r=Je(t._zod.def,{get shape(){const r=t._zod.def.shape,a=d({},r);if(n)for(const t in n){if(!(t in r))throw new Error('Unrecognized key: "'.concat(t,'"'));n[t]&&(a[t]=e?new e({type:"optional",innerType:r[t]}):r[t])}else for(const t in r)a[t]=e?new e({type:"optional",innerType:r[t]}):r[t];return Ke(this,"shape",a),a},checks:[]});return ot(t,r)}(Ni,e,arguments.length<=0?void 0:arguments[0])},e.required=function(){return function(e,t,n){const r=Je(t._zod.def,{get shape(){const r=t._zod.def.shape,a=d({},r);if(n)for(const t in n){if(!(t in a))throw new Error('Unrecognized key: "'.concat(t,'"'));n[t]&&(a[t]=new e({type:"nonoptional",innerType:r[t]}))}else for(const t in r)a[t]=new e({type:"nonoptional",innerType:r[t]});return Ke(this,"shape",a),a},checks:[]});return ot(t,r)}(Mi,e,arguments.length<=0?void 0:arguments[0])}}));function hi(e,t){const n=d({type:"object",shape:null!==e&&void 0!==e?e:{}},it(t));return new fi(n)}function mi(e,t){return new fi(d({type:"object",shape:e,catchall:ci()},it(t)))}function gi(e,t){return new fi(d({type:"object",shape:e,catchall:li()},it(t)))}const vi=Me("ZodUnion",((e,t)=>{Qr.init(e,t),Co.init(e,t),e.options=t.options}));function yi(e,t){return new vi(d({type:"union",options:e},it(t)))}const bi=Me("ZodDiscriminatedUnion",((e,t)=>{vi.init(e,t),Kr.init(e,t)}));function _i(e,t,n){return new bi(d({type:"union",options:t,discriminator:e},it(n)))}const wi=Me("ZodIntersection",((e,t)=>{Jr.init(e,t),Co.init(e,t)}));const ki=Me("ZodRecord",((e,t)=>{Xr.init(e,t),Co.init(e,t),e.keyType=t.keyType,e.valueType=t.valueType}));function xi(e,t,n){return new ki(d({type:"record",keyType:e,valueType:t},it(n)))}const Si=Me("ZodEnum",((e,t)=>{ea.init(e,t),Co.init(e,t),e.enum=t.entries,e.options=Object.values(t.entries);const n=new Set(Object.keys(t.entries));e.extract=(e,r)=>{const a={};for(const o of e){if(!n.has(o))throw new Error("Key ".concat(o," not found in enum"));a[o]=t.entries[o]}return new Si(d(d(d({},t),{},{checks:[]},it(r)),{},{entries:a}))},e.exclude=(e,r)=>{const a=d({},t.entries);for(const t of e){if(!n.has(t))throw new Error("Key ".concat(t," not found in enum"));delete a[t]}return new Si(d(d(d({},t),{},{checks:[]},it(r)),{},{entries:a}))}}));function Ei(e,t){const n=Array.isArray(e)?Object.fromEntries(e.map((e=>[e,e]))):e;return new Si(d({type:"enum",entries:n},it(t)))}const Ci=Me("ZodLiteral",((e,t)=>{ta.init(e,t),Co.init(e,t),e.values=new Set(t.values),Object.defineProperty(e,"value",{get(){if(t.values.length>1)throw new Error("This schema contains multiple valid literal values. Use `.values` instead.");return t.values[0]}})}));function Ai(e,t){return new Ci(d({type:"literal",values:Array.isArray(e)?e:[e]},it(t)))}const Ii=Me("ZodTransform",((e,t)=>{na.init(e,t),Co.init(e,t),e._zod.parse=(n,r)=>{if("backward"===r.direction)throw new Le(e.constructor.name);n.addIssue=r=>{if("string"===typeof r)n.issues.push(ht(r,n.value,t));else{var a,o,i;const t=r;t.fatal&&(t.continue=!1),null!==(a=t.code)&&void 0!==a||(t.code="custom"),null!==(o=t.input)&&void 0!==o||(t.input=n.value),null!==(i=t.inst)&&void 0!==i||(t.inst=e),n.issues.push(ht(t))}};const a=t.transform(n.value,n);return a instanceof Promise?a.then((e=>(n.value=e,n))):(n.value=a,n)}}));function Ti(e){return new Ii({type:"transform",transform:e})}const Ni=Me("ZodOptional",((e,t)=>{aa.init(e,t),Co.init(e,t),e.unwrap=()=>e._zod.def.innerType}));function Oi(e){return new Ni({type:"optional",innerType:e})}const Pi=Me("ZodNullable",((e,t)=>{oa.init(e,t),Co.init(e,t),e.unwrap=()=>e._zod.def.innerType}));function zi(e){return new Pi({type:"nullable",innerType:e})}const Ri=Me("ZodDefault",((e,t)=>{ia.init(e,t),Co.init(e,t),e.unwrap=()=>e._zod.def.innerType,e.removeDefault=e.unwrap}));const ji=Me("ZodPrefault",((e,t)=>{la.init(e,t),Co.init(e,t),e.unwrap=()=>e._zod.def.innerType}));const Mi=Me("ZodNonOptional",((e,t)=>{ua.init(e,t),Co.init(e,t),e.unwrap=()=>e._zod.def.innerType}));const Fi=Me("ZodCatch",((e,t)=>{da.init(e,t),Co.init(e,t),e.unwrap=()=>e._zod.def.innerType,e.removeCatch=e.unwrap}));const Li=Me("ZodPipe",((e,t)=>{pa.init(e,t),Co.init(e,t),e.in=t.in,e.out=t.out}));function Di(e,t){return new Li({type:"pipe",in:e,out:t})}const Ui=Me("ZodReadonly",((e,t)=>{ha.init(e,t),Co.init(e,t),e.unwrap=()=>e._zod.def.innerType}));const Bi=Me("ZodLazy",((e,t)=>{ga.init(e,t),Co.init(e,t),e.unwrap=()=>e._zod.def.getter()}));function Zi(e){return new Bi({type:"lazy",getter:e})}const qi=Me("ZodCustom",((e,t)=>{va.init(e,t),Co.init(e,t)}));function Vi(e,t){return function(e,t,n){var r;const a=it(n);return null!==(r=a.abort)&&void 0!==r||(a.abort=!0),new e(d({type:"custom",check:"custom",fn:t},a))}(qi,null!==e&&void 0!==e?e:()=>!0,t)}function $i(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{error:"Input not instance of ".concat(e.name)};const n=new qi(d({type:"custom",check:"custom",fn:t=>t instanceof e,abort:!0},it(t)));return n._zod.bag.Class=e,n}var Hi;function Wi(e){return function(e,t){return new e(d({type:"number",coerce:!0,checks:[]},it(t)))}(Go,e)}Hi||(Hi={}),Ue({localeError:ba()});var Qi,Ki;!function(e){e.assertEqual=e=>{},e.assertIs=function(e){},e.assertNever=function(e){throw new Error},e.arrayToEnum=e=>{const t={};for(const n of e)t[n]=n;return t},e.getValidEnumValues=t=>{const n=e.objectKeys(t).filter((e=>"number"!==typeof t[t[e]])),r={};for(const e of n)r[e]=t[e];return e.objectValues(r)},e.objectValues=t=>e.objectKeys(t).map((function(e){return t[e]})),e.objectKeys="function"===typeof Object.keys?e=>Object.keys(e):e=>{const t=[];for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push(n);return t},e.find=(e,t)=>{for(const n of e)if(t(n))return n},e.isInteger="function"===typeof Number.isInteger?e=>Number.isInteger(e):e=>"number"===typeof e&&Number.isFinite(e)&&Math.floor(e)===e,e.joinValues=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:" | ";return e.map((e=>"string"===typeof e?"'".concat(e,"'"):e)).join(t)},e.jsonStringifyReplacer=(e,t)=>"bigint"===typeof t?t.toString():t}(Qi||(Qi={})),function(e){e.mergeShapes=(e,t)=>d(d({},e),t)}(Ki||(Ki={}));const Ji=Qi.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Gi=e=>{switch(typeof e){case"undefined":return Ji.undefined;case"string":return Ji.string;case"number":return Number.isNaN(e)?Ji.nan:Ji.number;case"boolean":return Ji.boolean;case"function":return Ji.function;case"bigint":return Ji.bigint;case"symbol":return Ji.symbol;case"object":return Array.isArray(e)?Ji.array:null===e?Ji.null:e.then&&"function"===typeof e.then&&e.catch&&"function"===typeof e.catch?Ji.promise:"undefined"!==typeof Map&&e instanceof Map?Ji.map:"undefined"!==typeof Set&&e instanceof Set?Ji.set:"undefined"!==typeof Date&&e instanceof Date?Ji.date:Ji.object;default:return Ji.unknown}},Yi=Qi.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class Xi extends Error{get errors(){return this.issues}constructor(e){var t;super(),t=this,this.issues=[],this.addIssue=e=>{this.issues=[...this.issues,e]},this.addIssues=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];t.issues=[...t.issues,...e]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=e}format(e){const t=e||function(e){return e.message},n={_errors:[]},r=e=>{for(const a of e.issues)if("invalid_union"===a.code)a.unionErrors.map(r);else if("invalid_return_type"===a.code)r(a.returnTypeError);else if("invalid_arguments"===a.code)r(a.argumentsError);else if(0===a.path.length)n._errors.push(t(a));else{let e=n,r=0;for(;r<a.path.length;){const n=a.path[r];r===a.path.length-1?(e[n]=e[n]||{_errors:[]},e[n]._errors.push(t(a))):e[n]=e[n]||{_errors:[]},e=e[n],r++}}};return r(this),n}static assert(e){if(!(e instanceof Xi))throw new Error("Not a ZodError: ".concat(e))}toString(){return this.message}get message(){return JSON.stringify(this.issues,Qi.jsonStringifyReplacer,2)}get isEmpty(){return 0===this.issues.length}flatten(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e=>e.message;const t=Object.create(null),n=[];for(const r of this.issues)if(r.path.length>0){const n=r.path[0];t[n]=t[n]||[],t[n].push(e(r))}else n.push(e(r));return{formErrors:n,fieldErrors:t}}get formErrors(){return this.flatten()}}Xi.create=e=>new Xi(e);const es=(e,t)=>{let n;switch(e.code){case Yi.invalid_type:n=e.received===Ji.undefined?"Required":"Expected ".concat(e.expected,", received ").concat(e.received);break;case Yi.invalid_literal:n="Invalid literal value, expected ".concat(JSON.stringify(e.expected,Qi.jsonStringifyReplacer));break;case Yi.unrecognized_keys:n="Unrecognized key(s) in object: ".concat(Qi.joinValues(e.keys,", "));break;case Yi.invalid_union:n="Invalid input";break;case Yi.invalid_union_discriminator:n="Invalid discriminator value. Expected ".concat(Qi.joinValues(e.options));break;case Yi.invalid_enum_value:n="Invalid enum value. Expected ".concat(Qi.joinValues(e.options),", received '").concat(e.received,"'");break;case Yi.invalid_arguments:n="Invalid function arguments";break;case Yi.invalid_return_type:n="Invalid function return type";break;case Yi.invalid_date:n="Invalid date";break;case Yi.invalid_string:"object"===typeof e.validation?"includes"in e.validation?(n='Invalid input: must include "'.concat(e.validation.includes,'"'),"number"===typeof e.validation.position&&(n="".concat(n," at one or more positions greater than or equal to ").concat(e.validation.position))):"startsWith"in e.validation?n='Invalid input: must start with "'.concat(e.validation.startsWith,'"'):"endsWith"in e.validation?n='Invalid input: must end with "'.concat(e.validation.endsWith,'"'):Qi.assertNever(e.validation):n="regex"!==e.validation?"Invalid ".concat(e.validation):"Invalid";break;case Yi.too_small:n="array"===e.type?"Array must contain ".concat(e.exact?"exactly":e.inclusive?"at least":"more than"," ").concat(e.minimum," element(s)"):"string"===e.type?"String must contain ".concat(e.exact?"exactly":e.inclusive?"at least":"over"," ").concat(e.minimum," character(s)"):"number"===e.type||"bigint"===e.type?"Number must be ".concat(e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than ").concat(e.minimum):"date"===e.type?"Date must be ".concat(e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than ").concat(new Date(Number(e.minimum))):"Invalid input";break;case Yi.too_big:n="array"===e.type?"Array must contain ".concat(e.exact?"exactly":e.inclusive?"at most":"less than"," ").concat(e.maximum," element(s)"):"string"===e.type?"String must contain ".concat(e.exact?"exactly":e.inclusive?"at most":"under"," ").concat(e.maximum," character(s)"):"number"===e.type?"Number must be ".concat(e.exact?"exactly":e.inclusive?"less than or equal to":"less than"," ").concat(e.maximum):"bigint"===e.type?"BigInt must be ".concat(e.exact?"exactly":e.inclusive?"less than or equal to":"less than"," ").concat(e.maximum):"date"===e.type?"Date must be ".concat(e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"," ").concat(new Date(Number(e.maximum))):"Invalid input";break;case Yi.custom:n="Invalid input";break;case Yi.invalid_intersection_types:n="Intersection results could not be merged";break;case Yi.not_multiple_of:n="Number must be a multiple of ".concat(e.multipleOf);break;case Yi.not_finite:n="Number must be finite";break;default:n=t.defaultError,Qi.assertNever(e)}return{message:n}};let ts=es;function ns(){return ts}const rs=e=>{const{data:t,path:n,errorMaps:r,issueData:a}=e,o=[...n,...a.path||[]],i=d(d({},a),{},{path:o});if(void 0!==a.message)return d(d({},a),{},{path:o,message:a.message});let s="";const l=r.filter((e=>!!e)).slice().reverse();for(const u of l)s=u(i,{data:t,defaultError:s}).message;return d(d({},a),{},{path:o,message:s})};function as(e,t){const n=ns(),r=rs({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,n,n===es?void 0:es].filter((e=>!!e))});e.common.issues.push(r)}class os{constructor(){this.value="valid"}dirty(){"valid"===this.value&&(this.value="dirty")}abort(){"aborted"!==this.value&&(this.value="aborted")}static mergeArray(e,t){const n=[];for(const r of t){if("aborted"===r.status)return is;"dirty"===r.status&&e.dirty(),n.push(r.value)}return{status:e.value,value:n}}static async mergeObjectAsync(e,t){const n=[];for(const r of t){const e=await r.key,t=await r.value;n.push({key:e,value:t})}return os.mergeObjectSync(e,n)}static mergeObjectSync(e,t){const n={};for(const r of t){const{key:t,value:a}=r;if("aborted"===t.status)return is;if("aborted"===a.status)return is;"dirty"===t.status&&e.dirty(),"dirty"===a.status&&e.dirty(),"__proto__"===t.value||"undefined"===typeof a.value&&!r.alwaysSet||(n[t.value]=a.value)}return{status:e.value,value:n}}}const is=Object.freeze({status:"aborted"}),ss=e=>({status:"dirty",value:e}),ls=e=>({status:"valid",value:e}),us=e=>"aborted"===e.status,cs=e=>"dirty"===e.status,ds=e=>"valid"===e.status,ps=e=>"undefined"!==typeof Promise&&e instanceof Promise;var fs;!function(e){e.errToObj=e=>"string"===typeof e?{message:e}:e||{},e.toString=e=>"string"===typeof e?e:null===e||void 0===e?void 0:e.message}(fs||(fs={}));class hs{constructor(e,t,n,r){this._cachedPath=[],this.parent=e,this.data=t,this._path=n,this._key=r}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const ms=(e,t)=>{if(ds(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const t=new Xi(e.common.issues);return this._error=t,this._error}}};function gs(e){if(!e)return{};const{errorMap:t,invalid_type_error:n,required_error:r,description:a}=e;if(t&&(n||r))throw new Error('Can\'t use "invalid_type_error" or "required_error" in conjunction with custom error map.');if(t)return{errorMap:t,description:a};return{errorMap:(t,a)=>{var o;const{message:i}=e;return"invalid_enum_value"===t.code?{message:null!==i&&void 0!==i?i:a.defaultError}:"undefined"===typeof a.data?{message:null!==(s=null!==i&&void 0!==i?i:r)&&void 0!==s?s:a.defaultError}:"invalid_type"!==t.code?{message:a.defaultError}:{message:null!==(o=null!==i&&void 0!==i?i:n)&&void 0!==o?o:a.defaultError};var s},description:a}}class vs{get description(){return this._def.description}_getType(e){return Gi(e.data)}_getOrReturnCtx(e,t){return t||{common:e.parent.common,data:e.data,parsedType:Gi(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new os,ctx:{common:e.parent.common,data:e.data,parsedType:Gi(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const t=this._parse(e);if(ps(t))throw new Error("Synchronous parse encountered promise.");return t}_parseAsync(e){const t=this._parse(e);return Promise.resolve(t)}parse(e,t){const n=this.safeParse(e,t);if(n.success)return n.data;throw n.error}safeParse(e,t){var n;const r={common:{issues:[],async:null!==(n=null===t||void 0===t?void 0:t.async)&&void 0!==n&&n,contextualErrorMap:null===t||void 0===t?void 0:t.errorMap},path:(null===t||void 0===t?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Gi(e)},a=this._parseSync({data:e,path:r.path,parent:r});return ms(r,a)}"~validate"(e){const t={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Gi(e)};if(!this["~standard"].async)try{const n=this._parseSync({data:e,path:[],parent:t});return ds(n)?{value:n.value}:{issues:t.common.issues}}catch(r){var n;null!==r&&void 0!==r&&null!==(n=r.message)&&void 0!==n&&null!==(n=n.toLowerCase())&&void 0!==n&&n.includes("encountered")&&(this["~standard"].async=!0),t.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:t}).then((e=>ds(e)?{value:e.value}:{issues:t.common.issues}))}async parseAsync(e,t){const n=await this.safeParseAsync(e,t);if(n.success)return n.data;throw n.error}async safeParseAsync(e,t){const n={common:{issues:[],contextualErrorMap:null===t||void 0===t?void 0:t.errorMap,async:!0},path:(null===t||void 0===t?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Gi(e)},r=this._parse({data:e,path:n.path,parent:n}),a=await(ps(r)?r:Promise.resolve(r));return ms(n,a)}refine(e,t){return this._refinement(((n,r)=>{const a=e(n),o=()=>r.addIssue(d({code:Yi.custom},(e=>"string"===typeof t||"undefined"===typeof t?{message:t}:"function"===typeof t?t(e):t)(n)));return"undefined"!==typeof Promise&&a instanceof Promise?a.then((e=>!!e||(o(),!1))):!!a||(o(),!1)}))}refinement(e,t){return this._refinement(((n,r)=>!!e(n)||(r.addIssue("function"===typeof t?t(n,r):t),!1)))}_refinement(e){return new hl({schema:this,typeName:xl.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:e=>this["~validate"](e)}}optional(){return ml.create(this,this._def)}nullable(){return gl.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Xs.create(this)}promise(){return fl.create(this,this._def)}or(e){return nl.create([this,e],this._def)}and(e){return al.create(this,e,this._def)}transform(e){return new hl(d(d({},gs(this._def)),{},{schema:this,typeName:xl.ZodEffects,effect:{type:"transform",transform:e}}))}default(e){const t="function"===typeof e?e:()=>e;return new vl(d(d({},gs(this._def)),{},{innerType:this,defaultValue:t,typeName:xl.ZodDefault}))}brand(){return new _l(d({typeName:xl.ZodBranded,type:this},gs(this._def)))}catch(e){const t="function"===typeof e?e:()=>e;return new yl(d(d({},gs(this._def)),{},{innerType:this,catchValue:t,typeName:xl.ZodCatch}))}describe(e){return new(0,this.constructor)(d(d({},this._def),{},{description:e}))}pipe(e){return wl.create(this,e)}readonly(){return kl.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const ys=/^c[^\s-]{8,}$/i,bs=/^[0-9a-z]+$/,_s=/^[0-9A-HJKMNP-TV-Z]{26}$/i,ws=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,ks=/^[a-z0-9_-]{21}$/i,xs=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,Ss=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,Es=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i;let Cs;const As=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,Is=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,Ts=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,Ns=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,Os=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,Ps=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,zs="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",Rs=new RegExp("^".concat(zs,"$"));function js(e){let t="[0-5]\\d";e.precision?t="".concat(t,"\\.\\d{").concat(e.precision,"}"):null==e.precision&&(t="".concat(t,"(\\.\\d+)?"));const n=e.precision?"+":"?";return"([01]\\d|2[0-3]):[0-5]\\d(:".concat(t,")").concat(n)}function Ms(e){let t="".concat(zs,"T").concat(js(e));const n=[];return n.push(e.local?"Z?":"Z"),e.offset&&n.push("([+-]\\d{2}:?\\d{2})"),t="".concat(t,"(").concat(n.join("|"),")"),new RegExp("^".concat(t,"$"))}function Fs(e,t){return!("v4"!==t&&t||!As.test(e))||!("v6"!==t&&t||!Ts.test(e))}function Ls(e,t){if(!xs.test(e))return!1;try{const[n]=e.split(".");if(!n)return!1;const r=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),a=JSON.parse(atob(r));return"object"===typeof a&&null!==a&&((!("typ"in a)||"JWT"===(null===a||void 0===a?void 0:a.typ))&&(!!a.alg&&(!t||a.alg===t)))}catch(n){return!1}}function Ds(e,t){return!("v4"!==t&&t||!Is.test(e))||!("v6"!==t&&t||!Ns.test(e))}class Us extends vs{_parse(e){this._def.coerce&&(e.data=String(e.data));if(this._getType(e)!==Ji.string){const t=this._getOrReturnCtx(e);return as(t,{code:Yi.invalid_type,expected:Ji.string,received:t.parsedType}),is}const t=new os;let n;for(const a of this._def.checks)if("min"===a.kind)e.data.length<a.value&&(n=this._getOrReturnCtx(e,n),as(n,{code:Yi.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),t.dirty());else if("max"===a.kind)e.data.length>a.value&&(n=this._getOrReturnCtx(e,n),as(n,{code:Yi.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),t.dirty());else if("length"===a.kind){const r=e.data.length>a.value,o=e.data.length<a.value;(r||o)&&(n=this._getOrReturnCtx(e,n),r?as(n,{code:Yi.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}):o&&as(n,{code:Yi.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}),t.dirty())}else if("email"===a.kind)Es.test(e.data)||(n=this._getOrReturnCtx(e,n),as(n,{validation:"email",code:Yi.invalid_string,message:a.message}),t.dirty());else if("emoji"===a.kind)Cs||(Cs=new RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),Cs.test(e.data)||(n=this._getOrReturnCtx(e,n),as(n,{validation:"emoji",code:Yi.invalid_string,message:a.message}),t.dirty());else if("uuid"===a.kind)ws.test(e.data)||(n=this._getOrReturnCtx(e,n),as(n,{validation:"uuid",code:Yi.invalid_string,message:a.message}),t.dirty());else if("nanoid"===a.kind)ks.test(e.data)||(n=this._getOrReturnCtx(e,n),as(n,{validation:"nanoid",code:Yi.invalid_string,message:a.message}),t.dirty());else if("cuid"===a.kind)ys.test(e.data)||(n=this._getOrReturnCtx(e,n),as(n,{validation:"cuid",code:Yi.invalid_string,message:a.message}),t.dirty());else if("cuid2"===a.kind)bs.test(e.data)||(n=this._getOrReturnCtx(e,n),as(n,{validation:"cuid2",code:Yi.invalid_string,message:a.message}),t.dirty());else if("ulid"===a.kind)_s.test(e.data)||(n=this._getOrReturnCtx(e,n),as(n,{validation:"ulid",code:Yi.invalid_string,message:a.message}),t.dirty());else if("url"===a.kind)try{new URL(e.data)}catch(r){n=this._getOrReturnCtx(e,n),as(n,{validation:"url",code:Yi.invalid_string,message:a.message}),t.dirty()}else if("regex"===a.kind){a.regex.lastIndex=0;a.regex.test(e.data)||(n=this._getOrReturnCtx(e,n),as(n,{validation:"regex",code:Yi.invalid_string,message:a.message}),t.dirty())}else if("trim"===a.kind)e.data=e.data.trim();else if("includes"===a.kind)e.data.includes(a.value,a.position)||(n=this._getOrReturnCtx(e,n),as(n,{code:Yi.invalid_string,validation:{includes:a.value,position:a.position},message:a.message}),t.dirty());else if("toLowerCase"===a.kind)e.data=e.data.toLowerCase();else if("toUpperCase"===a.kind)e.data=e.data.toUpperCase();else if("startsWith"===a.kind)e.data.startsWith(a.value)||(n=this._getOrReturnCtx(e,n),as(n,{code:Yi.invalid_string,validation:{startsWith:a.value},message:a.message}),t.dirty());else if("endsWith"===a.kind)e.data.endsWith(a.value)||(n=this._getOrReturnCtx(e,n),as(n,{code:Yi.invalid_string,validation:{endsWith:a.value},message:a.message}),t.dirty());else if("datetime"===a.kind){Ms(a).test(e.data)||(n=this._getOrReturnCtx(e,n),as(n,{code:Yi.invalid_string,validation:"datetime",message:a.message}),t.dirty())}else if("date"===a.kind){Rs.test(e.data)||(n=this._getOrReturnCtx(e,n),as(n,{code:Yi.invalid_string,validation:"date",message:a.message}),t.dirty())}else if("time"===a.kind){new RegExp("^".concat(js(a),"$")).test(e.data)||(n=this._getOrReturnCtx(e,n),as(n,{code:Yi.invalid_string,validation:"time",message:a.message}),t.dirty())}else"duration"===a.kind?Ss.test(e.data)||(n=this._getOrReturnCtx(e,n),as(n,{validation:"duration",code:Yi.invalid_string,message:a.message}),t.dirty()):"ip"===a.kind?Fs(e.data,a.version)||(n=this._getOrReturnCtx(e,n),as(n,{validation:"ip",code:Yi.invalid_string,message:a.message}),t.dirty()):"jwt"===a.kind?Ls(e.data,a.alg)||(n=this._getOrReturnCtx(e,n),as(n,{validation:"jwt",code:Yi.invalid_string,message:a.message}),t.dirty()):"cidr"===a.kind?Ds(e.data,a.version)||(n=this._getOrReturnCtx(e,n),as(n,{validation:"cidr",code:Yi.invalid_string,message:a.message}),t.dirty()):"base64"===a.kind?Os.test(e.data)||(n=this._getOrReturnCtx(e,n),as(n,{validation:"base64",code:Yi.invalid_string,message:a.message}),t.dirty()):"base64url"===a.kind?Ps.test(e.data)||(n=this._getOrReturnCtx(e,n),as(n,{validation:"base64url",code:Yi.invalid_string,message:a.message}),t.dirty()):Qi.assertNever(a);return{status:t.value,value:e.data}}_regex(e,t,n){return this.refinement((t=>e.test(t)),d({validation:t,code:Yi.invalid_string},fs.errToObj(n)))}_addCheck(e){return new Us(d(d({},this._def),{},{checks:[...this._def.checks,e]}))}email(e){return this._addCheck(d({kind:"email"},fs.errToObj(e)))}url(e){return this._addCheck(d({kind:"url"},fs.errToObj(e)))}emoji(e){return this._addCheck(d({kind:"emoji"},fs.errToObj(e)))}uuid(e){return this._addCheck(d({kind:"uuid"},fs.errToObj(e)))}nanoid(e){return this._addCheck(d({kind:"nanoid"},fs.errToObj(e)))}cuid(e){return this._addCheck(d({kind:"cuid"},fs.errToObj(e)))}cuid2(e){return this._addCheck(d({kind:"cuid2"},fs.errToObj(e)))}ulid(e){return this._addCheck(d({kind:"ulid"},fs.errToObj(e)))}base64(e){return this._addCheck(d({kind:"base64"},fs.errToObj(e)))}base64url(e){return this._addCheck(d({kind:"base64url"},fs.errToObj(e)))}jwt(e){return this._addCheck(d({kind:"jwt"},fs.errToObj(e)))}ip(e){return this._addCheck(d({kind:"ip"},fs.errToObj(e)))}cidr(e){return this._addCheck(d({kind:"cidr"},fs.errToObj(e)))}datetime(e){var t,n;return"string"===typeof e?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck(d({kind:"datetime",precision:"undefined"===typeof(null===e||void 0===e?void 0:e.precision)?null:null===e||void 0===e?void 0:e.precision,offset:null!==(t=null===e||void 0===e?void 0:e.offset)&&void 0!==t&&t,local:null!==(n=null===e||void 0===e?void 0:e.local)&&void 0!==n&&n},fs.errToObj(null===e||void 0===e?void 0:e.message)))}date(e){return this._addCheck({kind:"date",message:e})}time(e){return"string"===typeof e?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck(d({kind:"time",precision:"undefined"===typeof(null===e||void 0===e?void 0:e.precision)?null:null===e||void 0===e?void 0:e.precision},fs.errToObj(null===e||void 0===e?void 0:e.message)))}duration(e){return this._addCheck(d({kind:"duration"},fs.errToObj(e)))}regex(e,t){return this._addCheck(d({kind:"regex",regex:e},fs.errToObj(t)))}includes(e,t){return this._addCheck(d({kind:"includes",value:e,position:null===t||void 0===t?void 0:t.position},fs.errToObj(null===t||void 0===t?void 0:t.message)))}startsWith(e,t){return this._addCheck(d({kind:"startsWith",value:e},fs.errToObj(t)))}endsWith(e,t){return this._addCheck(d({kind:"endsWith",value:e},fs.errToObj(t)))}min(e,t){return this._addCheck(d({kind:"min",value:e},fs.errToObj(t)))}max(e,t){return this._addCheck(d({kind:"max",value:e},fs.errToObj(t)))}length(e,t){return this._addCheck(d({kind:"length",value:e},fs.errToObj(t)))}nonempty(e){return this.min(1,fs.errToObj(e))}trim(){return new Us(d(d({},this._def),{},{checks:[...this._def.checks,{kind:"trim"}]}))}toLowerCase(){return new Us(d(d({},this._def),{},{checks:[...this._def.checks,{kind:"toLowerCase"}]}))}toUpperCase(){return new Us(d(d({},this._def),{},{checks:[...this._def.checks,{kind:"toUpperCase"}]}))}get isDatetime(){return!!this._def.checks.find((e=>"datetime"===e.kind))}get isDate(){return!!this._def.checks.find((e=>"date"===e.kind))}get isTime(){return!!this._def.checks.find((e=>"time"===e.kind))}get isDuration(){return!!this._def.checks.find((e=>"duration"===e.kind))}get isEmail(){return!!this._def.checks.find((e=>"email"===e.kind))}get isURL(){return!!this._def.checks.find((e=>"url"===e.kind))}get isEmoji(){return!!this._def.checks.find((e=>"emoji"===e.kind))}get isUUID(){return!!this._def.checks.find((e=>"uuid"===e.kind))}get isNANOID(){return!!this._def.checks.find((e=>"nanoid"===e.kind))}get isCUID(){return!!this._def.checks.find((e=>"cuid"===e.kind))}get isCUID2(){return!!this._def.checks.find((e=>"cuid2"===e.kind))}get isULID(){return!!this._def.checks.find((e=>"ulid"===e.kind))}get isIP(){return!!this._def.checks.find((e=>"ip"===e.kind))}get isCIDR(){return!!this._def.checks.find((e=>"cidr"===e.kind))}get isBase64(){return!!this._def.checks.find((e=>"base64"===e.kind))}get isBase64url(){return!!this._def.checks.find((e=>"base64url"===e.kind))}get minLength(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxLength(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}}function Bs(e,t){const n=(e.toString().split(".")[1]||"").length,r=(t.toString().split(".")[1]||"").length,a=n>r?n:r;return Number.parseInt(e.toFixed(a).replace(".",""))%Number.parseInt(t.toFixed(a).replace(".",""))/10**a}Us.create=e=>{var t;return new Us(d({checks:[],typeName:xl.ZodString,coerce:null!==(t=null===e||void 0===e?void 0:e.coerce)&&void 0!==t&&t},gs(e)))};class Zs extends vs{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){this._def.coerce&&(e.data=Number(e.data));if(this._getType(e)!==Ji.number){const t=this._getOrReturnCtx(e);return as(t,{code:Yi.invalid_type,expected:Ji.number,received:t.parsedType}),is}let t;const n=new os;for(const r of this._def.checks)if("int"===r.kind)Qi.isInteger(e.data)||(t=this._getOrReturnCtx(e,t),as(t,{code:Yi.invalid_type,expected:"integer",received:"float",message:r.message}),n.dirty());else if("min"===r.kind){(r.inclusive?e.data<r.value:e.data<=r.value)&&(t=this._getOrReturnCtx(e,t),as(t,{code:Yi.too_small,minimum:r.value,type:"number",inclusive:r.inclusive,exact:!1,message:r.message}),n.dirty())}else if("max"===r.kind){(r.inclusive?e.data>r.value:e.data>=r.value)&&(t=this._getOrReturnCtx(e,t),as(t,{code:Yi.too_big,maximum:r.value,type:"number",inclusive:r.inclusive,exact:!1,message:r.message}),n.dirty())}else"multipleOf"===r.kind?0!==Bs(e.data,r.value)&&(t=this._getOrReturnCtx(e,t),as(t,{code:Yi.not_multiple_of,multipleOf:r.value,message:r.message}),n.dirty()):"finite"===r.kind?Number.isFinite(e.data)||(t=this._getOrReturnCtx(e,t),as(t,{code:Yi.not_finite,message:r.message}),n.dirty()):Qi.assertNever(r);return{status:n.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,fs.toString(t))}gt(e,t){return this.setLimit("min",e,!1,fs.toString(t))}lte(e,t){return this.setLimit("max",e,!0,fs.toString(t))}lt(e,t){return this.setLimit("max",e,!1,fs.toString(t))}setLimit(e,t,n,r){return new Zs(d(d({},this._def),{},{checks:[...this._def.checks,{kind:e,value:t,inclusive:n,message:fs.toString(r)}]}))}_addCheck(e){return new Zs(d(d({},this._def),{},{checks:[...this._def.checks,e]}))}int(e){return this._addCheck({kind:"int",message:fs.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:fs.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:fs.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:fs.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:fs.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:fs.toString(t)})}finite(e){return this._addCheck({kind:"finite",message:fs.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:fs.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:fs.toString(e)})}get minValue(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}get isInt(){return!!this._def.checks.find((e=>"int"===e.kind||"multipleOf"===e.kind&&Qi.isInteger(e.value)))}get isFinite(){let e=null,t=null;for(const n of this._def.checks){if("finite"===n.kind||"int"===n.kind||"multipleOf"===n.kind)return!0;"min"===n.kind?(null===t||n.value>t)&&(t=n.value):"max"===n.kind&&(null===e||n.value<e)&&(e=n.value)}return Number.isFinite(t)&&Number.isFinite(e)}}Zs.create=e=>new Zs(d({checks:[],typeName:xl.ZodNumber,coerce:(null===e||void 0===e?void 0:e.coerce)||!1},gs(e)));class qs extends vs{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch(r){return this._getInvalidInput(e)}if(this._getType(e)!==Ji.bigint)return this._getInvalidInput(e);let t;const n=new os;for(const a of this._def.checks)if("min"===a.kind){(a.inclusive?e.data<a.value:e.data<=a.value)&&(t=this._getOrReturnCtx(e,t),as(t,{code:Yi.too_small,type:"bigint",minimum:a.value,inclusive:a.inclusive,message:a.message}),n.dirty())}else if("max"===a.kind){(a.inclusive?e.data>a.value:e.data>=a.value)&&(t=this._getOrReturnCtx(e,t),as(t,{code:Yi.too_big,type:"bigint",maximum:a.value,inclusive:a.inclusive,message:a.message}),n.dirty())}else"multipleOf"===a.kind?e.data%a.value!==BigInt(0)&&(t=this._getOrReturnCtx(e,t),as(t,{code:Yi.not_multiple_of,multipleOf:a.value,message:a.message}),n.dirty()):Qi.assertNever(a);return{status:n.value,value:e.data}}_getInvalidInput(e){const t=this._getOrReturnCtx(e);return as(t,{code:Yi.invalid_type,expected:Ji.bigint,received:t.parsedType}),is}gte(e,t){return this.setLimit("min",e,!0,fs.toString(t))}gt(e,t){return this.setLimit("min",e,!1,fs.toString(t))}lte(e,t){return this.setLimit("max",e,!0,fs.toString(t))}lt(e,t){return this.setLimit("max",e,!1,fs.toString(t))}setLimit(e,t,n,r){return new qs(d(d({},this._def),{},{checks:[...this._def.checks,{kind:e,value:t,inclusive:n,message:fs.toString(r)}]}))}_addCheck(e){return new qs(d(d({},this._def),{},{checks:[...this._def.checks,e]}))}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:fs.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:fs.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:fs.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:fs.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:fs.toString(t)})}get minValue(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}}qs.create=e=>{var t;return new qs(d({checks:[],typeName:xl.ZodBigInt,coerce:null!==(t=null===e||void 0===e?void 0:e.coerce)&&void 0!==t&&t},gs(e)))};class Vs extends vs{_parse(e){this._def.coerce&&(e.data=Boolean(e.data));if(this._getType(e)!==Ji.boolean){const t=this._getOrReturnCtx(e);return as(t,{code:Yi.invalid_type,expected:Ji.boolean,received:t.parsedType}),is}return ls(e.data)}}Vs.create=e=>new Vs(d({typeName:xl.ZodBoolean,coerce:(null===e||void 0===e?void 0:e.coerce)||!1},gs(e)));class $s extends vs{_parse(e){this._def.coerce&&(e.data=new Date(e.data));if(this._getType(e)!==Ji.date){const t=this._getOrReturnCtx(e);return as(t,{code:Yi.invalid_type,expected:Ji.date,received:t.parsedType}),is}if(Number.isNaN(e.data.getTime())){return as(this._getOrReturnCtx(e),{code:Yi.invalid_date}),is}const t=new os;let n;for(const r of this._def.checks)"min"===r.kind?e.data.getTime()<r.value&&(n=this._getOrReturnCtx(e,n),as(n,{code:Yi.too_small,message:r.message,inclusive:!0,exact:!1,minimum:r.value,type:"date"}),t.dirty()):"max"===r.kind?e.data.getTime()>r.value&&(n=this._getOrReturnCtx(e,n),as(n,{code:Yi.too_big,message:r.message,inclusive:!0,exact:!1,maximum:r.value,type:"date"}),t.dirty()):Qi.assertNever(r);return{status:t.value,value:new Date(e.data.getTime())}}_addCheck(e){return new $s(d(d({},this._def),{},{checks:[...this._def.checks,e]}))}min(e,t){return this._addCheck({kind:"min",value:e.getTime(),message:fs.toString(t)})}max(e,t){return this._addCheck({kind:"max",value:e.getTime(),message:fs.toString(t)})}get minDate(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return null!=e?new Date(e):null}get maxDate(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return null!=e?new Date(e):null}}$s.create=e=>new $s(d({checks:[],coerce:(null===e||void 0===e?void 0:e.coerce)||!1,typeName:xl.ZodDate},gs(e)));class Hs extends vs{_parse(e){if(this._getType(e)!==Ji.symbol){const t=this._getOrReturnCtx(e);return as(t,{code:Yi.invalid_type,expected:Ji.symbol,received:t.parsedType}),is}return ls(e.data)}}Hs.create=e=>new Hs(d({typeName:xl.ZodSymbol},gs(e)));class Ws extends vs{_parse(e){if(this._getType(e)!==Ji.undefined){const t=this._getOrReturnCtx(e);return as(t,{code:Yi.invalid_type,expected:Ji.undefined,received:t.parsedType}),is}return ls(e.data)}}Ws.create=e=>new Ws(d({typeName:xl.ZodUndefined},gs(e)));class Qs extends vs{_parse(e){if(this._getType(e)!==Ji.null){const t=this._getOrReturnCtx(e);return as(t,{code:Yi.invalid_type,expected:Ji.null,received:t.parsedType}),is}return ls(e.data)}}Qs.create=e=>new Qs(d({typeName:xl.ZodNull},gs(e)));class Ks extends vs{constructor(){super(...arguments),this._any=!0}_parse(e){return ls(e.data)}}Ks.create=e=>new Ks(d({typeName:xl.ZodAny},gs(e)));class Js extends vs{constructor(){super(...arguments),this._unknown=!0}_parse(e){return ls(e.data)}}Js.create=e=>new Js(d({typeName:xl.ZodUnknown},gs(e)));class Gs extends vs{_parse(e){const t=this._getOrReturnCtx(e);return as(t,{code:Yi.invalid_type,expected:Ji.never,received:t.parsedType}),is}}Gs.create=e=>new Gs(d({typeName:xl.ZodNever},gs(e)));class Ys extends vs{_parse(e){if(this._getType(e)!==Ji.undefined){const t=this._getOrReturnCtx(e);return as(t,{code:Yi.invalid_type,expected:Ji.void,received:t.parsedType}),is}return ls(e.data)}}Ys.create=e=>new Ys(d({typeName:xl.ZodVoid},gs(e)));class Xs extends vs{_parse(e){const{ctx:t,status:n}=this._processInputParams(e),r=this._def;if(t.parsedType!==Ji.array)return as(t,{code:Yi.invalid_type,expected:Ji.array,received:t.parsedType}),is;if(null!==r.exactLength){const e=t.data.length>r.exactLength.value,a=t.data.length<r.exactLength.value;(e||a)&&(as(t,{code:e?Yi.too_big:Yi.too_small,minimum:a?r.exactLength.value:void 0,maximum:e?r.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:r.exactLength.message}),n.dirty())}if(null!==r.minLength&&t.data.length<r.minLength.value&&(as(t,{code:Yi.too_small,minimum:r.minLength.value,type:"array",inclusive:!0,exact:!1,message:r.minLength.message}),n.dirty()),null!==r.maxLength&&t.data.length>r.maxLength.value&&(as(t,{code:Yi.too_big,maximum:r.maxLength.value,type:"array",inclusive:!0,exact:!1,message:r.maxLength.message}),n.dirty()),t.common.async)return Promise.all([...t.data].map(((e,n)=>r.type._parseAsync(new hs(t,e,t.path,n))))).then((e=>os.mergeArray(n,e)));const a=[...t.data].map(((e,n)=>r.type._parseSync(new hs(t,e,t.path,n))));return os.mergeArray(n,a)}get element(){return this._def.type}min(e,t){return new Xs(d(d({},this._def),{},{minLength:{value:e,message:fs.toString(t)}}))}max(e,t){return new Xs(d(d({},this._def),{},{maxLength:{value:e,message:fs.toString(t)}}))}length(e,t){return new Xs(d(d({},this._def),{},{exactLength:{value:e,message:fs.toString(t)}}))}nonempty(e){return this.min(1,e)}}function el(e){if(e instanceof tl){const t={};for(const n in e.shape){const r=e.shape[n];t[n]=ml.create(el(r))}return new tl(d(d({},e._def),{},{shape:()=>t}))}return e instanceof Xs?new Xs(d(d({},e._def),{},{type:el(e.element)})):e instanceof ml?ml.create(el(e.unwrap())):e instanceof gl?gl.create(el(e.unwrap())):e instanceof ol?ol.create(e.items.map((e=>el(e)))):e}Xs.create=(e,t)=>new Xs(d({type:e,minLength:null,maxLength:null,exactLength:null,typeName:xl.ZodArray},gs(t)));class tl extends vs{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(null!==this._cached)return this._cached;const e=this._def.shape(),t=Qi.objectKeys(e);return this._cached={shape:e,keys:t},this._cached}_parse(e){if(this._getType(e)!==Ji.object){const t=this._getOrReturnCtx(e);return as(t,{code:Yi.invalid_type,expected:Ji.object,received:t.parsedType}),is}const{status:t,ctx:n}=this._processInputParams(e),{shape:r,keys:a}=this._getCached(),o=[];if(!(this._def.catchall instanceof Gs&&"strip"===this._def.unknownKeys))for(const s in n.data)a.includes(s)||o.push(s);const i=[];for(const s of a){const e=r[s],t=n.data[s];i.push({key:{status:"valid",value:s},value:e._parse(new hs(n,t,n.path,s)),alwaysSet:s in n.data})}if(this._def.catchall instanceof Gs){const e=this._def.unknownKeys;if("passthrough"===e)for(const t of o)i.push({key:{status:"valid",value:t},value:{status:"valid",value:n.data[t]}});else if("strict"===e)o.length>0&&(as(n,{code:Yi.unrecognized_keys,keys:o}),t.dirty());else if("strip"!==e)throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const e=this._def.catchall;for(const t of o){const r=n.data[t];i.push({key:{status:"valid",value:t},value:e._parse(new hs(n,r,n.path,t)),alwaysSet:t in n.data})}}return n.common.async?Promise.resolve().then((async()=>{const e=[];for(const t of i){const n=await t.key,r=await t.value;e.push({key:n,value:r,alwaysSet:t.alwaysSet})}return e})).then((e=>os.mergeObjectSync(t,e))):os.mergeObjectSync(t,i)}get shape(){return this._def.shape()}strict(e){return fs.errToObj,new tl(d(d({},this._def),{},{unknownKeys:"strict"},void 0!==e?{errorMap:(t,n)=>{var r,a,o,i;const s=null!==(r=null===(a=(o=this._def).errorMap)||void 0===a?void 0:a.call(o,t,n).message)&&void 0!==r?r:n.defaultError;return"unrecognized_keys"===t.code?{message:null!==(i=fs.errToObj(e).message)&&void 0!==i?i:s}:{message:s}}}:{}))}strip(){return new tl(d(d({},this._def),{},{unknownKeys:"strip"}))}passthrough(){return new tl(d(d({},this._def),{},{unknownKeys:"passthrough"}))}extend(e){return new tl(d(d({},this._def),{},{shape:()=>d(d({},this._def.shape()),e)}))}merge(e){return new tl({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>d(d({},this._def.shape()),e._def.shape()),typeName:xl.ZodObject})}setKey(e,t){return this.augment({[e]:t})}catchall(e){return new tl(d(d({},this._def),{},{catchall:e}))}pick(e){const t={};for(const n of Qi.objectKeys(e))e[n]&&this.shape[n]&&(t[n]=this.shape[n]);return new tl(d(d({},this._def),{},{shape:()=>t}))}omit(e){const t={};for(const n of Qi.objectKeys(this.shape))e[n]||(t[n]=this.shape[n]);return new tl(d(d({},this._def),{},{shape:()=>t}))}deepPartial(){return el(this)}partial(e){const t={};for(const n of Qi.objectKeys(this.shape)){const r=this.shape[n];e&&!e[n]?t[n]=r:t[n]=r.optional()}return new tl(d(d({},this._def),{},{shape:()=>t}))}required(e){const t={};for(const n of Qi.objectKeys(this.shape))if(e&&!e[n])t[n]=this.shape[n];else{let e=this.shape[n];for(;e instanceof ml;)e=e._def.innerType;t[n]=e}return new tl(d(d({},this._def),{},{shape:()=>t}))}keyof(){return cl(Qi.objectKeys(this.shape))}}tl.create=(e,t)=>new tl(d({shape:()=>e,unknownKeys:"strip",catchall:Gs.create(),typeName:xl.ZodObject},gs(t))),tl.strictCreate=(e,t)=>new tl(d({shape:()=>e,unknownKeys:"strict",catchall:Gs.create(),typeName:xl.ZodObject},gs(t))),tl.lazycreate=(e,t)=>new tl(d({shape:e,unknownKeys:"strip",catchall:Gs.create(),typeName:xl.ZodObject},gs(t)));class nl extends vs{_parse(e){const{ctx:t}=this._processInputParams(e),n=this._def.options;if(t.common.async)return Promise.all(n.map((async e=>{const n=d(d({},t),{},{common:d(d({},t.common),{},{issues:[]}),parent:null});return{result:await e._parseAsync({data:t.data,path:t.path,parent:n}),ctx:n}}))).then((function(e){for(const t of e)if("valid"===t.result.status)return t.result;for(const r of e)if("dirty"===r.result.status)return t.common.issues.push(...r.ctx.common.issues),r.result;const n=e.map((e=>new Xi(e.ctx.common.issues)));return as(t,{code:Yi.invalid_union,unionErrors:n}),is}));{let e;const r=[];for(const o of n){const n=d(d({},t),{},{common:d(d({},t.common),{},{issues:[]}),parent:null}),a=o._parseSync({data:t.data,path:t.path,parent:n});if("valid"===a.status)return a;"dirty"!==a.status||e||(e={result:a,ctx:n}),n.common.issues.length&&r.push(n.common.issues)}if(e)return t.common.issues.push(...e.ctx.common.issues),e.result;const a=r.map((e=>new Xi(e)));return as(t,{code:Yi.invalid_union,unionErrors:a}),is}}get options(){return this._def.options}}nl.create=(e,t)=>new nl(d({options:e,typeName:xl.ZodUnion},gs(t)));function rl(e,t){const n=Gi(e),r=Gi(t);if(e===t)return{valid:!0,data:e};if(n===Ji.object&&r===Ji.object){const n=Qi.objectKeys(t),r=Qi.objectKeys(e).filter((e=>-1!==n.indexOf(e))),a=d(d({},e),t);for(const o of r){const n=rl(e[o],t[o]);if(!n.valid)return{valid:!1};a[o]=n.data}return{valid:!0,data:a}}if(n===Ji.array&&r===Ji.array){if(e.length!==t.length)return{valid:!1};const n=[];for(let r=0;r<e.length;r++){const a=rl(e[r],t[r]);if(!a.valid)return{valid:!1};n.push(a.data)}return{valid:!0,data:n}}return n===Ji.date&&r===Ji.date&&+e===+t?{valid:!0,data:e}:{valid:!1}}class al extends vs{_parse(e){const{status:t,ctx:n}=this._processInputParams(e),r=(e,r)=>{if(us(e)||us(r))return is;const a=rl(e.value,r.value);return a.valid?((cs(e)||cs(r))&&t.dirty(),{status:t.value,value:a.data}):(as(n,{code:Yi.invalid_intersection_types}),is)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then((e=>{let[t,n]=e;return r(t,n)})):r(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}al.create=(e,t,n)=>new al(d({left:e,right:t,typeName:xl.ZodIntersection},gs(n)));class ol extends vs{_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==Ji.array)return as(n,{code:Yi.invalid_type,expected:Ji.array,received:n.parsedType}),is;if(n.data.length<this._def.items.length)return as(n,{code:Yi.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),is;!this._def.rest&&n.data.length>this._def.items.length&&(as(n,{code:Yi.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),t.dirty());const r=[...n.data].map(((e,t)=>{const r=this._def.items[t]||this._def.rest;return r?r._parse(new hs(n,e,n.path,t)):null})).filter((e=>!!e));return n.common.async?Promise.all(r).then((e=>os.mergeArray(t,e))):os.mergeArray(t,r)}get items(){return this._def.items}rest(e){return new ol(d(d({},this._def),{},{rest:e}))}}ol.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new ol(d({items:e,typeName:xl.ZodTuple,rest:null},gs(t)))};class il extends vs{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==Ji.map)return as(n,{code:Yi.invalid_type,expected:Ji.map,received:n.parsedType}),is;const r=this._def.keyType,a=this._def.valueType,o=[...n.data.entries()].map(((e,t)=>{let[o,i]=e;return{key:r._parse(new hs(n,o,n.path,[t,"key"])),value:a._parse(new hs(n,i,n.path,[t,"value"]))}}));if(n.common.async){const e=new Map;return Promise.resolve().then((async()=>{for(const n of o){const r=await n.key,a=await n.value;if("aborted"===r.status||"aborted"===a.status)return is;"dirty"!==r.status&&"dirty"!==a.status||t.dirty(),e.set(r.value,a.value)}return{status:t.value,value:e}}))}{const e=new Map;for(const n of o){const r=n.key,a=n.value;if("aborted"===r.status||"aborted"===a.status)return is;"dirty"!==r.status&&"dirty"!==a.status||t.dirty(),e.set(r.value,a.value)}return{status:t.value,value:e}}}}il.create=(e,t,n)=>new il(d({valueType:t,keyType:e,typeName:xl.ZodMap},gs(n)));class sl extends vs{_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==Ji.set)return as(n,{code:Yi.invalid_type,expected:Ji.set,received:n.parsedType}),is;const r=this._def;null!==r.minSize&&n.data.size<r.minSize.value&&(as(n,{code:Yi.too_small,minimum:r.minSize.value,type:"set",inclusive:!0,exact:!1,message:r.minSize.message}),t.dirty()),null!==r.maxSize&&n.data.size>r.maxSize.value&&(as(n,{code:Yi.too_big,maximum:r.maxSize.value,type:"set",inclusive:!0,exact:!1,message:r.maxSize.message}),t.dirty());const a=this._def.valueType;function o(e){const n=new Set;for(const r of e){if("aborted"===r.status)return is;"dirty"===r.status&&t.dirty(),n.add(r.value)}return{status:t.value,value:n}}const i=[...n.data.values()].map(((e,t)=>a._parse(new hs(n,e,n.path,t))));return n.common.async?Promise.all(i).then((e=>o(e))):o(i)}min(e,t){return new sl(d(d({},this._def),{},{minSize:{value:e,message:fs.toString(t)}}))}max(e,t){return new sl(d(d({},this._def),{},{maxSize:{value:e,message:fs.toString(t)}}))}size(e,t){return this.min(e,t).max(e,t)}nonempty(e){return this.min(1,e)}}sl.create=(e,t)=>new sl(d({valueType:e,minSize:null,maxSize:null,typeName:xl.ZodSet},gs(t)));class ll extends vs{get schema(){return this._def.getter()}_parse(e){const{ctx:t}=this._processInputParams(e);return this._def.getter()._parse({data:t.data,path:t.path,parent:t})}}ll.create=(e,t)=>new ll(d({getter:e,typeName:xl.ZodLazy},gs(t)));class ul extends vs{_parse(e){if(e.data!==this._def.value){const t=this._getOrReturnCtx(e);return as(t,{received:t.data,code:Yi.invalid_literal,expected:this._def.value}),is}return{status:"valid",value:e.data}}get value(){return this._def.value}}function cl(e,t){return new dl(d({values:e,typeName:xl.ZodEnum},gs(t)))}ul.create=(e,t)=>new ul(d({value:e,typeName:xl.ZodLiteral},gs(t)));class dl extends vs{_parse(e){if("string"!==typeof e.data){const t=this._getOrReturnCtx(e),n=this._def.values;return as(t,{expected:Qi.joinValues(n),received:t.parsedType,code:Yi.invalid_type}),is}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){const t=this._getOrReturnCtx(e),n=this._def.values;return as(t,{received:t.data,code:Yi.invalid_enum_value,options:n}),is}return ls(e.data)}get options(){return this._def.values}get enum(){const e={};for(const t of this._def.values)e[t]=t;return e}get Values(){const e={};for(const t of this._def.values)e[t]=t;return e}get Enum(){const e={};for(const t of this._def.values)e[t]=t;return e}extract(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._def;return dl.create(e,d(d({},this._def),t))}exclude(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._def;return dl.create(this.options.filter((t=>!e.includes(t))),d(d({},this._def),t))}}dl.create=cl;class pl extends vs{_parse(e){const t=Qi.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(e);if(n.parsedType!==Ji.string&&n.parsedType!==Ji.number){const e=Qi.objectValues(t);return as(n,{expected:Qi.joinValues(e),received:n.parsedType,code:Yi.invalid_type}),is}if(this._cache||(this._cache=new Set(Qi.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){const e=Qi.objectValues(t);return as(n,{received:n.data,code:Yi.invalid_enum_value,options:e}),is}return ls(e.data)}get enum(){return this._def.values}}pl.create=(e,t)=>new pl(d({values:e,typeName:xl.ZodNativeEnum},gs(t)));class fl extends vs{unwrap(){return this._def.type}_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==Ji.promise&&!1===t.common.async)return as(t,{code:Yi.invalid_type,expected:Ji.promise,received:t.parsedType}),is;const n=t.parsedType===Ji.promise?t.data:Promise.resolve(t.data);return ls(n.then((e=>this._def.type.parseAsync(e,{path:t.path,errorMap:t.common.contextualErrorMap}))))}}fl.create=(e,t)=>new fl(d({type:e,typeName:xl.ZodPromise},gs(t)));class hl extends vs{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===xl.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:t,ctx:n}=this._processInputParams(e),r=this._def.effect||null,a={addIssue:e=>{as(n,e),e.fatal?t.abort():t.dirty()},get path(){return n.path}};if(a.addIssue=a.addIssue.bind(a),"preprocess"===r.type){const e=r.transform(n.data,a);if(n.common.async)return Promise.resolve(e).then((async e=>{if("aborted"===t.value)return is;const r=await this._def.schema._parseAsync({data:e,path:n.path,parent:n});return"aborted"===r.status?is:"dirty"===r.status||"dirty"===t.value?ss(r.value):r}));{if("aborted"===t.value)return is;const r=this._def.schema._parseSync({data:e,path:n.path,parent:n});return"aborted"===r.status?is:"dirty"===r.status||"dirty"===t.value?ss(r.value):r}}if("refinement"===r.type){const e=e=>{const t=r.refinement(e,a);if(n.common.async)return Promise.resolve(t);if(t instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return e};if(!1===n.common.async){const r=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return"aborted"===r.status?is:("dirty"===r.status&&t.dirty(),e(r.value),{status:t.value,value:r.value})}return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then((n=>"aborted"===n.status?is:("dirty"===n.status&&t.dirty(),e(n.value).then((()=>({status:t.value,value:n.value}))))))}if("transform"===r.type){if(!1===n.common.async){const e=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!ds(e))return is;const o=r.transform(e.value,a);if(o instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:t.value,value:o}}return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then((e=>ds(e)?Promise.resolve(r.transform(e.value,a)).then((e=>({status:t.value,value:e}))):is))}Qi.assertNever(r)}}hl.create=(e,t,n)=>new hl(d({schema:e,typeName:xl.ZodEffects,effect:t},gs(n))),hl.createWithPreprocess=(e,t,n)=>new hl(d({schema:t,effect:{type:"preprocess",transform:e},typeName:xl.ZodEffects},gs(n)));class ml extends vs{_parse(e){return this._getType(e)===Ji.undefined?ls(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}ml.create=(e,t)=>new ml(d({innerType:e,typeName:xl.ZodOptional},gs(t)));class gl extends vs{_parse(e){return this._getType(e)===Ji.null?ls(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}gl.create=(e,t)=>new gl(d({innerType:e,typeName:xl.ZodNullable},gs(t)));class vl extends vs{_parse(e){const{ctx:t}=this._processInputParams(e);let n=t.data;return t.parsedType===Ji.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:t.path,parent:t})}removeDefault(){return this._def.innerType}}vl.create=(e,t)=>new vl(d({innerType:e,typeName:xl.ZodDefault,defaultValue:"function"===typeof t.default?t.default:()=>t.default},gs(t)));class yl extends vs{_parse(e){const{ctx:t}=this._processInputParams(e),n=d(d({},t),{},{common:d(d({},t.common),{},{issues:[]})}),r=this._def.innerType._parse({data:n.data,path:n.path,parent:d({},n)});return ps(r)?r.then((e=>({status:"valid",value:"valid"===e.status?e.value:this._def.catchValue({get error(){return new Xi(n.common.issues)},input:n.data})}))):{status:"valid",value:"valid"===r.status?r.value:this._def.catchValue({get error(){return new Xi(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}yl.create=(e,t)=>new yl(d({innerType:e,typeName:xl.ZodCatch,catchValue:"function"===typeof t.catch?t.catch:()=>t.catch},gs(t)));class bl extends vs{_parse(e){if(this._getType(e)!==Ji.nan){const t=this._getOrReturnCtx(e);return as(t,{code:Yi.invalid_type,expected:Ji.nan,received:t.parsedType}),is}return{status:"valid",value:e.data}}}bl.create=e=>new bl(d({typeName:xl.ZodNaN},gs(e)));Symbol("zod_brand");class _l extends vs{_parse(e){const{ctx:t}=this._processInputParams(e),n=t.data;return this._def.type._parse({data:n,path:t.path,parent:t})}unwrap(){return this._def.type}}class wl extends vs{_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.common.async){return(async()=>{const e=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return"aborted"===e.status?is:"dirty"===e.status?(t.dirty(),ss(e.value)):this._def.out._parseAsync({data:e.value,path:n.path,parent:n})})()}{const e=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return"aborted"===e.status?is:"dirty"===e.status?(t.dirty(),{status:"dirty",value:e.value}):this._def.out._parseSync({data:e.value,path:n.path,parent:n})}}static create(e,t){return new wl({in:e,out:t,typeName:xl.ZodPipeline})}}class kl extends vs{_parse(e){const t=this._def.innerType._parse(e),n=e=>(ds(e)&&(e.value=Object.freeze(e.value)),e);return ps(t)?t.then((e=>n(e))):n(t)}unwrap(){return this._def.innerType}}kl.create=(e,t)=>new kl(d({innerType:e,typeName:xl.ZodReadonly},gs(t)));tl.lazycreate;var xl;!function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"}(xl||(xl={}));Us.create,Zs.create,bl.create,qs.create,Vs.create,$s.create,Hs.create,Ws.create,Qs.create,Ks.create,Js.create,Gs.create,Ys.create,Xs.create,tl.create,tl.strictCreate,nl.create,al.create,ol.create,il.create,sl.create,ll.create,ul.create,dl.create,pl.create,fl.create,hl.create,ml.create,gl.create,hl.createWithPreprocess,wl.create;const Sl=["execute","outputSchema","toModelOutput","onInputStart","onInputDelta","onInputAvailable"],El=["execute","toModelOutput","onInputStart","onInputDelta","onInputAvailable"],Cl=["additionalProperties"],Al=["type"],Il=["type"];function Tl(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce(((e,t)=>d(d({},e),null!=t?t:{})),{})}function Nl(){return new DOMException("Delay was aborted","AbortError")}function Ol(e){return Object.fromEntries([...e.headers])}var Pl=function(){let{prefix:e,size:t=16,alphabet:n="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",separator:r="-"}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const a=()=>{const e=n.length,r=new Array(t);for(let a=0;a<t;a++)r[a]=n[Math.random()*e|0];return r.join("")};if(null==e)return a;if(n.includes(r))throw new D({argument:"separator",message:'The separator "'.concat(r,'" must not be part of the alphabet "').concat(n,'".')});return()=>"".concat(e).concat(r).concat(a())},zl=Pl();function Rl(e){return null==e?"unknown error":"string"===typeof e?e:e instanceof Error?e.message:JSON.stringify(e)}function jl(e){return(e instanceof Error||e instanceof DOMException)&&("AbortError"===e.name||"ResponseAborted"===e.name||"TimeoutError"===e.name)}var Ml=["fetch failed","failed to fetch"];function Fl(e){let{error:t,url:n,requestBodyValues:r}=e;if(jl(t))return t;if(t instanceof TypeError&&Ml.includes(t.message.toLowerCase())){const e=t.cause;if(null!=e)return new I({message:"Cannot connect to API: ".concat(e.message),cause:e,url:n,requestBodyValues:r,isRetryable:!0})}return t}function Ll(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:globalThis;var t,n,r;return e.window?"runtime/browser":(null==(t=e.navigator)?void 0:t.userAgent)?"runtime/".concat(e.navigator.userAgent.toLowerCase()):(null==(r=null==(n=e.process)?void 0:n.versions)?void 0:r.node)?"runtime/node.js/".concat(e.process.version.substring(0)):e.EdgeRuntime?"runtime/vercel-edge":"runtime/unknown"}function Dl(e){const t=function(e){return Object.fromEntries(Object.entries(e).filter((e=>{let[t,n]=e;return null!=n})))}(null!=e?e:{}),n=new Headers(t),r=n.get("user-agent")||"";for(var a=arguments.length,o=new Array(a>1?a-1:0),i=1;i<a;i++)o[i-1]=arguments[i];return n.set("user-agent",[r,...o].filter(Boolean).join(" ")),Object.fromEntries(n)}var Ul="3.0.12",Bl=()=>globalThis.fetch,Zl=async e=>{let{url:t,headers:n={},successfulResponseHandler:r,failedResponseHandler:a,abortSignal:o,fetch:i=Bl()}=e;try{const e=await i(t,{method:"GET",headers:Dl(n,"ai-sdk/provider-utils/".concat(Ul),Ll()),signal:o}),l=Ol(e);if(!e.ok){let n;try{n=await a({response:e,url:t,requestBodyValues:{}})}catch(s){if(jl(s)||I.isInstance(s))throw s;throw new I({message:"Failed to process error response",cause:s,statusCode:e.status,url:t,responseHeaders:l,requestBodyValues:{}})}throw n.value}try{return await r({response:e,url:t,requestBodyValues:{}})}catch(s){if(s instanceof Error&&(jl(s)||I.isInstance(s)))throw s;throw new I({message:"Failed to process successful response",cause:s,statusCode:e.status,url:t,responseHeaders:l,requestBodyValues:{}})}}catch(s){throw Fl({error:s,url:t,requestBodyValues:{}})}};function ql(e){let{mediaType:t,url:n,supportedUrls:r}=e;return n=n.toLowerCase(),t=t.toLowerCase(),Object.entries(r).map((e=>{let[t,n]=e;const r=t.toLowerCase();return"*"===r||"*/*"===r?{mediaTypePrefix:"",regexes:n}:{mediaTypePrefix:r.replace(/\*/,""),regexes:n}})).filter((e=>{let{mediaTypePrefix:n}=e;return t.startsWith(n)})).flatMap((e=>{let{regexes:t}=e;return t})).some((e=>e.test(n)))}function Vl(e){let{apiKey:t,environmentVariableName:n,apiKeyParameterName:r="apiKey",description:a}=e;if("string"===typeof t)return t;if(null!=t)throw new oe({message:"".concat(a," API key must be a string.")});if("undefined"===typeof process)throw new oe({message:"".concat(a," API key is missing. Pass it using the '").concat(r,"' parameter. Environment variables is not supported in this environment.")});if(t={NODE_ENV:"production",PUBLIC_URL:"/dinner-debt",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}[n],null==t)throw new oe({message:"".concat(a," API key is missing. Pass it using the '").concat(r,"' parameter or the ").concat(n," environment variable.")});if("string"!==typeof t)throw new oe({message:"".concat(a," API key must be a string. The value of the ").concat(n," environment variable is not a string.")});return t}function $l(e){let{settingValue:t,environmentVariableName:n}=e;return"string"===typeof t||null==t&&"undefined"!==typeof process&&(t={NODE_ENV:"production",PUBLIC_URL:"/dinner-debt",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}[n],null!=t&&"string"===typeof t)?t:void 0}var Hl=/"__proto__"\s*:/,Wl=/"constructor"\s*:/;function Ql(e){const t=JSON.parse(e);return null===t||"object"!==typeof t||!1===Hl.test(e)&&!1===Wl.test(e)?t:function(e){let t=[e];for(;t.length;){const e=t;t=[];for(const n of e){if(Object.prototype.hasOwnProperty.call(n,"__proto__"))throw new SyntaxError("Object contains forbidden prototype property");if(Object.prototype.hasOwnProperty.call(n,"constructor")&&Object.prototype.hasOwnProperty.call(n.constructor,"prototype"))throw new SyntaxError("Object contains forbidden prototype property");for(const e in n){const r=n[e];r&&"object"===typeof r&&t.push(r)}}}return e}(t)}function Kl(e){const{stackTraceLimit:t}=Error;Error.stackTraceLimit=0;try{return Ql(e)}finally{Error.stackTraceLimit=t}}var Jl=Symbol.for("vercel.ai.validator");function Gl(e){let t;return()=>(null==t&&(t=e()),t)}function Yl(e){return function(e){return"object"===typeof e&&null!==e&&Jl in e&&!0===e[Jl]&&"validate"in e}(e)?e:"function"===typeof e?e():function(e){return t=async t=>{const n=await e["~standard"].validate(t);return null==n.issues?{success:!0,value:n.value}:{success:!1,error:new Ae({value:t,cause:n.issues})}},{[Jl]:!0,validate:t};var t}(e)}async function Xl(e){let{value:t,schema:n}=e;const r=await eu({value:t,schema:n});if(!r.success)throw Ae.wrap({value:t,cause:r.error});return r.value}async function eu(e){let{value:t,schema:n}=e;const r=Yl(n);try{if(null==r.validate)return{success:!0,value:t,rawValue:t};const e=await r.validate(t);return e.success?{success:!0,value:e.value,rawValue:t}:{success:!1,error:Ae.wrap({value:t,cause:e.error}),rawValue:t}}catch(a){return{success:!1,error:Ae.wrap({value:t,cause:a}),rawValue:t}}}async function tu(e){let{text:t,schema:n}=e;try{const e=Kl(t);return null==n?{success:!0,value:e,rawValue:e}:await eu({value:e,schema:n})}catch(r){return{success:!1,error:ee.isInstance(r)?r:new ee({text:t,cause:r}),rawValue:void 0}}}function nu(e){try{return Kl(e),!0}catch(eg){return!1}}function ru(e){let{stream:t,schema:n}=e;return t.pipeThrough(new TextDecoderStream).pipeThrough(new je).pipeThrough(new TransformStream({async transform(e,t){let{data:r}=e;"[DONE]"!==r&&t.enqueue(await tu({text:r,schema:n}))}}))}async function au(e){let{provider:t,providerOptions:n,schema:r}=e;if(null==(null==n?void 0:n[t]))return;const a=await eu({value:n[t],schema:r});if(!a.success)throw new D({argument:"providerOptions",message:"invalid ".concat(t," provider options"),cause:a.error});return a.value}var ou=()=>globalThis.fetch,iu=async e=>{let{url:t,headers:n,body:r,failedResponseHandler:a,successfulResponseHandler:o,abortSignal:i,fetch:s}=e;return su({url:t,headers:d({"Content-Type":"application/json"},n),body:{content:JSON.stringify(r),values:r},failedResponseHandler:a,successfulResponseHandler:o,abortSignal:i,fetch:s})},su=async e=>{let{url:t,headers:n={},body:r,successfulResponseHandler:a,failedResponseHandler:o,abortSignal:i,fetch:s=ou()}=e;try{const e=await s(t,{method:"POST",headers:Dl(n,"ai-sdk/provider-utils/".concat(Ul),Ll()),body:r.content,signal:i}),u=Ol(e);if(!e.ok){let n;try{n=await o({response:e,url:t,requestBodyValues:r.values})}catch(l){if(jl(l)||I.isInstance(l))throw l;throw new I({message:"Failed to process error response",cause:l,statusCode:e.status,url:t,responseHeaders:u,requestBodyValues:r.values})}throw n.value}try{return await a({response:e,url:t,requestBodyValues:r.values})}catch(l){if(l instanceof Error&&(jl(l)||I.isInstance(l)))throw l;throw new I({message:"Failed to process successful response",cause:l,statusCode:e.status,url:t,responseHeaders:u,requestBodyValues:r.values})}}catch(l){throw Fl({error:l,url:t,requestBodyValues:r.values})}};function lu(e){let{id:t,name:n,inputSchema:r}=e;return e=>{let{execute:a,outputSchema:o,toModelOutput:i,onInputStart:s,onInputDelta:l,onInputAvailable:u}=e,c=f(e,Sl);return{type:"provider-defined",id:t,name:n,args:c,inputSchema:r,outputSchema:o,execute:a,toModelOutput:i,onInputStart:s,onInputDelta:l,onInputAvailable:u}}}function uu(e){let{id:t,name:n,inputSchema:r,outputSchema:a}=e;return e=>{let{execute:o,toModelOutput:i,onInputStart:s,onInputDelta:l,onInputAvailable:u}=e,c=f(e,El);return{type:"provider-defined",id:t,name:n,args:c,inputSchema:r,outputSchema:a,execute:o,toModelOutput:i,onInputStart:s,onInputDelta:l,onInputAvailable:u}}}async function cu(e){return"function"===typeof e&&(e=e()),Promise.resolve(e)}var du=e=>{let{errorSchema:t,errorToMessage:n,isRetryable:r}=e;return async e=>{let{response:a,url:o,requestBodyValues:i}=e;const s=await a.text(),l=Ol(a);if(""===s.trim())return{responseHeaders:l,value:new I({message:a.statusText,url:o,requestBodyValues:i,statusCode:a.status,responseHeaders:l,responseBody:s,isRetryable:null==r?void 0:r(a)})};try{const e=await async function(e){let{text:t,schema:n}=e;try{const e=Kl(t);return null==n?e:Xl({value:e,schema:n})}catch(r){if(ee.isInstance(r)||Ae.isInstance(r))throw r;throw new ee({text:t,cause:r})}}({text:s,schema:t});return{responseHeaders:l,value:new I({message:n(e),url:o,requestBodyValues:i,statusCode:a.status,responseHeaders:l,responseBody:s,data:e,isRetryable:null==r?void 0:r(a,e)})}}catch(u){return{responseHeaders:l,value:new I({message:a.statusText,url:o,requestBodyValues:i,statusCode:a.status,responseHeaders:l,responseBody:s,isRetryable:null==r?void 0:r(a)})}}}},pu=e=>async t=>{let{response:n}=t;const r=Ol(n);if(null==n.body)throw new z({});return{responseHeaders:r,value:ru({stream:n.body,schema:e})}},fu=e=>async t=>{let{response:n,url:r,requestBodyValues:a}=t;const o=await n.text(),i=await tu({text:o,schema:e}),s=Ol(n);if(!i.success)throw new I({message:"Invalid JSON response",cause:i.error,statusCode:n.status,responseHeaders:s,responseBody:o,url:r,requestBodyValues:a});return{responseHeaders:s,value:i.value,rawValue:i.rawValue}},hu=(e,t)=>{let n=0;for(;n<e.length&&n<t.length&&e[n]===t[n];n++);return[(e.length-n).toString(),...t.slice(n)].join("/")},mu=Symbol("Let zodToJsonSchema decide on which parser to use"),gu={name:void 0,$refStrategy:"root",basePath:["#"],effectStrategy:"input",pipeStrategy:"all",dateStrategy:"format:date-time",mapStrategy:"entries",removeAdditionalStrategy:"passthrough",allowedAdditionalProperties:!0,rejectedAdditionalProperties:!1,definitionPath:"definitions",strictUnions:!1,definitions:{},errorMessages:!1,patternStrategy:"escape",applyRegexFlags:!1,emailStrategy:"format:email",base64Strategy:"contentEncoding:base64",nameStrategy:"ref"};function vu(e,t){return Ru(e.type._def,t)}function yu(e,t,n){const r=null!=n?n:t.dateStrategy;if(Array.isArray(r))return{anyOf:r.map(((n,r)=>yu(e,t,n)))};switch(r){case"string":case"format:date-time":return{type:"string",format:"date-time"};case"format:date":return{type:"string",format:"date"};case"integer":return bu(e)}}var bu=e=>{const t={type:"integer",format:"unix-time"};for(const n of e.checks)switch(n.kind){case"min":t.minimum=n.value;break;case"max":t.maximum=n.value}return t};var _u=void 0,wu={cuid:/^[cC][^\s-]{8,}$/,cuid2:/^[0-9a-z]+$/,ulid:/^[0-9A-HJKMNP-TV-Z]{26}$/,email:/^(?!\.)(?!.*\.\.)([a-zA-Z0-9_'+\-\.]*)[a-zA-Z0-9_+-]@([a-zA-Z0-9][a-zA-Z0-9\-]*\.)+[a-zA-Z]{2,}$/,emoji:()=>(void 0===_u&&(_u=RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),_u),uuid:/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/,ipv4:/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,ipv4Cidr:/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,ipv6:/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,ipv6Cidr:/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,base64:/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,base64url:/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,nanoid:/^[a-zA-Z0-9_-]{21}$/,jwt:/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/};function ku(e,t){const n={type:"string"};if(e.checks)for(const r of e.checks)switch(r.kind){case"min":n.minLength="number"===typeof n.minLength?Math.max(n.minLength,r.value):r.value;break;case"max":n.maxLength="number"===typeof n.maxLength?Math.min(n.maxLength,r.value):r.value;break;case"email":switch(t.emailStrategy){case"format:email":Eu(n,"email",r.message,t);break;case"format:idn-email":Eu(n,"idn-email",r.message,t);break;case"pattern:zod":Cu(n,wu.email,r.message,t)}break;case"url":Eu(n,"uri",r.message,t);break;case"uuid":Eu(n,"uuid",r.message,t);break;case"regex":Cu(n,r.regex,r.message,t);break;case"cuid":Cu(n,wu.cuid,r.message,t);break;case"cuid2":Cu(n,wu.cuid2,r.message,t);break;case"startsWith":Cu(n,RegExp("^".concat(xu(r.value,t))),r.message,t);break;case"endsWith":Cu(n,RegExp("".concat(xu(r.value,t),"$")),r.message,t);break;case"datetime":Eu(n,"date-time",r.message,t);break;case"date":Eu(n,"date",r.message,t);break;case"time":Eu(n,"time",r.message,t);break;case"duration":Eu(n,"duration",r.message,t);break;case"length":n.minLength="number"===typeof n.minLength?Math.max(n.minLength,r.value):r.value,n.maxLength="number"===typeof n.maxLength?Math.min(n.maxLength,r.value):r.value;break;case"includes":Cu(n,RegExp(xu(r.value,t)),r.message,t);break;case"ip":"v6"!==r.version&&Eu(n,"ipv4",r.message,t),"v4"!==r.version&&Eu(n,"ipv6",r.message,t);break;case"base64url":Cu(n,wu.base64url,r.message,t);break;case"jwt":Cu(n,wu.jwt,r.message,t);break;case"cidr":"v6"!==r.version&&Cu(n,wu.ipv4Cidr,r.message,t),"v4"!==r.version&&Cu(n,wu.ipv6Cidr,r.message,t);break;case"emoji":Cu(n,wu.emoji(),r.message,t);break;case"ulid":Cu(n,wu.ulid,r.message,t);break;case"base64":switch(t.base64Strategy){case"format:binary":Eu(n,"binary",r.message,t);break;case"contentEncoding:base64":n.contentEncoding="base64";break;case"pattern:zod":Cu(n,wu.base64,r.message,t)}break;case"nanoid":Cu(n,wu.nanoid,r.message,t)}return n}function xu(e,t){return"escape"===t.patternStrategy?function(e){let t="";for(let n=0;n<e.length;n++)Su.has(e[n])||(t+="\\"),t+=e[n];return t}(e):e}var Su=new Set("ABCDEFGHIJKLMNOPQRSTUVXYZabcdefghijklmnopqrstuvxyz0123456789");function Eu(e,t,n,r){var a;e.format||(null==(a=e.anyOf)?void 0:a.some((e=>e.format)))?(e.anyOf||(e.anyOf=[]),e.format&&(e.anyOf.push({format:e.format}),delete e.format),e.anyOf.push(d({format:t},n&&r.errorMessages&&{errorMessage:{format:n}}))):e.format=t}function Cu(e,t,n,r){var a;e.pattern||(null==(a=e.allOf)?void 0:a.some((e=>e.pattern)))?(e.allOf||(e.allOf=[]),e.pattern&&(e.allOf.push({pattern:e.pattern}),delete e.pattern),e.allOf.push(d({pattern:Au(t,r)},n&&r.errorMessages&&{errorMessage:{pattern:n}}))):e.pattern=Au(t,r)}function Au(e,t){var n;if(!t.applyRegexFlags||!e.flags)return e.source;const r=e.flags.includes("i"),a=e.flags.includes("m"),o=e.flags.includes("s"),i=r?e.source.toLowerCase():e.source;let s="",l=!1,u=!1,c=!1;for(let d=0;d<i.length;d++)if(l)s+=i[d],l=!1;else{if(r)if(u){if(i[d].match(/[a-z]/)){c?(s+=i[d],s+="".concat(i[d-2],"-").concat(i[d]).toUpperCase(),c=!1):"-"===i[d+1]&&(null==(n=i[d+2])?void 0:n.match(/[a-z]/))?(s+=i[d],c=!0):s+="".concat(i[d]).concat(i[d].toUpperCase());continue}}else if(i[d].match(/[a-z]/)){s+="[".concat(i[d]).concat(i[d].toUpperCase(),"]");continue}if(a){if("^"===i[d]){s+="(^|(?<=[\r\n]))";continue}if("$"===i[d]){s+="($|(?=[\r\n]))";continue}}o&&"."===i[d]?s+=u?"".concat(i[d],"\r\n"):"[".concat(i[d],"\r\n]"):(s+=i[d],"\\"===i[d]?l=!0:u&&"]"===i[d]?u=!1:u||"["!==i[d]||(u=!0))}try{new RegExp(s)}catch(eg){return console.warn("Could not convert regex pattern at ".concat(t.currentPath.join("/")," to a flag-independent form! Falling back to the flag-ignorant source")),e.source}return s}function Iu(e,t){var n,r,a,o,i,s;const l={type:"object",additionalProperties:null!=(n=Ru(e.valueType._def,d(d({},t),{},{currentPath:[...t.currentPath,"additionalProperties"]})))?n:t.allowedAdditionalProperties};if((null==(r=e.keyType)?void 0:r._def.typeName)===xl.ZodString&&(null==(a=e.keyType._def.checks)?void 0:a.length)){const n=ku(e.keyType._def,t),{type:r}=n,a=f(n,Al);return d(d({},l),{},{propertyNames:a})}if((null==(o=e.keyType)?void 0:o._def.typeName)===xl.ZodEnum)return d(d({},l),{},{propertyNames:{enum:e.keyType._def.values}});if((null==(i=e.keyType)?void 0:i._def.typeName)===xl.ZodBranded&&e.keyType._def.type._def.typeName===xl.ZodString&&(null==(s=e.keyType._def.type._def.checks)?void 0:s.length)){const n=vu(e.keyType._def,t),{type:r}=n,a=f(n,Il);return d(d({},l),{},{propertyNames:a})}return l}var Tu={ZodString:"string",ZodNumber:"number",ZodBigInt:"integer",ZodBoolean:"boolean",ZodNull:"null"};var Nu=(e,t)=>{const n=(e.options instanceof Map?Array.from(e.options.values()):e.options).map(((e,n)=>Ru(e._def,d(d({},t),{},{currentPath:[...t.currentPath,"anyOf","".concat(n)]})))).filter((e=>!!e&&(!t.strictUnions||"object"===typeof e&&Object.keys(e).length>0)));return n.length?{anyOf:n}:void 0};function Ou(e,t){const n={type:"object",properties:{}},r=[],a=e.shape();for(const i in a){let e=a[i];if(void 0===e||void 0===e._def)continue;const o=Pu(e),s=Ru(e._def,d(d({},t),{},{currentPath:[...t.currentPath,"properties",i],propertyPath:[...t.currentPath,"properties",i]}));void 0!==s&&(n.properties[i]=s,o||r.push(i))}r.length&&(n.required=r);const o=function(e,t){if("ZodNever"!==e.catchall._def.typeName)return Ru(e.catchall._def,d(d({},t),{},{currentPath:[...t.currentPath,"additionalProperties"]}));switch(e.unknownKeys){case"passthrough":return t.allowedAdditionalProperties;case"strict":return t.rejectedAdditionalProperties;case"strip":return"strict"===t.removeAdditionalStrategy?t.allowedAdditionalProperties:t.rejectedAdditionalProperties}}(e,t);return void 0!==o&&(n.additionalProperties=o),n}function Pu(e){try{return e.isOptional()}catch(eg){return!0}}var zu=(e,t,n)=>{switch(t){case xl.ZodString:return ku(e,n);case xl.ZodNumber:return function(e){const t={type:"number"};if(!e.checks)return t;for(const n of e.checks)switch(n.kind){case"int":t.type="integer";break;case"min":n.inclusive?t.minimum=n.value:t.exclusiveMinimum=n.value;break;case"max":n.inclusive?t.maximum=n.value:t.exclusiveMaximum=n.value;break;case"multipleOf":t.multipleOf=n.value}return t}(e);case xl.ZodObject:return Ou(e,n);case xl.ZodBigInt:return function(e){const t={type:"integer",format:"int64"};if(!e.checks)return t;for(const n of e.checks)switch(n.kind){case"min":n.inclusive?t.minimum=n.value:t.exclusiveMinimum=n.value;break;case"max":n.inclusive?t.maximum=n.value:t.exclusiveMaximum=n.value;break;case"multipleOf":t.multipleOf=n.value}return t}(e);case xl.ZodBoolean:return{type:"boolean"};case xl.ZodDate:return yu(e,n);case xl.ZodUndefined:return{not:{}};case xl.ZodNull:return{type:"null"};case xl.ZodArray:return function(e,t){var n,r,a;const o={type:"array"};return(null==(n=e.type)?void 0:n._def)&&(null==(a=null==(r=e.type)?void 0:r._def)?void 0:a.typeName)!==xl.ZodAny&&(o.items=Ru(e.type._def,d(d({},t),{},{currentPath:[...t.currentPath,"items"]}))),e.minLength&&(o.minItems=e.minLength.value),e.maxLength&&(o.maxItems=e.maxLength.value),e.exactLength&&(o.minItems=e.exactLength.value,o.maxItems=e.exactLength.value),o}(e,n);case xl.ZodUnion:case xl.ZodDiscriminatedUnion:return function(e,t){const n=e.options instanceof Map?Array.from(e.options.values()):e.options;if(n.every((e=>e._def.typeName in Tu&&(!e._def.checks||!e._def.checks.length)))){const e=n.reduce(((e,t)=>{const n=Tu[t._def.typeName];return n&&!e.includes(n)?[...e,n]:e}),[]);return{type:e.length>1?e:e[0]}}if(n.every((e=>"ZodLiteral"===e._def.typeName&&!e.description))){const e=n.reduce(((e,t)=>{const n=typeof t._def.value;switch(n){case"string":case"number":case"boolean":return[...e,n];case"bigint":return[...e,"integer"];case"object":if(null===t._def.value)return[...e,"null"];default:return e}}),[]);if(e.length===n.length){const t=e.filter(((e,t,n)=>n.indexOf(e)===t));return{type:t.length>1?t:t[0],enum:n.reduce(((e,t)=>e.includes(t._def.value)?e:[...e,t._def.value]),[])}}}else if(n.every((e=>"ZodEnum"===e._def.typeName)))return{type:"string",enum:n.reduce(((e,t)=>[...e,...t._def.values.filter((t=>!e.includes(t)))]),[])};return Nu(e,t)}(e,n);case xl.ZodIntersection:return function(e,t){const n=[Ru(e.left._def,d(d({},t),{},{currentPath:[...t.currentPath,"allOf","0"]})),Ru(e.right._def,d(d({},t),{},{currentPath:[...t.currentPath,"allOf","1"]}))].filter((e=>!!e)),r=[];return n.forEach((e=>{if("type"in(t=e)&&"string"===t.type||!("allOf"in t)){let t=e;if("additionalProperties"in e&&!1===e.additionalProperties){const{additionalProperties:n}=e;t=f(e,Cl)}r.push(t)}else r.push(...e.allOf);var t})),r.length?{allOf:r}:void 0}(e,n);case xl.ZodTuple:return function(e,t){return e.rest?{type:"array",minItems:e.items.length,items:e.items.map(((e,n)=>Ru(e._def,d(d({},t),{},{currentPath:[...t.currentPath,"items","".concat(n)]})))).reduce(((e,t)=>void 0===t?e:[...e,t]),[]),additionalItems:Ru(e.rest._def,d(d({},t),{},{currentPath:[...t.currentPath,"additionalItems"]}))}:{type:"array",minItems:e.items.length,maxItems:e.items.length,items:e.items.map(((e,n)=>Ru(e._def,d(d({},t),{},{currentPath:[...t.currentPath,"items","".concat(n)]})))).reduce(((e,t)=>void 0===t?e:[...e,t]),[])}}(e,n);case xl.ZodRecord:return Iu(e,n);case xl.ZodLiteral:return function(e){const t=typeof e.value;return"bigint"!==t&&"number"!==t&&"boolean"!==t&&"string"!==t?{type:Array.isArray(e.value)?"array":"object"}:{type:"bigint"===t?"integer":t,const:e.value}}(e);case xl.ZodEnum:return function(e){return{type:"string",enum:Array.from(e.values)}}(e);case xl.ZodNativeEnum:return function(e){const t=e.values,n=Object.keys(e.values).filter((e=>"number"!==typeof t[t[e]])).map((e=>t[e])),r=Array.from(new Set(n.map((e=>typeof e))));return{type:1===r.length?"string"===r[0]?"string":"number":["string","number"],enum:n}}(e);case xl.ZodNullable:return function(e,t){if(["ZodString","ZodNumber","ZodBigInt","ZodBoolean","ZodNull"].includes(e.innerType._def.typeName)&&(!e.innerType._def.checks||!e.innerType._def.checks.length))return{type:[Tu[e.innerType._def.typeName],"null"]};const n=Ru(e.innerType._def,d(d({},t),{},{currentPath:[...t.currentPath,"anyOf","0"]}));return n&&{anyOf:[n,{type:"null"}]}}(e,n);case xl.ZodOptional:return((e,t)=>{var n;if(t.currentPath.toString()===(null==(n=t.propertyPath)?void 0:n.toString()))return Ru(e.innerType._def,t);const r=Ru(e.innerType._def,d(d({},t),{},{currentPath:[...t.currentPath,"anyOf","1"]}));return r?{anyOf:[{not:{}},r]}:{}})(e,n);case xl.ZodMap:return function(e,t){return"record"===t.mapStrategy?Iu(e,t):{type:"array",maxItems:125,items:{type:"array",items:[Ru(e.keyType._def,d(d({},t),{},{currentPath:[...t.currentPath,"items","items","0"]}))||{},Ru(e.valueType._def,d(d({},t),{},{currentPath:[...t.currentPath,"items","items","1"]}))||{}],minItems:2,maxItems:2}}}(e,n);case xl.ZodSet:return function(e,t){const n={type:"array",uniqueItems:!0,items:Ru(e.valueType._def,d(d({},t),{},{currentPath:[...t.currentPath,"items"]}))};return e.minSize&&(n.minItems=e.minSize.value),e.maxSize&&(n.maxItems=e.maxSize.value),n}(e,n);case xl.ZodLazy:return()=>e.getter()._def;case xl.ZodPromise:return function(e,t){return Ru(e.type._def,t)}(e,n);case xl.ZodNaN:case xl.ZodNever:return{not:{}};case xl.ZodEffects:return function(e,t){return"input"===t.effectStrategy?Ru(e.schema._def,t):{}}(e,n);case xl.ZodAny:case xl.ZodUnknown:return{};case xl.ZodDefault:return function(e,t){return d(d({},Ru(e.innerType._def,t)),{},{default:e.defaultValue()})}(e,n);case xl.ZodBranded:return vu(e,n);case xl.ZodReadonly:case xl.ZodCatch:return((e,t)=>Ru(e.innerType._def,t))(e,n);case xl.ZodPipeline:return((e,t)=>{if("input"===t.pipeStrategy)return Ru(e.in._def,t);if("output"===t.pipeStrategy)return Ru(e.out._def,t);const n=Ru(e.in._def,d(d({},t),{},{currentPath:[...t.currentPath,"allOf","0"]}));return{allOf:[n,Ru(e.out._def,d(d({},t),{},{currentPath:[...t.currentPath,"allOf",n?"1":"0"]}))].filter((e=>void 0!==e))}})(e,n);case xl.ZodFunction:case xl.ZodVoid:case xl.ZodSymbol:default:return}};function Ru(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];var r;const a=t.seen.get(e);if(t.override){const o=null==(r=t.override)?void 0:r.call(t,e,t,a,n);if(o!==mu)return o}if(a&&!n){const e=ju(a,t);if(void 0!==e)return e}const o={def:e,path:t.currentPath,jsonSchema:void 0};t.seen.set(e,o);const i=zu(e,e.typeName,t),s="function"===typeof i?Ru(i(),t):i;if(s&&Mu(e,t,s),t.postProcess){const n=t.postProcess(s,e,t);return o.jsonSchema=s,n}return o.jsonSchema=s,s}var ju=(e,t)=>{switch(t.$refStrategy){case"root":return{$ref:e.path.join("/")};case"relative":return{$ref:hu(t.currentPath,e.path)};case"none":case"seen":return e.path.length<t.currentPath.length&&e.path.every(((e,n)=>t.currentPath[n]===e))?(console.warn("Recursive reference detected at ".concat(t.currentPath.join("/"),"! Defaulting to any")),{}):"seen"===t.$refStrategy?{}:void 0}},Mu=(e,t,n)=>(e.description&&(n.description=e.description),n),Fu=e=>{const t=(e=>"string"===typeof e?d(d({},gu),{},{name:e}):d(d({},gu),e))(e),n=void 0!==t.name?[...t.basePath,t.definitionPath,t.name]:t.basePath;return d(d({},t),{},{currentPath:n,propertyPath:void 0,seen:new Map(Object.entries(t.definitions).map((e=>{let[n,r]=e;return[r._def,{def:r._def,path:[...t.basePath,t.definitionPath,n],jsonSchema:void 0}]})))})},Lu=(e,t)=>{var n;const r=Fu(t);let a="object"===typeof t&&t.definitions?Object.entries(t.definitions).reduce(((e,t)=>{let[n,a]=t;var o;return d(d({},e),{},{[n]:null!=(o=Ru(a._def,d(d({},r),{},{currentPath:[...r.basePath,r.definitionPath,n]}),!0))?o:{}})}),{}):void 0;const o="string"===typeof t?t:"title"===(null==t?void 0:t.nameStrategy)||null==t?void 0:t.name,i=null!=(n=Ru(e._def,void 0===o?r:d(d({},r),{},{currentPath:[...r.basePath,r.definitionPath,o]}),!1))?n:{},s="object"===typeof t&&void 0!==t.name&&"title"===t.nameStrategy?t.name:void 0;void 0!==s&&(i.title=s);const l=void 0===o?a?d(d({},i),{},{[r.definitionPath]:a}):i:{$ref:[..."relative"===r.$refStrategy?[]:r.basePath,r.definitionPath,o].join("/"),[r.definitionPath]:d(d({},a),{},{[o]:i})};return l.$schema="http://json-schema.org/draft-07/schema#",l};function Du(e,t){var n;const r=null!=(n=null==t?void 0:t.useReferences)&&n;return qu((()=>function(e,t){if(e instanceof _a){const n=new to(t),r={};for(const t of e._idmap.entries()){const[e,r]=t;n.process(r)}const a={},o={registry:e,uri:null===t||void 0===t?void 0:t.uri,defs:r};for(const i of e._idmap.entries()){const[e,r]=i;a[e]=n.emit(r,d(d({},t),{},{external:o}))}if(Object.keys(r).length>0){const e="draft-2020-12"===n.target?"$defs":"definitions";a.__shared={[e]:r}}return{schemas:a}}const n=new to(t);return n.process(e),n.emit(e,t)}(e,{target:"draft-7",io:"output",reused:r?"ref":"inline"})),{validate:async t=>{const n=await vo(e,t);return n.success?{success:!0,value:n.data}:{success:!1,error:n.error}}})}function Uu(e,t){return function(e){return"_zod"in e}(e)?Du(e,t):function(e,t){var n;const r=null!=(n=null==t?void 0:t.useReferences)&&n;return qu((()=>Lu(e,{$refStrategy:r?"root":"none"})),{validate:async t=>{const n=await e.safeParseAsync(t);return n.success?{success:!0,value:n.data}:{success:!1,error:n.error}}})}(e,t)}var Bu=Symbol.for("vercel.ai.schema");function Zu(e){let t;return()=>(null==t&&(t=e()),t)}function qu(e){let{validate:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return{[Bu]:!0,_type:void 0,[Jl]:!0,get jsonSchema(){return"function"===typeof e&&(e=e()),e},validate:t}}function Vu(e){return null==e?qu({properties:{},additionalProperties:!1}):"object"===typeof(t=e)&&null!==t&&Bu in t&&!0===t[Bu]&&"jsonSchema"in t&&"validate"in t?e:"function"===typeof e?e():Uu(e);var t}var{btoa:$u,atob:Hu}=globalThis;function Wu(e){const t=e.replace(/-/g,"+").replace(/_/g,"/"),n=Hu(t);return Uint8Array.from(n,(e=>e.codePointAt(0)))}function Qu(e){let t="";for(let n=0;n<e.length;n++)t+=String.fromCodePoint(e[n]);return $u(t)}function Ku(e){return e instanceof Uint8Array?Qu(e):e}function Ju(e){return null==e?void 0:e.replace(/\/$/,"")}function Gu(){return Gu=function(e){return function(){return new y(e.apply(this,arguments))}}((function(e){let{execute:t,input:n,options:r}=e;return function*(){const e=t(n,r);if(null!=(u=e)&&"function"===typeof u[Symbol.asyncIterator]){let t;var a,o=!1,i=!1;try{for(var s,l=h(e);o=!(s=yield v(l.next())).done;o=!1){const e=s.value;t=e,yield{type:"preliminary",output:e}}}catch(c){i=!0,a=c}finally{try{o&&null!=l.return&&(yield v(l.return()))}finally{if(i)throw a}}yield{type:"final",output:t}}else yield{type:"final",output:yield v(e)};var u}()})),Gu.apply(this,arguments)}var Yu=__webpack_require__(327);const Xu=["abortSignal"];var ec,tc,nc,rc,ac,oc,ic,sc,lc,uc,cc,dc,pc,fc,hc=Symbol.for("vercel.ai.gateway.error"),mc=class e extends(tc=Error,ec=hc,tc){constructor(e){let{message:t,statusCode:n=500,cause:r}=e;super(t),this[ec]=!0,this.statusCode=n,this.cause=r}static isInstance(t){return e.hasMarker(t)}static hasMarker(e){return"object"===typeof e&&null!==e&&hc in e&&!0===e[hc]}},gc="GatewayAuthenticationError",vc="vercel.ai.gateway.error.".concat(gc),yc=Symbol.for(vc),bc=class e extends(rc=mc,nc=yc,rc){constructor(){let{message:e="Authentication failed",statusCode:t=401,cause:n}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super({message:e,statusCode:t,cause:n}),this[nc]=!0,this.name=gc,this.type="authentication_error"}static isInstance(e){return mc.hasMarker(e)&&yc in e}static createContextualError(t){let n,{apiKeyProvided:r,oidcTokenProvided:a,message:o="Authentication failed",statusCode:i=401,cause:s}=t;return n=r?"AI Gateway authentication failed: Invalid API key provided.\n\nThe token is expected to be provided via the 'apiKey' option or 'AI_GATEWAY_API_KEY' environment variable.":a?"AI Gateway authentication failed: Invalid OIDC token provided.\n\nThe token is expected to be provided via the 'VERCEL_OIDC_TOKEN' environment variable. It expires every 12 hours.\n- make sure your Vercel project settings have OIDC enabled\n- if running locally with 'vercel dev', the token is automatically obtained and refreshed\n- if running locally with your own dev server, run 'vercel env pull' to fetch the token\n- in production/preview, the token is automatically obtained and refreshed\n\nAlternative: Provide an API key via 'apiKey' option or 'AI_GATEWAY_API_KEY' environment variable.":"AI Gateway authentication failed: No authentication provided.\n\nProvide either an API key or OIDC token.\n\nAPI key instructions:\n\nThe token is expected to be provided via the 'apiKey' option or 'AI_GATEWAY_API_KEY' environment variable.\n\nOIDC token instructions:\n\nThe token is expected to be provided via the 'VERCEL_OIDC_TOKEN' environment variable. It expires every 12 hours.\n- make sure your Vercel project settings have OIDC enabled\n- if running locally with 'vercel dev', the token is automatically obtained and refreshed\n- if running locally with your own dev server, run 'vercel env pull' to fetch the token\n- in production/preview, the token is automatically obtained and refreshed",new e({message:n,statusCode:i,cause:s})}},_c="GatewayInvalidRequestError",wc="vercel.ai.gateway.error.".concat(_c),kc=Symbol.for(wc),xc=class extends(oc=mc,ac=kc,oc){constructor(){let{message:e="Invalid request",statusCode:t=400,cause:n}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super({message:e,statusCode:t,cause:n}),this[ac]=!0,this.name=_c,this.type="invalid_request_error"}static isInstance(e){return mc.hasMarker(e)&&kc in e}},Sc="GatewayRateLimitError",Ec="vercel.ai.gateway.error.".concat(Sc),Cc=Symbol.for(Ec),Ac=class extends(sc=mc,ic=Cc,sc){constructor(){let{message:e="Rate limit exceeded",statusCode:t=429,cause:n}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super({message:e,statusCode:t,cause:n}),this[ic]=!0,this.name=Sc,this.type="rate_limit_exceeded"}static isInstance(e){return mc.hasMarker(e)&&Cc in e}},Ic="GatewayModelNotFoundError",Tc="vercel.ai.gateway.error.".concat(Ic),Nc=Symbol.for(Tc),Oc=Gl((()=>Uu(hi({modelId:To()})))),Pc=class extends(uc=mc,lc=Nc,uc){constructor(){let{message:e="Model not found",statusCode:t=404,modelId:n,cause:r}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super({message:e,statusCode:t,cause:r}),this[lc]=!0,this.name=Ic,this.type="model_not_found",this.modelId=n}static isInstance(e){return mc.hasMarker(e)&&Nc in e}},zc="GatewayInternalServerError",Rc="vercel.ai.gateway.error.".concat(zc),jc=Symbol.for(Rc),Mc=class extends(dc=mc,cc=jc,dc){constructor(){let{message:e="Internal server error",statusCode:t=500,cause:n}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super({message:e,statusCode:t,cause:n}),this[cc]=!0,this.name=zc,this.type="internal_server_error"}static isInstance(e){return mc.hasMarker(e)&&jc in e}},Fc="GatewayResponseError",Lc="vercel.ai.gateway.error.".concat(Fc),Dc=Symbol.for(Lc),Uc=class extends(fc=mc,pc=Dc,fc){constructor(){let{message:e="Invalid response from Gateway",statusCode:t=502,response:n,validationError:r,cause:a}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super({message:e,statusCode:t,cause:a}),this[pc]=!0,this.name=Fc,this.type="response_error",this.response=n,this.validationError=r}static isInstance(e){return mc.hasMarker(e)&&Dc in e}};async function Bc(e){let{response:t,statusCode:n,defaultMessage:r="Gateway request failed",cause:a,authMethod:o}=e;const i=await eu({value:t,schema:Zc});if(!i.success)return new Uc({message:"Invalid error response format: ".concat(r),statusCode:n,response:t,validationError:i.error,cause:a});const s=i.value,l=s.error.type,u=s.error.message;switch(l){case"authentication_error":return bc.createContextualError({apiKeyProvided:"api-key"===o,oidcTokenProvided:"oidc"===o,statusCode:n,cause:a});case"invalid_request_error":return new xc({message:u,statusCode:n,cause:a});case"rate_limit_exceeded":return new Ac({message:u,statusCode:n,cause:a});case"model_not_found":{const e=await eu({value:s.error.param,schema:Oc});return new Pc({message:u,statusCode:n,modelId:e.success?e.value.modelId:void 0,cause:a})}default:return new Mc({message:u,statusCode:n,cause:a})}}var Zc=Gl((()=>Uu(hi({error:hi({message:To(),type:To().nullish(),param:li().nullish(),code:yi([To(),Yo()]).nullish()})}))));function qc(e,t){var n;return mc.isInstance(e)?e:I.isInstance(e)?Bc({response:Vc(e),statusCode:null!=(n=e.statusCode)?n:500,defaultMessage:"Gateway request failed",cause:e,authMethod:t}):Bc({response:{},statusCode:500,defaultMessage:e instanceof Error?"Gateway request failed: ".concat(e.message):"Unknown Gateway error",cause:e,authMethod:t})}function Vc(e){if(void 0!==e.data)return e.data;if(null!=e.responseBody)try{return JSON.parse(e.responseBody)}catch(eg){return e.responseBody}return{}}var $c="ai-gateway-auth-method";async function Hc(e){const t=await eu({value:e[$c],schema:Wc});return t.success?t.value:void 0}var Wc=Gl((()=>Uu(yi([Ai("api-key"),Ai("oidc")])))),Qc=class{constructor(e){this.config=e}async getAvailableModels(){try{const{value:e}=await Zl({url:"".concat(this.config.baseURL,"/config"),headers:await cu(this.config.headers()),successfulResponseHandler:fu(Kc),failedResponseHandler:du({errorSchema:ii(),errorToMessage:e=>e}),fetch:this.config.fetch});return e}catch(e){throw await qc(e)}}async getCredits(){try{const e=new URL(this.config.baseURL),{value:t}=await Zl({url:"".concat(e.origin,"/v1/credits"),headers:await cu(this.config.headers()),successfulResponseHandler:fu(Jc),failedResponseHandler:du({errorSchema:ii(),errorToMessage:e=>e}),fetch:this.config.fetch});return t}catch(e){throw await qc(e)}}},Kc=Gl((()=>Uu(hi({models:pi(hi({id:To(),name:To(),description:To().nullish(),pricing:hi({input:To(),output:To(),input_cache_read:To().nullish(),input_cache_write:To().nullish()}).transform((e=>{let{input:t,output:n,input_cache_read:r,input_cache_write:a}=e;return d(d({input:t,output:n},r?{cachedInputTokens:r}:{}),a?{cacheCreationInputTokens:a}:{})})).nullish(),specification:hi({specificationVersion:Ai("v2"),provider:To(),modelId:To()}),modelType:Ei(["language","embedding","image"]).nullish()}))})))),Jc=Gl((()=>Uu(hi({balance:To(),total_used:To()}).transform((e=>{let{balance:t,total_used:n}=e;return{balance:t,totalUsed:n}}))))),Gc=class{constructor(e,t){this.modelId=e,this.config=t,this.specificationVersion="v2",this.supportedUrls={"*/*":[/.*/]}}get provider(){return this.config.provider}async getArgs(e){const{abortSignal:t}=e,n=f(e,Xu);return{args:this.maybeEncodeFileParts(n),warnings:[]}}async doGenerate(e){const{args:t,warnings:n}=await this.getArgs(e),{abortSignal:r}=e,a=await cu(this.config.headers());try{const{responseHeaders:o,value:i,rawValue:s}=await iu(d(d({url:this.getUrl(),headers:Tl(a,e.headers,this.getModelConfigHeaders(this.modelId,!1),await cu(this.config.o11yHeaders)),body:t,successfulResponseHandler:fu(ii()),failedResponseHandler:du({errorSchema:ii(),errorToMessage:e=>e})},r&&{abortSignal:r}),{},{fetch:this.config.fetch}));return d(d({},i),{},{request:{body:t},response:{headers:o,body:s},warnings:n})}catch(o){throw await qc(o,await Hc(a))}}async doStream(e){const{args:t,warnings:n}=await this.getArgs(e),{abortSignal:r}=e,a=await cu(this.config.headers());try{const{value:o,responseHeaders:i}=await iu(d(d({url:this.getUrl(),headers:Tl(a,e.headers,this.getModelConfigHeaders(this.modelId,!0),await cu(this.config.o11yHeaders)),body:t,successfulResponseHandler:pu(ii()),failedResponseHandler:du({errorSchema:ii(),errorToMessage:e=>e})},r&&{abortSignal:r}),{},{fetch:this.config.fetch}));return{stream:o.pipeThrough(new TransformStream({start(e){n.length>0&&e.enqueue({type:"stream-start",warnings:n})},transform(t,n){if(t.success){const r=t.value;if("raw"===r.type&&!e.includeRawChunks)return;"response-metadata"===r.type&&r.timestamp&&"string"===typeof r.timestamp&&(r.timestamp=new Date(r.timestamp)),n.enqueue(r)}else n.error(t.error)}})),request:{body:t},response:{headers:i}}}catch(o){throw await qc(o,await Hc(a))}}isFilePart(e){return e&&"object"===typeof e&&"type"in e&&"file"===e.type}maybeEncodeFileParts(e){for(const t of e.prompt)for(const e of t.content)if(this.isFilePart(e)){const t=e;if(t.data instanceof Uint8Array){const e=Uint8Array.from(t.data),n=Buffer.from(e).toString("base64");t.data=new URL("data:".concat(t.mediaType||"application/octet-stream",";base64,").concat(n))}}return e}getUrl(){return"".concat(this.config.baseURL,"/language-model")}getModelConfigHeaders(e,t){return{"ai-language-model-specification-version":"2","ai-language-model-id":e,"ai-language-model-streaming":String(t)}}},Yc=class{constructor(e,t){this.modelId=e,this.config=t,this.specificationVersion="v2",this.maxEmbeddingsPerCall=2048,this.supportsParallelCalls=!0}get provider(){return this.config.provider}async doEmbed(e){let{values:t,headers:n,abortSignal:r,providerOptions:a}=e;var o;const i=await cu(this.config.headers());try{const{responseHeaders:e,value:s,rawValue:l}=await iu(d(d({url:this.getUrl(),headers:Tl(i,null!=n?n:{},this.getModelConfigHeaders(),await cu(this.config.o11yHeaders)),body:d({input:1===t.length?t[0]:t},a?{providerOptions:a}:{}),successfulResponseHandler:fu(Xc),failedResponseHandler:du({errorSchema:ii(),errorToMessage:e=>e})},r&&{abortSignal:r}),{},{fetch:this.config.fetch}));return{embeddings:s.embeddings,usage:null!=(o=s.usage)?o:void 0,providerMetadata:s.providerMetadata,response:{headers:e,body:l}}}catch(s){throw await qc(s,await Hc(i))}}getUrl(){return"".concat(this.config.baseURL,"/embedding-model")}getModelConfigHeaders(){return{"ai-embedding-model-specification-version":"2","ai-model-id":this.modelId}}},Xc=Gl((()=>Uu(hi({embeddings:pi(pi(Yo())),usage:hi({tokens:Yo()}).nullish(),providerMetadata:xi(To(),xi(To(),li())).optional()}))));var ed=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var t,n;let r=null,a=null;const o=null!=(t=e.metadataCacheRefreshMillis)?t:3e5;let i=0;const s=null!=(n=Ju(e.baseURL))?n:"https://ai-gateway.vercel.sh/v1/ai",l=async()=>{const t=await async function(e){const t=$l({settingValue:e.apiKey,environmentVariableName:"AI_GATEWAY_API_KEY"});if(t)return{token:t,authMethod:"api-key"};try{return{token:await(0,Yu.getVercelOidcToken)(),authMethod:"oidc"}}catch(eg){return null}}(e);if(t)return Dl(d({Authorization:"Bearer ".concat(t.token),"ai-gateway-protocol-version":"0.0.1",[$c]:t.authMethod},e.headers),"ai-sdk/gateway/".concat("1.0.39"));throw bc.createContextualError({apiKeyProvided:!1,oidcTokenProvided:!1,statusCode:401})},u=()=>{const e=$l({settingValue:void 0,environmentVariableName:"VERCEL_DEPLOYMENT_ID"}),t=$l({settingValue:void 0,environmentVariableName:"VERCEL_ENV"}),n=$l({settingValue:void 0,environmentVariableName:"VERCEL_REGION"});return async()=>{const r=await async function(){var e;return null==(e=(0,Yu.getContext)().headers)?void 0:e["x-vercel-id"]}();return d(d(d(d({},e&&{"ai-o11y-deployment-id":e}),t&&{"ai-o11y-environment":t}),n&&{"ai-o11y-region":n}),r&&{"ai-o11y-request-id":r})}},c=t=>new Gc(t,{provider:"gateway",baseURL:s,headers:l,fetch:e.fetch,o11yHeaders:u()}),p=function(e){if(new.target)throw new Error("The Gateway Provider model function cannot be called with the new keyword.");return c(e)};return p.getAvailableModels=async()=>{var t,n,u;const c=null!=(u=null==(n=null==(t=e._internal)?void 0:t.currentDate)?void 0:n.call(t).getTime())?u:Date.now();return(!r||c-i>o)&&(i=c,r=new Qc({baseURL:s,headers:l,fetch:e.fetch}).getAvailableModels().then((e=>(a=e,e))).catch((async e=>{throw await qc(e,await Hc(await l()))}))),a?Promise.resolve(a):r},p.getCredits=async()=>new Qc({baseURL:s,headers:l,fetch:e.fetch}).getCredits().catch((async e=>{throw await qc(e,await Hc(await l()))})),p.imageModel=e=>{throw new ge({modelId:e,modelType:"imageModel"})},p.languageModel=c,p.textEmbeddingModel=t=>new Yc(t,{provider:"gateway",baseURL:s,headers:l,fetch:e.fetch,o11yHeaders:u()}),p}();var td="object"===typeof globalThis?globalThis:"object"===typeof self?self:"object"===typeof window?window:"object"===typeof __webpack_require__.g?__webpack_require__.g:{},nd="1.9.0",rd=/^(\d+)\.(\d+)\.(\d+)(-(.+))?$/;var ad=function(e){var t=new Set([e]),n=new Set,r=e.match(rd);if(!r)return function(){return!1};var a=+r[1],o=+r[2],i=+r[3];if(null!=r[4])return function(t){return t===e};function s(e){return n.add(e),!1}function l(e){return t.add(e),!0}return function(e){if(t.has(e))return!0;if(n.has(e))return!1;var r=e.match(rd);if(!r)return s(e);var u=+r[1],c=+r[2],d=+r[3];return null!=r[4]||a!==u?s(e):0===a?o===c&&i<=d?l(e):s(e):o<=c?l(e):s(e)}}(nd),od=nd.split(".")[0],id=Symbol.for("opentelemetry.js.api."+od),sd=td;function ld(e,t,n,r){var a;void 0===r&&(r=!1);var o=sd[id]=null!==(a=sd[id])&&void 0!==a?a:{version:nd};if(!r&&o[e]){var i=new Error("@opentelemetry/api: Attempted duplicate registration of API: "+e);return n.error(i.stack||i.message),!1}if(o.version!==nd){i=new Error("@opentelemetry/api: Registration of version v"+o.version+" for "+e+" does not match previously registered API v"+nd);return n.error(i.stack||i.message),!1}return o[e]=t,n.debug("@opentelemetry/api: Registered a global for "+e+" v"+nd+"."),!0}function ud(e){var t,n,r=null===(t=sd[id])||void 0===t?void 0:t.version;if(r&&ad(r))return null===(n=sd[id])||void 0===n?void 0:n[e]}function cd(e,t){t.debug("@opentelemetry/api: Unregistering a global for "+e+" v"+nd+".");var n=sd[id];n&&delete n[e]}var dd,pd=new function e(t){var n=this;n._currentContext=t?new Map(t):new Map,n.getValue=function(e){return n._currentContext.get(e)},n.setValue=function(t,r){var a=new e(n._currentContext);return a._currentContext.set(t,r),a},n.deleteValue=function(t){var r=new e(n._currentContext);return r._currentContext.delete(t),r}},fd=function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,a,o=n.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)i.push(r.value)}catch(s){a={error:s}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(a)throw a.error}}return i},hd=function(e,t,n){if(n||2===arguments.length)for(var r,a=0,o=t.length;a<o;a++)!r&&a in t||(r||(r=Array.prototype.slice.call(t,0,a)),r[a]=t[a]);return e.concat(r||Array.prototype.slice.call(t))},md=function(){function e(){}return e.prototype.active=function(){return pd},e.prototype.with=function(e,t,n){for(var r=[],a=3;a<arguments.length;a++)r[a-3]=arguments[a];return t.call.apply(t,hd([n],fd(r),!1))},e.prototype.bind=function(e,t){return t},e.prototype.enable=function(){return this},e.prototype.disable=function(){return this},e}(),gd=function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,a,o=n.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)i.push(r.value)}catch(s){a={error:s}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(a)throw a.error}}return i},vd=function(e,t,n){if(n||2===arguments.length)for(var r,a=0,o=t.length;a<o;a++)!r&&a in t||(r||(r=Array.prototype.slice.call(t,0,a)),r[a]=t[a]);return e.concat(r||Array.prototype.slice.call(t))},yd=function(){function e(e){this._namespace=e.namespace||"DiagComponentLogger"}return e.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return bd("debug",this._namespace,e)},e.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return bd("error",this._namespace,e)},e.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return bd("info",this._namespace,e)},e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return bd("warn",this._namespace,e)},e.prototype.verbose=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return bd("verbose",this._namespace,e)},e}();function bd(e,t,n){var r=ud("diag");if(r)return n.unshift(t),r[e].apply(r,vd([],gd(n),!1))}!function(e){e[e.NONE=0]="NONE",e[e.ERROR=30]="ERROR",e[e.WARN=50]="WARN",e[e.INFO=60]="INFO",e[e.DEBUG=70]="DEBUG",e[e.VERBOSE=80]="VERBOSE",e[e.ALL=9999]="ALL"}(dd||(dd={}));var _d,wd=function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,a,o=n.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)i.push(r.value)}catch(s){a={error:s}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(a)throw a.error}}return i},kd=function(e,t,n){if(n||2===arguments.length)for(var r,a=0,o=t.length;a<o;a++)!r&&a in t||(r||(r=Array.prototype.slice.call(t,0,a)),r[a]=t[a]);return e.concat(r||Array.prototype.slice.call(t))},xd=function(){function e(){function e(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=ud("diag");if(r)return r[e].apply(r,kd([],wd(t),!1))}}var t=this;t.setLogger=function(e,n){var r,a,o;if(void 0===n&&(n={logLevel:dd.INFO}),e===t){var i=new Error("Cannot use diag as the logger for itself. Please use a DiagLogger implementation like ConsoleDiagLogger or a custom implementation");return t.error(null!==(r=i.stack)&&void 0!==r?r:i.message),!1}"number"===typeof n&&(n={logLevel:n});var s=ud("diag"),l=function(e,t){function n(n,r){var a=t[n];return"function"===typeof a&&e>=r?a.bind(t):function(){}}return e<dd.NONE?e=dd.NONE:e>dd.ALL&&(e=dd.ALL),t=t||{},{error:n("error",dd.ERROR),warn:n("warn",dd.WARN),info:n("info",dd.INFO),debug:n("debug",dd.DEBUG),verbose:n("verbose",dd.VERBOSE)}}(null!==(a=n.logLevel)&&void 0!==a?a:dd.INFO,e);if(s&&!n.suppressOverrideMessage){var u=null!==(o=(new Error).stack)&&void 0!==o?o:"<failed to generate stacktrace>";s.warn("Current logger will be overwritten from "+u),l.warn("Current logger will overwrite one already registered from "+u)}return ld("diag",l,t,!0)},t.disable=function(){cd("diag",t)},t.createComponentLogger=function(e){return new yd(e)},t.verbose=e("verbose"),t.debug=e("debug"),t.info=e("info"),t.warn=e("warn"),t.error=e("error")}return e.instance=function(){return this._instance||(this._instance=new e),this._instance},e}(),Sd=function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,a,o=n.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)i.push(r.value)}catch(s){a={error:s}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(a)throw a.error}}return i},Ed=function(e,t,n){if(n||2===arguments.length)for(var r,a=0,o=t.length;a<o;a++)!r&&a in t||(r||(r=Array.prototype.slice.call(t,0,a)),r[a]=t[a]);return e.concat(r||Array.prototype.slice.call(t))},Cd="context",Ad=new md,Id=function(){function e(){}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.setGlobalContextManager=function(e){return ld(Cd,e,xd.instance())},e.prototype.active=function(){return this._getContextManager().active()},e.prototype.with=function(e,t,n){for(var r,a=[],o=3;o<arguments.length;o++)a[o-3]=arguments[o];return(r=this._getContextManager()).with.apply(r,Ed([e,t,n],Sd(a),!1))},e.prototype.bind=function(e,t){return this._getContextManager().bind(e,t)},e.prototype._getContextManager=function(){return ud(Cd)||Ad},e.prototype.disable=function(){this._getContextManager().disable(),cd(Cd,xd.instance())},e}();!function(e){e[e.NONE=0]="NONE",e[e.SAMPLED=1]="SAMPLED"}(_d||(_d={}));var Td,Nd="0000000000000000",Od="00000000000000000000000000000000",Pd={traceId:Od,spanId:Nd,traceFlags:_d.NONE},zd=function(){function e(e){void 0===e&&(e=Pd),this._spanContext=e}return e.prototype.spanContext=function(){return this._spanContext},e.prototype.setAttribute=function(e,t){return this},e.prototype.setAttributes=function(e){return this},e.prototype.addEvent=function(e,t){return this},e.prototype.addLink=function(e){return this},e.prototype.addLinks=function(e){return this},e.prototype.setStatus=function(e){return this},e.prototype.updateName=function(e){return this},e.prototype.end=function(e){},e.prototype.isRecording=function(){return!1},e.prototype.recordException=function(e,t){},e}(),Rd=(Td="OpenTelemetry Context Key SPAN",Symbol.for(Td));function jd(e){return e.getValue(Rd)||void 0}function Md(){return jd(Id.getInstance().active())}function Fd(e,t){return e.setValue(Rd,t)}function Ld(e){return e.deleteValue(Rd)}function Dd(e,t){return Fd(e,new zd(t))}function Ud(e){var t;return null===(t=jd(e))||void 0===t?void 0:t.spanContext()}var Bd=/^([0-9a-f]{32})$/i,Zd=/^[0-9a-f]{16}$/i;function qd(e){return n=e.traceId,Bd.test(n)&&n!==Od&&(t=e.spanId,Zd.test(t)&&t!==Nd);var t,n}function Vd(e){return new zd(e)}var $d=Id.getInstance(),Hd=function(){function e(){}return e.prototype.startSpan=function(e,t,n){if(void 0===n&&(n=$d.active()),Boolean(null===t||void 0===t?void 0:t.root))return new zd;var r,a=n&&Ud(n);return"object"===typeof(r=a)&&"string"===typeof r.spanId&&"string"===typeof r.traceId&&"number"===typeof r.traceFlags&&qd(a)?new zd(a):new zd},e.prototype.startActiveSpan=function(e,t,n,r){var a,o,i;if(!(arguments.length<2)){2===arguments.length?i=t:3===arguments.length?(a=t,i=n):(a=t,o=n,i=r);var s=null!==o&&void 0!==o?o:$d.active(),l=this.startSpan(e,a,s),u=Fd(s,l);return $d.with(u,i,void 0,l)}},e}();var Wd,Qd=new Hd,Kd=function(){function e(e,t,n,r){this._provider=e,this.name=t,this.version=n,this.options=r}return e.prototype.startSpan=function(e,t,n){return this._getTracer().startSpan(e,t,n)},e.prototype.startActiveSpan=function(e,t,n,r){var a=this._getTracer();return Reflect.apply(a.startActiveSpan,a,arguments)},e.prototype._getTracer=function(){if(this._delegate)return this._delegate;var e=this._provider.getDelegateTracer(this.name,this.version,this.options);return e?(this._delegate=e,this._delegate):Qd},e}(),Jd=new(function(){function e(){}return e.prototype.getTracer=function(e,t,n){return new Hd},e}()),Gd=function(){function e(){}return e.prototype.getTracer=function(e,t,n){var r;return null!==(r=this.getDelegateTracer(e,t,n))&&void 0!==r?r:new Kd(this,e,t,n)},e.prototype.getDelegate=function(){var e;return null!==(e=this._delegate)&&void 0!==e?e:Jd},e.prototype.setDelegate=function(e){this._delegate=e},e.prototype.getDelegateTracer=function(e,t,n){var r;return null===(r=this._delegate)||void 0===r?void 0:r.getTracer(e,t,n)},e}(),Yd="trace",Xd=function(){function e(){this._proxyTracerProvider=new Gd,this.wrapSpanContext=Vd,this.isSpanContextValid=qd,this.deleteSpan=Ld,this.getSpan=jd,this.getActiveSpan=Md,this.getSpanContext=Ud,this.setSpan=Fd,this.setSpanContext=Dd}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.setGlobalTracerProvider=function(e){var t=ld(Yd,this._proxyTracerProvider,xd.instance());return t&&this._proxyTracerProvider.setDelegate(e),t},e.prototype.getTracerProvider=function(){return ud(Yd)||this._proxyTracerProvider},e.prototype.getTracer=function(e,t){return this.getTracerProvider().getTracer(e,t)},e.prototype.disable=function(){cd(Yd,xd.instance()),this._proxyTracerProvider=new Gd},e}(),ep=Xd.getInstance();!function(e){e[e.UNSET=0]="UNSET",e[e.OK=1]="OK",e[e.ERROR=2]="ERROR"}(Wd||(Wd={}));const tp=["model","tools","toolChoice","system","prompt","messages","maxRetries","abortSignal","headers","stopWhen","experimental_output","experimental_telemetry","providerOptions","experimental_activeTools","activeTools","experimental_prepareStep","prepareStep","experimental_repairToolCall","experimental_download","experimental_context","_internal","onStepFinish"];var np,rp=Object.defineProperty,ap="AI_NoOutputSpecifiedError",op="vercel.ai.error.".concat(ap),ip=Symbol.for(op),sp=class extends S{constructor(){let{message:e="No output specified."}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super({name:ap,message:e}),this[np]=!0}static isInstance(e){return S.hasMarker(e,op)}};function lp(e){const t="AI SDK Warning:";switch(e.type){case"unsupported-setting":{let n="".concat(t,' The "').concat(e.setting,'" setting is not supported by this model');return e.details&&(n+=" - ".concat(e.details)),n}case"unsupported-tool":{const n="name"in e.tool?e.tool.name:"unknown tool";let r="".concat(t,' The tool "').concat(n,'" is not supported by this model');return e.details&&(r+=" - ".concat(e.details)),r}case"other":return"".concat(t," ").concat(e.message);default:return"".concat(t," ").concat(JSON.stringify(e,null,2))}}np=ip;var up,cp=!1,dp=e=>{if(0===e.length)return;const t=globalThis.AI_SDK_LOG_WARNINGS;if(!1!==t)if("function"!==typeof t){cp||(cp=!0,console.info("AI SDK Warning System: To turn off warning logging, set the AI_SDK_LOG_WARNINGS global to false."));for(const t of e)console.warn(lp(t))}else t(e)},pp="AI_InvalidArgumentError",fp="vercel.ai.error.".concat(pp),hp=Symbol.for(fp),mp=class extends S{constructor(e){let{parameter:t,value:n,message:r}=e;super({name:pp,message:"Invalid argument for parameter ".concat(t,": ").concat(r)}),this[up]=!0,this.parameter=t,this.value=n}static isInstance(e){return S.hasMarker(e,fp)}};up=hp;var gp="AI_InvalidStreamPartError",vp="vercel.ai.error.".concat(gp),yp=Symbol.for(vp);var bp,_p="AI_InvalidToolInputError",wp="vercel.ai.error.".concat(_p),kp=Symbol.for(wp),xp=class extends S{constructor(e){let{toolInput:t,toolName:n,cause:r,message:a="Invalid input for tool ".concat(n,": ").concat(R(r))}=e;super({name:_p,message:a,cause:r}),this[bp]=!0,this.toolInput=t,this.toolName=n}static isInstance(e){return S.hasMarker(e,wp)}};bp=kp;var Sp="vercel.ai.error.".concat("AI_MCPClientError"),Ep=Symbol.for(Sp);var Cp="AI_NoImageGeneratedError",Ap="vercel.ai.error.".concat(Cp),Ip=Symbol.for(Ap);var Tp,Np="AI_NoObjectGeneratedError",Op="vercel.ai.error.".concat(Np),Pp=Symbol.for(Op),zp=class extends S{constructor(e){let{message:t="No object generated.",cause:n,text:r,response:a,usage:o,finishReason:i}=e;super({name:Np,message:t,cause:n}),this[Tp]=!0,this.text=r,this.response=a,this.usage=o,this.finishReason=i}static isInstance(e){return S.hasMarker(e,Op)}};Tp=Pp;var Rp="AI_NoOutputGeneratedError",jp="vercel.ai.error.".concat(Rp),Mp=Symbol.for(jp);var Fp,Lp="AI_NoSuchToolError",Dp="vercel.ai.error.".concat(Lp),Up=Symbol.for(Dp),Bp=class extends S{constructor(e){let{toolName:t,availableTools:n,message:r="Model tried to call unavailable tool '".concat(t,"'. ").concat(void 0===n?"No tools are available.":"Available tools: ".concat(n.join(", "),"."))}=e;super({name:Lp,message:r}),this[Fp]=!0,this.toolName=t,this.availableTools=n}static isInstance(e){return S.hasMarker(e,Dp)}};Fp=Up;var Zp,qp="AI_ToolCallRepairError",Vp="vercel.ai.error.".concat(qp),$p=Symbol.for(Vp),Hp=class extends S{constructor(e){let{cause:t,originalError:n,message:r="Error repairing tool call: ".concat(R(t))}=e;super({name:qp,message:r,cause:t}),this[Zp]=!0,this.originalError=n}static isInstance(e){return S.hasMarker(e,Vp)}};Zp=$p;var Wp=class extends S{constructor(e){super({name:"AI_UnsupportedModelVersionError",message:"Unsupported model version ".concat(e.version,' for provider "').concat(e.provider,'" and model "').concat(e.modelId,'". AI SDK 5 only supports models that implement specification version "v2".')}),this.version=e.version,this.provider=e.provider,this.modelId=e.modelId}},Qp="AI_InvalidDataContentError",Kp="vercel.ai.error.".concat(Qp),Jp=Symbol.for(Kp);var Gp,Yp="AI_InvalidMessageRoleError",Xp="vercel.ai.error.".concat(Yp),ef=Symbol.for(Xp),tf=class extends S{constructor(e){let{role:t,message:n="Invalid message role: '".concat(t,'\'. Must be one of: "system", "user", "assistant", "tool".')}=e;super({name:Yp,message:n}),this[Gp]=!0,this.role=t}static isInstance(e){return S.hasMarker(e,Xp)}};Gp=ef;var nf="AI_MessageConversionError",rf="vercel.ai.error.".concat(nf),af=Symbol.for(rf);var of,sf="AI_DownloadError",lf="vercel.ai.error.".concat(sf),uf=Symbol.for(lf),cf=class extends S{constructor(e){let{url:t,statusCode:n,statusText:r,cause:a,message:o=(null==a?"Failed to download ".concat(t,": ").concat(n," ").concat(r):"Failed to download ".concat(t,": ").concat(a))}=e;super({name:sf,message:o,cause:a}),this[of]=!0,this.url=t,this.statusCode=n,this.statusText=r}static isInstance(e){return S.hasMarker(e,lf)}};of=uf;var df,pf="AI_RetryError",ff="vercel.ai.error.".concat(pf),hf=Symbol.for(ff),mf=class extends S{constructor(e){let{message:t,reason:n,errors:r}=e;super({name:pf,message:t}),this[df]=!0,this.reason=n,this.errors=r,this.lastError=r[r.length-1]}static isInstance(e){return S.hasMarker(e,ff)}};function gf(e){if("string"!==typeof e){if("v2"!==e.specificationVersion)throw new Wp({version:e.specificationVersion,provider:e.provider,modelId:e.modelId});return e}return vf().languageModel(e)}function vf(){var e;return null!=(e=globalThis.AI_SDK_DEFAULT_PROVIDER)?e:ed}df=hf;var yf=[{mediaType:"image/gif",bytesPrefix:[71,73,70]},{mediaType:"image/png",bytesPrefix:[137,80,78,71]},{mediaType:"image/jpeg",bytesPrefix:[255,216]},{mediaType:"image/webp",bytesPrefix:[82,73,70,70,null,null,null,null,87,69,66,80]},{mediaType:"image/bmp",bytesPrefix:[66,77]},{mediaType:"image/tiff",bytesPrefix:[73,73,42,0]},{mediaType:"image/tiff",bytesPrefix:[77,77,0,42]},{mediaType:"image/avif",bytesPrefix:[0,0,0,32,102,116,121,112,97,118,105,102]},{mediaType:"image/heic",bytesPrefix:[0,0,0,32,102,116,121,112,104,101,105,99]}],bf=e=>{const t="string"===typeof e?Wu(e):e,n=(127&t[6])<<21|(127&t[7])<<14|(127&t[8])<<7|127&t[9];return t.slice(n+10)};function _f(e){let{data:t,signatures:n}=e;const r=function(e){return"string"===typeof e&&e.startsWith("SUQz")||"string"!==typeof e&&e.length>10&&73===e[0]&&68===e[1]&&51===e[2]?bf(e):e}(t),a="string"===typeof r?Wu(r.substring(0,Math.min(r.length,24))):r;for(const o of n)if(a.length>=o.bytesPrefix.length&&o.bytesPrefix.every(((e,t)=>null===e||a[t]===e)))return o.mediaType}var wf="5.0.68",kf=async e=>{let{url:t}=e;var n;const r=t.toString();try{const e=await fetch(r,{headers:Dl({},"ai-sdk/".concat(wf),Ll())});if(!e.ok)throw new cf({url:r,statusCode:e.status,statusText:e.statusText});return{data:new Uint8Array(await e.arrayBuffer()),mediaType:null!=(n=e.headers.get("content-type"))?n:void 0}}catch(a){if(cf.isInstance(a))throw a;throw new cf({url:r,cause:a})}},xf=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:kf;return t=>Promise.all(t.map((async t=>t.isUrlSupportedByModel?null:e(t))))};var Sf=yi([To(),$i(Uint8Array),$i(ArrayBuffer),Vi((e=>{var t,n;return null!=(n=null==(t=globalThis.Buffer)?void 0:t.isBuffer(e))&&n}),{message:"Must be a Buffer"})]);function Ef(e){if(e instanceof Uint8Array)return{data:e,mediaType:void 0};if(e instanceof ArrayBuffer)return{data:new Uint8Array(e),mediaType:void 0};if("string"===typeof e)try{e=new URL(e)}catch(t){}if(e instanceof URL&&"data:"===e.protocol){const{mediaType:n,base64Content:r}=function(e){try{const[t,n]=e.split(",");return{mediaType:t.split(";")[0].split(":")[1],base64Content:n}}catch(t){return{mediaType:void 0,base64Content:void 0}}}(e.toString());if(null==n||null==r)throw new S({name:"InvalidDataContentError",message:"Invalid data URL format in content ".concat(e.toString())});return{data:r,mediaType:n}}return{data:e,mediaType:void 0}}async function Cf(e){let{prompt:t,supportedUrls:n,download:r=xf()}=e;const a=await async function(e,t,n){const r=e.filter((e=>"user"===e.role)).map((e=>e.content)).filter((e=>Array.isArray(e))).flat().filter((e=>"image"===e.type||"file"===e.type)).map((e=>{var t;const n=null!=(t=e.mediaType)?t:"image"===e.type?"image/*":void 0;let r="image"===e.type?e.image:e.data;if("string"===typeof r)try{r=new URL(r)}catch(a){}return{mediaType:n,data:r}})).filter((e=>e.data instanceof URL)).map((e=>({url:e.data,isUrlSupportedByModel:null!=e.mediaType&&ql({url:e.data.toString(),mediaType:e.mediaType,supportedUrls:n})}))),a=await t(r);return Object.fromEntries(a.map(((e,t)=>null==e?null:[r[t].url.toString(),{data:e.data,mediaType:e.mediaType}])).filter((e=>null!=e)))}(t.messages,r,n);return[...null!=t.system?[{role:"system",content:t.system}]:[],...t.messages.map((e=>function(e){let{message:t,downloadedAssets:n}=e;const r=t.role;switch(r){case"system":return{role:"system",content:t.content,providerOptions:t.providerOptions};case"user":return"string"===typeof t.content?{role:"user",content:[{type:"text",text:t.content}],providerOptions:t.providerOptions}:{role:"user",content:t.content.map((e=>function(e,t){var n;if("text"===e.type)return{type:"text",text:e.text,providerOptions:e.providerOptions};let r;const a=e.type;switch(a){case"image":r=e.image;break;case"file":r=e.data;break;default:throw new Error("Unsupported part type: ".concat(a))}const{data:o,mediaType:i}=Ef(r);let s=null!=i?i:e.mediaType,l=o;if(l instanceof URL){const e=t[l.toString()];e&&(l=e.data,null!=s||(s=e.mediaType))}switch(a){case"image":return(l instanceof Uint8Array||"string"===typeof l)&&(s=null!=(n=_f({data:l,signatures:yf}))?n:s),{type:"file",mediaType:null!=s?s:"image/*",filename:void 0,data:l,providerOptions:e.providerOptions};case"file":if(null==s)throw new Error("Media type is missing for file part");return{type:"file",mediaType:s,filename:e.filename,data:l,providerOptions:e.providerOptions}}}(e,n))).filter((e=>"text"!==e.type||""!==e.text)),providerOptions:t.providerOptions};case"assistant":return"string"===typeof t.content?{role:"assistant",content:[{type:"text",text:t.content}],providerOptions:t.providerOptions}:{role:"assistant",content:t.content.filter((e=>"text"!==e.type||""!==e.text||null!=e.providerOptions)).map((e=>{const t=e.providerOptions;switch(e.type){case"file":{const{data:n,mediaType:r}=Ef(e.data);return{type:"file",data:n,filename:e.filename,mediaType:null!=r?r:e.mediaType,providerOptions:t}}case"reasoning":return{type:"reasoning",text:e.text,providerOptions:t};case"text":return{type:"text",text:e.text,providerOptions:t};case"tool-call":return{type:"tool-call",toolCallId:e.toolCallId,toolName:e.toolName,input:e.input,providerExecuted:e.providerExecuted,providerOptions:t};case"tool-result":return{type:"tool-result",toolCallId:e.toolCallId,toolName:e.toolName,output:e.output,providerOptions:t}}})),providerOptions:t.providerOptions};case"tool":return{role:"tool",content:t.content.map((e=>({type:"tool-result",toolCallId:e.toolCallId,toolName:e.toolName,output:e.output,providerOptions:e.providerOptions}))),providerOptions:t.providerOptions};default:throw new tf({role:r})}}({message:e,downloadedAssets:a})))]}function Af(e){let{maxOutputTokens:t,temperature:n,topP:r,topK:a,presencePenalty:o,frequencyPenalty:i,seed:s,stopSequences:l}=e;if(null!=t){if(!Number.isInteger(t))throw new mp({parameter:"maxOutputTokens",value:t,message:"maxOutputTokens must be an integer"});if(t<1)throw new mp({parameter:"maxOutputTokens",value:t,message:"maxOutputTokens must be >= 1"})}if(null!=n&&"number"!==typeof n)throw new mp({parameter:"temperature",value:n,message:"temperature must be a number"});if(null!=r&&"number"!==typeof r)throw new mp({parameter:"topP",value:r,message:"topP must be a number"});if(null!=a&&"number"!==typeof a)throw new mp({parameter:"topK",value:a,message:"topK must be a number"});if(null!=o&&"number"!==typeof o)throw new mp({parameter:"presencePenalty",value:o,message:"presencePenalty must be a number"});if(null!=i&&"number"!==typeof i)throw new mp({parameter:"frequencyPenalty",value:i,message:"frequencyPenalty must be a number"});if(null!=s&&!Number.isInteger(s))throw new mp({parameter:"seed",value:s,message:"seed must be an integer"});return{maxOutputTokens:t,temperature:n,topP:r,topK:a,presencePenalty:o,frequencyPenalty:i,stopSequences:l,seed:s}}function If(e){let{tools:t,toolChoice:n,activeTools:r}=e;if(!(null!=(a=t)&&Object.keys(a).length>0))return{tools:void 0,toolChoice:void 0};var a;return{tools:(null!=r?Object.entries(t).filter((e=>{let[t]=e;return r.includes(t)})):Object.entries(t)).map((e=>{let[t,n]=e;const r=n.type;switch(r){case void 0:case"dynamic":case"function":return{type:"function",name:t,description:n.description,inputSchema:Vu(n.inputSchema).jsonSchema,providerOptions:n.providerOptions};case"provider-defined":return{type:"provider-defined",name:t,id:n.id,args:n.args};default:throw new Error("Unsupported tool type: ".concat(r))}})),toolChoice:null==n?{type:"auto"}:"string"===typeof n?{type:n}:{type:"tool",toolName:n.toolName}}}var Tf=Zi((()=>yi([ai(),To(),Yo(),ni(),xi(To(),Tf),pi(Tf)]))),Nf=xi(To(),xi(To(),Tf)),Of=hi({type:Ai("text"),text:To(),providerOptions:Nf.optional()}),Pf=hi({type:Ai("image"),image:yi([Sf,$i(URL)]),mediaType:To().optional(),providerOptions:Nf.optional()}),zf=hi({type:Ai("file"),data:yi([Sf,$i(URL)]),filename:To().optional(),mediaType:To(),providerOptions:Nf.optional()}),Rf=hi({type:Ai("reasoning"),text:To(),providerOptions:Nf.optional()}),jf=hi({type:Ai("tool-call"),toolCallId:To(),toolName:To(),input:li(),providerOptions:Nf.optional(),providerExecuted:ni().optional()}),Mf=_i("type",[hi({type:Ai("text"),value:To()}),hi({type:Ai("json"),value:Tf}),hi({type:Ai("error-text"),value:To()}),hi({type:Ai("error-json"),value:Tf}),hi({type:Ai("content"),value:pi(yi([hi({type:Ai("text"),text:To()}),hi({type:Ai("media"),data:To(),mediaType:To()})]))})]),Ff=hi({type:Ai("tool-result"),toolCallId:To(),toolName:To(),output:Mf,providerOptions:Nf.optional()}),Lf=hi({role:Ai("system"),content:To(),providerOptions:Nf.optional()}),Df=hi({role:Ai("user"),content:yi([To(),pi(yi([Of,Pf,zf]))]),providerOptions:Nf.optional()}),Uf=hi({role:Ai("assistant"),content:yi([To(),pi(yi([Of,zf,Rf,jf,Ff]))]),providerOptions:Nf.optional()}),Bf=hi({role:Ai("tool"),content:pi(Ff),providerOptions:Nf.optional()}),Zf=yi([Lf,Df,Uf,Bf]);async function qf(e){if(null==e.prompt&&null==e.messages)throw new V({prompt:e,message:"prompt or messages must be defined"});if(null!=e.prompt&&null!=e.messages)throw new V({prompt:e,message:"prompt and messages cannot be defined at the same time"});if(null!=e.system&&"string"!==typeof e.system)throw new V({prompt:e,message:"system must be a string"});let t;if(null!=e.prompt&&"string"===typeof e.prompt)t=[{role:"user",content:e.prompt}];else if(null!=e.prompt&&Array.isArray(e.prompt))t=e.prompt;else{if(null==e.messages)throw new V({prompt:e,message:"prompt or messages must be defined"});t=e.messages}if(0===t.length)throw new V({prompt:e,message:"messages must not be empty"});const n=await eu({value:t,schema:pi(Zf)});if(!n.success)throw new V({prompt:e,message:"The messages must be a ModelMessage[]. If you have passed a UIMessage[], you can use convertToModelMessages to convert them.",cause:n.error});return{messages:t,system:e.system}}function Vf(e){return bc.isInstance(e)||Pc.isInstance(e)?new S({name:"GatewayError",message:"Vercel AI Gateway access failed. If you want to use AI SDK providers directly, use the providers, e.g. @ai-sdk/openai, or register a different global default provider.",cause:e}):e}function $f(e){let{operationId:t,telemetry:n}=e;return{"operation.name":"".concat(t).concat(null!=(null==n?void 0:n.functionId)?" ".concat(n.functionId):""),"resource.name":null==n?void 0:n.functionId,"ai.operationId":t,"ai.telemetry.functionId":null==n?void 0:n.functionId}}function Hf(e){let{model:t,settings:n,telemetry:r,headers:a}=e;var o;return d(d(d({"ai.model.provider":t.provider,"ai.model.id":t.modelId},Object.entries(n).reduce(((e,t)=>{let[n,r]=t;return e["ai.settings.".concat(n)]=r,e}),{})),Object.entries(null!=(o=null==r?void 0:r.metadata)?o:{}).reduce(((e,t)=>{let[n,r]=t;return e["ai.telemetry.metadata.".concat(n)]=r,e}),{})),Object.entries(null!=a?a:{}).reduce(((e,t)=>{let[n,r]=t;return void 0!==r&&(e["ai.request.headers.".concat(n)]=r),e}),{}))}var Wf={startSpan:()=>Qf,startActiveSpan:(e,t,n,r)=>"function"===typeof t?t(Qf):"function"===typeof n?n(Qf):"function"===typeof r?r(Qf):void 0},Qf={spanContext:()=>Kf,setAttribute(){return this},setAttributes(){return this},addEvent(){return this},addLink(){return this},addLinks(){return this},setStatus(){return this},updateName(){return this},end(){return this},isRecording:()=>!1,recordException(){return this}},Kf={traceId:"",spanId:"",traceFlags:0};function Jf(){let{isEnabled:e=!1,tracer:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e?t||ep.getTracer("ai"):Wf}function Gf(e){let{name:t,tracer:n,attributes:r,fn:a,endWhenDone:o=!0}=e;return n.startActiveSpan(t,{attributes:r},(async e=>{try{const t=await a(e);return o&&e.end(),t}catch(t){try{Yf(e,t)}finally{e.end()}throw t}}))}function Yf(e,t){t instanceof Error?(e.recordException({name:t.name,message:t.message,stack:t.stack}),e.setStatus({code:Wd.ERROR,message:t.message})):e.setStatus({code:Wd.ERROR})}function Xf(e){let{telemetry:t,attributes:n}=e;return!0!==(null==t?void 0:t.isEnabled)?{}:Object.entries(n).reduce(((e,n)=>{let[r,a]=n;if(null==a)return e;if("object"===typeof a&&"input"in a&&"function"===typeof a.input){if(!1===(null==t?void 0:t.recordInputs))return e;const n=a.input();return null==n?e:d(d({},e),{},{[r]:n})}if("object"===typeof a&&"output"in a&&"function"===typeof a.output){if(!1===(null==t?void 0:t.recordOutputs))return e;const n=a.output();return null==n?e:d(d({},e),{},{[r]:n})}return d(d({},e),{},{[r]:a})}),{})}function eh(e){return JSON.stringify(e.map((e=>d(d({},e),{},{content:"string"===typeof e.content?e.content:e.content.map((e=>{return"file"===e.type?d(d({},e),{},{data:e.data instanceof Uint8Array?(t=e.data,"string"===typeof t?t:t instanceof ArrayBuffer?Qu(new Uint8Array(t)):Qu(t)):e.data}):e;var t}))}))))}function th(e,t){return{inputTokens:nh(e.inputTokens,t.inputTokens),outputTokens:nh(e.outputTokens,t.outputTokens),totalTokens:nh(e.totalTokens,t.totalTokens),reasoningTokens:nh(e.reasoningTokens,t.reasoningTokens),cachedInputTokens:nh(e.cachedInputTokens,t.cachedInputTokens)}}function nh(e,t){return null==e&&null==t?void 0:(null!=e?e:0)+(null!=t?t:0)}function rh(e){return void 0===e?[]:Array.isArray(e)?e:[e]}var ah=function(){let{maxRetries:e=2,initialDelayInMs:t=2e3,backoffFactor:n=2,abortSignal:r}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return async a=>oh(a,{maxRetries:e,delayInMs:t,backoffFactor:n,abortSignal:r})};async function oh(e,t){let{maxRetries:n,delayInMs:r,backoffFactor:a,abortSignal:o}=t,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];try{return await e()}catch(s){if(jl(s))throw s;if(0===n)throw s;const t=Rl(s),l=[...i,s],u=l.length;if(u>n)throw new mf({message:"Failed after ".concat(u," attempts. Last error: ").concat(t),reason:"maxRetriesExceeded",errors:l});if(s instanceof Error&&I.isInstance(s)&&!0===s.isRetryable&&u<=n)return await async function(e,t){if(null==e)return Promise.resolve();const n=null==t?void 0:t.abortSignal;return new Promise(((t,r)=>{if(null==n?void 0:n.aborted)return void r(Nl());const a=setTimeout((()=>{o(),t()}),e),o=()=>{clearTimeout(a),null==n||n.removeEventListener("abort",i)},i=()=>{o(),r(Nl())};null==n||n.addEventListener("abort",i)}))}(function(e){let{error:t,exponentialBackoffDelay:n}=e;const r=t.responseHeaders;if(!r)return n;let a;const o=r["retry-after-ms"];if(o){const e=parseFloat(o);Number.isNaN(e)||(a=e)}const i=r["retry-after"];if(i&&void 0===a){const e=parseFloat(i);a=Number.isNaN(e)?Date.parse(i)-Date.now():1e3*e}return null!=a&&!Number.isNaN(a)&&0<=a&&(a<6e4||a<n)?a:n}({error:s,exponentialBackoffDelay:r}),{abortSignal:o}),oh(e,{maxRetries:n,delayInMs:a*r,backoffFactor:a,abortSignal:o},l);if(1===u)throw s;throw new mf({message:"Failed after ".concat(u," attempts with non-retryable error: '").concat(t,"'"),reason:"errorNotRetryable",errors:l})}}function ih(e){let{maxRetries:t,abortSignal:n}=e;if(null!=t){if(!Number.isInteger(t))throw new mp({parameter:"maxRetries",value:t,message:"maxRetries must be an integer"});if(t<0)throw new mp({parameter:"maxRetries",value:t,message:"maxRetries must be >= 0"})}const r=null!=t?t:2;return{maxRetries:r,retry:ah({maxRetries:r,abortSignal:n})}}function sh(e){const t=e.filter((e=>"text"===e.type));if(0!==t.length)return t.map((e=>e.text)).join("")}var lh=class{constructor(e){let{data:t,mediaType:n}=e;const r=t instanceof Uint8Array;this.base64Data=r?void 0:t,this.uint8ArrayData=r?t:void 0,this.mediaType=n}get base64(){return null==this.base64Data&&(this.base64Data=Qu(this.uint8ArrayData)),this.base64Data}get uint8Array(){return null==this.uint8ArrayData&&(this.uint8ArrayData=Wu(this.base64Data)),this.uint8ArrayData}};async function uh(e){let{toolCall:t,tools:n,repairToolCall:r,system:a,messages:o}=e;try{if(null==n)throw new Bp({toolName:t.toolName});try{return await ch({toolCall:t,tools:n})}catch(i){if(null==r||!Bp.isInstance(i)&&!xp.isInstance(i))throw i;let e=null;try{e=await r({toolCall:t,tools:n,inputSchema:e=>{let{toolName:t}=e;const{inputSchema:r}=n[t];return Vu(r).jsonSchema},system:a,messages:o,error:i})}catch(s){throw new Hp({cause:s,originalError:i})}if(null==e)throw i;return await ch({toolCall:e,tools:n})}}catch(i){const e=await tu({text:t.input}),n=e.success?e.value:t.input;return{type:"tool-call",toolCallId:t.toolCallId,toolName:t.toolName,input:n,dynamic:!0,invalid:!0,error:i}}}async function ch(e){let{toolCall:t,tools:n}=e;const r=t.toolName,a=n[r];if(null==a)throw new Bp({toolName:t.toolName,availableTools:Object.keys(n)});const o=Vu(a.inputSchema),i=""===t.input.trim()?await eu({value:{},schema:o}):await tu({text:t.input,schema:o});if(!1===i.success)throw new xp({toolName:r,toolInput:t.input,cause:i.error});return"dynamic"===a.type?{type:"tool-call",toolCallId:t.toolCallId,toolName:t.toolName,input:i.value,providerExecuted:t.providerExecuted,providerMetadata:t.providerMetadata,dynamic:!0}:{type:"tool-call",toolCallId:t.toolCallId,toolName:r,input:i.value,providerExecuted:t.providerExecuted,providerMetadata:t.providerMetadata}}var dh=class{constructor(e){let{content:t,finishReason:n,usage:r,warnings:a,request:o,response:i,providerMetadata:s}=e;this.content=t,this.finishReason=n,this.usage=r,this.warnings=a,this.request=o,this.response=i,this.providerMetadata=s}get text(){return this.content.filter((e=>"text"===e.type)).map((e=>e.text)).join("")}get reasoning(){return this.content.filter((e=>"reasoning"===e.type))}get reasoningText(){return 0===this.reasoning.length?void 0:this.reasoning.map((e=>e.text)).join("")}get files(){return this.content.filter((e=>"file"===e.type)).map((e=>e.file))}get sources(){return this.content.filter((e=>"source"===e.type))}get toolCalls(){return this.content.filter((e=>"tool-call"===e.type))}get staticToolCalls(){return this.toolCalls.filter((e=>!0!==e.dynamic))}get dynamicToolCalls(){return this.toolCalls.filter((e=>!0===e.dynamic))}get toolResults(){return this.content.filter((e=>"tool-result"===e.type))}get staticToolResults(){return this.toolResults.filter((e=>!0!==e.dynamic))}get dynamicToolResults(){return this.toolResults.filter((e=>!0===e.dynamic))}};function ph(e){return t=>{let{steps:n}=t;return n.length===e}}async function fh(e){let{stopConditions:t,steps:n}=e;return(await Promise.all(t.map((e=>e({steps:n}))))).some((e=>e))}function hh(e){let{output:t,tool:n,errorMode:r}=e;return"text"===r?{type:"error-text",value:R(t)}:"json"===r?{type:"error-json",value:mh(t)}:(null==n?void 0:n.toModelOutput)?n.toModelOutput(t):"string"===typeof t?{type:"text",value:t}:{type:"json",value:mh(t)}}function mh(e){return void 0===e?null:e}function gh(e){let{content:t,tools:n}=e;const r=[],a=t.filter((e=>"source"!==e.type)).filter((e=>("tool-result"!==e.type||e.providerExecuted)&&("tool-error"!==e.type||e.providerExecuted))).filter((e=>"text"!==e.type||e.text.length>0)).map((e=>{switch(e.type){case"text":return{type:"text",text:e.text,providerOptions:e.providerMetadata};case"reasoning":return{type:"reasoning",text:e.text,providerOptions:e.providerMetadata};case"file":return{type:"file",data:e.file.base64,mediaType:e.file.mediaType,providerOptions:e.providerMetadata};case"tool-call":return{type:"tool-call",toolCallId:e.toolCallId,toolName:e.toolName,input:e.input,providerExecuted:e.providerExecuted,providerOptions:e.providerMetadata};case"tool-result":return{type:"tool-result",toolCallId:e.toolCallId,toolName:e.toolName,output:hh({tool:null==n?void 0:n[e.toolName],output:e.output,errorMode:"none"}),providerExecuted:!0,providerOptions:e.providerMetadata};case"tool-error":return{type:"tool-result",toolCallId:e.toolCallId,toolName:e.toolName,output:hh({tool:null==n?void 0:n[e.toolName],output:e.error,errorMode:"json"}),providerOptions:e.providerMetadata}}}));a.length>0&&r.push({role:"assistant",content:a});const o=t.filter((e=>"tool-result"===e.type||"tool-error"===e.type)).filter((e=>!e.providerExecuted)).map((e=>({type:"tool-result",toolCallId:e.toolCallId,toolName:e.toolName,output:hh({tool:null==n?void 0:n[e.toolName],output:"tool-result"===e.type?e.output:e.error,errorMode:"tool-error"===e.type?"text":"none"})})));return o.length>0&&r.push({role:"tool",content:o}),r}var vh=Pl({prefix:"aitxt",size:24});async function yh(e){let{model:t,tools:n,toolChoice:r,system:a,prompt:o,messages:i,maxRetries:s,abortSignal:l,headers:u,stopWhen:c=ph(1),experimental_output:p,experimental_telemetry:h,providerOptions:m,experimental_activeTools:g,activeTools:v=g,experimental_prepareStep:y,prepareStep:b=y,experimental_repairToolCall:_,experimental_download:w,experimental_context:k,_internal:{generateId:x=vh,currentDate:S=(()=>new Date)}={},onStepFinish:E}=e,C=f(e,tp);const A=gf(t),I=rh(c),{maxRetries:T,retry:N}=ih({maxRetries:s,abortSignal:l}),O=Af(C),P=Dl(null!=u?u:{},"ai/".concat(wf)),z=Hf({model:A,telemetry:h,headers:P,settings:d(d({},O),{},{maxRetries:T})}),R=await qf({system:a,prompt:o,messages:i}),j=Jf(h);try{return await Gf({name:"ai.generateText",attributes:Xf({telemetry:h,attributes:d(d(d({},$f({operationId:"ai.generateText",telemetry:h})),z),{},{"ai.model.provider":A.provider,"ai.model.id":A.modelId,"ai.prompt":{input:()=>JSON.stringify({system:a,prompt:o,messages:i})}})}),tracer:j,fn:async e=>{var t,o,i,s,u,c,f;const g=Af(C);let y,T=[],O=[];const M=[],F=[];do{const e=[...R.messages,...M],I=await(null==b?void 0:b({model:A,steps:F,stepNumber:F.length,messages:e})),L=gf(null!=(t=null==I?void 0:I.model)?t:A),D=await Cf({prompt:{system:null!=(o=null==I?void 0:I.system)?o:R.system,messages:null!=(i=null==I?void 0:I.messages)?i:e},supportedUrls:await L.supportedUrls,download:w}),{toolChoice:U,tools:B}=If({tools:n,toolChoice:null!=(s=null==I?void 0:I.toolChoice)?s:r,activeTools:null!=(u=null==I?void 0:I.activeTools)?u:v});y=await N((()=>{var e;return Gf({name:"ai.generateText.doGenerate",attributes:Xf({telemetry:h,attributes:d(d(d({},$f({operationId:"ai.generateText.doGenerate",telemetry:h})),z),{},{"ai.model.provider":L.provider,"ai.model.id":L.modelId,"ai.prompt.messages":{input:()=>eh(D)},"ai.prompt.tools":{input:()=>null==B?void 0:B.map((e=>JSON.stringify(e)))},"ai.prompt.toolChoice":{input:()=>null!=U?JSON.stringify(U):void 0},"gen_ai.system":L.provider,"gen_ai.request.model":L.modelId,"gen_ai.request.frequency_penalty":C.frequencyPenalty,"gen_ai.request.max_tokens":C.maxOutputTokens,"gen_ai.request.presence_penalty":C.presencePenalty,"gen_ai.request.stop_sequences":C.stopSequences,"gen_ai.request.temperature":null!=(e=C.temperature)?e:void 0,"gen_ai.request.top_k":C.topK,"gen_ai.request.top_p":C.topP})}),tracer:j,fn:async e=>{var t,n,r,a,o,i,s,u;const c=await L.doGenerate(d(d({},g),{},{tools:B,toolChoice:U,responseFormat:null==p?void 0:p.responseFormat,prompt:D,providerOptions:m,abortSignal:l,headers:P})),f={id:null!=(n=null==(t=c.response)?void 0:t.id)?n:x(),timestamp:null!=(a=null==(r=c.response)?void 0:r.timestamp)?a:S(),modelId:null!=(i=null==(o=c.response)?void 0:o.modelId)?i:L.modelId,headers:null==(s=c.response)?void 0:s.headers,body:null==(u=c.response)?void 0:u.body};return e.setAttributes(Xf({telemetry:h,attributes:{"ai.response.finishReason":c.finishReason,"ai.response.text":{output:()=>sh(c.content)},"ai.response.toolCalls":{output:()=>{const e=wh(c.content);return null==e?void 0:JSON.stringify(e)}},"ai.response.id":f.id,"ai.response.model":f.modelId,"ai.response.timestamp":f.timestamp.toISOString(),"ai.response.providerMetadata":JSON.stringify(c.providerMetadata),"ai.usage.promptTokens":c.usage.inputTokens,"ai.usage.completionTokens":c.usage.outputTokens,"gen_ai.response.finish_reasons":[c.finishReason],"gen_ai.response.id":f.id,"gen_ai.response.model":f.modelId,"gen_ai.usage.input_tokens":c.usage.inputTokens,"gen_ai.usage.output_tokens":c.usage.outputTokens}})),d(d({},c),{},{response:f})}})}));const Z=await Promise.all(y.content.filter((e=>"tool-call"===e.type)).map((t=>uh({toolCall:t,tools:n,repairToolCall:_,system:a,messages:e}))));for(const t of Z){if(t.invalid)continue;const r=n[t.toolName];null!=(null==r?void 0:r.onInputAvailable)&&await r.onInputAvailable({input:t.input,toolCallId:t.toolCallId,messages:e,abortSignal:l,experimental_context:k})}const q=Z.filter((e=>e.invalid&&e.dynamic));O=[];for(const t of q)O.push({type:"tool-error",toolCallId:t.toolCallId,toolName:t.toolName,input:t.input,error:Rl(t.error),dynamic:!0});T=Z.filter((e=>!e.providerExecuted)),null!=n&&O.push(...await bh({toolCalls:T.filter((e=>!e.invalid)),tools:n,tracer:j,telemetry:h,messages:e,abortSignal:l,experimental_context:k}));const V=kh({content:y.content,toolCalls:Z,toolOutputs:O});M.push(...gh({content:V,tools:n}));const $=new dh({content:V,finishReason:y.finishReason,usage:y.usage,warnings:y.warnings,providerMetadata:y.providerMetadata,request:null!=(c=y.request)?c:{},response:d(d({},y.response),{},{messages:structuredClone(M)})});dp(null!=(f=y.warnings)?f:[]),F.push($),await(null==E?void 0:E($))}while(T.length>0&&O.length===T.length&&!await fh({stopConditions:I,steps:F}));e.setAttributes(Xf({telemetry:h,attributes:{"ai.response.finishReason":y.finishReason,"ai.response.text":{output:()=>sh(y.content)},"ai.response.toolCalls":{output:()=>{const e=wh(y.content);return null==e?void 0:JSON.stringify(e)}},"ai.response.providerMetadata":JSON.stringify(y.providerMetadata),"ai.usage.promptTokens":y.usage.inputTokens,"ai.usage.completionTokens":y.usage.outputTokens}}));const L=F[F.length-1];let D;return"stop"===L.finishReason&&(D=await(null==p?void 0:p.parseOutput({text:L.text},{response:L.response,usage:L.usage,finishReason:L.finishReason}))),new _h({steps:F,resolvedOutput:D})}})}catch(M){throw Vf(M)}}async function bh(e){let{toolCalls:t,tools:n,tracer:r,telemetry:a,messages:o,abortSignal:i,experimental_context:s}=e;const l=await Promise.all(t.map((async e=>{let{toolCallId:t,toolName:l,input:u}=e;const c=n[l];if(null!=(null==c?void 0:c.execute))return Gf({name:"ai.toolCall",attributes:Xf({telemetry:a,attributes:d(d({},$f({operationId:"ai.toolCall",telemetry:a})),{},{"ai.toolCall.name":l,"ai.toolCall.id":t,"ai.toolCall.args":{output:()=>JSON.stringify(u)}})}),tracer:r,fn:async e=>{try{const v=function(e){return Gu.apply(this,arguments)}({execute:c.execute.bind(c),input:u,options:{toolCallId:t,messages:o,abortSignal:i,experimental_context:s}});let y;var n,r=!1,d=!1;try{for(var p,f=h(v);r=!(p=await f.next()).done;r=!1){const e=p.value;"final"===e.type&&(y=e.output)}}catch(m){d=!0,n=m}finally{try{r&&null!=f.return&&await f.return()}finally{if(d)throw n}}try{e.setAttributes(Xf({telemetry:a,attributes:{"ai.toolCall.result":{output:()=>JSON.stringify(y)}}}))}catch(g){}return{type:"tool-result",toolCallId:t,toolName:l,input:u,output:y,dynamic:"dynamic"===c.type}}catch(v){return Yf(e,v),{type:"tool-error",toolCallId:t,toolName:l,input:u,error:v,dynamic:"dynamic"===c.type}}}})})));return l.filter((e=>null!=e))}var _h=class{constructor(e){this.steps=e.steps,this.resolvedOutput=e.resolvedOutput}get finalStep(){return this.steps[this.steps.length-1]}get content(){return this.finalStep.content}get text(){return this.finalStep.text}get files(){return this.finalStep.files}get reasoningText(){return this.finalStep.reasoningText}get reasoning(){return this.finalStep.reasoning}get toolCalls(){return this.finalStep.toolCalls}get staticToolCalls(){return this.finalStep.staticToolCalls}get dynamicToolCalls(){return this.finalStep.dynamicToolCalls}get toolResults(){return this.finalStep.toolResults}get staticToolResults(){return this.finalStep.staticToolResults}get dynamicToolResults(){return this.finalStep.dynamicToolResults}get sources(){return this.finalStep.sources}get finishReason(){return this.finalStep.finishReason}get warnings(){return this.finalStep.warnings}get providerMetadata(){return this.finalStep.providerMetadata}get response(){return this.finalStep.response}get request(){return this.finalStep.request}get usage(){return this.finalStep.usage}get totalUsage(){return this.steps.reduce(((e,t)=>th(e,t.usage)),{inputTokens:void 0,outputTokens:void 0,totalTokens:void 0,reasoningTokens:void 0,cachedInputTokens:void 0})}get experimental_output(){if(null==this.resolvedOutput)throw new sp;return this.resolvedOutput}};function wh(e){const t=e.filter((e=>"tool-call"===e.type));if(0!==t.length)return t.map((e=>({toolCallId:e.toolCallId,toolName:e.toolName,input:e.input})))}function kh(e){let{content:t,toolCalls:n,toolOutputs:r}=e;return[...t.map((e=>{switch(e.type){case"text":case"reasoning":case"source":return e;case"file":return{type:"file",file:new lh(e)};case"tool-call":return n.find((t=>t.toolCallId===e.toolCallId));case"tool-result":{const t=n.find((t=>t.toolCallId===e.toolCallId));if(null==t)throw new Error("Tool call ".concat(e.toolCallId," not found."));return e.isError?{type:"tool-error",toolCallId:e.toolCallId,toolName:e.toolName,input:t.input,error:e.result,providerExecuted:!0,dynamic:t.dynamic}:{type:"tool-result",toolCallId:e.toolCallId,toolName:e.toolName,input:t.input,output:e.result,providerExecuted:!0,dynamic:t.dynamic}}}})),...r]}TransformStream;Gl((()=>Uu(yi([mi({type:Ai("text-start"),id:To(),providerMetadata:Nf.optional()}),mi({type:Ai("text-delta"),id:To(),delta:To(),providerMetadata:Nf.optional()}),mi({type:Ai("text-end"),id:To(),providerMetadata:Nf.optional()}),mi({type:Ai("error"),errorText:To()}),mi({type:Ai("tool-input-start"),toolCallId:To(),toolName:To(),providerExecuted:ni().optional(),dynamic:ni().optional()}),mi({type:Ai("tool-input-delta"),toolCallId:To(),inputTextDelta:To()}),mi({type:Ai("tool-input-available"),toolCallId:To(),toolName:To(),input:li(),providerExecuted:ni().optional(),providerMetadata:Nf.optional(),dynamic:ni().optional()}),mi({type:Ai("tool-input-error"),toolCallId:To(),toolName:To(),input:li(),providerExecuted:ni().optional(),providerMetadata:Nf.optional(),dynamic:ni().optional(),errorText:To()}),mi({type:Ai("tool-output-available"),toolCallId:To(),output:li(),providerExecuted:ni().optional(),dynamic:ni().optional(),preliminary:ni().optional()}),mi({type:Ai("tool-output-error"),toolCallId:To(),errorText:To(),providerExecuted:ni().optional(),dynamic:ni().optional()}),mi({type:Ai("reasoning-start"),id:To(),providerMetadata:Nf.optional()}),mi({type:Ai("reasoning-delta"),id:To(),delta:To(),providerMetadata:Nf.optional()}),mi({type:Ai("reasoning-end"),id:To(),providerMetadata:Nf.optional()}),mi({type:Ai("source-url"),sourceId:To(),url:To(),title:To().optional(),providerMetadata:Nf.optional()}),mi({type:Ai("source-document"),sourceId:To(),mediaType:To(),title:To(),filename:To().optional(),providerMetadata:Nf.optional()}),mi({type:Ai("file"),url:To(),mediaType:To(),providerMetadata:Nf.optional()}),mi({type:Vi((e=>"string"===typeof e&&e.startsWith("data-")),{message:'Type must start with "data-"'}),id:To().optional(),data:li(),transient:ni().optional()}),mi({type:Ai("start-step")}),mi({type:Ai("finish-step")}),mi({type:Ai("start"),messageId:To().optional(),messageMetadata:li().optional()}),mi({type:Ai("finish"),messageMetadata:li().optional()}),mi({type:Ai("abort")}),mi({type:Ai("message-metadata"),messageMetadata:li()})]))));function xh(e){const t=["ROOT"];let n=-1,r=null;function a(e,a,o){switch(e){case'"':n=a,t.pop(),t.push(o),t.push("INSIDE_STRING");break;case"f":case"t":case"n":n=a,r=a,t.pop(),t.push(o),t.push("INSIDE_LITERAL");break;case"-":t.pop(),t.push(o),t.push("INSIDE_NUMBER");break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":n=a,t.pop(),t.push(o),t.push("INSIDE_NUMBER");break;case"{":n=a,t.pop(),t.push(o),t.push("INSIDE_OBJECT_START");break;case"[":n=a,t.pop(),t.push(o),t.push("INSIDE_ARRAY_START")}}function o(e,r){switch(e){case",":t.pop(),t.push("INSIDE_OBJECT_AFTER_COMMA");break;case"}":n=r,t.pop()}}function i(e,r){switch(e){case",":t.pop(),t.push("INSIDE_ARRAY_AFTER_COMMA");break;case"]":n=r,t.pop()}}for(let l=0;l<e.length;l++){const s=e[l];switch(t[t.length-1]){case"ROOT":a(s,l,"FINISH");break;case"INSIDE_OBJECT_START":switch(s){case'"':t.pop(),t.push("INSIDE_OBJECT_KEY");break;case"}":n=l,t.pop()}break;case"INSIDE_OBJECT_AFTER_COMMA":if('"'===s)t.pop(),t.push("INSIDE_OBJECT_KEY");break;case"INSIDE_OBJECT_KEY":if('"'===s)t.pop(),t.push("INSIDE_OBJECT_AFTER_KEY");break;case"INSIDE_OBJECT_AFTER_KEY":if(":"===s)t.pop(),t.push("INSIDE_OBJECT_BEFORE_VALUE");break;case"INSIDE_OBJECT_BEFORE_VALUE":a(s,l,"INSIDE_OBJECT_AFTER_VALUE");break;case"INSIDE_OBJECT_AFTER_VALUE":o(s,l);break;case"INSIDE_STRING":switch(s){case'"':t.pop(),n=l;break;case"\\":t.push("INSIDE_STRING_ESCAPE");break;default:n=l}break;case"INSIDE_ARRAY_START":if("]"===s)n=l,t.pop();else n=l,a(s,l,"INSIDE_ARRAY_AFTER_VALUE");break;case"INSIDE_ARRAY_AFTER_VALUE":switch(s){case",":t.pop(),t.push("INSIDE_ARRAY_AFTER_COMMA");break;case"]":n=l,t.pop();break;default:n=l}break;case"INSIDE_ARRAY_AFTER_COMMA":a(s,l,"INSIDE_ARRAY_AFTER_VALUE");break;case"INSIDE_STRING_ESCAPE":t.pop(),n=l;break;case"INSIDE_NUMBER":switch(s){case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":n=l;break;case"e":case"E":case"-":case".":break;case",":t.pop(),"INSIDE_ARRAY_AFTER_VALUE"===t[t.length-1]&&i(s,l),"INSIDE_OBJECT_AFTER_VALUE"===t[t.length-1]&&o(s,l);break;case"}":t.pop(),"INSIDE_OBJECT_AFTER_VALUE"===t[t.length-1]&&o(s,l);break;case"]":t.pop(),"INSIDE_ARRAY_AFTER_VALUE"===t[t.length-1]&&i(s,l);break;default:t.pop()}break;case"INSIDE_LITERAL":{const a=e.substring(r,l+1);"false".startsWith(a)||"true".startsWith(a)||"null".startsWith(a)?n=l:(t.pop(),"INSIDE_OBJECT_AFTER_VALUE"===t[t.length-1]?o(s,l):"INSIDE_ARRAY_AFTER_VALUE"===t[t.length-1]&&i(s,l));break}}}let s=e.slice(0,n+1);for(let l=t.length-1;l>=0;l--){switch(t[l]){case"INSIDE_STRING":s+='"';break;case"INSIDE_OBJECT_KEY":case"INSIDE_OBJECT_AFTER_KEY":case"INSIDE_OBJECT_AFTER_COMMA":case"INSIDE_OBJECT_START":case"INSIDE_OBJECT_BEFORE_VALUE":case"INSIDE_OBJECT_AFTER_VALUE":s+="}";break;case"INSIDE_ARRAY_START":case"INSIDE_ARRAY_AFTER_COMMA":case"INSIDE_ARRAY_AFTER_VALUE":s+="]";break;case"INSIDE_LITERAL":{const t=e.substring(r,e.length);"true".startsWith(t)?s+="true".slice(t.length):"false".startsWith(t)?s+="false".slice(t.length):"null".startsWith(t)&&(s+="null".slice(t.length))}}}return s}async function Sh(e){if(void 0===e)return{value:void 0,state:"undefined-input"};let t=await tu({text:e});return t.success?{value:t.value,state:"successful-parse"}:(t=await tu({text:xh(e)}),t.success?{value:t.value,state:"repaired-parse"}:{value:void 0,state:"failed-parse"})}Pl({prefix:"aitxt",size:24});Pl({prefix:"aiobj",size:24});Pl({prefix:"aiobj",size:24});((e,t)=>{for(var n in t)rp(e,n,{get:t[n],enumerable:!0})})({},{object:()=>Ch,text:()=>Eh});var Eh=()=>({type:"text",responseFormat:{type:"text"},async parsePartial(e){let{text:t}=e;return{partial:t}},async parseOutput(e){let{text:t}=e;return t}}),Ch=e=>{let{schema:t}=e;const n=Vu(t);return{type:"object",responseFormat:{type:"json",schema:n.jsonSchema},async parsePartial(e){let{text:t}=e;const n=await Sh(t);switch(n.state){case"failed-parse":case"undefined-input":return;case"repaired-parse":case"successful-parse":return{partial:n.value};default:{const e=n.state;throw new Error("Unsupported parse state: ".concat(e))}}},async parseOutput(e,t){let{text:r}=e;const a=await tu({text:r});if(!a.success)throw new zp({message:"No object generated: could not parse the response.",cause:a.error,text:r,response:t.response,usage:t.usage,finishReason:t.finishReason});const o=await eu({value:a.value,schema:n});if(!o.success)throw new zp({message:"No object generated: response did not match schema.",cause:o.error,text:r,response:t.response,usage:t.usage,finishReason:t.finishReason});return o.value}}};var Ah="AI_NoSuchProviderError",Ih="vercel.ai.error.".concat(Ah),Th=Symbol.for(Ih);var Nh=gi({name:To(),version:To()}),Oh=gi({_meta:Oi(hi({}).loose())}),Ph=Oh,zh=hi({method:To(),params:Oi(Oh)}),Rh=gi({experimental:Oi(hi({}).loose()),logging:Oi(hi({}).loose()),prompts:Oi(gi({listChanged:Oi(ni())})),resources:Oi(gi({subscribe:Oi(ni()),listChanged:Oi(ni())})),tools:Oi(gi({listChanged:Oi(ni())}))}),jh=(Ph.extend({protocolVersion:To(),capabilities:Rh,serverInfo:Nh,instructions:Oi(To())}),Ph.extend({nextCursor:Oi(To())})),Mh=hi({name:To(),description:Oi(To()),inputSchema:hi({type:Ai("object"),properties:Oi(hi({}).loose())}).loose()}).loose(),Fh=(jh.extend({tools:pi(Mh)}),hi({type:Ai("text"),text:To()}).loose()),Lh=hi({type:Ai("image"),data:Wo(),mimeType:To()}).loose(),Dh=hi({uri:To(),mimeType:Oi(To())}).loose(),Uh=Dh.extend({text:To()}),Bh=Dh.extend({blob:Wo()}),Zh=hi({type:Ai("resource"),resource:yi([Uh,Bh])}).loose(),qh=(Ph.extend({content:pi(yi([Fh,Lh,Zh])),isError:ni().default(!1).optional()}).or(Ph.extend({toolResult:li()})),"2.0"),Vh=hi({jsonrpc:Ai(qh),id:yi([To(),Yo().int()])}).merge(zh).strict(),$h=hi({jsonrpc:Ai(qh),id:yi([To(),Yo().int()]),result:Ph}).strict(),Hh=hi({jsonrpc:Ai(qh),id:yi([To(),Yo().int()]),error:hi({code:Yo().int(),message:To(),data:Oi(li())})}).strict();yi([Vh,hi({jsonrpc:Ai(qh)}).merge(hi({method:To(),params:Oi(Oh)})).strict(),$h,Hh]);Gl((()=>Uu(pi(hi({id:To(),role:Ei(["system","user","assistant"]),metadata:li().optional(),parts:pi(yi([hi({type:Ai("text"),text:To(),state:Ei(["streaming","done"]).optional(),providerMetadata:Nf.optional()}),hi({type:Ai("reasoning"),text:To(),state:Ei(["streaming","done"]).optional(),providerMetadata:Nf.optional()}),hi({type:Ai("source-url"),sourceId:To(),url:To(),title:To().optional(),providerMetadata:Nf.optional()}),hi({type:Ai("source-document"),sourceId:To(),mediaType:To(),title:To(),filename:To().optional(),providerMetadata:Nf.optional()}),hi({type:Ai("file"),mediaType:To(),filename:To().optional(),url:To(),providerMetadata:Nf.optional()}),hi({type:Ai("step-start")}),hi({type:To().startsWith("data-"),id:To().optional(),data:li()}),hi({type:Ai("dynamic-tool"),toolName:To(),toolCallId:To(),state:Ai("input-streaming"),input:li().optional(),output:ci().optional(),errorText:ci().optional()}),hi({type:Ai("dynamic-tool"),toolName:To(),toolCallId:To(),state:Ai("input-available"),input:li(),output:ci().optional(),errorText:ci().optional(),callProviderMetadata:Nf.optional()}),hi({type:Ai("dynamic-tool"),toolName:To(),toolCallId:To(),state:Ai("output-available"),input:li(),output:li(),errorText:ci().optional(),callProviderMetadata:Nf.optional(),preliminary:ni().optional()}),hi({type:Ai("dynamic-tool"),toolName:To(),toolCallId:To(),state:Ai("output-error"),input:li(),output:ci().optional(),errorText:To(),callProviderMetadata:Nf.optional()}),hi({type:To().startsWith("tool-"),toolCallId:To(),state:Ai("input-streaming"),providerExecuted:ni().optional(),input:li().optional(),output:ci().optional(),errorText:ci().optional(),approval:ci().optional()}),hi({type:To().startsWith("tool-"),toolCallId:To(),state:Ai("input-available"),providerExecuted:ni().optional(),input:li(),output:ci().optional(),errorText:ci().optional(),callProviderMetadata:Nf.optional(),approval:ci().optional()}),hi({type:To().startsWith("tool-"),toolCallId:To(),state:Ai("approval-requested"),input:li(),providerExecuted:ni().optional(),output:ci().optional(),errorText:ci().optional(),callProviderMetadata:Nf.optional(),approval:hi({id:To(),approved:ci().optional(),reason:ci().optional()})}),hi({type:To().startsWith("tool-"),toolCallId:To(),state:Ai("approval-responded"),input:li(),providerExecuted:ni().optional(),output:ci().optional(),errorText:ci().optional(),callProviderMetadata:Nf.optional(),approval:hi({id:To(),approved:ni(),reason:To().optional()})}),hi({type:To().startsWith("tool-"),toolCallId:To(),state:Ai("output-available"),providerExecuted:ni().optional(),input:li(),output:li(),errorText:ci().optional(),callProviderMetadata:Nf.optional(),preliminary:ni().optional(),approval:hi({id:To(),approved:Ai(!0),reason:To().optional()}).optional()}),hi({type:To().startsWith("tool-"),toolCallId:To(),state:Ai("output-error"),providerExecuted:ni().optional(),input:li(),output:ci().optional(),errorText:To(),callProviderMetadata:Nf.optional(),approval:hi({id:To(),approved:Ai(!0),reason:To().optional()}).optional()}),hi({type:To().startsWith("tool-"),toolCallId:To(),state:Ai("output-denied"),providerExecuted:ni().optional(),input:li(),output:ci().optional(),errorText:ci().optional(),callProviderMetadata:Nf.optional(),approval:hi({id:To(),approved:Ai(!1),reason:To().optional()})})]))})))));var Wh=hi({error:hi({message:To(),type:To().nullish(),param:ii().nullish(),code:yi([To(),Yo()]).nullish()})}),Qh=du({errorSchema:Wh,errorToMessage:e=>e.error.message});function Kh(e){let{id:t,model:n,created:r}=e;return{id:null!=t?t:void 0,modelId:null!=n?n:void 0,timestamp:null!=r?new Date(1e3*r):void 0}}function Jh(e){switch(e){case"stop":return"stop";case"length":return"length";case"content_filter":return"content-filter";case"function_call":case"tool_calls":return"tool-calls";default:return"unknown"}}var Gh=Gl((()=>Uu(hi({id:To().nullish(),created:Yo().nullish(),model:To().nullish(),choices:pi(hi({message:hi({role:Ai("assistant").nullish(),content:To().nullish(),tool_calls:pi(hi({id:To().nullish(),type:Ai("function"),function:hi({name:To(),arguments:To()})})).nullish(),annotations:pi(hi({type:Ai("url_citation"),start_index:Yo(),end_index:Yo(),url:To(),title:To()})).nullish()}),index:Yo(),logprobs:hi({content:pi(hi({token:To(),logprob:Yo(),top_logprobs:pi(hi({token:To(),logprob:Yo()}))})).nullish()}).nullish(),finish_reason:To().nullish()})),usage:hi({prompt_tokens:Yo().nullish(),completion_tokens:Yo().nullish(),total_tokens:Yo().nullish(),prompt_tokens_details:hi({cached_tokens:Yo().nullish()}).nullish(),completion_tokens_details:hi({reasoning_tokens:Yo().nullish(),accepted_prediction_tokens:Yo().nullish(),rejected_prediction_tokens:Yo().nullish()}).nullish()}).nullish()})))),Yh=Gl((()=>Uu(yi([hi({id:To().nullish(),created:Yo().nullish(),model:To().nullish(),choices:pi(hi({delta:hi({role:Ei(["assistant"]).nullish(),content:To().nullish(),tool_calls:pi(hi({index:Yo(),id:To().nullish(),type:Ai("function").nullish(),function:hi({name:To().nullish(),arguments:To().nullish()})})).nullish(),annotations:pi(hi({type:Ai("url_citation"),start_index:Yo(),end_index:Yo(),url:To(),title:To()})).nullish()}).nullish(),logprobs:hi({content:pi(hi({token:To(),logprob:Yo(),top_logprobs:pi(hi({token:To(),logprob:Yo()}))})).nullish()}).nullish(),finish_reason:To().nullish(),index:Yo()})),usage:hi({prompt_tokens:Yo().nullish(),completion_tokens:Yo().nullish(),total_tokens:Yo().nullish(),prompt_tokens_details:hi({cached_tokens:Yo().nullish()}).nullish(),completion_tokens_details:hi({reasoning_tokens:Yo().nullish(),accepted_prediction_tokens:Yo().nullish(),rejected_prediction_tokens:Yo().nullish()}).nullish()}).nullish()}),Wh])))),Xh=Gl((()=>Uu(hi({logitBias:xi(Wi(),Yo()).optional(),logprobs:yi([ni(),Yo()]).optional(),parallelToolCalls:ni().optional(),user:To().optional(),reasoningEffort:Ei(["minimal","low","medium","high"]).optional(),maxCompletionTokens:Yo().optional(),store:ni().optional(),metadata:xi(To().max(64),To().max(512)).optional(),prediction:xi(To(),ii()).optional(),structuredOutputs:ni().optional(),serviceTier:Ei(["auto","flex","priority","default"]).optional(),strictJsonSchema:ni().optional(),textVerbosity:Ei(["low","medium","high"]).optional(),promptCacheKey:To().optional(),safetyIdentifier:To().optional()}))));var em=class{constructor(e,t){this.specificationVersion="v2",this.supportedUrls={"image/*":[/^https?:\/\/.*$/]},this.modelId=e,this.config=t}get provider(){return this.config.provider}async getArgs(e){let{prompt:t,maxOutputTokens:n,temperature:r,topP:a,topK:o,frequencyPenalty:i,presencePenalty:s,stopSequences:l,responseFormat:u,seed:c,tools:p,toolChoice:f,providerOptions:h}=e;var m,g,v,y;const b=[],_=null!=(m=await au({provider:"openai",providerOptions:h,schema:Xh}))?m:{},w=null==(g=_.structuredOutputs)||g;null!=o&&b.push({type:"unsupported-setting",setting:"topK"}),"json"!==(null==u?void 0:u.type)||null==u.schema||w||b.push({type:"unsupported-setting",setting:"responseFormat",details:"JSON response format schema is only supported with structuredOutputs"});const{messages:k,warnings:x}=function(e){let{prompt:t,systemMessageMode:n="system"}=e;const r=[],a=[];for(const{role:o,content:i}of t)switch(o){case"system":switch(n){case"system":r.push({role:"system",content:i});break;case"developer":r.push({role:"developer",content:i});break;case"remove":a.push({type:"other",message:"system messages are removed for this model"});break;default:throw new Error("Unsupported system message mode: ".concat(n))}break;case"user":if(1===i.length&&"text"===i[0].type){r.push({role:"user",content:i[0].text});break}r.push({role:"user",content:i.map(((e,t)=>{var n,r,a;switch(e.type){case"text":return{type:"text",text:e.text};case"file":if(e.mediaType.startsWith("image/")){const t="image/*"===e.mediaType?"image/jpeg":e.mediaType;return{type:"image_url",image_url:{url:e.data instanceof URL?e.data.toString():"data:".concat(t,";base64,").concat(Ku(e.data)),detail:null==(r=null==(n=e.providerOptions)?void 0:n.openai)?void 0:r.imageDetail}}}if(!e.mediaType.startsWith("audio/")){if("application/pdf"===e.mediaType){if(e.data instanceof URL)throw new Oe({functionality:"PDF file parts with URLs"});return{type:"file",file:"string"===typeof e.data&&e.data.startsWith("file-")?{file_id:e.data}:{filename:null!=(a=e.filename)?a:"part-".concat(t,".pdf"),file_data:"data:application/pdf;base64,".concat(Ku(e.data))}}}throw new Oe({functionality:"file part media type ".concat(e.mediaType)})}if(e.data instanceof URL)throw new Oe({functionality:"audio file parts with URLs"});switch(e.mediaType){case"audio/wav":return{type:"input_audio",input_audio:{data:Ku(e.data),format:"wav"}};case"audio/mp3":case"audio/mpeg":return{type:"input_audio",input_audio:{data:Ku(e.data),format:"mp3"}};default:throw new Oe({functionality:"audio content parts with media type ".concat(e.mediaType)})}}}))});break;case"assistant":{let e="";const t=[];for(const n of i)switch(n.type){case"text":e+=n.text;break;case"tool-call":t.push({id:n.toolCallId,type:"function",function:{name:n.toolName,arguments:JSON.stringify(n.input)}})}r.push({role:"assistant",content:e,tool_calls:t.length>0?t:void 0});break}case"tool":for(const e of i){const t=e.output;let n;switch(t.type){case"text":case"error-text":n=t.value;break;case"content":case"json":case"error-json":n=JSON.stringify(t.value)}r.push({role:"tool",tool_call_id:e.toolCallId,content:n})}break;default:throw new Error("Unsupported role: ".concat(o))}return{messages:r,warnings:a}}({prompt:t,systemMessageMode:nm(this.modelId)});b.push(...x);const S=null!=(v=_.strictJsonSchema)&&v,E={model:this.modelId,logit_bias:_.logitBias,logprobs:!0===_.logprobs||"number"===typeof _.logprobs||void 0,top_logprobs:"number"===typeof _.logprobs?_.logprobs:"boolean"===typeof _.logprobs&&_.logprobs?0:void 0,user:_.user,parallel_tool_calls:_.parallelToolCalls,max_tokens:n,temperature:r,top_p:a,frequency_penalty:i,presence_penalty:s,response_format:"json"===(null==u?void 0:u.type)?w&&null!=u.schema?{type:"json_schema",json_schema:{schema:u.schema,strict:S,name:null!=(y=u.name)?y:"response",description:u.description}}:{type:"json_object"}:void 0,stop:l,seed:c,verbosity:_.textVerbosity,max_completion_tokens:_.maxCompletionTokens,store:_.store,metadata:_.metadata,prediction:_.prediction,reasoning_effort:_.reasoningEffort,service_tier:_.serviceTier,prompt_cache_key:_.promptCacheKey,safety_identifier:_.safetyIdentifier,messages:k};var C;tm(this.modelId)?(null!=E.temperature&&(E.temperature=void 0,b.push({type:"unsupported-setting",setting:"temperature",details:"temperature is not supported for reasoning models"})),null!=E.top_p&&(E.top_p=void 0,b.push({type:"unsupported-setting",setting:"topP",details:"topP is not supported for reasoning models"})),null!=E.frequency_penalty&&(E.frequency_penalty=void 0,b.push({type:"unsupported-setting",setting:"frequencyPenalty",details:"frequencyPenalty is not supported for reasoning models"})),null!=E.presence_penalty&&(E.presence_penalty=void 0,b.push({type:"unsupported-setting",setting:"presencePenalty",details:"presencePenalty is not supported for reasoning models"})),null!=E.logit_bias&&(E.logit_bias=void 0,b.push({type:"other",message:"logitBias is not supported for reasoning models"})),null!=E.logprobs&&(E.logprobs=void 0,b.push({type:"other",message:"logprobs is not supported for reasoning models"})),null!=E.top_logprobs&&(E.top_logprobs=void 0,b.push({type:"other",message:"topLogprobs is not supported for reasoning models"})),null!=E.max_tokens&&(null==E.max_completion_tokens&&(E.max_completion_tokens=E.max_tokens),E.max_tokens=void 0)):(this.modelId.startsWith("gpt-4o-search-preview")||this.modelId.startsWith("gpt-4o-mini-search-preview"))&&null!=E.temperature&&(E.temperature=void 0,b.push({type:"unsupported-setting",setting:"temperature",details:"temperature is not supported for the search preview models and has been removed."})),"flex"!==_.serviceTier||((C=this.modelId).startsWith("o3")||C.startsWith("o4-mini")||C.startsWith("gpt-5")&&!C.startsWith("gpt-5-chat"))||(b.push({type:"unsupported-setting",setting:"serviceTier",details:"flex processing is only available for o3, o4-mini, and gpt-5 models"}),E.service_tier=void 0),"priority"!==_.serviceTier||function(e){return e.startsWith("gpt-4")||e.startsWith("gpt-5-mini")||e.startsWith("gpt-5")&&!e.startsWith("gpt-5-nano")&&!e.startsWith("gpt-5-chat")||e.startsWith("o3")||e.startsWith("o4-mini")}(this.modelId)||(b.push({type:"unsupported-setting",setting:"serviceTier",details:"priority processing is only available for supported models (gpt-4, gpt-5, gpt-5-mini, o3, o4-mini) and requires Enterprise access. gpt-5-nano is not supported"}),E.service_tier=void 0);const{tools:A,toolChoice:I,toolWarnings:T}=function(e){let{tools:t,toolChoice:n,structuredOutputs:r,strictJsonSchema:a}=e;t=(null==t?void 0:t.length)?t:void 0;const o=[];if(null==t)return{tools:void 0,toolChoice:void 0,toolWarnings:o};const i=[];for(const l of t)"function"===l.type?i.push({type:"function",function:{name:l.name,description:l.description,parameters:l.inputSchema,strict:r?a:void 0}}):o.push({type:"unsupported-tool",tool:l});if(null==n)return{tools:i,toolChoice:void 0,toolWarnings:o};const s=n.type;switch(s){case"auto":case"none":case"required":return{tools:i,toolChoice:s,toolWarnings:o};case"tool":return{tools:i,toolChoice:{type:"function",function:{name:n.toolName}},toolWarnings:o};default:throw new Oe({functionality:"tool choice type: ".concat(s)})}}({tools:p,toolChoice:f,structuredOutputs:w,strictJsonSchema:S});return{args:d(d({},E),{},{tools:A,tool_choice:I}),warnings:[...b,...T]}}async doGenerate(e){var t,n,r,a,o,i,s,l,u,c,p,f,h,m;const{args:g,warnings:v}=await this.getArgs(e),{responseHeaders:y,value:b,rawValue:_}=await iu({url:this.config.url({path:"/chat/completions",modelId:this.modelId}),headers:Tl(this.config.headers(),e.headers),body:g,failedResponseHandler:Qh,successfulResponseHandler:fu(Gh),abortSignal:e.abortSignal,fetch:this.config.fetch}),w=b.choices[0],k=[],x=w.message.content;null!=x&&x.length>0&&k.push({type:"text",text:x});for(const d of null!=(t=w.message.tool_calls)?t:[])k.push({type:"tool-call",toolCallId:null!=(n=d.id)?n:zl(),toolName:d.function.name,input:d.function.arguments});for(const d of null!=(r=w.message.annotations)?r:[])k.push({type:"source",sourceType:"url",id:zl(),url:d.url,title:d.title});const S=null==(a=b.usage)?void 0:a.completion_tokens_details,E=null==(o=b.usage)?void 0:o.prompt_tokens_details,C={openai:{}};return null!=(null==S?void 0:S.accepted_prediction_tokens)&&(C.openai.acceptedPredictionTokens=null==S?void 0:S.accepted_prediction_tokens),null!=(null==S?void 0:S.rejected_prediction_tokens)&&(C.openai.rejectedPredictionTokens=null==S?void 0:S.rejected_prediction_tokens),null!=(null==(i=w.logprobs)?void 0:i.content)&&(C.openai.logprobs=w.logprobs.content),{content:k,finishReason:Jh(w.finish_reason),usage:{inputTokens:null!=(l=null==(s=b.usage)?void 0:s.prompt_tokens)?l:void 0,outputTokens:null!=(c=null==(u=b.usage)?void 0:u.completion_tokens)?c:void 0,totalTokens:null!=(f=null==(p=b.usage)?void 0:p.total_tokens)?f:void 0,reasoningTokens:null!=(h=null==S?void 0:S.reasoning_tokens)?h:void 0,cachedInputTokens:null!=(m=null==E?void 0:E.cached_tokens)?m:void 0},request:{body:g},response:d(d({},Kh(b)),{},{headers:y,body:_}),warnings:v,providerMetadata:C}}async doStream(e){const{args:t,warnings:n}=await this.getArgs(e),r=d(d({},t),{},{stream:!0,stream_options:{include_usage:!0}}),{responseHeaders:a,value:o}=await iu({url:this.config.url({path:"/chat/completions",modelId:this.modelId}),headers:Tl(this.config.headers(),e.headers),body:r,failedResponseHandler:Qh,successfulResponseHandler:pu(Yh),abortSignal:e.abortSignal,fetch:this.config.fetch}),i=[];let s="unknown";const l={inputTokens:void 0,outputTokens:void 0,totalTokens:void 0};let u=!0,c=!1;const p={openai:{}};return{stream:o.pipeThrough(new TransformStream({start(e){e.enqueue({type:"stream-start",warnings:n})},transform(t,n){var r,a,o,f,h,m,g,v,y,b,_,w,k,x,S,E,C,A,I,T,N,O,P,z;if(e.includeRawChunks&&n.enqueue({type:"raw",rawValue:t.rawValue}),!t.success)return s="error",void n.enqueue({type:"error",error:t.error});const R=t.value;if("error"in R)return s="error",void n.enqueue({type:"error",error:R.error});u&&(u=!1,n.enqueue(d({type:"response-metadata"},Kh(R)))),null!=R.usage&&(l.inputTokens=null!=(r=R.usage.prompt_tokens)?r:void 0,l.outputTokens=null!=(a=R.usage.completion_tokens)?a:void 0,l.totalTokens=null!=(o=R.usage.total_tokens)?o:void 0,l.reasoningTokens=null!=(h=null==(f=R.usage.completion_tokens_details)?void 0:f.reasoning_tokens)?h:void 0,l.cachedInputTokens=null!=(g=null==(m=R.usage.prompt_tokens_details)?void 0:m.cached_tokens)?g:void 0,null!=(null==(v=R.usage.completion_tokens_details)?void 0:v.accepted_prediction_tokens)&&(p.openai.acceptedPredictionTokens=null==(y=R.usage.completion_tokens_details)?void 0:y.accepted_prediction_tokens),null!=(null==(b=R.usage.completion_tokens_details)?void 0:b.rejected_prediction_tokens)&&(p.openai.rejectedPredictionTokens=null==(_=R.usage.completion_tokens_details)?void 0:_.rejected_prediction_tokens));const j=R.choices[0];if(null!=(null==j?void 0:j.finish_reason)&&(s=Jh(j.finish_reason)),null!=(null==(w=null==j?void 0:j.logprobs)?void 0:w.content)&&(p.openai.logprobs=j.logprobs.content),null==(null==j?void 0:j.delta))return;const M=j.delta;if(null!=M.content&&(c||(n.enqueue({type:"text-start",id:"0"}),c=!0),n.enqueue({type:"text-delta",id:"0",delta:M.content})),null!=M.tool_calls)for(const e of M.tool_calls){const t=e.index;if(null==i[t]){if("function"!==e.type)throw new K({data:e,message:"Expected 'function' type."});if(null==e.id)throw new K({data:e,message:"Expected 'id' to be a string."});if(null==(null==(k=e.function)?void 0:k.name))throw new K({data:e,message:"Expected 'function.name' to be a string."});n.enqueue({type:"tool-input-start",id:e.id,toolName:e.function.name}),i[t]={id:e.id,type:"function",function:{name:e.function.name,arguments:null!=(x=e.function.arguments)?x:""},hasFinished:!1};const r=i[t];null!=(null==(S=r.function)?void 0:S.name)&&null!=(null==(E=r.function)?void 0:E.arguments)&&(r.function.arguments.length>0&&n.enqueue({type:"tool-input-delta",id:r.id,delta:r.function.arguments}),nu(r.function.arguments)&&(n.enqueue({type:"tool-input-end",id:r.id}),n.enqueue({type:"tool-call",toolCallId:null!=(C=r.id)?C:zl(),toolName:r.function.name,input:r.function.arguments}),r.hasFinished=!0));continue}const r=i[t];r.hasFinished||(null!=(null==(A=e.function)?void 0:A.arguments)&&(r.function.arguments+=null!=(T=null==(I=e.function)?void 0:I.arguments)?T:""),n.enqueue({type:"tool-input-delta",id:r.id,delta:null!=(N=e.function.arguments)?N:""}),null!=(null==(O=r.function)?void 0:O.name)&&null!=(null==(P=r.function)?void 0:P.arguments)&&nu(r.function.arguments)&&(n.enqueue({type:"tool-input-end",id:r.id}),n.enqueue({type:"tool-call",toolCallId:null!=(z=r.id)?z:zl(),toolName:r.function.name,input:r.function.arguments}),r.hasFinished=!0))}if(null!=M.annotations)for(const e of M.annotations)n.enqueue({type:"source",sourceType:"url",id:zl(),url:e.url,title:e.title})},flush(e){c&&e.enqueue({type:"text-end",id:"0"}),e.enqueue(d({type:"finish",finishReason:s,usage:l},null!=p?{providerMetadata:p}:{}))}})),request:{body:r},response:{headers:a}}}};function tm(e){return(e.startsWith("o")||e.startsWith("gpt-5"))&&!e.startsWith("gpt-5-chat")}function nm(e){var t,n;return tm(e)?null!=(n=null==(t=rm[e])?void 0:t.systemMessageMode)?n:"developer":"system"}var rm={"o1-mini":{systemMessageMode:"remove"},"o1-mini-2024-09-12":{systemMessageMode:"remove"},"o1-preview":{systemMessageMode:"remove"},"o1-preview-2024-09-12":{systemMessageMode:"remove"},o3:{systemMessageMode:"developer"},"o3-2025-04-16":{systemMessageMode:"developer"},"o3-mini":{systemMessageMode:"developer"},"o3-mini-2025-01-31":{systemMessageMode:"developer"},"o4-mini":{systemMessageMode:"developer"},"o4-mini-2025-04-16":{systemMessageMode:"developer"}};function am(e){let{id:t,model:n,created:r}=e;return{id:null!=t?t:void 0,modelId:null!=n?n:void 0,timestamp:null!=r?new Date(1e3*r):void 0}}function om(e){switch(e){case"stop":return"stop";case"length":return"length";case"content_filter":return"content-filter";case"function_call":case"tool_calls":return"tool-calls";default:return"unknown"}}var im=Gl((()=>Uu(hi({id:To().nullish(),created:Yo().nullish(),model:To().nullish(),choices:pi(hi({text:To(),finish_reason:To(),logprobs:hi({tokens:pi(To()),token_logprobs:pi(Yo()),top_logprobs:pi(xi(To(),Yo())).nullish()}).nullish()})),usage:hi({prompt_tokens:Yo(),completion_tokens:Yo(),total_tokens:Yo()}).nullish()})))),sm=Gl((()=>Uu(yi([hi({id:To().nullish(),created:Yo().nullish(),model:To().nullish(),choices:pi(hi({text:To(),finish_reason:To().nullish(),index:Yo(),logprobs:hi({tokens:pi(To()),token_logprobs:pi(Yo()),top_logprobs:pi(xi(To(),Yo())).nullish()}).nullish()})),usage:hi({prompt_tokens:Yo(),completion_tokens:Yo(),total_tokens:Yo()}).nullish()}),Wh])))),lm=Gl((()=>Uu(hi({echo:ni().optional(),logitBias:xi(To(),Yo()).optional(),suffix:To().optional(),user:To().optional(),logprobs:yi([ni(),Yo()]).optional()})))),um=class{constructor(e,t){this.specificationVersion="v2",this.supportedUrls={},this.modelId=e,this.config=t}get providerOptionsName(){return this.config.provider.split(".")[0].trim()}get provider(){return this.config.provider}async getArgs(e){let{prompt:t,maxOutputTokens:n,temperature:r,topP:a,topK:o,frequencyPenalty:i,presencePenalty:s,stopSequences:l,responseFormat:u,tools:c,toolChoice:p,seed:f,providerOptions:h}=e;const m=[],g=d(d({},await au({provider:"openai",providerOptions:h,schema:lm})),await au({provider:this.providerOptionsName,providerOptions:h,schema:lm}));null!=o&&m.push({type:"unsupported-setting",setting:"topK"}),(null==c?void 0:c.length)&&m.push({type:"unsupported-setting",setting:"tools"}),null!=p&&m.push({type:"unsupported-setting",setting:"toolChoice"}),null!=u&&"text"!==u.type&&m.push({type:"unsupported-setting",setting:"responseFormat",details:"JSON response format is not supported."});const{prompt:v,stopSequences:y}=function(e){let{prompt:t,user:n="user",assistant:r="assistant"}=e,a="";"system"===t[0].role&&(a+="".concat(t[0].content,"\n\n"),t=t.slice(1));for(const{role:o,content:i}of t)switch(o){case"system":throw new V({message:"Unexpected system message in prompt: ${content}",prompt:t});case"user":{const e=i.map((e=>{if("text"===e.type)return e.text})).filter(Boolean).join("");a+="".concat(n,":\n").concat(e,"\n\n");break}case"assistant":{const e=i.map((e=>{switch(e.type){case"text":return e.text;case"tool-call":throw new Oe({functionality:"tool-call messages"})}})).join("");a+="".concat(r,":\n").concat(e,"\n\n");break}case"tool":throw new Oe({functionality:"tool messages"});default:throw new Error("Unsupported role: ".concat(o))}return a+="".concat(r,":\n"),{prompt:a,stopSequences:["\n".concat(n,":")]}}({prompt:t}),b=[...null!=y?y:[],...null!=l?l:[]];return{args:{model:this.modelId,echo:g.echo,logit_bias:g.logitBias,logprobs:!0===(null==g?void 0:g.logprobs)?0:!1===(null==g?void 0:g.logprobs)||null==g?void 0:g.logprobs,suffix:g.suffix,user:g.user,max_tokens:n,temperature:r,top_p:a,frequency_penalty:i,presence_penalty:s,seed:f,prompt:v,stop:b.length>0?b:void 0},warnings:m}}async doGenerate(e){var t,n,r;const{args:a,warnings:o}=await this.getArgs(e),{responseHeaders:i,value:s,rawValue:l}=await iu({url:this.config.url({path:"/completions",modelId:this.modelId}),headers:Tl(this.config.headers(),e.headers),body:a,failedResponseHandler:Qh,successfulResponseHandler:fu(im),abortSignal:e.abortSignal,fetch:this.config.fetch}),u=s.choices[0],c={openai:{}};return null!=u.logprobs&&(c.openai.logprobs=u.logprobs),{content:[{type:"text",text:u.text}],usage:{inputTokens:null==(t=s.usage)?void 0:t.prompt_tokens,outputTokens:null==(n=s.usage)?void 0:n.completion_tokens,totalTokens:null==(r=s.usage)?void 0:r.total_tokens},finishReason:om(u.finish_reason),request:{body:a},response:d(d({},am(s)),{},{headers:i,body:l}),providerMetadata:c,warnings:o}}async doStream(e){const{args:t,warnings:n}=await this.getArgs(e),r=d(d({},t),{},{stream:!0,stream_options:{include_usage:!0}}),{responseHeaders:a,value:o}=await iu({url:this.config.url({path:"/completions",modelId:this.modelId}),headers:Tl(this.config.headers(),e.headers),body:r,failedResponseHandler:Qh,successfulResponseHandler:pu(sm),abortSignal:e.abortSignal,fetch:this.config.fetch});let i="unknown";const s={openai:{}},l={inputTokens:void 0,outputTokens:void 0,totalTokens:void 0};let u=!0;return{stream:o.pipeThrough(new TransformStream({start(e){e.enqueue({type:"stream-start",warnings:n})},transform(t,n){if(e.includeRawChunks&&n.enqueue({type:"raw",rawValue:t.rawValue}),!t.success)return i="error",void n.enqueue({type:"error",error:t.error});const r=t.value;if("error"in r)return i="error",void n.enqueue({type:"error",error:r.error});u&&(u=!1,n.enqueue(d({type:"response-metadata"},am(r))),n.enqueue({type:"text-start",id:"0"})),null!=r.usage&&(l.inputTokens=r.usage.prompt_tokens,l.outputTokens=r.usage.completion_tokens,l.totalTokens=r.usage.total_tokens);const a=r.choices[0];null!=(null==a?void 0:a.finish_reason)&&(i=om(a.finish_reason)),null!=(null==a?void 0:a.logprobs)&&(s.openai.logprobs=a.logprobs),null!=(null==a?void 0:a.text)&&a.text.length>0&&n.enqueue({type:"text-delta",id:"0",delta:a.text})},flush(e){u||e.enqueue({type:"text-end",id:"0"}),e.enqueue({type:"finish",finishReason:i,providerMetadata:s,usage:l})}})),request:{body:r},response:{headers:a}}}},cm=Gl((()=>Uu(hi({dimensions:Yo().optional(),user:To().optional()})))),dm=Gl((()=>Uu(hi({data:pi(hi({embedding:pi(Yo())})),usage:hi({prompt_tokens:Yo()}).nullish()})))),pm=class{constructor(e,t){this.specificationVersion="v2",this.maxEmbeddingsPerCall=2048,this.supportsParallelCalls=!0,this.modelId=e,this.config=t}get provider(){return this.config.provider}async doEmbed(e){let{values:t,headers:n,abortSignal:r,providerOptions:a}=e;var o;if(t.length>this.maxEmbeddingsPerCall)throw new we({provider:this.provider,modelId:this.modelId,maxEmbeddingsPerCall:this.maxEmbeddingsPerCall,values:t});const i=null!=(o=await au({provider:"openai",providerOptions:a,schema:cm}))?o:{},{responseHeaders:s,value:l,rawValue:u}=await iu({url:this.config.url({path:"/embeddings",modelId:this.modelId}),headers:Tl(this.config.headers(),n),body:{model:this.modelId,input:t,encoding_format:"float",dimensions:i.dimensions,user:i.user},failedResponseHandler:Qh,successfulResponseHandler:fu(dm),abortSignal:r,fetch:this.config.fetch});return{embeddings:l.data.map((e=>e.embedding)),usage:l.usage?{tokens:l.usage.prompt_tokens}:void 0,response:{headers:s,body:u}}}},fm=Gl((()=>Uu(hi({data:pi(hi({b64_json:To(),revised_prompt:To().optional()}))})))),hm={"dall-e-3":1,"dall-e-2":10,"gpt-image-1":10,"gpt-image-1-mini":10},mm=new Set(["gpt-image-1","gpt-image-1-mini"]),gm=class{constructor(e,t){this.modelId=e,this.config=t,this.specificationVersion="v2"}get maxImagesPerCall(){var e;return null!=(e=hm[this.modelId])?e:1}get provider(){return this.config.provider}async doGenerate(e){let{prompt:t,n:n,size:r,aspectRatio:a,seed:o,providerOptions:i,headers:s,abortSignal:l}=e;var u,c,p,f;const h=[];null!=a&&h.push({type:"unsupported-setting",setting:"aspectRatio",details:"This model does not support aspect ratio. Use `size` instead."}),null!=o&&h.push({type:"unsupported-setting",setting:"seed"});const m=null!=(p=null==(c=null==(u=this.config._internal)?void 0:u.currentDate)?void 0:c.call(u))?p:new Date,{value:g,responseHeaders:v}=await iu({url:this.config.url({path:"/images/generations",modelId:this.modelId}),headers:Tl(this.config.headers(),s),body:d(d({model:this.modelId,prompt:t,n:n,size:r},null!=(f=i.openai)?f:{}),mm.has(this.modelId)?{}:{response_format:"b64_json"}),failedResponseHandler:Qh,successfulResponseHandler:fu(fm),abortSignal:l,fetch:this.config.fetch});return{images:g.data.map((e=>e.b64_json)),warnings:h,response:{timestamp:m,modelId:this.modelId,headers:v},providerMetadata:{openai:{images:g.data.map((e=>e.revised_prompt?{revisedPrompt:e.revised_prompt}:null))}}}}},vm=Zu((()=>Uu(hi({code:To().nullish(),containerId:To()})))),ym=Zu((()=>Uu(hi({outputs:pi(_i("type",[hi({type:Ai("logs"),logs:To()}),hi({type:Ai("image"),url:To()})])).nullish()})))),bm=Zu((()=>Uu(hi({container:yi([To(),hi({fileIds:pi(To()).optional()})]).optional()})))),_m=uu({id:"openai.code_interpreter",name:"code_interpreter",inputSchema:vm,outputSchema:ym}),wm=hi({key:To(),type:Ei(["eq","ne","gt","gte","lt","lte"]),value:yi([To(),Yo(),ni()])}),km=hi({type:Ei(["and","or"]),filters:pi(yi([wm,Zi((()=>km))]))}),xm=Zu((()=>Uu(hi({vectorStoreIds:pi(To()),maxNumResults:Yo().optional(),ranking:hi({ranker:To().optional(),scoreThreshold:Yo().optional()}).optional(),filters:yi([wm,km]).optional()})))),Sm=Zu((()=>Uu(hi({queries:pi(To()),results:pi(hi({attributes:xi(To(),li()),fileId:To(),filename:To(),score:Yo(),text:To()})).nullable()})))),Em=uu({id:"openai.file_search",name:"file_search",inputSchema:hi({}),outputSchema:Sm}),Cm=Zu((()=>Uu(hi({background:Ei(["auto","opaque","transparent"]).optional(),inputFidelity:Ei(["low","high"]).optional(),inputImageMask:hi({fileId:To().optional(),imageUrl:To().optional()}).optional(),model:To().optional(),moderation:Ei(["auto"]).optional(),outputCompression:Yo().int().min(0).max(100).optional(),outputFormat:Ei(["png","jpeg","webp"]).optional(),partialImages:Yo().int().min(0).max(3).optional(),quality:Ei(["auto","low","medium","high"]).optional(),size:Ei(["1024x1024","1024x1536","1536x1024","auto"]).optional()}).strict()))),Am=uu({id:"openai.image_generation",name:"image_generation",inputSchema:Zu((()=>Uu(hi({})))),outputSchema:Zu((()=>Uu(hi({result:To()}))))}),Im=Zu((()=>Uu(hi({action:hi({type:Ai("exec"),command:pi(To()),timeoutMs:Yo().optional(),user:To().optional(),workingDirectory:To().optional(),env:xi(To(),To()).optional()})})))),Tm=Zu((()=>Uu(hi({output:To()})))),Nm=uu({id:"openai.local_shell",name:"local_shell",inputSchema:Im,outputSchema:Tm}),Om=Zu((()=>Uu(hi({filters:hi({allowedDomains:pi(To()).optional()}).optional(),searchContextSize:Ei(["low","medium","high"]).optional(),userLocation:hi({type:Ai("approximate"),country:To().optional(),city:To().optional(),region:To().optional(),timezone:To().optional()}).optional()})))),Pm=lu({id:"openai.web_search",name:"web_search",inputSchema:Zu((()=>Uu(hi({action:_i("type",[hi({type:Ai("search"),query:To().nullish()}),hi({type:Ai("open_page"),url:To()}),hi({type:Ai("find"),url:To(),pattern:To()})]).nullish()}))))}),zm=Zu((()=>Uu(hi({searchContextSize:Ei(["low","medium","high"]).optional(),userLocation:hi({type:Ai("approximate"),country:To().optional(),city:To().optional(),region:To().optional(),timezone:To().optional()}).optional()})))),Rm={codeInterpreter:function(){return _m(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})},fileSearch:Em,imageGeneration:function(){return Am(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})},localShell:Nm,webSearchPreview:lu({id:"openai.web_search_preview",name:"web_search_preview",inputSchema:Zu((()=>Uu(hi({action:_i("type",[hi({type:Ai("search"),query:To().nullish()}),hi({type:Ai("open_page"),url:To()}),hi({type:Ai("find"),url:To(),pattern:To()})]).nullish()}))))}),webSearch:function(){return Pm(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})}};function jm(e,t){return!!t&&t.some((t=>e.startsWith(t)))}var Mm=hi({itemId:To().nullish(),reasoningEncryptedContent:To().nullish()});function Fm(e){let{finishReason:t,hasFunctionCall:n}=e;switch(t){case void 0:case null:return n?"tool-calls":"stop";case"max_output_tokens":return"length";case"content_filter":return"content-filter";default:return n?"tool-calls":"unknown"}}var Lm=Gl((()=>Uu(yi([hi({type:Ai("response.output_text.delta"),item_id:To(),delta:To(),logprobs:pi(hi({token:To(),logprob:Yo(),top_logprobs:pi(hi({token:To(),logprob:Yo()}))})).nullish()}),hi({type:Ei(["response.completed","response.incomplete"]),response:hi({incomplete_details:hi({reason:To()}).nullish(),usage:hi({input_tokens:Yo(),input_tokens_details:hi({cached_tokens:Yo().nullish()}).nullish(),output_tokens:Yo(),output_tokens_details:hi({reasoning_tokens:Yo().nullish()}).nullish()}),service_tier:To().nullish()})}),hi({type:Ai("response.created"),response:hi({id:To(),created_at:Yo(),model:To(),service_tier:To().nullish()})}),hi({type:Ai("response.output_item.added"),output_index:Yo(),item:_i("type",[hi({type:Ai("message"),id:To()}),hi({type:Ai("reasoning"),id:To(),encrypted_content:To().nullish()}),hi({type:Ai("function_call"),id:To(),call_id:To(),name:To(),arguments:To()}),hi({type:Ai("web_search_call"),id:To(),status:To(),action:hi({type:Ai("search"),query:To().optional()}).nullish()}),hi({type:Ai("computer_call"),id:To(),status:To()}),hi({type:Ai("file_search_call"),id:To()}),hi({type:Ai("image_generation_call"),id:To()}),hi({type:Ai("code_interpreter_call"),id:To(),container_id:To(),code:To().nullable(),outputs:pi(_i("type",[hi({type:Ai("logs"),logs:To()}),hi({type:Ai("image"),url:To()})])).nullable(),status:To()})])}),hi({type:Ai("response.output_item.done"),output_index:Yo(),item:_i("type",[hi({type:Ai("message"),id:To()}),hi({type:Ai("reasoning"),id:To(),encrypted_content:To().nullish()}),hi({type:Ai("function_call"),id:To(),call_id:To(),name:To(),arguments:To(),status:Ai("completed")}),hi({type:Ai("code_interpreter_call"),id:To(),code:To().nullable(),container_id:To(),outputs:pi(_i("type",[hi({type:Ai("logs"),logs:To()}),hi({type:Ai("image"),url:To()})])).nullable()}),hi({type:Ai("image_generation_call"),id:To(),result:To()}),hi({type:Ai("web_search_call"),id:To(),status:To(),action:_i("type",[hi({type:Ai("search"),query:To().nullish()}),hi({type:Ai("open_page"),url:To()}),hi({type:Ai("find"),url:To(),pattern:To()})]).nullish()}),hi({type:Ai("file_search_call"),id:To(),queries:pi(To()),results:pi(hi({attributes:xi(To(),li()),file_id:To(),filename:To(),score:Yo(),text:To()})).nullish()}),hi({type:Ai("local_shell_call"),id:To(),call_id:To(),action:hi({type:Ai("exec"),command:pi(To()),timeout_ms:Yo().optional(),user:To().optional(),working_directory:To().optional(),env:xi(To(),To()).optional()})}),hi({type:Ai("computer_call"),id:To(),status:Ai("completed")})])}),hi({type:Ai("response.function_call_arguments.delta"),item_id:To(),output_index:Yo(),delta:To()}),hi({type:Ai("response.image_generation_call.partial_image"),item_id:To(),output_index:Yo(),partial_image_b64:To()}),hi({type:Ai("response.code_interpreter_call_code.delta"),item_id:To(),output_index:Yo(),delta:To()}),hi({type:Ai("response.code_interpreter_call_code.done"),item_id:To(),output_index:Yo(),code:To()}),hi({type:Ai("response.output_text.annotation.added"),annotation:_i("type",[hi({type:Ai("url_citation"),url:To(),title:To()}),hi({type:Ai("file_citation"),file_id:To(),filename:To().nullish(),index:Yo().nullish(),start_index:Yo().nullish(),end_index:Yo().nullish(),quote:To().nullish()})])}),hi({type:Ai("response.reasoning_summary_part.added"),item_id:To(),summary_index:Yo()}),hi({type:Ai("response.reasoning_summary_text.delta"),item_id:To(),summary_index:Yo(),delta:To()}),hi({type:Ai("error"),code:To(),message:To(),param:To().nullish(),sequence_number:Yo()}),hi({type:To()}).loose().transform((e=>({type:"unknown_chunk",message:e.type})))])))),Dm=Gl((()=>Uu(hi({id:To(),created_at:Yo(),error:hi({code:To(),message:To()}).nullish(),model:To(),output:pi(_i("type",[hi({type:Ai("message"),role:Ai("assistant"),id:To(),content:pi(hi({type:Ai("output_text"),text:To(),logprobs:pi(hi({token:To(),logprob:Yo(),top_logprobs:pi(hi({token:To(),logprob:Yo()}))})).nullish(),annotations:pi(_i("type",[hi({type:Ai("url_citation"),start_index:Yo(),end_index:Yo(),url:To(),title:To()}),hi({type:Ai("file_citation"),file_id:To(),filename:To().nullish(),index:Yo().nullish(),start_index:Yo().nullish(),end_index:Yo().nullish(),quote:To().nullish()}),hi({type:Ai("container_file_citation")})]))}))}),hi({type:Ai("web_search_call"),id:To(),status:To(),action:_i("type",[hi({type:Ai("search"),query:To().nullish()}),hi({type:Ai("open_page"),url:To()}),hi({type:Ai("find"),url:To(),pattern:To()})]).nullish()}),hi({type:Ai("file_search_call"),id:To(),queries:pi(To()),results:pi(hi({attributes:xi(To(),li()),file_id:To(),filename:To(),score:Yo(),text:To()})).nullish()}),hi({type:Ai("code_interpreter_call"),id:To(),code:To().nullable(),container_id:To(),outputs:pi(_i("type",[hi({type:Ai("logs"),logs:To()}),hi({type:Ai("image"),url:To()})])).nullable()}),hi({type:Ai("image_generation_call"),id:To(),result:To()}),hi({type:Ai("local_shell_call"),id:To(),call_id:To(),action:hi({type:Ai("exec"),command:pi(To()),timeout_ms:Yo().optional(),user:To().optional(),working_directory:To().optional(),env:xi(To(),To()).optional()})}),hi({type:Ai("function_call"),call_id:To(),name:To(),arguments:To(),id:To()}),hi({type:Ai("computer_call"),id:To(),status:To().optional()}),hi({type:Ai("reasoning"),id:To(),encrypted_content:To().nullish(),summary:pi(hi({type:Ai("summary_text"),text:To()}))})])),service_tier:To().nullish(),incomplete_details:hi({reason:To()}).nullish(),usage:hi({input_tokens:Yo(),input_tokens_details:hi({cached_tokens:Yo().nullish()}).nullish(),output_tokens:Yo(),output_tokens_details:hi({reasoning_tokens:Yo().nullish()}).nullish()})})))),Um=Gl((()=>Uu(hi({include:pi(Ei(["reasoning.encrypted_content","file_search_call.results","message.output_text.logprobs"])).nullish(),instructions:To().nullish(),logprobs:yi([ni(),Yo().min(1).max(20)]).optional(),maxToolCalls:Yo().nullish(),metadata:ii().nullish(),parallelToolCalls:ni().nullish(),previousResponseId:To().nullish(),promptCacheKey:To().nullish(),reasoningEffort:To().nullish(),reasoningSummary:To().nullish(),safetyIdentifier:To().nullish(),serviceTier:Ei(["auto","flex","priority","default"]).nullish(),store:ni().nullish(),strictJsonSchema:ni().nullish(),textVerbosity:Ei(["low","medium","high"]).nullish(),user:To().nullish()}))));var Bm=class{constructor(e,t){this.specificationVersion="v2",this.supportedUrls={"image/*":[/^https?:\/\/.*$/],"application/pdf":[/^https?:\/\/.*$/]},this.modelId=e,this.config=t}get provider(){return this.config.provider}async getArgs(e){let{maxOutputTokens:t,temperature:n,stopSequences:r,topP:a,topK:o,presencePenalty:i,frequencyPenalty:s,seed:l,prompt:u,providerOptions:c,tools:p,toolChoice:f,responseFormat:h}=e;var m,g,v,y;const b=[],_=function(e){const t=e.startsWith("o3")||e.startsWith("o4-mini")||e.startsWith("gpt-5")&&!e.startsWith("gpt-5-chat"),n=e.startsWith("gpt-4")||e.startsWith("gpt-5-mini")||e.startsWith("gpt-5")&&!e.startsWith("gpt-5-nano")&&!e.startsWith("gpt-5-chat")||e.startsWith("o3")||e.startsWith("o4-mini"),r={requiredAutoTruncation:!1,systemMessageMode:"system",supportsFlexProcessing:t,supportsPriorityProcessing:n};if(e.startsWith("gpt-5-chat"))return d(d({},r),{},{isReasoningModel:!1});if(e.startsWith("o")||e.startsWith("gpt-5")||e.startsWith("codex-")||e.startsWith("computer-use"))return e.startsWith("o1-mini")||e.startsWith("o1-preview")?d(d({},r),{},{isReasoningModel:!0,systemMessageMode:"remove"}):d(d({},r),{},{isReasoningModel:!0,systemMessageMode:"developer"});return d(d({},r),{},{isReasoningModel:!1})}(this.modelId);null!=o&&b.push({type:"unsupported-setting",setting:"topK"}),null!=l&&b.push({type:"unsupported-setting",setting:"seed"}),null!=i&&b.push({type:"unsupported-setting",setting:"presencePenalty"}),null!=s&&b.push({type:"unsupported-setting",setting:"frequencyPenalty"}),null!=r&&b.push({type:"unsupported-setting",setting:"stopSequences"});const w=await au({provider:"openai",providerOptions:c,schema:Um}),{input:k,warnings:x}=await async function(e){let{prompt:t,systemMessageMode:n,fileIdPrefixes:r,store:a,hasLocalShellTool:o=!1}=e;var i,s,l,u,c,p,f,h,m;const g=[],v=[];for(const{role:y,content:b}of t)switch(y){case"system":switch(n){case"system":g.push({role:"system",content:b});break;case"developer":g.push({role:"developer",content:b});break;case"remove":v.push({type:"other",message:"system messages are removed for this model"});break;default:throw new Error("Unsupported system message mode: ".concat(n))}break;case"user":g.push({role:"user",content:b.map(((e,t)=>{var n,a,o;switch(e.type){case"text":return{type:"input_text",text:e.text};case"file":if(e.mediaType.startsWith("image/")){const t="image/*"===e.mediaType?"image/jpeg":e.mediaType;return d(d({type:"input_image"},e.data instanceof URL?{image_url:e.data.toString()}:"string"===typeof e.data&&jm(e.data,r)?{file_id:e.data}:{image_url:"data:".concat(t,";base64,").concat(Ku(e.data))}),{},{detail:null==(a=null==(n=e.providerOptions)?void 0:n.openai)?void 0:a.imageDetail})}if("application/pdf"===e.mediaType)return e.data instanceof URL?{type:"input_file",file_url:e.data.toString()}:d({type:"input_file"},"string"===typeof e.data&&jm(e.data,r)?{file_id:e.data}:{filename:null!=(o=e.filename)?o:"part-".concat(t,".pdf"),file_data:"data:application/pdf;base64,".concat(Ku(e.data))});throw new Oe({functionality:"file part media type ".concat(e.mediaType)})}}))});break;case"assistant":{const e={},t={};for(const n of b)switch(n.type){case"text":g.push({role:"assistant",content:[{type:"output_text",text:n.text}],id:null!=(l=null==(s=null==(i=n.providerOptions)?void 0:i.openai)?void 0:s.itemId)?l:void 0});break;case"tool-call":if(t[n.toolCallId]=n,n.providerExecuted)break;if(o&&"local_shell"===n.toolName){const e=await Xl({value:n.input,schema:Im});g.push({type:"local_shell_call",call_id:n.toolCallId,id:null!=(p=null==(c=null==(u=n.providerOptions)?void 0:u.openai)?void 0:c.itemId)?p:void 0,action:{type:"exec",command:e.action.command,timeout_ms:e.action.timeoutMs,user:e.action.user,working_directory:e.action.workingDirectory,env:e.action.env}});break}g.push({type:"function_call",call_id:n.toolCallId,name:n.toolName,arguments:JSON.stringify(n.input),id:null!=(m=null==(h=null==(f=n.providerOptions)?void 0:f.openai)?void 0:h.itemId)?m:void 0});break;case"tool-result":a?g.push({type:"item_reference",id:n.toolCallId}):v.push({type:"other",message:"Results for OpenAI tool ".concat(n.toolName," are not sent to the API when store is false")});break;case"reasoning":{const t=await au({provider:"openai",providerOptions:n.providerOptions,schema:Mm}),r=null==t?void 0:t.itemId;if(null!=r){const o=e[r];if(a)void 0===o&&(g.push({type:"item_reference",id:r}),e[r]={type:"reasoning",id:r,summary:[]});else{const a=[];n.text.length>0?a.push({type:"summary_text",text:n.text}):void 0!==o&&v.push({type:"other",message:"Cannot append empty reasoning part to existing reasoning sequence. Skipping reasoning part: ".concat(JSON.stringify(n),".")}),void 0===o?(e[r]={type:"reasoning",id:r,encrypted_content:null==t?void 0:t.reasoningEncryptedContent,summary:a},g.push(e[r])):o.summary.push(...a)}}else v.push({type:"other",message:"Non-OpenAI reasoning parts are not supported. Skipping reasoning part: ".concat(JSON.stringify(n),".")});break}}break}case"tool":for(const e of b){const t=e.output;if(o&&"local_shell"===e.toolName&&"json"===t.type){const n=await Xl({value:t.value,schema:Tm});g.push({type:"local_shell_call_output",call_id:e.toolCallId,output:n.output});break}let n;switch(t.type){case"text":case"error-text":n=t.value;break;case"json":case"error-json":n=JSON.stringify(t.value);break;case"content":n=t.value.map((e=>{switch(e.type){case"text":return{type:"input_text",text:e.text};case"media":return e.mediaType.startsWith("image/")?{type:"input_image",image_url:"data:".concat(e.mediaType,";base64,").concat(e.data)}:{type:"input_file",filename:"data",file_data:"data:".concat(e.mediaType,";base64,").concat(e.data)}}}))}g.push({type:"function_call_output",call_id:e.toolCallId,output:n})}break;default:throw new Error("Unsupported role: ".concat(y))}return{input:g,warnings:v}}({prompt:u,systemMessageMode:_.systemMessageMode,fileIdPrefixes:this.config.fileIdPrefixes,store:null==(m=null==w?void 0:w.store)||m,hasLocalShellTool:A("openai.local_shell")});b.push(...x);const S=null!=(g=null==w?void 0:w.strictJsonSchema)&&g;let E=null==w?void 0:w.include;function C(e){null==E?E=[e]:E.includes(e)||(E=[...E,e])}function A(e){return null!=(null==p?void 0:p.find((t=>"provider-defined"===t.type&&t.id===e)))}const I="number"===typeof(null==w?void 0:w.logprobs)?null==w?void 0:w.logprobs:!0===(null==w?void 0:w.logprobs)?20:void 0;I&&C("message.output_text.logprobs");const T=null==(v=null==p?void 0:p.find((e=>"provider-defined"===e.type&&("openai.web_search"===e.id||"openai.web_search_preview"===e.id))))?void 0:v.name;T&&C("web_search_call.action.sources"),A("openai.code_interpreter")&&C("code_interpreter_call.outputs");const N=null==w?void 0:w.store;!1===N&&_.isReasoningModel&&C("reasoning.encrypted_content");const O=d(d(d({model:this.modelId,input:k,temperature:n,top_p:a,max_output_tokens:t},("json"===(null==h?void 0:h.type)||(null==w?void 0:w.textVerbosity))&&{text:d(d({},"json"===(null==h?void 0:h.type)&&{format:null!=h.schema?{type:"json_schema",strict:S,name:null!=(y=h.name)?y:"response",description:h.description,schema:h.schema}:{type:"json_object"}}),(null==w?void 0:w.textVerbosity)&&{verbosity:w.textVerbosity})}),{},{max_tool_calls:null==w?void 0:w.maxToolCalls,metadata:null==w?void 0:w.metadata,parallel_tool_calls:null==w?void 0:w.parallelToolCalls,previous_response_id:null==w?void 0:w.previousResponseId,store:N,user:null==w?void 0:w.user,instructions:null==w?void 0:w.instructions,service_tier:null==w?void 0:w.serviceTier,include:E,prompt_cache_key:null==w?void 0:w.promptCacheKey,safety_identifier:null==w?void 0:w.safetyIdentifier,top_logprobs:I},_.isReasoningModel&&(null!=(null==w?void 0:w.reasoningEffort)||null!=(null==w?void 0:w.reasoningSummary))&&{reasoning:d(d({},null!=(null==w?void 0:w.reasoningEffort)&&{effort:w.reasoningEffort}),null!=(null==w?void 0:w.reasoningSummary)&&{summary:w.reasoningSummary})}),_.requiredAutoTruncation&&{truncation:"auto"});_.isReasoningModel?(null!=O.temperature&&(O.temperature=void 0,b.push({type:"unsupported-setting",setting:"temperature",details:"temperature is not supported for reasoning models"})),null!=O.top_p&&(O.top_p=void 0,b.push({type:"unsupported-setting",setting:"topP",details:"topP is not supported for reasoning models"}))):(null!=(null==w?void 0:w.reasoningEffort)&&b.push({type:"unsupported-setting",setting:"reasoningEffort",details:"reasoningEffort is not supported for non-reasoning models"}),null!=(null==w?void 0:w.reasoningSummary)&&b.push({type:"unsupported-setting",setting:"reasoningSummary",details:"reasoningSummary is not supported for non-reasoning models"})),"flex"!==(null==w?void 0:w.serviceTier)||_.supportsFlexProcessing||(b.push({type:"unsupported-setting",setting:"serviceTier",details:"flex processing is only available for o3, o4-mini, and gpt-5 models"}),delete O.service_tier),"priority"!==(null==w?void 0:w.serviceTier)||_.supportsPriorityProcessing||(b.push({type:"unsupported-setting",setting:"serviceTier",details:"priority processing is only available for supported models (gpt-4, gpt-5, gpt-5-mini, o3, o4-mini) and requires Enterprise access. gpt-5-nano is not supported"}),delete O.service_tier);const{tools:P,toolChoice:z,toolWarnings:R}=await async function(e){let{tools:t,toolChoice:n,strictJsonSchema:r}=e;t=(null==t?void 0:t.length)?t:void 0;const a=[];if(null==t)return{tools:void 0,toolChoice:void 0,toolWarnings:a};const o=[];for(const s of t)switch(s.type){case"function":o.push({type:"function",name:s.name,description:s.description,parameters:s.inputSchema,strict:r});break;case"provider-defined":switch(s.id){case"openai.file_search":{const e=await Xl({value:s.args,schema:xm});o.push({type:"file_search",vector_store_ids:e.vectorStoreIds,max_num_results:e.maxNumResults,ranking_options:e.ranking?{ranker:e.ranking.ranker,score_threshold:e.ranking.scoreThreshold}:void 0,filters:e.filters});break}case"openai.local_shell":o.push({type:"local_shell"});break;case"openai.web_search_preview":{const e=await Xl({value:s.args,schema:zm});o.push({type:"web_search_preview",search_context_size:e.searchContextSize,user_location:e.userLocation});break}case"openai.web_search":{const e=await Xl({value:s.args,schema:Om});o.push({type:"web_search",filters:null!=e.filters?{allowed_domains:e.filters.allowedDomains}:void 0,search_context_size:e.searchContextSize,user_location:e.userLocation});break}case"openai.code_interpreter":{const e=await Xl({value:s.args,schema:bm});o.push({type:"code_interpreter",container:null==e.container?{type:"auto",file_ids:void 0}:"string"===typeof e.container?e.container:{type:"auto",file_ids:e.container.fileIds}});break}case"openai.image_generation":{const e=await Xl({value:s.args,schema:Cm});o.push({type:"image_generation",background:e.background,input_fidelity:e.inputFidelity,input_image_mask:e.inputImageMask?{file_id:e.inputImageMask.fileId,image_url:e.inputImageMask.imageUrl}:void 0,model:e.model,size:e.size,quality:e.quality,moderation:e.moderation,output_format:e.outputFormat,output_compression:e.outputCompression});break}}break;default:a.push({type:"unsupported-tool",tool:s})}if(null==n)return{tools:o,toolChoice:void 0,toolWarnings:a};const i=n.type;switch(i){case"auto":case"none":case"required":return{tools:o,toolChoice:i,toolWarnings:a};case"tool":return{tools:o,toolChoice:"code_interpreter"===n.toolName||"file_search"===n.toolName||"image_generation"===n.toolName||"web_search_preview"===n.toolName||"web_search"===n.toolName?{type:n.toolName}:{type:"function",name:n.toolName},toolWarnings:a};default:throw new Oe({functionality:"tool choice type: ".concat(i)})}}({tools:p,toolChoice:f,strictJsonSchema:S});return{webSearchToolName:T,args:d(d({},O),{},{tools:P,tool_choice:z}),warnings:[...b,...R]}}async doGenerate(e){var t,n,r,a,o,i,s,l,u,c,d,p,f,h,m,g,v,y,b;const{args:_,warnings:w,webSearchToolName:k}=await this.getArgs(e),x=this.config.url({path:"/responses",modelId:this.modelId}),{responseHeaders:S,value:E,rawValue:C}=await iu({url:x,headers:Tl(this.config.headers(),e.headers),body:_,failedResponseHandler:Qh,successfulResponseHandler:fu(Dm),abortSignal:e.abortSignal,fetch:this.config.fetch});if(E.error)throw new I({message:E.error.message,url:x,requestBodyValues:_,statusCode:400,responseHeaders:S,responseBody:C,isRetryable:!1});const A=[],T=[];let N=!1;for(const I of E.output)switch(I.type){case"reasoning":0===I.summary.length&&I.summary.push({type:"summary_text",text:""});for(const e of I.summary)A.push({type:"reasoning",text:e.text,providerMetadata:{openai:{itemId:I.id,reasoningEncryptedContent:null!=(t=I.encrypted_content)?t:null}}});break;case"image_generation_call":A.push({type:"tool-call",toolCallId:I.id,toolName:"image_generation",input:"{}",providerExecuted:!0}),A.push({type:"tool-result",toolCallId:I.id,toolName:"image_generation",result:{result:I.result},providerExecuted:!0});break;case"local_shell_call":A.push({type:"tool-call",toolCallId:I.call_id,toolName:"local_shell",input:JSON.stringify({action:I.action}),providerMetadata:{openai:{itemId:I.id}}});break;case"message":for(const t of I.content){(null==(r=null==(n=e.providerOptions)?void 0:n.openai)?void 0:r.logprobs)&&t.logprobs&&T.push(t.logprobs),A.push({type:"text",text:t.text,providerMetadata:{openai:{itemId:I.id}}});for(const e of t.annotations)"url_citation"===e.type?A.push({type:"source",sourceType:"url",id:null!=(i=null==(o=(a=this.config).generateId)?void 0:o.call(a))?i:zl(),url:e.url,title:e.title}):"file_citation"===e.type&&A.push({type:"source",sourceType:"document",id:null!=(u=null==(l=(s=this.config).generateId)?void 0:l.call(s))?u:zl(),mediaType:"text/plain",title:null!=(d=null!=(c=e.quote)?c:e.filename)?d:"Document",filename:null!=(p=e.filename)?p:e.file_id})}break;case"function_call":N=!0,A.push({type:"tool-call",toolCallId:I.call_id,toolName:I.name,input:I.arguments,providerMetadata:{openai:{itemId:I.id}}});break;case"web_search_call":A.push({type:"tool-call",toolCallId:I.id,toolName:null!=k?k:"web_search",input:JSON.stringify({action:I.action}),providerExecuted:!0}),A.push({type:"tool-result",toolCallId:I.id,toolName:null!=k?k:"web_search",result:{status:I.status},providerExecuted:!0});break;case"computer_call":A.push({type:"tool-call",toolCallId:I.id,toolName:"computer_use",input:"",providerExecuted:!0}),A.push({type:"tool-result",toolCallId:I.id,toolName:"computer_use",result:{type:"computer_use_tool_result",status:I.status||"completed"},providerExecuted:!0});break;case"file_search_call":A.push({type:"tool-call",toolCallId:I.id,toolName:"file_search",input:"{}",providerExecuted:!0}),A.push({type:"tool-result",toolCallId:I.id,toolName:"file_search",result:{queries:I.queries,results:null!=(h=null==(f=I.results)?void 0:f.map((e=>({attributes:e.attributes,fileId:e.file_id,filename:e.filename,score:e.score,text:e.text}))))?h:null},providerExecuted:!0});break;case"code_interpreter_call":A.push({type:"tool-call",toolCallId:I.id,toolName:"code_interpreter",input:JSON.stringify({code:I.code,containerId:I.container_id}),providerExecuted:!0}),A.push({type:"tool-result",toolCallId:I.id,toolName:"code_interpreter",result:{outputs:I.outputs},providerExecuted:!0})}const O={openai:{responseId:E.id}};return T.length>0&&(O.openai.logprobs=T),"string"===typeof E.service_tier&&(O.openai.serviceTier=E.service_tier),{content:A,finishReason:Fm({finishReason:null==(m=E.incomplete_details)?void 0:m.reason,hasFunctionCall:N}),usage:{inputTokens:E.usage.input_tokens,outputTokens:E.usage.output_tokens,totalTokens:E.usage.input_tokens+E.usage.output_tokens,reasoningTokens:null!=(v=null==(g=E.usage.output_tokens_details)?void 0:g.reasoning_tokens)?v:void 0,cachedInputTokens:null!=(b=null==(y=E.usage.input_tokens_details)?void 0:y.cached_tokens)?b:void 0},request:{body:_},response:{id:E.id,timestamp:new Date(1e3*E.created_at),modelId:E.model,headers:S,body:C},providerMetadata:O,warnings:w}}async doStream(e){const{args:t,warnings:n,webSearchToolName:r}=await this.getArgs(e),{responseHeaders:a,value:o}=await iu({url:this.config.url({path:"/responses",modelId:this.modelId}),headers:Tl(this.config.headers(),e.headers),body:d(d({},t),{},{stream:!0}),failedResponseHandler:Qh,successfulResponseHandler:pu(Lm),abortSignal:e.abortSignal,fetch:this.config.fetch}),i=this;let s="unknown";const l={inputTokens:void 0,outputTokens:void 0,totalTokens:void 0},u=[];let c=null;const p={};let f=!1;const h={};let m;return{stream:o.pipeThrough(new TransformStream({start(e){e.enqueue({type:"stream-start",warnings:n})},transform(t,n){var a,o,d,g,v,y,b,_,w,k,x,S,E,C,A,I,T,N,O,P,z,R,j;if(e.includeRawChunks&&n.enqueue({type:"raw",rawValue:t.rawValue}),!t.success)return s="error",void n.enqueue({type:"error",error:t.error});const M=t.value;if(qm(M))"function_call"===M.item.type?(p[M.output_index]={toolName:M.item.name,toolCallId:M.item.call_id},n.enqueue({type:"tool-input-start",id:M.item.call_id,toolName:M.item.name})):"web_search_call"===M.item.type?(p[M.output_index]={toolName:null!=r?r:"web_search",toolCallId:M.item.id},n.enqueue({type:"tool-input-start",id:M.item.id,toolName:null!=r?r:"web_search",providerExecuted:!0})):"computer_call"===M.item.type?(p[M.output_index]={toolName:"computer_use",toolCallId:M.item.id},n.enqueue({type:"tool-input-start",id:M.item.id,toolName:"computer_use",providerExecuted:!0})):"code_interpreter_call"===M.item.type?(p[M.output_index]={toolName:"code_interpreter",toolCallId:M.item.id,codeInterpreter:{containerId:M.item.container_id}},n.enqueue({type:"tool-input-start",id:M.item.id,toolName:"code_interpreter",providerExecuted:!0}),n.enqueue({type:"tool-input-delta",id:M.item.id,delta:'{"containerId":"'.concat(M.item.container_id,'","code":"')})):"file_search_call"===M.item.type?n.enqueue({type:"tool-call",toolCallId:M.item.id,toolName:"file_search",input:"{}",providerExecuted:!0}):"image_generation_call"===M.item.type?n.enqueue({type:"tool-call",toolCallId:M.item.id,toolName:"image_generation",input:"{}",providerExecuted:!0}):"message"===M.item.type?n.enqueue({type:"text-start",id:M.item.id,providerMetadata:{openai:{itemId:M.item.id}}}):function(e){return qm(e)&&"reasoning"===e.item.type}(M)&&(h[M.item.id]={encryptedContent:M.item.encrypted_content,summaryParts:[0]},n.enqueue({type:"reasoning-start",id:"".concat(M.item.id,":0"),providerMetadata:{openai:{itemId:M.item.id,reasoningEncryptedContent:null!=(a=M.item.encrypted_content)?a:null}}}));else if(Zm(M)){if("function_call"===M.item.type)p[M.output_index]=void 0,f=!0,n.enqueue({type:"tool-input-end",id:M.item.call_id}),n.enqueue({type:"tool-call",toolCallId:M.item.call_id,toolName:M.item.name,input:M.item.arguments,providerMetadata:{openai:{itemId:M.item.id}}});else if("web_search_call"===M.item.type)p[M.output_index]=void 0,n.enqueue({type:"tool-input-end",id:M.item.id}),n.enqueue({type:"tool-call",toolCallId:M.item.id,toolName:"web_search",input:JSON.stringify({action:M.item.action}),providerExecuted:!0}),n.enqueue({type:"tool-result",toolCallId:M.item.id,toolName:"web_search",result:{status:M.item.status},providerExecuted:!0});else if("computer_call"===M.item.type)p[M.output_index]=void 0,n.enqueue({type:"tool-input-end",id:M.item.id}),n.enqueue({type:"tool-call",toolCallId:M.item.id,toolName:"computer_use",input:"",providerExecuted:!0}),n.enqueue({type:"tool-result",toolCallId:M.item.id,toolName:"computer_use",result:{type:"computer_use_tool_result",status:M.item.status||"completed"},providerExecuted:!0});else if("file_search_call"===M.item.type)p[M.output_index]=void 0,n.enqueue({type:"tool-result",toolCallId:M.item.id,toolName:"file_search",result:{queries:M.item.queries,results:null!=(d=null==(o=M.item.results)?void 0:o.map((e=>({attributes:e.attributes,fileId:e.file_id,filename:e.filename,score:e.score,text:e.text}))))?d:null},providerExecuted:!0});else if("code_interpreter_call"===M.item.type)p[M.output_index]=void 0,n.enqueue({type:"tool-result",toolCallId:M.item.id,toolName:"code_interpreter",result:{outputs:M.item.outputs},providerExecuted:!0});else if("image_generation_call"===M.item.type)n.enqueue({type:"tool-result",toolCallId:M.item.id,toolName:"image_generation",result:{result:M.item.result},providerExecuted:!0});else if("local_shell_call"===M.item.type)p[M.output_index]=void 0,n.enqueue({type:"tool-call",toolCallId:M.item.call_id,toolName:"local_shell",input:JSON.stringify({action:{type:"exec",command:M.item.action.command,timeoutMs:M.item.action.timeout_ms,user:M.item.action.user,workingDirectory:M.item.action.working_directory,env:M.item.action.env}}),providerMetadata:{openai:{itemId:M.item.id}}});else if("message"===M.item.type)n.enqueue({type:"text-end",id:M.item.id});else if(function(e){return Zm(e)&&"reasoning"===e.item.type}(M)){const e=h[M.item.id];for(const t of e.summaryParts)n.enqueue({type:"reasoning-end",id:"".concat(M.item.id,":").concat(t),providerMetadata:{openai:{itemId:M.item.id,reasoningEncryptedContent:null!=(g=M.item.encrypted_content)?g:null}}});delete h[M.item.id]}}else if(function(e){return"response.function_call_arguments.delta"===e.type}(M)){const e=p[M.output_index];null!=e&&n.enqueue({type:"tool-input-delta",id:e.toolCallId,delta:M.delta})}else if(function(e){return"response.code_interpreter_call_code.delta"===e.type}(M)){const e=p[M.output_index];null!=e&&n.enqueue({type:"tool-input-delta",id:e.toolCallId,delta:JSON.stringify(M.delta).slice(1,-1)})}else if(function(e){return"response.code_interpreter_call_code.done"===e.type}(M)){const e=p[M.output_index];null!=e&&(n.enqueue({type:"tool-input-delta",id:e.toolCallId,delta:'"}'}),n.enqueue({type:"tool-input-end",id:e.toolCallId}),n.enqueue({type:"tool-call",toolCallId:e.toolCallId,toolName:"code_interpreter",input:JSON.stringify({code:M.code,containerId:e.codeInterpreter.containerId}),providerExecuted:!0}))}else!function(e){return"response.created"===e.type}(M)?!function(e){return"response.output_text.delta"===e.type}(M)?!function(e){return"response.reasoning_summary_part.added"===e.type}(M)?!function(e){return"response.reasoning_summary_text.delta"===e.type}(M)?!function(e){return"response.completed"===e.type||"response.incomplete"===e.type}(M)?!function(e){return"response.output_text.annotation.added"===e.type}(M)?function(e){return"error"===e.type}(M)&&n.enqueue({type:"error",error:M}):"url_citation"===M.annotation.type?n.enqueue({type:"source",sourceType:"url",id:null!=(T=null==(I=(A=i.config).generateId)?void 0:I.call(A))?T:zl(),url:M.annotation.url,title:M.annotation.title}):"file_citation"===M.annotation.type&&n.enqueue({type:"source",sourceType:"document",id:null!=(P=null==(O=(N=i.config).generateId)?void 0:O.call(N))?P:zl(),mediaType:"text/plain",title:null!=(R=null!=(z=M.annotation.quote)?z:M.annotation.filename)?R:"Document",filename:null!=(j=M.annotation.filename)?j:M.annotation.file_id}):(s=Fm({finishReason:null==(k=M.response.incomplete_details)?void 0:k.reason,hasFunctionCall:f}),l.inputTokens=M.response.usage.input_tokens,l.outputTokens=M.response.usage.output_tokens,l.totalTokens=M.response.usage.input_tokens+M.response.usage.output_tokens,l.reasoningTokens=null!=(S=null==(x=M.response.usage.output_tokens_details)?void 0:x.reasoning_tokens)?S:void 0,l.cachedInputTokens=null!=(C=null==(E=M.response.usage.input_tokens_details)?void 0:E.cached_tokens)?C:void 0,"string"===typeof M.response.service_tier&&(m=M.response.service_tier)):n.enqueue({type:"reasoning-delta",id:"".concat(M.item_id,":").concat(M.summary_index),delta:M.delta,providerMetadata:{openai:{itemId:M.item_id}}}):M.summary_index>0&&(null==(b=h[M.item_id])||b.summaryParts.push(M.summary_index),n.enqueue({type:"reasoning-start",id:"".concat(M.item_id,":").concat(M.summary_index),providerMetadata:{openai:{itemId:M.item_id,reasoningEncryptedContent:null!=(w=null==(_=h[M.item_id])?void 0:_.encryptedContent)?w:null}}})):(n.enqueue({type:"text-delta",id:M.item_id,delta:M.delta}),(null==(y=null==(v=e.providerOptions)?void 0:v.openai)?void 0:y.logprobs)&&M.logprobs&&u.push(M.logprobs)):(c=M.response.id,n.enqueue({type:"response-metadata",id:M.response.id,timestamp:new Date(1e3*M.response.created_at),modelId:M.response.model}))},flush(e){const t={openai:{responseId:c}};u.length>0&&(t.openai.logprobs=u),void 0!==m&&(t.openai.serviceTier=m),e.enqueue({type:"finish",finishReason:s,usage:l,providerMetadata:t})}})),request:{body:t},response:{headers:a}}}};function Zm(e){return"response.output_item.done"===e.type}function qm(e){return"response.output_item.added"===e.type}var Vm=Gl((()=>Uu(hi({instructions:To().nullish(),speed:Yo().min(.25).max(4).default(1).nullish()})))),$m=class{constructor(e,t){this.modelId=e,this.config=t,this.specificationVersion="v2"}get provider(){return this.config.provider}async getArgs(e){let{text:t,voice:n="alloy",outputFormat:r="mp3",speed:a,instructions:o,language:i,providerOptions:s}=e;const l=[],u=await au({provider:"openai",providerOptions:s,schema:Vm}),c={model:this.modelId,input:t,voice:n,response_format:"mp3",speed:a,instructions:o};if(r&&(["mp3","opus","aac","flac","wav","pcm"].includes(r)?c.response_format=r:l.push({type:"unsupported-setting",setting:"outputFormat",details:"Unsupported output format: ".concat(r,". Using mp3 instead.")})),u){const e={};for(const t in e){const n=e[t];void 0!==n&&(c[t]=n)}}return i&&l.push({type:"unsupported-setting",setting:"language",details:'OpenAI speech models do not support language selection. Language parameter "'.concat(i,'" was ignored.')}),{requestBody:c,warnings:l}}async doGenerate(e){var t,n,r;const a=null!=(r=null==(n=null==(t=this.config._internal)?void 0:t.currentDate)?void 0:n.call(t))?r:new Date,{requestBody:o,warnings:i}=await this.getArgs(e),{value:s,responseHeaders:l,rawValue:u}=await iu({url:this.config.url({path:"/audio/speech",modelId:this.modelId}),headers:Tl(this.config.headers(),e.headers),body:o,failedResponseHandler:Qh,successfulResponseHandler:async e=>{let{response:t,url:n,requestBodyValues:r}=e;const a=Ol(t);if(!t.body)throw new I({message:"Response body is empty",url:n,requestBodyValues:r,statusCode:t.status,responseHeaders:a,responseBody:void 0});try{const e=await t.arrayBuffer();return{responseHeaders:a,value:new Uint8Array(e)}}catch(o){throw new I({message:"Failed to read response as array buffer",url:n,requestBodyValues:r,statusCode:t.status,responseHeaders:a,responseBody:void 0,cause:o})}},abortSignal:e.abortSignal,fetch:this.config.fetch});return{audio:s,warnings:i,request:{body:JSON.stringify(o)},response:{timestamp:a,modelId:this.modelId,headers:l,body:u}}}},Hm=Gl((()=>Uu(hi({text:To(),language:To().nullish(),duration:Yo().nullish(),words:pi(hi({word:To(),start:Yo(),end:Yo()})).nullish(),segments:pi(hi({id:Yo(),seek:Yo(),start:Yo(),end:Yo(),text:To(),tokens:pi(Yo()),temperature:Yo(),avg_logprob:Yo(),compression_ratio:Yo(),no_speech_prob:Yo()})).nullish()})))),Wm=Gl((()=>Uu(hi({include:pi(To()).optional(),language:To().optional(),prompt:To().optional(),temperature:Yo().min(0).max(1).default(0).optional(),timestampGranularities:pi(Ei(["word","segment"])).default(["segment"]).optional()})))),Qm={afrikaans:"af",arabic:"ar",armenian:"hy",azerbaijani:"az",belarusian:"be",bosnian:"bs",bulgarian:"bg",catalan:"ca",chinese:"zh",croatian:"hr",czech:"cs",danish:"da",dutch:"nl",english:"en",estonian:"et",finnish:"fi",french:"fr",galician:"gl",german:"de",greek:"el",hebrew:"he",hindi:"hi",hungarian:"hu",icelandic:"is",indonesian:"id",italian:"it",japanese:"ja",kannada:"kn",kazakh:"kk",korean:"ko",latvian:"lv",lithuanian:"lt",macedonian:"mk",malay:"ms",marathi:"mr",maori:"mi",nepali:"ne",norwegian:"no",persian:"fa",polish:"pl",portuguese:"pt",romanian:"ro",russian:"ru",serbian:"sr",slovak:"sk",slovenian:"sl",spanish:"es",swahili:"sw",swedish:"sv",tagalog:"tl",tamil:"ta",thai:"th",turkish:"tr",ukrainian:"uk",urdu:"ur",vietnamese:"vi",welsh:"cy"},Km=class{constructor(e,t){this.modelId=e,this.config=t,this.specificationVersion="v2"}get provider(){return this.config.provider}async getArgs(e){let{audio:t,mediaType:n,providerOptions:r}=e;const a=await au({provider:"openai",providerOptions:r,schema:Wm}),o=new FormData,i=t instanceof Uint8Array?new Blob([t]):new Blob([Wu(t)]);o.append("model",this.modelId);const s=function(e){var t;const[n,r=""]=e.toLowerCase().split("/");return null!=(t={mpeg:"mp3","x-wav":"wav",opus:"ogg",mp4:"m4a","x-m4a":"m4a"}[r])?t:r}(n);if(o.append("file",new File([i],"audio",{type:n}),"audio.".concat(s)),a){const e={include:a.include,language:a.language,prompt:a.prompt,response_format:["gpt-4o-transcribe","gpt-4o-mini-transcribe"].includes(this.modelId)?"json":"verbose_json",temperature:a.temperature,timestamp_granularities:a.timestampGranularities};for(const[t,n]of Object.entries(e))if(null!=n)if(Array.isArray(n))for(const e of n)o.append("".concat(t,"[]"),String(e));else o.append(t,String(n))}return{formData:o,warnings:[]}}async doGenerate(e){var t,n,r,a,o,i,s,l;const u=null!=(r=null==(n=null==(t=this.config._internal)?void 0:t.currentDate)?void 0:n.call(t))?r:new Date,{formData:c,warnings:d}=await this.getArgs(e),{value:p,responseHeaders:f,rawValue:h}=await(async e=>{let{url:t,headers:n,formData:r,failedResponseHandler:a,successfulResponseHandler:o,abortSignal:i,fetch:s}=e;return su({url:t,headers:n,body:{content:r,values:Object.fromEntries(r.entries())},failedResponseHandler:a,successfulResponseHandler:o,abortSignal:i,fetch:s})})({url:this.config.url({path:"/audio/transcriptions",modelId:this.modelId}),headers:Tl(this.config.headers(),e.headers),formData:c,failedResponseHandler:Qh,successfulResponseHandler:fu(Hm),abortSignal:e.abortSignal,fetch:this.config.fetch}),m=null!=p.language&&p.language in Qm?Qm[p.language]:void 0;return{text:p.text,segments:null!=(s=null!=(i=null==(a=p.segments)?void 0:a.map((e=>({text:e.text,startSecond:e.start,endSecond:e.end}))))?i:null==(o=p.words)?void 0:o.map((e=>({text:e.word,startSecond:e.start,endSecond:e.end}))))?s:[],language:m,durationInSeconds:null!=(l=p.duration)?l:void 0,warnings:d,response:{timestamp:u,modelId:this.modelId,headers:f,body:h}}}},Jm="2.0.49";function Gm(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var t,n;const r=null!=(t=Ju($l({settingValue:e.baseURL,environmentVariableName:"OPENAI_BASE_URL"})))?t:"https://api.openai.com/v1",a=null!=(n=e.name)?n:"openai",o=()=>Dl(d({Authorization:"Bearer ".concat(Vl({apiKey:e.apiKey,environmentVariableName:"OPENAI_API_KEY",description:"OpenAI"})),"OpenAI-Organization":e.organization,"OpenAI-Project":e.project},e.headers),"ai-sdk/openai/".concat(Jm)),i=t=>new pm(t,{provider:"".concat(a,".embedding"),url:e=>{let{path:t}=e;return"".concat(r).concat(t)},headers:o,fetch:e.fetch}),s=t=>new gm(t,{provider:"".concat(a,".image"),url:e=>{let{path:t}=e;return"".concat(r).concat(t)},headers:o,fetch:e.fetch}),l=t=>new Km(t,{provider:"".concat(a,".transcription"),url:e=>{let{path:t}=e;return"".concat(r).concat(t)},headers:o,fetch:e.fetch}),u=t=>new $m(t,{provider:"".concat(a,".speech"),url:e=>{let{path:t}=e;return"".concat(r).concat(t)},headers:o,fetch:e.fetch}),c=e=>{if(new.target)throw new Error("The OpenAI model function cannot be called with the new keyword.");return p(e)},p=t=>new Bm(t,{provider:"".concat(a,".responses"),url:e=>{let{path:t}=e;return"".concat(r).concat(t)},headers:o,fetch:e.fetch,fileIdPrefixes:["file-"]}),f=function(e){return c(e)};return f.languageModel=c,f.chat=t=>new em(t,{provider:"".concat(a,".chat"),url:e=>{let{path:t}=e;return"".concat(r).concat(t)},headers:o,fetch:e.fetch}),f.completion=t=>new um(t,{provider:"".concat(a,".completion"),url:e=>{let{path:t}=e;return"".concat(r).concat(t)},headers:o,fetch:e.fetch}),f.responses=p,f.embedding=i,f.textEmbedding=i,f.textEmbeddingModel=i,f.image=s,f.imageModel=s,f.transcription=l,f.transcriptionModel=l,f.speech=u,f.speechModel=u,f.tools=Rm,f}Gm();function Ym(e,t){return new Promise((function(n,r){let a;return Xm(e).then((function(e){try{return a=e,n(new Blob([t.slice(0,2),a,t.slice(2)],{type:"image/jpeg"}))}catch(e){return r(e)}}),r)}))}const Xm=e=>new Promise(((t,n)=>{const r=new FileReader;r.addEventListener("load",(e=>{let{target:{result:r}}=e;const a=new DataView(r);let o=0;if(65496!==a.getUint16(o))return n("not a valid JPEG");for(o+=2;;){const e=a.getUint16(o);if(65498===e)break;const i=a.getUint16(o+2);if(65505===e&&1165519206===a.getUint32(o+4)){const e=o+10;let s;switch(a.getUint16(e)){case 18761:s=!0;break;case 19789:s=!1;break;default:return n("TIFF header contains invalid endian")}if(42!==a.getUint16(e+2,s))return n("TIFF header contains invalid version");const l=a.getUint32(e+4,s),u=e+l+2+12*a.getUint16(e+l,s);for(let t=e+l+2;t<u;t+=12)if(274==a.getUint16(t,s)){if(3!==a.getUint16(t+2,s))return n("Orientation data type is invalid");if(1!==a.getUint32(t+4,s))return n("Orientation data count is invalid");a.setUint16(t+8,1,s);break}return t(r.slice(o,o+2+i))}o+=2+i}return t(new Blob)})),r.readAsArrayBuffer(e)}));var eg={},tg={get exports(){return eg},set exports(e){eg=e}};!function(e){var t,n,r={};tg.exports=r,r.parse=function(e,t){for(var n=r.bin.readUshort,a=r.bin.readUint,o=0,i={},s=new Uint8Array(e),l=s.length-4;101010256!=a(s,l);)l--;o=l,o+=4;var u=n(s,o+=4);n(s,o+=2);var c=a(s,o+=2),d=a(s,o+=4);o+=4,o=d;for(var p=0;p<u;p++){a(s,o),o+=4,o+=4,o+=4,a(s,o+=4),c=a(s,o+=4);var f=a(s,o+=4),h=n(s,o+=4),m=n(s,o+2),g=n(s,o+4);o+=6;var v=a(s,o+=8);o+=4,o+=h+m+g,r._readLocal(s,v,i,c,f,t)}return i},r._readLocal=function(e,t,n,a,o,i){var s=r.bin.readUshort,l=r.bin.readUint;l(e,t),s(e,t+=4),s(e,t+=2);var u=s(e,t+=2);l(e,t+=2),l(e,t+=4),t+=4;var c=s(e,t+=8),d=s(e,t+=2);t+=2;var p=r.bin.readUTF8(e,t,c);if(t+=c,t+=d,i)n[p]={size:o,csize:a};else{var f=new Uint8Array(e.buffer,t);if(0==u)n[p]=new Uint8Array(f.buffer.slice(t,t+a));else{if(8!=u)throw"unknown compression method: "+u;var h=new Uint8Array(o);r.inflateRaw(f,h),n[p]=h}}},r.inflateRaw=function(e,t){return r.F.inflate(e,t)},r.inflate=function(e,t){return e[0],e[1],r.inflateRaw(new Uint8Array(e.buffer,e.byteOffset+2,e.length-6),t)},r.deflate=function(e,t){null==t&&(t={level:6});var n=0,a=new Uint8Array(50+Math.floor(1.1*e.length));a[n]=120,a[n+1]=156,n+=2,n=r.F.deflateRaw(e,a,n,t.level);var o=r.adler(e,0,e.length);return a[n+0]=o>>>24&255,a[n+1]=o>>>16&255,a[n+2]=o>>>8&255,a[n+3]=o>>>0&255,new Uint8Array(a.buffer,0,n+4)},r.deflateRaw=function(e,t){null==t&&(t={level:6});var n=new Uint8Array(50+Math.floor(1.1*e.length)),a=r.F.deflateRaw(e,n,a,t.level);return new Uint8Array(n.buffer,0,a)},r.encode=function(e,t){null==t&&(t=!1);var n=0,a=r.bin.writeUint,o=r.bin.writeUshort,i={};for(var s in e){var l=!r._noNeed(s)&&!t,u=e[s],c=r.crc.crc(u,0,u.length);i[s]={cpr:l,usize:u.length,crc:c,file:l?r.deflateRaw(u):u}}for(var s in i)n+=i[s].file.length+30+46+2*r.bin.sizeUTF8(s);n+=22;var d=new Uint8Array(n),p=0,f=[];for(var s in i){var h=i[s];f.push(p),p=r._writeHeader(d,p,s,h,0)}var m=0,g=p;for(var s in i)h=i[s],f.push(p),p=r._writeHeader(d,p,s,h,1,f[m++]);var v=p-g;return a(d,p,101010256),p+=4,o(d,p+=4,m),o(d,p+=2,m),a(d,p+=2,v),a(d,p+=4,g),p+=4,p+=2,d.buffer},r._noNeed=function(e){var t=e.split(".").pop().toLowerCase();return-1!="png,jpg,jpeg,zip".indexOf(t)},r._writeHeader=function(e,t,n,a,o,i){var s=r.bin.writeUint,l=r.bin.writeUshort,u=a.file;return s(e,t,0==o?67324752:33639248),t+=4,1==o&&(t+=2),l(e,t,20),l(e,t+=2,0),l(e,t+=2,a.cpr?8:0),s(e,t+=2,0),s(e,t+=4,a.crc),s(e,t+=4,u.length),s(e,t+=4,a.usize),l(e,t+=4,r.bin.sizeUTF8(n)),l(e,t+=2,0),t+=2,1==o&&(t+=2,t+=2,s(e,t+=6,i),t+=4),t+=r.bin.writeUTF8(e,t,n),0==o&&(e.set(u,t),t+=u.length),t},r.crc={table:function(){for(var e=new Uint32Array(256),t=0;t<256;t++){for(var n=t,r=0;r<8;r++)1&n?n=3988292384^n>>>1:n>>>=1;e[t]=n}return e}(),update:function(e,t,n,a){for(var o=0;o<a;o++)e=r.crc.table[255&(e^t[n+o])]^e>>>8;return e},crc:function(e,t,n){return 4294967295^r.crc.update(4294967295,e,t,n)}},r.adler=function(e,t,n){for(var r=1,a=0,o=t,i=t+n;o<i;){for(var s=Math.min(o+5552,i);o<s;)a+=r+=e[o++];r%=65521,a%=65521}return a<<16|r},r.bin={readUshort:function(e,t){return e[t]|e[t+1]<<8},writeUshort:function(e,t,n){e[t]=255&n,e[t+1]=n>>8&255},readUint:function(e,t){return 16777216*e[t+3]+(e[t+2]<<16|e[t+1]<<8|e[t])},writeUint:function(e,t,n){e[t]=255&n,e[t+1]=n>>8&255,e[t+2]=n>>16&255,e[t+3]=n>>24&255},readASCII:function(e,t,n){for(var r="",a=0;a<n;a++)r+=String.fromCharCode(e[t+a]);return r},writeASCII:function(e,t,n){for(var r=0;r<n.length;r++)e[t+r]=n.charCodeAt(r)},pad:function(e){return e.length<2?"0"+e:e},readUTF8:function(e,t,n){for(var a,o="",i=0;i<n;i++)o+="%"+r.bin.pad(e[t+i].toString(16));try{a=decodeURIComponent(o)}catch(a){return r.bin.readASCII(e,t,n)}return a},writeUTF8:function(e,t,n){for(var r=n.length,a=0,o=0;o<r;o++){var i=n.charCodeAt(o);if(0==(4294967168&i))e[t+a]=i,a++;else if(0==(4294965248&i))e[t+a]=192|i>>6,e[t+a+1]=128|63&i,a+=2;else if(0==(4294901760&i))e[t+a]=224|i>>12,e[t+a+1]=128|i>>6&63,e[t+a+2]=128|63&i,a+=3;else{if(0!=(4292870144&i))throw"e";e[t+a]=240|i>>18,e[t+a+1]=128|i>>12&63,e[t+a+2]=128|i>>6&63,e[t+a+3]=128|63&i,a+=4}}return a},sizeUTF8:function(e){for(var t=e.length,n=0,r=0;r<t;r++){var a=e.charCodeAt(r);if(0==(4294967168&a))n++;else if(0==(4294965248&a))n+=2;else if(0==(4294901760&a))n+=3;else{if(0!=(4292870144&a))throw"e";n+=4}}return n}},r.F={},r.F.deflateRaw=function(e,t,n,a){var o=[[0,0,0,0,0],[4,4,8,4,0],[4,5,16,8,0],[4,6,16,16,0],[4,10,16,32,0],[8,16,32,32,0],[8,16,128,128,0],[8,32,128,256,0],[32,128,258,1024,1],[32,258,258,4096,1]][a],i=r.F.U,s=r.F._goodIndex;r.F._hash;var l=r.F._putsE,u=0,c=n<<3,d=0,p=e.length;if(0==a){for(;u<p;)l(t,c,u+(S=Math.min(65535,p-u))==p?1:0),c=r.F._copyExact(e,u,S,t,c+8),u+=S;return c>>>3}var f=i.lits,h=i.strt,m=i.prev,g=0,v=0,y=0,b=0,_=0,w=0;for(p>2&&(h[w=r.F._hash(e,0)]=0),u=0;u<p;u++){if(_=w,u+1<p-2){w=r.F._hash(e,u+1);var k=u+1&32767;m[k]=h[w],h[w]=k}if(d<=u){(g>14e3||v>26697)&&p-u>100&&(d<u&&(f[g]=u-d,g+=2,d=u),c=r.F._writeBlock(u==p-1||d==p?1:0,f,g,b,e,y,u-y,t,c),g=v=b=0,y=u);var x=0;u<p-2&&(x=r.F._bestMatch(e,u,m,_,Math.min(o[2],p-u),o[3]));var S=x>>>16,E=65535&x;if(0!=x){E=65535&x;var C=s(S=x>>>16,i.of0);i.lhst[257+C]++;var A=s(E,i.df0);i.dhst[A]++,b+=i.exb[C]+i.dxb[A],f[g]=S<<23|u-d,f[g+1]=E<<16|C<<8|A,g+=2,d=u+S}else i.lhst[e[u]]++;v++}}for(y==u&&0!=e.length||(d<u&&(f[g]=u-d,g+=2,d=u),c=r.F._writeBlock(1,f,g,b,e,y,u-y,t,c),g=0,v=0,g=v=b=0,y=u);0!=(7&c);)c++;return c>>>3},r.F._bestMatch=function(e,t,n,a,o,i){var s=32767&t,l=n[s],u=s-l+32768&32767;if(l==s||a!=r.F._hash(e,t-u))return 0;for(var c=0,d=0,p=Math.min(32767,t);u<=p&&0!=--i&&l!=s;){if(0==c||e[t+c]==e[t+c-u]){var f=r.F._howLong(e,t,u);if(f>c){if(d=u,(c=f)>=o)break;u+2<f&&(f=u+2);for(var h=0,m=0;m<f-2;m++){var g=t-u+m+32768&32767,v=g-n[g]+32768&32767;v>h&&(h=v,l=g)}}}u+=(s=l)-(l=n[s])+32768&32767}return c<<16|d},r.F._howLong=function(e,t,n){if(e[t]!=e[t-n]||e[t+1]!=e[t+1-n]||e[t+2]!=e[t+2-n])return 0;var r=t,a=Math.min(e.length,t+258);for(t+=3;t<a&&e[t]==e[t-n];)t++;return t-r},r.F._hash=function(e,t){return(e[t]<<8|e[t+1])+(e[t+2]<<4)&65535},r.saved=0,r.F._writeBlock=function(e,t,n,a,o,i,s,l,u){var c,d,p,f,h,m,g,v,y,b=r.F.U,_=r.F._putsF,w=r.F._putsE;b.lhst[256]++,d=(c=r.F.getTrees())[0],p=c[1],f=c[2],h=c[3],m=c[4],g=c[5],v=c[6],y=c[7];var k=32+(0==(u+3&7)?0:8-(u+3&7))+(s<<3),x=a+r.F.contSize(b.fltree,b.lhst)+r.F.contSize(b.fdtree,b.dhst),S=a+r.F.contSize(b.ltree,b.lhst)+r.F.contSize(b.dtree,b.dhst);S+=14+3*g+r.F.contSize(b.itree,b.ihst)+(2*b.ihst[16]+3*b.ihst[17]+7*b.ihst[18]);for(var E=0;E<286;E++)b.lhst[E]=0;for(E=0;E<30;E++)b.dhst[E]=0;for(E=0;E<19;E++)b.ihst[E]=0;var C=k<x&&k<S?0:x<S?1:2;if(_(l,u,e),_(l,u+1,C),u+=3,0==C){for(;0!=(7&u);)u++;u=r.F._copyExact(o,i,s,l,u)}else{var A,I;if(1==C&&(A=b.fltree,I=b.fdtree),2==C){r.F.makeCodes(b.ltree,d),r.F.revCodes(b.ltree,d),r.F.makeCodes(b.dtree,p),r.F.revCodes(b.dtree,p),r.F.makeCodes(b.itree,f),r.F.revCodes(b.itree,f),A=b.ltree,I=b.dtree,w(l,u,h-257),w(l,u+=5,m-1),w(l,u+=5,g-4),u+=4;for(var T=0;T<g;T++)w(l,u+3*T,b.itree[1+(b.ordr[T]<<1)]);u+=3*g,u=r.F._codeTiny(v,b.itree,l,u),u=r.F._codeTiny(y,b.itree,l,u)}for(var N=i,O=0;O<n;O+=2){for(var P=t[O],z=P>>>23,R=N+(8388607&P);N<R;)u=r.F._writeLit(o[N++],A,l,u);if(0!=z){var j=t[O+1],M=j>>16,F=j>>8&255,L=255&j;w(l,u=r.F._writeLit(257+F,A,l,u),z-b.of0[F]),u+=b.exb[F],_(l,u=r.F._writeLit(L,I,l,u),M-b.df0[L]),u+=b.dxb[L],N+=z}}u=r.F._writeLit(256,A,l,u)}return u},r.F._copyExact=function(e,t,n,r,a){var o=a>>>3;return r[o]=n,r[o+1]=n>>>8,r[o+2]=255-r[o],r[o+3]=255-r[o+1],o+=4,r.set(new Uint8Array(e.buffer,t,n),o),a+(n+4<<3)},r.F.getTrees=function(){for(var e=r.F.U,t=r.F._hufTree(e.lhst,e.ltree,15),n=r.F._hufTree(e.dhst,e.dtree,15),a=[],o=r.F._lenCodes(e.ltree,a),i=[],s=r.F._lenCodes(e.dtree,i),l=0;l<a.length;l+=2)e.ihst[a[l]]++;for(l=0;l<i.length;l+=2)e.ihst[i[l]]++;for(var u=r.F._hufTree(e.ihst,e.itree,7),c=19;c>4&&0==e.itree[1+(e.ordr[c-1]<<1)];)c--;return[t,n,u,o,s,c,a,i]},r.F.getSecond=function(e){for(var t=[],n=0;n<e.length;n+=2)t.push(e[n+1]);return t},r.F.nonZero=function(e){for(var t="",n=0;n<e.length;n+=2)0!=e[n+1]&&(t+=(n>>1)+",");return t},r.F.contSize=function(e,t){for(var n=0,r=0;r<t.length;r++)n+=t[r]*e[1+(r<<1)];return n},r.F._codeTiny=function(e,t,n,a){for(var o=0;o<e.length;o+=2){var i=e[o],s=e[o+1];a=r.F._writeLit(i,t,n,a);var l=16==i?2:17==i?3:7;i>15&&(r.F._putsE(n,a,s,l),a+=l)}return a},r.F._lenCodes=function(e,t){for(var n=e.length;2!=n&&0==e[n-1];)n-=2;for(var r=0;r<n;r+=2){var a=e[r+1],o=r+3<n?e[r+3]:-1,i=r+5<n?e[r+5]:-1,s=0==r?-1:e[r-1];if(0==a&&o==a&&i==a){for(var l=r+5;l+2<n&&e[l+2]==a;)l+=2;(u=Math.min(l+1-r>>>1,138))<11?t.push(17,u-3):t.push(18,u-11),r+=2*u-2}else if(a==s&&o==a&&i==a){for(l=r+5;l+2<n&&e[l+2]==a;)l+=2;var u=Math.min(l+1-r>>>1,6);t.push(16,u-3),r+=2*u-2}else t.push(a,0)}return n>>>1},r.F._hufTree=function(e,t,n){var a=[],o=e.length,i=t.length,s=0;for(s=0;s<i;s+=2)t[s]=0,t[s+1]=0;for(s=0;s<o;s++)0!=e[s]&&a.push({lit:s,f:e[s]});var l=a.length,u=a.slice(0);if(0==l)return 0;if(1==l){var c=a[0].lit;return u=0==c?1:0,t[1+(c<<1)]=1,t[1+(u<<1)]=1,1}a.sort((function(e,t){return e.f-t.f}));var d=a[0],p=a[1],f=0,h=1,m=2;for(a[0]={lit:-1,f:d.f+p.f,l:d,r:p,d:0};h!=l-1;)d=f!=h&&(m==l||a[f].f<a[m].f)?a[f++]:a[m++],p=f!=h&&(m==l||a[f].f<a[m].f)?a[f++]:a[m++],a[h++]={lit:-1,f:d.f+p.f,l:d,r:p};var g=r.F.setDepth(a[h-1],0);for(g>n&&(r.F.restrictDepth(u,n,g),g=n),s=0;s<l;s++)t[1+(u[s].lit<<1)]=u[s].d;return g},r.F.setDepth=function(e,t){return-1!=e.lit?(e.d=t,t):Math.max(r.F.setDepth(e.l,t+1),r.F.setDepth(e.r,t+1))},r.F.restrictDepth=function(e,t,n){var r=0,a=1<<n-t,o=0;for(e.sort((function(e,t){return t.d==e.d?e.f-t.f:t.d-e.d})),r=0;r<e.length&&e[r].d>t;r++){var i=e[r].d;e[r].d=t,o+=a-(1<<n-i)}for(o>>>=n-t;o>0;)(i=e[r].d)<t?(e[r].d++,o-=1<<t-i-1):r++;for(;r>=0;r--)e[r].d==t&&o<0&&(e[r].d--,o++);0!=o&&console.log("debt left")},r.F._goodIndex=function(e,t){var n=0;return t[16|n]<=e&&(n|=16),t[8|n]<=e&&(n|=8),t[4|n]<=e&&(n|=4),t[2|n]<=e&&(n|=2),t[1|n]<=e&&(n|=1),n},r.F._writeLit=function(e,t,n,a){return r.F._putsF(n,a,t[e<<1]),a+t[1+(e<<1)]},r.F.inflate=function(e,t){var n=Uint8Array;if(3==e[0]&&0==e[1])return t||new n(0);var a=r.F,o=a._bitsF,i=a._bitsE,s=a._decodeTiny,l=a.makeCodes,u=a.codes2map,c=a._get17,d=a.U,p=null==t;p&&(t=new n(e.length>>>2<<3));for(var f,h,m=0,g=0,v=0,y=0,b=0,_=0,w=0,k=0,x=0;0==m;)if(m=o(e,x,1),g=o(e,x+1,2),x+=3,0!=g){if(p&&(t=r.F._check(t,k+(1<<17))),1==g&&(f=d.flmap,h=d.fdmap,_=511,w=31),2==g){v=i(e,x,5)+257,y=i(e,x+5,5)+1,b=i(e,x+10,4)+4,x+=14;for(var S=0;S<38;S+=2)d.itree[S]=0,d.itree[S+1]=0;var E=1;for(S=0;S<b;S++){var C=i(e,x+3*S,3);d.itree[1+(d.ordr[S]<<1)]=C,C>E&&(E=C)}x+=3*b,l(d.itree,E),u(d.itree,E,d.imap),f=d.lmap,h=d.dmap,x=s(d.imap,(1<<E)-1,v+y,e,x,d.ttree);var A=a._copyOut(d.ttree,0,v,d.ltree);_=(1<<A)-1;var I=a._copyOut(d.ttree,v,y,d.dtree);w=(1<<I)-1,l(d.ltree,A),u(d.ltree,A,f),l(d.dtree,I),u(d.dtree,I,h)}for(;;){var T=f[c(e,x)&_];x+=15&T;var N=T>>>4;if(N>>>8==0)t[k++]=N;else{if(256==N)break;var O=k+N-254;if(N>264){var P=d.ldef[N-257];O=k+(P>>>3)+i(e,x,7&P),x+=7&P}var z=h[c(e,x)&w];x+=15&z;var R=z>>>4,j=d.ddef[R],M=(j>>>4)+o(e,x,15&j);for(x+=15&j,p&&(t=r.F._check(t,k+(1<<17)));k<O;)t[k]=t[k++-M],t[k]=t[k++-M],t[k]=t[k++-M],t[k]=t[k++-M];k=O}}}else{0!=(7&x)&&(x+=8-(7&x));var F=4+(x>>>3),L=e[F-4]|e[F-3]<<8;p&&(t=r.F._check(t,k+L)),t.set(new n(e.buffer,e.byteOffset+F,L),k),x=F+L<<3,k+=L}return t.length==k?t:t.slice(0,k)},r.F._check=function(e,t){var n=e.length;if(t<=n)return e;var r=new Uint8Array(Math.max(n<<1,t));return r.set(e,0),r},r.F._decodeTiny=function(e,t,n,a,o,i){for(var s=r.F._bitsE,l=r.F._get17,u=0;u<n;){var c=e[l(a,o)&t];o+=15&c;var d=c>>>4;if(d<=15)i[u]=d,u++;else{var p=0,f=0;16==d?(f=3+s(a,o,2),o+=2,p=i[u-1]):17==d?(f=3+s(a,o,3),o+=3):18==d&&(f=11+s(a,o,7),o+=7);for(var h=u+f;u<h;)i[u]=p,u++}}return o},r.F._copyOut=function(e,t,n,r){for(var a=0,o=0,i=r.length>>>1;o<n;){var s=e[o+t];r[o<<1]=0,r[1+(o<<1)]=s,s>a&&(a=s),o++}for(;o<i;)r[o<<1]=0,r[1+(o<<1)]=0,o++;return a},r.F.makeCodes=function(e,t){for(var n,a,o,i,s=r.F.U,l=e.length,u=s.bl_count,c=0;c<=t;c++)u[c]=0;for(c=1;c<l;c+=2)u[e[c]]++;var d=s.next_code;for(n=0,u[0]=0,a=1;a<=t;a++)n=n+u[a-1]<<1,d[a]=n;for(o=0;o<l;o+=2)0!=(i=e[o+1])&&(e[o]=d[i],d[i]++)},r.F.codes2map=function(e,t,n){for(var a=e.length,o=r.F.U.rev15,i=0;i<a;i+=2)if(0!=e[i+1])for(var s=i>>1,l=e[i+1],u=s<<4|l,c=t-l,d=e[i]<<c,p=d+(1<<c);d!=p;)n[o[d]>>>15-t]=u,d++},r.F.revCodes=function(e,t){for(var n=r.F.U.rev15,a=15-t,o=0;o<e.length;o+=2){var i=e[o]<<t-e[o+1];e[o]=n[i]>>>a}},r.F._putsE=function(e,t,n){n<<=7&t;var r=t>>>3;e[r]|=n,e[r+1]|=n>>>8},r.F._putsF=function(e,t,n){n<<=7&t;var r=t>>>3;e[r]|=n,e[r+1]|=n>>>8,e[r+2]|=n>>>16},r.F._bitsE=function(e,t,n){return(e[t>>>3]|e[1+(t>>>3)]<<8)>>>(7&t)&(1<<n)-1},r.F._bitsF=function(e,t,n){return(e[t>>>3]|e[1+(t>>>3)]<<8|e[2+(t>>>3)]<<16)>>>(7&t)&(1<<n)-1},r.F._get17=function(e,t){return(e[t>>>3]|e[1+(t>>>3)]<<8|e[2+(t>>>3)]<<16)>>>(7&t)},r.F._get25=function(e,t){return(e[t>>>3]|e[1+(t>>>3)]<<8|e[2+(t>>>3)]<<16|e[3+(t>>>3)]<<24)>>>(7&t)},r.F.U=(t=Uint16Array,n=Uint32Array,{next_code:new t(16),bl_count:new t(16),ordr:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],of0:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],exb:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],ldef:new t(32),df0:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],dxb:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],ddef:new n(32),flmap:new t(512),fltree:[],fdmap:new t(32),fdtree:[],lmap:new t(32768),ltree:[],ttree:[],dmap:new t(32768),dtree:[],imap:new t(512),itree:[],rev15:new t(32768),lhst:new n(286),dhst:new n(30),ihst:new n(19),lits:new n(15e3),strt:new t(65536),prev:new t(32768)}),function(){for(var e=r.F.U,t=0;t<32768;t++){var n=t;n=(4278255360&(n=(4042322160&(n=(3435973836&(n=(2863311530&n)>>>1|(1431655765&n)<<1))>>>2|(858993459&n)<<2))>>>4|(252645135&n)<<4))>>>8|(16711935&n)<<8,e.rev15[t]=(n>>>16|n<<16)>>>17}function a(e,t,n){for(;0!=t--;)e.push(0,n)}for(t=0;t<32;t++)e.ldef[t]=e.of0[t]<<3|e.exb[t],e.ddef[t]=e.df0[t]<<4|e.dxb[t];a(e.fltree,144,8),a(e.fltree,112,9),a(e.fltree,24,7),a(e.fltree,8,8),r.F.makeCodes(e.fltree,9),r.F.codes2map(e.fltree,9,e.flmap),r.F.revCodes(e.fltree,9),a(e.fdtree,32,5),r.F.makeCodes(e.fdtree,5),r.F.codes2map(e.fdtree,5,e.fdmap),r.F.revCodes(e.fdtree,5),a(e.itree,19,0),a(e.ltree,286,0),a(e.dtree,30,0),a(e.ttree,320,0)}()}();var ng=function(e,t){return t.forEach((function(t){t&&"string"!=typeof t&&!Array.isArray(t)&&Object.keys(t).forEach((function(n){if("default"!==n&&!(n in e)){var r=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(e,n,r.get?r:{enumerable:!0,get:function(){return t[n]}})}}))})),Object.freeze(e)}({__proto__:null,default:eg},[eg]);const rg=function(){var e={nextZero(e,t){for(;0!=e[t];)t++;return t},readUshort:(e,t)=>e[t]<<8|e[t+1],writeUshort(e,t,n){e[t]=n>>8&255,e[t+1]=255&n},readUint:(e,t)=>16777216*e[t]+(e[t+1]<<16|e[t+2]<<8|e[t+3]),writeUint(e,t,n){e[t]=n>>24&255,e[t+1]=n>>16&255,e[t+2]=n>>8&255,e[t+3]=255&n},readASCII(e,t,n){let r="";for(let a=0;a<n;a++)r+=String.fromCharCode(e[t+a]);return r},writeASCII(e,t,n){for(let r=0;r<n.length;r++)e[t+r]=n.charCodeAt(r)},readBytes(e,t,n){const r=[];for(let a=0;a<n;a++)r.push(e[t+a]);return r},pad:e=>e.length<2?"0".concat(e):e,readUTF8(t,n,r){let a,o="";for(let i=0;i<r;i++)o+="%".concat(e.pad(t[n+i].toString(16)));try{a=decodeURIComponent(o)}catch(a){return e.readASCII(t,n,r)}return a}};function t(t,n,r,a){const i=n*r,s=o(a),l=Math.ceil(n*s/8),u=new Uint8Array(4*i),c=new Uint32Array(u.buffer),{ctype:d}=a,{depth:p}=a,f=e.readUshort;if(6==d){const e=i<<2;if(8==p)for(var h=0;h<e;h+=4)u[h]=t[h],u[h+1]=t[h+1],u[h+2]=t[h+2],u[h+3]=t[h+3];if(16==p)for(h=0;h<e;h++)u[h]=t[h<<1]}else if(2==d){const e=a.tabs.tRNS;if(null==e){if(8==p)for(h=0;h<i;h++){var m=3*h;c[h]=255<<24|t[m+2]<<16|t[m+1]<<8|t[m]}if(16==p)for(h=0;h<i;h++)m=6*h,c[h]=255<<24|t[m+4]<<16|t[m+2]<<8|t[m]}else{var g=e[0];const n=e[1],r=e[2];if(8==p)for(h=0;h<i;h++){var v=h<<2;m=3*h,c[h]=255<<24|t[m+2]<<16|t[m+1]<<8|t[m],t[m]==g&&t[m+1]==n&&t[m+2]==r&&(u[v+3]=0)}if(16==p)for(h=0;h<i;h++)v=h<<2,m=6*h,c[h]=255<<24|t[m+4]<<16|t[m+2]<<8|t[m],f(t,m)==g&&f(t,m+2)==n&&f(t,m+4)==r&&(u[v+3]=0)}}else if(3==d){const e=a.tabs.PLTE,o=a.tabs.tRNS,s=o?o.length:0;if(1==p)for(var y=0;y<r;y++){var b=y*l,_=y*n;for(h=0;h<n;h++){v=_+h<<2;var w=3*(k=t[b+(h>>3)]>>7-(7&h)&1);u[v]=e[w],u[v+1]=e[w+1],u[v+2]=e[w+2],u[v+3]=k<s?o[k]:255}}if(2==p)for(y=0;y<r;y++)for(b=y*l,_=y*n,h=0;h<n;h++)v=_+h<<2,w=3*(k=t[b+(h>>2)]>>6-((3&h)<<1)&3),u[v]=e[w],u[v+1]=e[w+1],u[v+2]=e[w+2],u[v+3]=k<s?o[k]:255;if(4==p)for(y=0;y<r;y++)for(b=y*l,_=y*n,h=0;h<n;h++)v=_+h<<2,w=3*(k=t[b+(h>>1)]>>4-((1&h)<<2)&15),u[v]=e[w],u[v+1]=e[w+1],u[v+2]=e[w+2],u[v+3]=k<s?o[k]:255;if(8==p)for(h=0;h<i;h++){var k;v=h<<2,w=3*(k=t[h]),u[v]=e[w],u[v+1]=e[w+1],u[v+2]=e[w+2],u[v+3]=k<s?o[k]:255}}else if(4==d){if(8==p)for(h=0;h<i;h++){v=h<<2;var x=t[S=h<<1];u[v]=x,u[v+1]=x,u[v+2]=x,u[v+3]=t[S+1]}if(16==p)for(h=0;h<i;h++){var S;v=h<<2,x=t[S=h<<2],u[v]=x,u[v+1]=x,u[v+2]=x,u[v+3]=t[S+2]}}else if(0==d)for(g=a.tabs.tRNS?a.tabs.tRNS:-1,y=0;y<r;y++){const e=y*l,r=y*n;if(1==p)for(var E=0;E<n;E++){var C=(x=255*(t[e+(E>>>3)]>>>7-(7&E)&1))==255*g?0:255;c[r+E]=C<<24|x<<16|x<<8|x}else if(2==p)for(E=0;E<n;E++)C=(x=85*(t[e+(E>>>2)]>>>6-((3&E)<<1)&3))==85*g?0:255,c[r+E]=C<<24|x<<16|x<<8|x;else if(4==p)for(E=0;E<n;E++)C=(x=17*(t[e+(E>>>1)]>>>4-((1&E)<<2)&15))==17*g?0:255,c[r+E]=C<<24|x<<16|x<<8|x;else if(8==p)for(E=0;E<n;E++)C=(x=t[e+E])==g?0:255,c[r+E]=C<<24|x<<16|x<<8|x;else if(16==p)for(E=0;E<n;E++)x=t[e+(E<<1)],C=f(t,e+(E<<1))==g?0:255,c[r+E]=C<<24|x<<16|x<<8|x}return u}function n(e,t,n,s){const l=o(e),u=Math.ceil(n*l/8),c=new Uint8Array((u+1+e.interlace)*s);return t=e.tabs.CgBI?a(t,c):r(t,c),0==e.interlace?t=i(t,e,0,n,s):1==e.interlace&&(t=function(e,t){const n=t.width,r=t.height,a=o(t),s=a>>3,l=Math.ceil(n*a/8),u=new Uint8Array(r*l);let c=0;const d=[0,0,4,0,2,0,1],p=[0,4,0,2,0,1,0],f=[8,8,8,4,4,2,2],h=[8,8,4,4,2,2,1];let m=0;for(;m<7;){const o=f[m],v=h[m];let y=0,b=0,_=d[m];for(;_<r;)_+=o,b++;let w=p[m];for(;w<n;)w+=v,y++;const k=Math.ceil(y*a/8);i(e,t,c,y,b);let x=0,S=d[m];for(;S<r;){let t=p[m],r=c+x*k<<3;for(;t<n;){var g;if(1==a&&(g=(g=e[r>>3])>>7-(7&r)&1,u[S*l+(t>>3)]|=g<<7-(7&t)),2==a&&(g=(g=e[r>>3])>>6-(7&r)&3,u[S*l+(t>>2)]|=g<<6-((3&t)<<1)),4==a&&(g=(g=e[r>>3])>>4-(7&r)&15,u[S*l+(t>>1)]|=g<<4-((1&t)<<2)),a>=8){const n=S*l+t*s;for(let t=0;t<s;t++)u[n+t]=e[(r>>3)+t]}r+=a,t+=v}x++,S+=o}y*b!=0&&(c+=b*(1+k)),m+=1}return u}(t,e)),t}function r(e,t){return a(new Uint8Array(e.buffer,2,e.length-6),t)}var a=function(){const e={H:{}};return e.H.N=function(t,n){const r=Uint8Array;let a,o,i=0,s=0,l=0,u=0,c=0,d=0,p=0,f=0,h=0;if(3==t[0]&&0==t[1])return n||new r(0);const m=e.H,g=m.b,v=m.e,y=m.R,b=m.n,_=m.A,w=m.Z,k=m.m,x=null==n;for(x&&(n=new r(t.length>>>2<<5));0==i;)if(i=g(t,h,1),s=g(t,h+1,2),h+=3,0!=s){if(x&&(n=e.H.W(n,f+(1<<17))),1==s&&(a=k.J,o=k.h,d=511,p=31),2==s){l=v(t,h,5)+257,u=v(t,h+5,5)+1,c=v(t,h+10,4)+4,h+=14;let e=1;for(var S=0;S<38;S+=2)k.Q[S]=0,k.Q[S+1]=0;for(S=0;S<c;S++){const n=v(t,h+3*S,3);k.Q[1+(k.X[S]<<1)]=n,n>e&&(e=n)}h+=3*c,b(k.Q,e),_(k.Q,e,k.u),a=k.w,o=k.d,h=y(k.u,(1<<e)-1,l+u,t,h,k.v);const n=m.V(k.v,0,l,k.C);d=(1<<n)-1;const r=m.V(k.v,l,u,k.D);p=(1<<r)-1,b(k.C,n),_(k.C,n,a),b(k.D,r),_(k.D,r,o)}for(;;){const e=a[w(t,h)&d];h+=15&e;const r=e>>>4;if(r>>>8==0)n[f++]=r;else{if(256==r)break;{let e=f+r-254;if(r>264){const n=k.q[r-257];e=f+(n>>>3)+v(t,h,7&n),h+=7&n}const a=o[w(t,h)&p];h+=15&a;const i=a>>>4,s=k.c[i],l=(s>>>4)+g(t,h,15&s);for(h+=15&s;f<e;)n[f]=n[f++-l],n[f]=n[f++-l],n[f]=n[f++-l],n[f]=n[f++-l];f=e}}}}else{0!=(7&h)&&(h+=8-(7&h));const a=4+(h>>>3),o=t[a-4]|t[a-3]<<8;x&&(n=e.H.W(n,f+o)),n.set(new r(t.buffer,t.byteOffset+a,o),f),h=a+o<<3,f+=o}return n.length==f?n:n.slice(0,f)},e.H.W=function(e,t){const n=e.length;if(t<=n)return e;const r=new Uint8Array(n<<1);return r.set(e,0),r},e.H.R=function(t,n,r,a,o,i){const s=e.H.e,l=e.H.Z;let u=0;for(;u<r;){const e=t[l(a,o)&n];o+=15&e;const r=e>>>4;if(r<=15)i[u]=r,u++;else{let e=0,t=0;16==r?(t=3+s(a,o,2),o+=2,e=i[u-1]):17==r?(t=3+s(a,o,3),o+=3):18==r&&(t=11+s(a,o,7),o+=7);const n=u+t;for(;u<n;)i[u]=e,u++}}return o},e.H.V=function(e,t,n,r){let a=0,o=0;const i=r.length>>>1;for(;o<n;){const n=e[o+t];r[o<<1]=0,r[1+(o<<1)]=n,n>a&&(a=n),o++}for(;o<i;)r[o<<1]=0,r[1+(o<<1)]=0,o++;return a},e.H.n=function(t,n){const r=e.H.m,a=t.length;let o,i,s,l;const u=r.j;for(var c=0;c<=n;c++)u[c]=0;for(c=1;c<a;c+=2)u[t[c]]++;const d=r.K;for(o=0,u[0]=0,i=1;i<=n;i++)o=o+u[i-1]<<1,d[i]=o;for(s=0;s<a;s+=2)l=t[s+1],0!=l&&(t[s]=d[l],d[l]++)},e.H.A=function(t,n,r){const a=t.length,o=e.H.m.r;for(let e=0;e<a;e+=2)if(0!=t[e+1]){const a=e>>1,i=t[e+1],s=a<<4|i,l=n-i;let u=t[e]<<l;const c=u+(1<<l);for(;u!=c;)r[o[u]>>>15-n]=s,u++}},e.H.l=function(t,n){const r=e.H.m.r,a=15-n;for(let e=0;e<t.length;e+=2){const o=t[e]<<n-t[e+1];t[e]=r[o]>>>a}},e.H.M=function(e,t,n){n<<=7&t;const r=t>>>3;e[r]|=n,e[r+1]|=n>>>8},e.H.I=function(e,t,n){n<<=7&t;const r=t>>>3;e[r]|=n,e[r+1]|=n>>>8,e[r+2]|=n>>>16},e.H.e=function(e,t,n){return(e[t>>>3]|e[1+(t>>>3)]<<8)>>>(7&t)&(1<<n)-1},e.H.b=function(e,t,n){return(e[t>>>3]|e[1+(t>>>3)]<<8|e[2+(t>>>3)]<<16)>>>(7&t)&(1<<n)-1},e.H.Z=function(e,t){return(e[t>>>3]|e[1+(t>>>3)]<<8|e[2+(t>>>3)]<<16)>>>(7&t)},e.H.i=function(e,t){return(e[t>>>3]|e[1+(t>>>3)]<<8|e[2+(t>>>3)]<<16|e[3+(t>>>3)]<<24)>>>(7&t)},e.H.m=function(){const e=Uint16Array,t=Uint32Array;return{K:new e(16),j:new e(16),X:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],S:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],T:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],q:new e(32),p:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],z:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],c:new t(32),J:new e(512),_:[],h:new e(32),$:[],w:new e(32768),C:[],v:[],d:new e(32768),D:[],u:new e(512),Q:[],r:new e(32768),s:new t(286),Y:new t(30),a:new t(19),t:new t(15e3),k:new e(65536),g:new e(32768)}}(),function(){const t=e.H.m;for(var n=0;n<32768;n++){let e=n;e=(2863311530&e)>>>1|(1431655765&e)<<1,e=(3435973836&e)>>>2|(858993459&e)<<2,e=(4042322160&e)>>>4|(252645135&e)<<4,e=(4278255360&e)>>>8|(16711935&e)<<8,t.r[n]=(e>>>16|e<<16)>>>17}function r(e,t,n){for(;0!=t--;)e.push(0,n)}for(n=0;n<32;n++)t.q[n]=t.S[n]<<3|t.T[n],t.c[n]=t.p[n]<<4|t.z[n];r(t._,144,8),r(t._,112,9),r(t._,24,7),r(t._,8,8),e.H.n(t._,9),e.H.A(t._,9,t.J),e.H.l(t._,9),r(t.$,32,5),e.H.n(t.$,5),e.H.A(t.$,5,t.h),e.H.l(t.$,5),r(t.Q,19,0),r(t.C,286,0),r(t.D,30,0),r(t.v,320,0)}(),e.H.N}();function o(e){return[1,null,3,1,2,null,4][e.ctype]*e.depth}function i(e,t,n,r,a){let i=o(t);const l=Math.ceil(r*i/8);let u,c;i=Math.ceil(i/8);let d=e[n],p=0;if(d>1&&(e[n]=[0,0,1][d-2]),3==d)for(p=i;p<l;p++)e[p+1]=e[p+1]+(e[p+1-i]>>>1)&255;for(let o=0;o<a;o++)if(u=n+o*l,c=u+o+1,d=e[c-1],p=0,0==d)for(;p<l;p++)e[u+p]=e[c+p];else if(1==d){for(;p<i;p++)e[u+p]=e[c+p];for(;p<l;p++)e[u+p]=e[c+p]+e[u+p-i]}else if(2==d)for(;p<l;p++)e[u+p]=e[c+p]+e[u+p-l];else if(3==d){for(;p<i;p++)e[u+p]=e[c+p]+(e[u+p-l]>>>1);for(;p<l;p++)e[u+p]=e[c+p]+(e[u+p-l]+e[u+p-i]>>>1)}else{for(;p<i;p++)e[u+p]=e[c+p]+s(0,e[u+p-l],0);for(;p<l;p++)e[u+p]=e[c+p]+s(e[u+p-i],e[u+p-l],e[u+p-i-l])}return e}function s(e,t,n){const r=e+t-n,a=r-e,o=r-t,i=r-n;return a*a<=o*o&&a*a<=i*i?e:o*o<=i*i?t:n}function l(t,n,r){r.width=e.readUint(t,n),n+=4,r.height=e.readUint(t,n),n+=4,r.depth=t[n],n++,r.ctype=t[n],n++,r.compress=t[n],n++,r.filter=t[n],n++,r.interlace=t[n],n++}function u(e,t,n,r,a,o,i,s,l){const u=Math.min(t,a),c=Math.min(n,o);let d=0,p=0;for(let w=0;w<c;w++)for(let n=0;n<u;n++)if(i>=0&&s>=0?(d=w*t+n<<2,p=(s+w)*a+i+n<<2):(d=(-s+w)*t-i+n<<2,p=w*a+n<<2),0==l)r[p]=e[d],r[p+1]=e[d+1],r[p+2]=e[d+2],r[p+3]=e[d+3];else if(1==l){var f=e[d+3]*(1/255),h=e[d]*f,m=e[d+1]*f,g=e[d+2]*f,v=r[p+3]*(1/255),y=r[p]*v,b=r[p+1]*v,_=r[p+2]*v;const t=1-f,n=f+v*t,a=0==n?0:1/n;r[p+3]=255*n,r[p+0]=(h+y*t)*a,r[p+1]=(m+b*t)*a,r[p+2]=(g+_*t)*a}else if(2==l)f=e[d+3],h=e[d],m=e[d+1],g=e[d+2],v=r[p+3],y=r[p],b=r[p+1],_=r[p+2],f==v&&h==y&&m==b&&g==_?(r[p]=0,r[p+1]=0,r[p+2]=0,r[p+3]=0):(r[p]=h,r[p+1]=m,r[p+2]=g,r[p+3]=f);else if(3==l){if(f=e[d+3],h=e[d],m=e[d+1],g=e[d+2],v=r[p+3],y=r[p],b=r[p+1],_=r[p+2],f==v&&h==y&&m==b&&g==_)continue;if(f<220&&v>20)return!1}return!0}return{decode:function(t){const o=new Uint8Array(t);let i=8;const s=e,u=s.readUshort,c=s.readUint,d={tabs:{},frames:[]},p=new Uint8Array(o.length);let f,h=0,m=0;const g=[137,80,78,71,13,10,26,10];for(var v=0;v<8;v++)if(o[v]!=g[v])throw"The input is not a PNG file!";for(;i<o.length;){const t=s.readUint(o,i);i+=4;const g=s.readASCII(o,i,4);if(i+=4,"IHDR"==g)l(o,i,d);else if("iCCP"==g){for(var y=i;0!=o[y];)y++;s.readASCII(o,i,y-i),o[y+1];const n=o.slice(y+2,i+t);let l=null;try{l=r(n)}catch(e){l=a(n)}d.tabs[g]=l}else if("CgBI"==g)d.tabs[g]=o.slice(i,i+4);else if("IDAT"==g){for(v=0;v<t;v++)p[h+v]=o[i+v];h+=t}else if("acTL"==g)d.tabs[g]={num_frames:c(o,i),num_plays:c(o,i+4)},f=new Uint8Array(o.length);else if("fcTL"==g){0!=m&&((S=d.frames[d.frames.length-1]).data=n(d,f.slice(0,m),S.rect.width,S.rect.height),m=0);const e={x:c(o,i+12),y:c(o,i+16),width:c(o,i+4),height:c(o,i+8)};let t=u(o,i+22);t=u(o,i+20)/(0==t?100:t);const r={rect:e,delay:Math.round(1e3*t),dispose:o[i+24],blend:o[i+25]};d.frames.push(r)}else if("fdAT"==g){for(v=0;v<t-4;v++)f[m+v]=o[i+v+4];m+=t-4}else if("pHYs"==g)d.tabs[g]=[s.readUint(o,i),s.readUint(o,i+4),o[i+8]];else if("cHRM"==g)for(d.tabs[g]=[],v=0;v<8;v++)d.tabs[g].push(s.readUint(o,i+4*v));else if("tEXt"==g||"zTXt"==g){null==d.tabs[g]&&(d.tabs[g]={});var b=s.nextZero(o,i),_=s.readASCII(o,i,b-i),w=i+t-b-1;if("tEXt"==g)x=s.readASCII(o,b+1,w);else{var k=r(o.slice(b+2,b+2+w));x=s.readUTF8(k,0,k.length)}d.tabs[g][_]=x}else if("iTXt"==g){null==d.tabs[g]&&(d.tabs[g]={}),b=0,y=i,b=s.nextZero(o,y),_=s.readASCII(o,y,b-y);const e=o[y=b+1];var x;o[y+1],y+=2,b=s.nextZero(o,y),s.readASCII(o,y,b-y),y=b+1,b=s.nextZero(o,y),s.readUTF8(o,y,b-y),w=t-((y=b+1)-i),0==e?x=s.readUTF8(o,y,w):(k=r(o.slice(y,y+w)),x=s.readUTF8(k,0,k.length)),d.tabs[g][_]=x}else if("PLTE"==g)d.tabs[g]=s.readBytes(o,i,t);else if("hIST"==g){const e=d.tabs.PLTE.length/3;for(d.tabs[g]=[],v=0;v<e;v++)d.tabs[g].push(u(o,i+2*v))}else if("tRNS"==g)3==d.ctype?d.tabs[g]=s.readBytes(o,i,t):0==d.ctype?d.tabs[g]=u(o,i):2==d.ctype&&(d.tabs[g]=[u(o,i),u(o,i+2),u(o,i+4)]);else if("gAMA"==g)d.tabs[g]=s.readUint(o,i)/1e5;else if("sRGB"==g)d.tabs[g]=o[i];else if("bKGD"==g)0==d.ctype||4==d.ctype?d.tabs[g]=[u(o,i)]:2==d.ctype||6==d.ctype?d.tabs[g]=[u(o,i),u(o,i+2),u(o,i+4)]:3==d.ctype&&(d.tabs[g]=o[i]);else if("IEND"==g)break;i+=t,s.readUint(o,i),i+=4}var S;return 0!=m&&((S=d.frames[d.frames.length-1]).data=n(d,f.slice(0,m),S.rect.width,S.rect.height)),d.data=n(d,p,d.width,d.height),delete d.compress,delete d.interlace,delete d.filter,d},toRGBA8:function(e){const n=e.width,r=e.height;if(null==e.tabs.acTL)return[t(e.data,n,r,e).buffer];const a=[];null==e.frames[0].data&&(e.frames[0].data=e.data);const o=n*r*4,i=new Uint8Array(o),s=new Uint8Array(o),l=new Uint8Array(o);for(let d=0;d<e.frames.length;d++){const p=e.frames[d],f=p.rect.x,h=p.rect.y,m=p.rect.width,g=p.rect.height,v=t(p.data,m,g,e);if(0!=d)for(var c=0;c<o;c++)l[c]=i[c];if(0==p.blend?u(v,m,g,i,n,r,f,h,0):1==p.blend&&u(v,m,g,i,n,r,f,h,1),a.push(i.buffer.slice(0)),0==p.dispose);else if(1==p.dispose)u(s,m,g,i,n,r,f,h,0);else if(2==p.dispose)for(c=0;c<o;c++)i[c]=l[c]}return a},_paeth:s,_copyTile:u,_bin:e}}();!function(){const{_copyTile:e}=rg,{_bin:t}=rg,n=rg._paeth;var r={table:function(){const e=new Uint32Array(256);for(let t=0;t<256;t++){let n=t;for(let e=0;e<8;e++)1&n?n=3988292384^n>>>1:n>>>=1;e[t]=n}return e}(),update(e,t,n,a){for(let o=0;o<a;o++)e=r.table[255&(e^t[n+o])]^e>>>8;return e},crc:(e,t,n)=>4294967295^r.update(4294967295,e,t,n)};function a(e,t,n,r){t[n]+=e[0]*r>>4,t[n+1]+=e[1]*r>>4,t[n+2]+=e[2]*r>>4,t[n+3]+=e[3]*r>>4}function o(e){return Math.max(0,Math.min(255,e))}function i(e,t){const n=e[0]-t[0],r=e[1]-t[1],a=e[2]-t[2],o=e[3]-t[3];return n*n+r*r+a*a+o*o}function s(e,t,n,r,s,l,u){null==u&&(u=1);const c=r.length,d=[];for(var p=0;p<c;p++){const e=r[p];d.push([e>>>0&255,e>>>8&255,e>>>16&255,e>>>24&255])}for(p=0;p<c;p++){let e=4294967295;for(var f=0,h=0;h<c;h++){var m=i(d[p],d[h]);h!=p&&m<e&&(e=m,f=h)}}const g=new Uint32Array(s.buffer),v=new Int16Array(t*n*4),y=[0,8,2,10,12,4,14,6,3,11,1,9,15,7,13,5];for(p=0;p<y.length;p++)y[p]=255*((y[p]+.5)/16-.5);for(let _=0;_<n;_++)for(let s=0;s<t;s++){var b;p=4*(_*t+s),2!=u?b=[o(e[p]+v[p]),o(e[p+1]+v[p+1]),o(e[p+2]+v[p+2]),o(e[p+3]+v[p+3])]:(m=y[4*(3&_)+(3&s)],b=[o(e[p]+m),o(e[p+1]+m),o(e[p+2]+m),o(e[p+3]+m)]),f=0;let w=16777215;for(h=0;h<c;h++){const e=i(b,d[h]);e<w&&(w=e,f=h)}const k=d[f],x=[b[0]-k[0],b[1]-k[1],b[2]-k[2],b[3]-k[3]];1==u&&(s!=t-1&&a(x,v,p+4,7),_!=n-1&&(0!=s&&a(x,v,p+4*t-4,3),a(x,v,p+4*t,5),s!=t-1&&a(x,v,p+4*t+4,1))),l[p>>2]=f,g[p>>2]=r[f]}}function l(e,n,a,o,i){null==i&&(i={});const{crc:s}=r,l=t.writeUint,u=t.writeUshort,c=t.writeASCII;let d=8;const p=e.frames.length>1;let f,h=!1,m=33+(p?20:0);if(null!=i.sRGB&&(m+=13),null!=i.pHYs&&(m+=21),null!=i.iCCP&&(f=pako.deflate(i.iCCP),m+=21+f.length+4),3==e.ctype){for(var g=e.plte.length,v=0;v<g;v++)e.plte[v]>>>24!=255&&(h=!0);m+=8+3*g+4+(h?8+1*g+4:0)}for(var y=0;y<e.frames.length;y++)p&&(m+=38),m+=(k=e.frames[y]).cimg.length+12,0!=y&&(m+=4);m+=12;const b=new Uint8Array(m),_=[137,80,78,71,13,10,26,10];for(v=0;v<8;v++)b[v]=_[v];if(l(b,d,13),d+=4,c(b,d,"IHDR"),d+=4,l(b,d,n),d+=4,l(b,d,a),d+=4,b[d]=e.depth,d++,b[d]=e.ctype,d++,b[d]=0,d++,b[d]=0,d++,b[d]=0,d++,l(b,d,s(b,d-17,17)),d+=4,null!=i.sRGB&&(l(b,d,1),d+=4,c(b,d,"sRGB"),d+=4,b[d]=i.sRGB,d++,l(b,d,s(b,d-5,5)),d+=4),null!=i.iCCP){const e=13+f.length;l(b,d,e),d+=4,c(b,d,"iCCP"),d+=4,c(b,d,"ICC profile"),d+=11,d+=2,b.set(f,d),d+=f.length,l(b,d,s(b,d-(e+4),e+4)),d+=4}if(null!=i.pHYs&&(l(b,d,9),d+=4,c(b,d,"pHYs"),d+=4,l(b,d,i.pHYs[0]),d+=4,l(b,d,i.pHYs[1]),d+=4,b[d]=i.pHYs[2],d++,l(b,d,s(b,d-13,13)),d+=4),p&&(l(b,d,8),d+=4,c(b,d,"acTL"),d+=4,l(b,d,e.frames.length),d+=4,l(b,d,null!=i.loop?i.loop:0),d+=4,l(b,d,s(b,d-12,12)),d+=4),3==e.ctype){for(l(b,d,3*(g=e.plte.length)),d+=4,c(b,d,"PLTE"),d+=4,v=0;v<g;v++){const t=3*v,n=e.plte[v],r=255&n,a=n>>>8&255,o=n>>>16&255;b[d+t+0]=r,b[d+t+1]=a,b[d+t+2]=o}if(d+=3*g,l(b,d,s(b,d-3*g-4,3*g+4)),d+=4,h){for(l(b,d,g),d+=4,c(b,d,"tRNS"),d+=4,v=0;v<g;v++)b[d+v]=e.plte[v]>>>24&255;d+=g,l(b,d,s(b,d-g-4,g+4)),d+=4}}let w=0;for(y=0;y<e.frames.length;y++){var k=e.frames[y];p&&(l(b,d,26),d+=4,c(b,d,"fcTL"),d+=4,l(b,d,w++),d+=4,l(b,d,k.rect.width),d+=4,l(b,d,k.rect.height),d+=4,l(b,d,k.rect.x),d+=4,l(b,d,k.rect.y),d+=4,u(b,d,o[y]),d+=2,u(b,d,1e3),d+=2,b[d]=k.dispose,d++,b[d]=k.blend,d++,l(b,d,s(b,d-30,30)),d+=4);const t=k.cimg;l(b,d,(g=t.length)+(0==y?0:4)),d+=4;const n=d;c(b,d,0==y?"IDAT":"fdAT"),d+=4,0!=y&&(l(b,d,w++),d+=4),b.set(t,d),d+=g,l(b,d,s(b,n,d-n)),d+=4}return l(b,d,0),d+=4,c(b,d,"IEND"),d+=4,l(b,d,s(b,d-4,4)),d+=4,b.buffer}function u(e,t,n){for(let r=0;r<e.frames.length;r++){const a=e.frames[r];a.rect.width;const o=a.rect.height,i=new Uint8Array(o*a.bpl+o);a.cimg=f(a.img,o,a.bpp,a.bpl,i,t,n)}}function c(t,n,r,a,o){const i=o[0],l=o[1],u=o[2],c=o[3],f=o[4],h=o[5];let g=6,v=8,y=255;for(var b=0;b<t.length;b++){const e=new Uint8Array(t[b]);for(var _=e.length,w=0;w<_;w+=4)y&=e[w+3]}const k=255!=y,x=function(t,n,r,a,o,i){const s=[];for(var l=0;l<t.length;l++){const d=new Uint8Array(t[l]),f=new Uint32Array(d.buffer);var u;let m=0,g=0,v=n,y=r,b=a?1:0;if(0!=l){const _=i||a||1==l||0!=s[l-2].dispose?1:2;let w=0,k=1e9;for(let e=0;e<_;e++){var c=new Uint8Array(t[l-1-e]);const a=new Uint32Array(t[l-1-e]);let i=n,s=r,u=-1,d=-1;for(let e=0;e<r;e++)for(let t=0;t<n;t++)f[h=e*n+t]!=a[h]&&(t<i&&(i=t),t>u&&(u=t),e<s&&(s=e),e>d&&(d=e));-1==u&&(i=s=u=d=0),o&&(1==(1&i)&&i--,1==(1&s)&&s--);const p=(u-i+1)*(d-s+1);p<k&&(k=p,w=e,m=i,g=s,v=u-i+1,y=d-s+1)}c=new Uint8Array(t[l-1-w]),1==w&&(s[l-1].dispose=2),u=new Uint8Array(v*y*4),e(c,n,r,u,v,y,-m,-g,0),b=e(d,n,r,u,v,y,-m,-g,3)?1:0,1==b?p(d,n,r,u,{x:m,y:g,width:v,height:y}):e(d,n,r,u,v,y,-m,-g,0)}else u=d.slice(0);s.push({rect:{x:m,y:g,width:v,height:y},img:u,blend:b,dispose:0})}if(a)for(l=0;l<s.length;l++){if(1==(m=s[l]).blend)continue;const e=m.rect,a=s[l-1].rect,i=Math.min(e.x,a.x),u=Math.min(e.y,a.y),c={x:i,y:u,width:Math.max(e.x+e.width,a.x+a.width)-i,height:Math.max(e.y+e.height,a.y+a.height)-u};s[l-1].dispose=1,l-1!=0&&d(t,n,r,s,l-1,c,o),d(t,n,r,s,l,c,o)}let f=0;if(1!=t.length)for(var h=0;h<s.length;h++){var m;f+=(m=s[h]).rect.width*m.rect.height}return s}(t,n,r,i,l,u),S={},E=[],C=[];if(0!=a){const e=[];for(w=0;w<x.length;w++)e.push(x[w].img.buffer);const t=function(e){let t=0;for(var n=0;n<e.length;n++)t+=e[n].byteLength;const r=new Uint8Array(t);let a=0;for(n=0;n<e.length;n++){const t=new Uint8Array(e[n]),o=t.length;for(let e=0;e<o;e+=4){let n=t[e],o=t[e+1],i=t[e+2];const s=t[e+3];0==s&&(n=o=i=0),r[a+e]=n,r[a+e+1]=o,r[a+e+2]=i,r[a+e+3]=s}a+=o}return r.buffer}(e),n=m(t,a);for(w=0;w<n.plte.length;w++)E.push(n.plte[w].est.rgba);let r=0;for(w=0;w<x.length;w++){const e=(I=x[w]).img.length;var A=new Uint8Array(n.inds.buffer,r>>2,e>>2);C.push(A);const t=new Uint8Array(n.abuf,r,e);h&&s(I.img,I.rect.width,I.rect.height,E,t,A),I.img.set(t),r+=e}}else for(b=0;b<x.length;b++){var I=x[b];const e=new Uint32Array(I.img.buffer);var T=I.rect.width;for(_=e.length,A=new Uint8Array(_),C.push(A),w=0;w<_;w++){const t=e[w];if(0!=w&&t==e[w-1])A[w]=A[w-1];else if(w>T&&t==e[w-T])A[w]=A[w-T];else{let e=S[t];if(null==e&&(S[t]=e=E.length,E.push(t),E.length>=300))break;A[w]=e}}}const N=E.length;for(N<=256&&0==f&&(v=N<=2?1:N<=4?2:N<=16?4:8,v=Math.max(v,c)),b=0;b<x.length;b++){(I=x[b]).rect.x,I.rect.y,T=I.rect.width;const e=I.rect.height;let t=I.img;new Uint32Array(t.buffer);let n=4*T,r=4;if(N<=256&&0==f){n=Math.ceil(v*T/8);var O=new Uint8Array(n*e);const a=C[b];for(let t=0;t<e;t++){w=t*n;const e=t*T;if(8==v)for(var P=0;P<T;P++)O[w+P]=a[e+P];else if(4==v)for(P=0;P<T;P++)O[w+(P>>1)]|=a[e+P]<<4-4*(1&P);else if(2==v)for(P=0;P<T;P++)O[w+(P>>2)]|=a[e+P]<<6-2*(3&P);else if(1==v)for(P=0;P<T;P++)O[w+(P>>3)]|=a[e+P]<<7-1*(7&P)}t=O,g=3,r=1}else if(0==k&&1==x.length){O=new Uint8Array(T*e*3);const a=T*e;for(w=0;w<a;w++){const e=3*w,n=4*w;O[e]=t[n],O[e+1]=t[n+1],O[e+2]=t[n+2]}t=O,g=2,r=3,n=3*T}I.img=t,I.bpl=n,I.bpp=r}return{ctype:g,depth:v,plte:E,frames:x}}function d(t,n,r,a,o,i,s){const l=Uint8Array,u=Uint32Array,c=new l(t[o-1]),d=new u(t[o-1]),f=o+1<t.length?new l(t[o+1]):null,h=new l(t[o]),m=new u(h.buffer);let g=n,v=r,y=-1,b=-1;for(let e=0;e<i.height;e++)for(let t=0;t<i.width;t++){const r=i.x+t,s=i.y+e,l=s*n+r,u=m[l];0==u||0==a[o-1].dispose&&d[l]==u&&(null==f||0!=f[4*l+3])||(r<g&&(g=r),r>y&&(y=r),s<v&&(v=s),s>b&&(b=s))}-1==y&&(g=v=y=b=0),s&&(1==(1&g)&&g--,1==(1&v)&&v--),i={x:g,y:v,width:y-g+1,height:b-v+1};const _=a[o];_.rect=i,_.blend=1,_.img=new Uint8Array(i.width*i.height*4),0==a[o-1].dispose?(e(c,n,r,_.img,i.width,i.height,-i.x,-i.y,0),p(h,n,r,_.img,i)):e(h,n,r,_.img,i.width,i.height,-i.x,-i.y,0)}function p(t,n,r,a,o){e(t,n,r,a,o.width,o.height,-o.x,-o.y,2)}function f(e,t,n,r,a,o,i){const s=[];let l,u=[0,1,2,3,4];-1!=o?u=[o]:(t*r>5e5||1==n)&&(u=[0]),i&&(l={level:0});const c=ng;for(var d=0;d<u.length;d++){for(let o=0;o<t;o++)h(a,e,o,r,n,u[d]);s.push(c.deflate(a,l))}let p,f=1e9;for(d=0;d<s.length;d++)s[d].length<f&&(p=d,f=s[d].length);return s[p]}function h(e,t,r,a,o,i){const s=r*a;let l=s+r;if(e[l]=i,l++,0==i)if(a<500)for(var u=0;u<a;u++)e[l+u]=t[s+u];else e.set(new Uint8Array(t.buffer,s,a),l);else if(1==i){for(u=0;u<o;u++)e[l+u]=t[s+u];for(u=o;u<a;u++)e[l+u]=t[s+u]-t[s+u-o]+256&255}else if(0==r){for(u=0;u<o;u++)e[l+u]=t[s+u];if(2==i)for(u=o;u<a;u++)e[l+u]=t[s+u];if(3==i)for(u=o;u<a;u++)e[l+u]=t[s+u]-(t[s+u-o]>>1)+256&255;if(4==i)for(u=o;u<a;u++)e[l+u]=t[s+u]-n(t[s+u-o],0,0)+256&255}else{if(2==i)for(u=0;u<a;u++)e[l+u]=t[s+u]+256-t[s+u-a]&255;if(3==i){for(u=0;u<o;u++)e[l+u]=t[s+u]+256-(t[s+u-a]>>1)&255;for(u=o;u<a;u++)e[l+u]=t[s+u]+256-(t[s+u-a]+t[s+u-o]>>1)&255}if(4==i){for(u=0;u<o;u++)e[l+u]=t[s+u]+256-n(0,t[s+u-a],0)&255;for(u=o;u<a;u++)e[l+u]=t[s+u]+256-n(t[s+u-o],t[s+u-a],t[s+u-o-a])&255}}}function m(e,t){const n=new Uint8Array(e),r=n.slice(0),a=new Uint32Array(r.buffer),o=g(r,t),i=o[0],s=o[1],l=n.length,u=new Uint8Array(l>>2);let c;if(n.length<2e7)for(var d=0;d<l;d+=4)c=v(i,p=n[d]*(1/255),f=n[d+1]*(1/255),h=n[d+2]*(1/255),m=n[d+3]*(1/255)),u[d>>2]=c.ind,a[d>>2]=c.est.rgba;else for(d=0;d<l;d+=4){var p=n[d]*(1/255),f=n[d+1]*(1/255),h=n[d+2]*(1/255),m=n[d+3]*(1/255);for(c=i;c.left;)c=y(c.est,p,f,h,m)<=0?c.left:c.right;u[d>>2]=c.ind,a[d>>2]=c.est.rgba}return{abuf:r.buffer,inds:u,plte:s}}function g(e,t,n){null==n&&(n=1e-4);const r=new Uint32Array(e.buffer),a={i0:0,i1:e.length,bst:null,est:null,tdst:0,left:null,right:null};a.bst=w(e,a.i0,a.i1),a.est=k(a.bst);const o=[a];for(;o.length<t;){let t=0,a=0;for(var i=0;i<o.length;i++)o[i].est.L>t&&(t=o[i].est.L,a=i);if(t<n)break;const s=o[a],l=b(e,r,s.i0,s.i1,s.est.e,s.est.eMq255);if(s.i0>=l||s.i1<=l){s.est.L=0;continue}const u={i0:s.i0,i1:l,bst:null,est:null,tdst:0,left:null,right:null};u.bst=w(e,u.i0,u.i1),u.est=k(u.bst);const c={i0:l,i1:s.i1,bst:null,est:null,tdst:0,left:null,right:null};for(c.bst={R:[],m:[],N:s.bst.N-u.bst.N},i=0;i<16;i++)c.bst.R[i]=s.bst.R[i]-u.bst.R[i];for(i=0;i<4;i++)c.bst.m[i]=s.bst.m[i]-u.bst.m[i];c.est=k(c.bst),s.left=u,s.right=c,o[a]=u,o.push(c)}for(o.sort(((e,t)=>t.bst.N-e.bst.N)),i=0;i<o.length;i++)o[i].ind=i;return[a,o]}function v(e,t,n,r,a){if(null==e.left)return e.tdst=function(e,t,n,r,a){const o=t-e[0],i=n-e[1],s=r-e[2],l=a-e[3];return o*o+i*i+s*s+l*l}(e.est.q,t,n,r,a),e;const o=y(e.est,t,n,r,a);let i=e.left,s=e.right;o>0&&(i=e.right,s=e.left);const l=v(i,t,n,r,a);if(l.tdst<=o*o)return l;const u=v(s,t,n,r,a);return u.tdst<l.tdst?u:l}function y(e,t,n,r,a){const{e:o}=e;return o[0]*t+o[1]*n+o[2]*r+o[3]*a-e.eMq}function b(e,t,n,r,a,o){for(r-=4;n<r;){for(;_(e,n,a)<=o;)n+=4;for(;_(e,r,a)>o;)r-=4;if(n>=r)break;const i=t[n>>2];t[n>>2]=t[r>>2],t[r>>2]=i,n+=4,r-=4}for(;_(e,n,a)>o;)n-=4;return n+4}function _(e,t,n){return e[t]*n[0]+e[t+1]*n[1]+e[t+2]*n[2]+e[t+3]*n[3]}function w(e,t,n){const r=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],a=[0,0,0,0],o=n-t>>2;for(let i=t;i<n;i+=4){const t=e[i]*(1/255),n=e[i+1]*(1/255),o=e[i+2]*(1/255),s=e[i+3]*(1/255);a[0]+=t,a[1]+=n,a[2]+=o,a[3]+=s,r[0]+=t*t,r[1]+=t*n,r[2]+=t*o,r[3]+=t*s,r[5]+=n*n,r[6]+=n*o,r[7]+=n*s,r[10]+=o*o,r[11]+=o*s,r[15]+=s*s}return r[4]=r[1],r[8]=r[2],r[9]=r[6],r[12]=r[3],r[13]=r[7],r[14]=r[11],{R:r,m:a,N:o}}function k(e){const{R:t}=e,{m:n}=e,{N:r}=e,a=n[0],o=n[1],i=n[2],s=n[3],l=0==r?0:1/r,u=[t[0]-a*a*l,t[1]-a*o*l,t[2]-a*i*l,t[3]-a*s*l,t[4]-o*a*l,t[5]-o*o*l,t[6]-o*i*l,t[7]-o*s*l,t[8]-i*a*l,t[9]-i*o*l,t[10]-i*i*l,t[11]-i*s*l,t[12]-s*a*l,t[13]-s*o*l,t[14]-s*i*l,t[15]-s*s*l],c=u,d=x;let p=[Math.random(),Math.random(),Math.random(),Math.random()],f=0,h=0;if(0!=r)for(let g=0;g<16&&(p=d.multVec(c,p),h=Math.sqrt(d.dot(p,p)),p=d.sml(1/h,p),!(0!=g&&Math.abs(h-f)<1e-9));g++)f=h;const m=[a*l,o*l,i*l,s*l];return{Cov:u,q:m,e:p,L:f,eMq255:d.dot(d.sml(255,m),p),eMq:d.dot(p,m),rgba:(Math.round(255*m[3])<<24|Math.round(255*m[2])<<16|Math.round(255*m[1])<<8|Math.round(255*m[0]))>>>0}}var x={multVec:(e,t)=>[e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+e[3]*t[3],e[4]*t[0]+e[5]*t[1]+e[6]*t[2]+e[7]*t[3],e[8]*t[0]+e[9]*t[1]+e[10]*t[2]+e[11]*t[3],e[12]*t[0]+e[13]*t[1]+e[14]*t[2]+e[15]*t[3]],dot:(e,t)=>e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+e[3]*t[3],sml:(e,t)=>[e*t[0],e*t[1],e*t[2],e*t[3]]};rg.encode=function(e,t,n,r,a,o,i){null==r&&(r=0),null==i&&(i=!1);const s=c(e,t,n,r,[!1,!1,!1,0,i,!1]);return u(s,-1),l(s,t,n,a,o)},rg.encodeLL=function(e,t,n,r,a,o,i,s){const c={ctype:0+(1==r?0:2)+(0==a?0:4),depth:o,frames:[]},d=(r+a)*o,p=d*t;for(let l=0;l<e.length;l++)c.frames.push({rect:{x:0,y:0,width:t,height:n},img:new Uint8Array(e[l]),blend:0,dispose:1,bpp:Math.ceil(d/8),bpl:Math.ceil(p/8)});return u(c,0,!0),l(c,t,n,i,s)},rg.encode.compress=c,rg.encode.dither=s,rg.quantize=m,rg.quantize.getKDtree=g,rg.quantize.getNearest=v}();const ag={toArrayBuffer(e,t){const n=e.width,r=e.height,a=n<<2,o=e.getContext("2d").getImageData(0,0,n,r),i=new Uint32Array(o.data.buffer),s=(32*n+31)/32<<2,l=s*r,u=122+l,c=new ArrayBuffer(u),d=new DataView(c),p=1<<20;let f,h,m,g,v=p,y=0,b=0,_=0;function w(e){d.setUint16(b,e,!0),b+=2}function k(e){d.setUint32(b,e,!0),b+=4}function x(e){b+=e}w(19778),k(u),x(4),k(122),k(108),k(n),k(-r>>>0),w(1),w(32),k(3),k(l),k(2835),k(2835),x(8),k(16711680),k(65280),k(255),k(4278190080),k(1466527264),function e(){for(;y<r&&v>0;){for(g=122+y*s,f=0;f<a;)v--,h=i[_++],m=h>>>24,d.setUint32(g+f,h<<8|m),f+=4;y++}_<i.length?(v=p,setTimeout(e,ag._dly)):t(c)}()},toBlob(e,t){this.toArrayBuffer(e,(e=>{t(new Blob([e],{type:"image/bmp"}))}))},_dly:9};var og={CHROME:"CHROME",FIREFOX:"FIREFOX",DESKTOP_SAFARI:"DESKTOP_SAFARI",IE:"IE",IOS:"IOS",ETC:"ETC"},ig={[og.CHROME]:16384,[og.FIREFOX]:11180,[og.DESKTOP_SAFARI]:16384,[og.IE]:8192,[og.IOS]:4096,[og.ETC]:8192};const sg="undefined"!=typeof window,lg="undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope,ug=sg&&window.cordova&&window.cordova.require&&window.cordova.require("cordova/modulemapper"),cg=(sg||lg)&&(ug&&ug.getOriginalSymbol(window,"File")||"undefined"!=typeof File&&File),dg=(sg||lg)&&(ug&&ug.getOriginalSymbol(window,"FileReader")||"undefined"!=typeof FileReader&&FileReader);function pg(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Date.now();return new Promise((r=>{const a=e.split(","),o=a[0].match(/:(.*?);/)[1],i=globalThis.atob(a[1]);let s=i.length;const l=new Uint8Array(s);for(;s--;)l[s]=i.charCodeAt(s);const u=new Blob([l],{type:o});u.name=t,u.lastModified=n,r(u)}))}function fg(e){return new Promise(((t,n)=>{const r=new dg;r.onload=()=>t(r.result),r.onerror=e=>n(e),r.readAsDataURL(e)}))}function hg(e){return new Promise(((t,n)=>{const r=new Image;r.onload=()=>t(r),r.onerror=e=>n(e),r.src=e}))}function mg(){if(void 0!==mg.cachedResult)return mg.cachedResult;let e=og.ETC;const{userAgent:t}=navigator;return/Chrom(e|ium)/i.test(t)?e=og.CHROME:/iP(ad|od|hone)/i.test(t)&&/WebKit/i.test(t)?e=og.IOS:/Safari/i.test(t)?e=og.DESKTOP_SAFARI:/Firefox/i.test(t)?e=og.FIREFOX:(/MSIE/i.test(t)||1==!!document.documentMode)&&(e=og.IE),mg.cachedResult=e,mg.cachedResult}function gg(e,t){const n=mg(),r=ig[n];let a=e,o=t,i=a*o;const s=a>o?o/a:a/o;for(;i>r*r;){const e=(r+a)/2,t=(r+o)/2;e<t?(o=t,a=t*s):(o=e*s,a=e),i=a*o}return{width:a,height:o}}function vg(e,t){let n,r;try{if(n=new OffscreenCanvas(e,t),r=n.getContext("2d"),null===r)throw new Error("getContext of OffscreenCanvas returns null")}catch(e){n=document.createElement("canvas"),r=n.getContext("2d")}return n.width=e,n.height=t,[n,r]}function yg(e,t){const{width:n,height:r}=gg(e.width,e.height),[a,o]=vg(n,r);return t&&/jpe?g/.test(t)&&(o.fillStyle="white",o.fillRect(0,0,a.width,a.height)),o.drawImage(e,0,0,a.width,a.height),a}function bg(){return void 0!==bg.cachedResult||(bg.cachedResult=["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"undefined"!=typeof document&&"ontouchend"in document),bg.cachedResult}function _g(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise((function(n,r){let a,o;var i=function(){try{return o=yg(a,t.fileType||e.type),n([a,o])}catch(e){return r(e)}},s=function(t){try{var n=function(e){try{throw e}catch(e){return r(e)}};try{let t;return fg(e).then((function(e){try{return t=e,hg(t).then((function(e){try{return a=e,function(){try{return i()}catch(e){return r(e)}}()}catch(e){return n(e)}}),n)}catch(e){return n(e)}}),n)}catch(e){n(e)}}catch(e){return r(e)}};try{if(bg()||[og.DESKTOP_SAFARI,og.MOBILE_SAFARI].includes(mg()))throw new Error("Skip createImageBitmap on IOS and Safari");return createImageBitmap(e).then((function(e){try{return a=e,i()}catch(e){return s()}}),s)}catch(e){s()}}))}function wg(e,t,n,r){let a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1;return new Promise((function(o,i){let s;if("image/png"===t){let u,c,d;return u=e.getContext("2d"),({data:c}=u.getImageData(0,0,e.width,e.height)),d=rg.encode([c.buffer],e.width,e.height,4096*a),s=new Blob([d],{type:t}),s.name=n,s.lastModified=r,l.call(this)}{if("image/bmp"===t)return new Promise((t=>ag.toBlob(e,t))).then(function(e){try{return s=e,s.name=n,s.lastModified=r,p.call(this)}catch(e){return i(e)}}.bind(this),i);{if("function"==typeof OffscreenCanvas&&e instanceof OffscreenCanvas)return e.convertToBlob({type:t,quality:a}).then(function(e){try{return s=e,s.name=n,s.lastModified=r,f.call(this)}catch(e){return i(e)}}.bind(this),i);{let h;return h=e.toDataURL(t,a),pg(h,n,r).then(function(e){try{return s=e,f.call(this)}catch(e){return i(e)}}.bind(this),i)}function f(){return p.call(this)}}function p(){return l.call(this)}}function l(){return o(s)}}))}function kg(e){e.width=0,e.height=0}function xg(){return new Promise((function(e,t){let n,r,a,o,i;return void 0!==xg.cachedResult?e(xg.cachedResult):(n="data:image/jpeg;base64,/9j/4QAiRXhpZgAATU0AKgAAAAgAAQESAAMAAAABAAYAAAAAAAD/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/AABEIAAEAAgMBEQACEQEDEQH/xABKAAEAAAAAAAAAAAAAAAAAAAALEAEAAAAAAAAAAAAAAAAAAAAAAQEAAAAAAAAAAAAAAAAAAAAAEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwA/8H//2Q==",pg("data:image/jpeg;base64,/9j/4QAiRXhpZgAATU0AKgAAAAgAAQESAAMAAAABAAYAAAAAAAD/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/AABEIAAEAAgMBEQACEQEDEQH/xABKAAEAAAAAAAAAAAAAAAAAAAALEAEAAAAAAAAAAAAAAAAAAAAAAQEAAAAAAAAAAAAAAAAAAAAAEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwA/8H//2Q==","test.jpg",Date.now()).then((function(n){try{return r=n,_g(r).then((function(n){try{return a=n[1],wg(a,r.type,r.name,r.lastModified).then((function(n){try{return o=n,kg(a),_g(o).then((function(n){try{return i=n[0],xg.cachedResult=1===i.width&&2===i.height,e(xg.cachedResult)}catch(e){return t(e)}}),t)}catch(e){return t(e)}}),t)}catch(e){return t(e)}}),t)}catch(e){return t(e)}}),t))}))}function Sg(e){return new Promise(((t,n)=>{const r=new dg;r.onload=e=>{const n=new DataView(e.target.result);if(65496!=n.getUint16(0,!1))return t(-2);const r=n.byteLength;let a=2;for(;a<r;){if(n.getUint16(a+2,!1)<=8)return t(-1);const e=n.getUint16(a,!1);if(a+=2,65505==e){if(1165519206!=n.getUint32(a+=2,!1))return t(-1);const e=18761==n.getUint16(a+=6,!1);a+=n.getUint32(a+4,e);const r=n.getUint16(a,e);a+=2;for(let o=0;o<r;o++)if(274==n.getUint16(a+12*o,e))return t(n.getUint16(a+12*o+8,e))}else{if(65280!=(65280&e))break;a+=n.getUint16(a,!1)}}return t(-1)},r.onerror=e=>n(e),r.readAsArrayBuffer(e)}))}function Eg(e,t){const{width:n}=e,{height:r}=e,{maxWidthOrHeight:a}=t;let o,i=e;return isFinite(a)&&(n>a||r>a)&&([i,o]=vg(n,r),n>r?(i.width=a,i.height=r/n*a):(i.width=n/r*a,i.height=a),o.drawImage(e,0,0,i.width,i.height),kg(e)),i}function Cg(e,t){const{width:n}=e,{height:r}=e,[a,o]=vg(n,r);switch(t>4&&t<9?(a.width=r,a.height=n):(a.width=n,a.height=r),t){case 2:o.transform(-1,0,0,1,n,0);break;case 3:o.transform(-1,0,0,-1,n,r);break;case 4:o.transform(1,0,0,-1,0,r);break;case 5:o.transform(0,1,1,0,0,0);break;case 6:o.transform(0,1,-1,0,r,0);break;case 7:o.transform(0,-1,-1,0,r,n);break;case 8:o.transform(0,-1,1,0,0,n)}return o.drawImage(e,0,0,n,r),kg(e),a}function Ag(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return new Promise((function(r,a){let o,i,s,l,u,c,d,p,f,h,m,g,v,y,b,_,w,k,x,S;function E(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5;if(t.signal&&t.signal.aborted)throw t.signal.reason;o+=e,t.onProgress(Math.min(o,100))}function C(e){if(t.signal&&t.signal.aborted)throw t.signal.reason;o=Math.min(Math.max(e,o),100),t.onProgress(o)}return o=n,i=t.maxIteration||10,s=1024*t.maxSizeMB*1024,E(),_g(e,t).then(function(n){try{return[,l]=n,E(),u=Eg(l,t),E(),new Promise((function(n,r){var a;if(!(a=t.exifOrientation))return Sg(e).then(function(e){try{return a=e,o.call(this)}catch(e){return r(e)}}.bind(this),r);function o(){return n(a)}return o.call(this)})).then(function(n){try{return c=n,E(),xg().then(function(n){try{return d=n?u:Cg(u,c),E(),p=t.initialQuality||1,f=t.fileType||e.type,wg(d,f,e.name,e.lastModified,p).then(function(n){try{{if(h=n,E(),m=h.size>s,g=h.size>e.size,!m&&!g)return C(100),r(h);var o;function A(){if(i--&&(b>s||b>v)){let t,n;return t=S?.95*x.width:x.width,n=S?.95*x.height:x.height,[w,k]=vg(t,n),k.drawImage(x,0,0,t,n),p*="image/png"===f?.85:.95,wg(w,f,e.name,e.lastModified,p).then((function(e){try{return _=e,kg(x),x=w,b=_.size,C(Math.min(99,Math.floor((y-b)/(y-s)*100))),A}catch(e){return a(e)}}),a)}return[1]}return v=e.size,y=h.size,b=y,x=d,S=!t.alwaysKeepResolution&&m,(o=function(e){for(;e;){if(e.then)return void e.then(o,a);try{if(e.pop){if(e.length)return e.pop()?I.call(this):e;e=A}else e=e.call(this)}catch(e){return a(e)}}}.bind(this))(A);function I(){return kg(x),kg(w),kg(u),kg(d),kg(l),C(100),r(_)}}}catch(c){return a(c)}}.bind(this),a)}catch(e){return a(e)}}.bind(this),a)}catch(e){return a(e)}}.bind(this),a)}catch(e){return a(e)}}.bind(this),a)}))}const Ig="\nlet scriptImported = false\nself.addEventListener('message', async (e) => {\n  const { file, id, imageCompressionLibUrl, options } = e.data\n  options.onProgress = (progress) => self.postMessage({ progress, id })\n  try {\n    if (!scriptImported) {\n      // console.log('[worker] importScripts', imageCompressionLibUrl)\n      self.importScripts(imageCompressionLibUrl)\n      scriptImported = true\n    }\n    // console.log('[worker] self', self)\n    const compressedFile = await imageCompression(file, options)\n    self.postMessage({ file: compressedFile, id })\n  } catch (e) {\n    // console.error('[worker] error', e)\n    self.postMessage({ error: e.message + '\\n' + e.stack, id })\n  }\n})\n";let Tg;function Ng(e,t){return new Promise(((n,r)=>{Tg||(Tg=function(e){const t=[];return"function"==typeof e?t.push("(".concat(e,")()")):t.push(e),URL.createObjectURL(new Blob(t))}(Ig));const a=new Worker(Tg);a.addEventListener("message",(function(e){if(t.signal&&t.signal.aborted)a.terminate();else if(void 0===e.data.progress){if(e.data.error)return r(new Error(e.data.error)),void a.terminate();n(e.data.file),a.terminate()}else t.onProgress(e.data.progress)})),a.addEventListener("error",r),t.signal&&t.signal.addEventListener("abort",(()=>{r(t.signal.reason),a.terminate()})),a.postMessage({file:e,imageCompressionLibUrl:t.libURL,options:d(d({},t),{},{onProgress:void 0,signal:void 0})})}))}function Og(e,t){return new Promise((function(n,r){let a,o,i,s,l,u;if(a=d({},t),i=0,({onProgress:s}=a),a.maxSizeMB=a.maxSizeMB||Number.POSITIVE_INFINITY,l="boolean"!=typeof a.useWebWorker||a.useWebWorker,delete a.useWebWorker,a.onProgress=e=>{i=e,"function"==typeof s&&s(i)},!(e instanceof Blob||e instanceof cg))return r(new Error("The file given is not an instance of Blob or File"));if(!/^image/.test(e.type))return r(new Error("The file given is not an image"));if(u="undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope,!l||"function"!=typeof Worker||u)return Ag(e,a).then(function(e){try{return o=e,f.call(this)}catch(e){return r(e)}}.bind(this),r);var c=function(){try{return f.call(this)}catch(e){return r(e)}}.bind(this),p=function(t){try{return Ag(e,a).then((function(e){try{return o=e,c()}catch(e){return r(e)}}),r)}catch(e){return r(e)}};try{return a.libURL=a.libURL||"https://cdn.jsdelivr.net/npm/browser-image-compression@2.0.2/dist/browser-image-compression.js",Ng(e,a).then((function(e){try{return o=e,c()}catch(e){return p()}}),p)}catch(e){p()}function f(){try{o.name=e.name,o.lastModified=e.lastModified}catch(e){}try{a.preserveExif&&"image/jpeg"===e.type&&(!a.fileType||a.fileType&&a.fileType===e.type)&&(o=Ym(e,o))}catch(e){}return n(o)}}))}async function Pg(e,t){if("image/heic"===e.type||"image/heif"===e.type||e.name.toLowerCase().endsWith(".heic")||e.name.toLowerCase().endsWith(".heif"))throw new Error("HEIC/HEIF format is not supported. Please convert to JPEG or PNG first.");console.log("Original image:",e.size,"bytes, type:",e.type);const n=await async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1048576;const n={maxSizeMB:t/1048576,maxWidthOrHeight:2048,useWebWorker:!1,fileType:"image/jpeg"};try{const t=await Og(e,n);return console.log("Compressed image: ".concat(e.size," bytes -> ").concat(t.size," bytes")),t}catch(r){throw console.error("Image compression failed:",r),new Error("Failed to compress image")}}(e);console.log("Compressed image:",n.size,"bytes, type:",n.type);const r=await async function(e){return new Promise(((t,n)=>{const r=new FileReader;r.onload=()=>{const e=r.result;if("undefined"!==typeof process&&process.versions&&process.versions.node){if(e instanceof ArrayBuffer)t(new Uint8Array(e));else if("string"===typeof e){const r=e.match(/^data:image\/\w+;base64,(.+)$/);if(r){const e=r[1],n=atob(e),a=new Uint8Array(n.length);for(let t=0;t<n.length;t++)a[t]=n.charCodeAt(t);t(a)}else n(new Error("Invalid data URL format"))}}else t(e)},r.onerror=n,"undefined"!==typeof process&&process.versions&&process.versions.node?r.readAsArrayBuffer(e):r.readAsDataURL(e)}))}(n),a=Gm({baseURL:"https://openrouter.ai/api/v1",apiKey:t,headers:{"HTTP-Referer":"undefined"!==typeof window?window.location.origin:"http://localhost","X-Title":"Dinner Debt"}});console.log("Calling OpenRouter API...");const o=(await yh({model:a.chat("openai/gpt-4o-mini"),messages:[{role:"user",content:[{type:"image",image:r},{type:"text",text:'Extract all items from this receipt and return valid JSON.\n\nReturn your response as valid JSON with this structure:\n{\n  "items": [{"name": "string", "cost": number}, ...],\n  "subtotal": number,\n  "total": number,\n  "tipIncludedInTotal": boolean,\n  "tip": number (optional, only if explicitly shown and NOT included in total)\n}\n\nImportant edge cases:\n- If tip is hand-written, set tipIncludedInTotal to false and set tip to the amount of the tip.\n- Ignore hand-written total if present. For subtotal and total, use the printed values.\n- Otherwise, if gratuity/tip is included in the printed total and there is no hand-written tip: set tipIncludedInTotal to true and tip to 0.\n- If an item shows "x2" or quantity multiplier: create separate duplicate items'}]}]})).text;if(console.log("AI Response:",o),o.trim().startsWith("<"))throw console.error("Received HTML response instead of JSON:",o.substring(0,200)),new Error("OpenRouter returned an error. Check your API key and credits.");const i=o.match(/\{[\s\S]*\}/);if(!i)throw console.error("No JSON found in response:",o),new Error("Could not parse response from AI. Response was: ".concat(o.substring(0,100),"..."));try{return JSON.parse(i[0])}catch(s){throw console.error("JSON parse error:",s),console.error("Attempted to parse:",i[0]),new Error("Failed to parse JSON from AI response")}}function zg(e){let{getFormState:n}=e;const[r,a]=(0,t.useState)(!1),[o,i]=(0,t.useState)(!1),[s,l]=(0,t.useState)(!1),u=()=>{const e=function(e){try{const t=JSON.stringify(e);return btoa(t)}catch(t){return console.error("Failed to encode form state:",t),""}}(n());return"".concat(window.location.origin).concat(window.location.pathname,"?data=").concat(e)},c=async()=>{const e=u();try{await navigator.clipboard.writeText(e),i(!0),setTimeout((()=>i(!1)),2e3)}catch(t){console.error("Failed to copy link:",t)}};return{showQRCode:r,setShowQRCode:a,linkCopied:o,qrCodeError:s,setQrCodeError:l,getShareUrl:u,handleCopyLink:c,handleShareLink:async()=>{const e=u();try{navigator.share?await navigator.share({title:"Dinner Debt",text:"Split the bill with me",url:e}):await c()}catch(t){console.error("Failed to share:",t)}}}}Og.getDataUrlFromFile=fg,Og.getFilefromDataUrl=pg,Og.loadImage=hg,Og.drawImageInCanvas=yg,Og.drawFileInCanvas=_g,Og.canvasToFile=wg,Og.getExifOrientation=Sg,Og.handleMaxWidthOrHeight=Eg,Og.followExifOrientation=Cg,Og.cleanupCanvasMemory=kg,Og.isAutoOrientationInBrowser=xg,Og.approximateBelowMaximumCanvasSizeOfBrowser=gg,Og.copyExifWithoutOrientation=Ym,Og.getBrowserName=mg,Og.version="2.0.2";var Rg=__webpack_require__(579);function jg(e){let{show:n,onClose:r,onSave:a}=e;const[o,i]=t.useState("");if(!n)return null;const s=()=>{o.trim()&&(a(o.trim()),i(""))},l=()=>{r(),i("")};return(0,Rg.jsx)("div",{className:"modal-overlay",onClick:l,children:(0,Rg.jsxs)("div",{className:"modal-content",onClick:e=>e.stopPropagation(),children:[(0,Rg.jsx)("h2",{className:"modal-title",children:"OpenRouter API Key Required"}),(0,Rg.jsx)("p",{className:"modal-description",children:"To use receipt upload, you need an OpenRouter API key. This will incur costs to your OpenRouter account (less than $0.01 per receipt)."}),(0,Rg.jsxs)("div",{className:"modal-warning",children:["\u26a0\ufe0f ",(0,Rg.jsx)("strong",{children:"Security Warning:"})," Your API key will be stored as plaintext in your browser's localStorage. This is NOT secure storage. Only paste your key if you understand the risk."]}),(0,Rg.jsx)("input",{type:"password",className:"form-control api-key-input",placeholder:"sk-or-v1-...",value:o,onChange:e=>i(e.target.value),onKeyDown:e=>"Enter"===e.key&&s()}),(0,Rg.jsxs)("div",{className:"modal-actions",children:[(0,Rg.jsx)("button",{className:"btn btn-outline",onClick:l,children:"Cancel"}),(0,Rg.jsx)("button",{className:"btn btn-primary",onClick:s,disabled:!o.trim(),children:"Save Key"})]})]})})}function Mg(e){let{show:n,onClose:r,betaFeaturesEnabled:a,onToggleBetaFeatures:o,apiKey:i,onSaveApiKey:s,onDeleteApiKey:l}=e;const[u,c]=t.useState(!1),[d,p]=t.useState("");if(!n)return null;const f=()=>{r(),c(!1),p("")},h=()=>{d.trim()&&(s(d.trim()),p(""),c(!1))};return(0,Rg.jsx)("div",{className:"modal-overlay",onClick:f,children:(0,Rg.jsxs)("div",{className:"modal-content settings-modal",onClick:e=>e.stopPropagation(),children:[(0,Rg.jsx)("h2",{className:"modal-title",children:"Settings"}),(0,Rg.jsxs)("div",{className:"settings-section",children:[(0,Rg.jsx)("div",{className:"settings-section-header",children:(0,Rg.jsx)("h3",{className:"settings-section-title",children:"Beta Features"})}),(0,Rg.jsx)("p",{className:"settings-description",children:"Access experimental features like receipt upload"}),(0,Rg.jsxs)("label",{className:"toggle-label",children:[(0,Rg.jsx)("input",{type:"checkbox",className:"toggle-checkbox",checked:a,onChange:e=>o(e.target.checked)}),(0,Rg.jsx)("span",{className:"toggle-switch"}),(0,Rg.jsx)("span",{className:"toggle-text",children:"Enable Beta Features"})]})]}),a&&(0,Rg.jsxs)("div",{className:"settings-section",children:[(0,Rg.jsx)("div",{className:"settings-section-header",children:(0,Rg.jsx)("h3",{className:"settings-section-title",children:"API Key"})}),(0,Rg.jsx)("p",{className:"settings-description",children:"OpenRouter API key for receipt processing. This will incur costs to your OpenRouter account (less than $0.01 per receipt)."}),(0,Rg.jsxs)("div",{className:"modal-warning",children:["\u26a0\ufe0f ",(0,Rg.jsx)("strong",{children:"Security Warning:"})," Your API key is stored as plaintext in your browser's localStorage. This is NOT secure storage."]}),u||!i?(0,Rg.jsxs)(Rg.Fragment,{children:[(0,Rg.jsx)("input",{type:"password",className:"form-control api-key-input",placeholder:"sk-or-v1-...",value:d,onChange:e=>p(e.target.value),onKeyDown:e=>"Enter"===e.key&&h()}),(0,Rg.jsxs)("div",{className:"settings-actions",children:[i&&(0,Rg.jsx)("button",{className:"btn btn-outline",onClick:()=>{c(!1),p("")},children:"Cancel"}),(0,Rg.jsx)("button",{className:"btn btn-primary",onClick:h,disabled:!d.trim(),children:i?"Update Key":"Save Key"})]})]}):(0,Rg.jsxs)(Rg.Fragment,{children:[(0,Rg.jsx)("div",{className:"api-key-display",children:(0,Rg.jsx)("code",{children:(m=i,m.length<=10?m:m.slice(0,8)+"..."+m.slice(-6))})}),(0,Rg.jsxs)("div",{className:"settings-actions",children:[(0,Rg.jsx)("button",{className:"btn btn-outline",onClick:()=>c(!0),children:"Update Key"}),(0,Rg.jsx)("button",{className:"btn btn-danger",onClick:l,children:"Delete Key"})]})]})]}),(0,Rg.jsx)("div",{className:"modal-actions",children:(0,Rg.jsx)("button",{className:"btn btn-primary",onClick:f,children:"Close"})})]})});var m}function Fg(e){const{totalPortions:t,portionsPaying:n,maxSplit:r=8,onTotalPortionsChange:a,onPortionsPayingChange:o}=e;return(0,Rg.jsxs)(Rg.Fragment,{children:[(0,Rg.jsxs)("div",{className:"control-group",children:[(0,Rg.jsx)("label",{className:"control-label",children:"Split?"}),t<0||0===t?(0,Rg.jsx)("input",{className:"form-control form-control-sm",type:"number",inputMode:"numeric",value:0===t?"":Math.abs(t),onChange:e=>{const t=e.target.value,r=""===t?0:Number(t),i=Math.max(1,r),s=Math.min(n,i);a(0===r?0:-Math.abs(r)),o(s)}}):(0,Rg.jsxs)("select",{className:"form-control portion-select",value:t,onChange:e=>{const t=e.target.value;if("more"===t){const e=r+1,t=Math.min(n,e);a(-e),o(t)}else{const e=Number(t),r=Math.min(n,e);a(e),o(r)}},children:[(0,Rg.jsx)("option",{value:1,children:"Just me"}),Array.from({length:r-1},((e,t)=>t+2)).map((e=>(0,Rg.jsxs)("option",{value:e,children:[e," people"]},e))),(0,Rg.jsx)("option",{value:"more",children:"...more"})]})]}),(0,Rg.jsxs)("div",{className:"control-group",children:[(0,Rg.jsx)("label",{className:"control-label",children:"Paying for"}),(0,Rg.jsx)("select",{className:"form-control portion-select",value:n,onChange:e=>o(Number(e.target.value)),children:Array.from({length:Math.max(1,Math.abs(t))},((e,t)=>t+1)).map((e=>(0,Rg.jsx)("option",{value:e,children:1===e?"Just me":"".concat(e," people")},e)))})]})]})}function Lg(e){let{isExpanded:t,className:n=""}=e;return(0,Rg.jsx)("svg",{width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:n,style:{transition:"transform 0.2s",transform:t?"rotate(90deg)":"rotate(0deg)"},children:(0,Rg.jsx)("path",{d:"M4 2L8 6L4 10",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})}function Dg(e){const{items:n,subtotal:r,total:i,tip:s,tipIsRate:l,tipIncludedInTotal:u,isPayingMe:c}=e,[p,f]=(0,t.useState)(1),[h,m]=(0,t.useState)(new Set),[g,v]=(0,t.useState)(new Map),[y,b]=(0,t.useState)(c),[_,w]=(0,t.useState)(null),k=(0,t.useMemo)((()=>n.filter((e=>e.id&&h.has(e.id))).map((e=>{var t,n,r,a;const o=g.get(e.id);return d(d({},e),{},{portionsPaying:null!==(t=null!==(n=null===o||void 0===o?void 0:o.portionsPaying)&&void 0!==n?n:e.portionsPaying)&&void 0!==t?t:1,totalPortions:null!==(r=null!==(a=null===o||void 0===o?void 0:o.totalPortions)&&void 0!==a?a:e.totalPortions)&&void 0!==r?r:1})}))),[n,h,g]),x=(0,t.useMemo)((()=>a({items:k,subtotal:r,total:i,tip:s,tipIsRate:l,tipIncludedInTotal:u})),[k,r,i,s,l,u]),S=(0,t.useMemo)((()=>{let e=0;for(const r of k){var t,n,a;const o=Math.max(1,Math.abs(null!==(t=r.totalPortions)&&void 0!==t?t:1)),i=(null!==(n=r.portionsPaying)&&void 0!==n?n:1)/o;e+=(null!==(a=r.cost)&&void 0!==a?a:0)*i}const o=null!==r&&void 0!==r?r:e,c=null!==i&&void 0!==i?i:o,d=o?e/o:0,p=(c-o)*d;let f=0;return u||(f=l?c*s/100*d:s*d),{mySubtotal:e,myTax:p,myTip:f,myTotal:e+p+f}}),[k,r,i,s,l,u]),E=Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(x),C=E.substring(1),A=encodeURIComponent("dinner-debt"),I=e=>{f(e)},T=h.size>0;return(0,Rg.jsxs)("div",{className:"wizard-container",children:[(0,Rg.jsxs)("div",{className:"wizard-progress",children:["Step ",p," of 3"]}),1===p&&(0,Rg.jsxs)("div",{className:"wizard-step",children:[(0,Rg.jsx)("h2",{className:"wizard-step-title",children:"What did you eat?"}),(0,Rg.jsx)("p",{className:"wizard-step-description",children:"Check the items you ate or shared"}),(0,Rg.jsx)("div",{className:"item-checkbox-list",children:n.map((e=>{var t;if(!e.id)return null;const n=h.has(e.id),r=null!==(t=e.cost)&&void 0!==t?t:0,a=Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(r);return(0,Rg.jsxs)("label",{className:"item-checkbox-item",children:[(0,Rg.jsx)("input",{type:"checkbox",checked:n,onChange:()=>{return t=e.id,void m((e=>{const n=new Set(e);return n.has(t)?(n.delete(t),v((e=>{const n=new Map(e);return n.delete(t),n}))):n.add(t),n}));var t},className:"item-checkbox-input"}),(0,Rg.jsxs)("span",{className:"item-checkbox-label",children:[e.name&&(0,Rg.jsx)("span",{className:"item-checkbox-name",children:e.name}),(0,Rg.jsx)("span",{className:"item-checkbox-cost",children:a})]})]},e.id)}))}),(0,Rg.jsx)("div",{className:"running-total",children:(0,Rg.jsxs)("span",{children:["Items selected: ",h.size]})}),(0,Rg.jsx)("div",{className:"wizard-nav",children:(0,Rg.jsx)("button",{className:"btn btn-primary btn-wizard-next",onClick:()=>I(2),disabled:!T,children:"Next"})})]}),2===p&&(0,Rg.jsxs)("div",{className:"wizard-step",children:[(0,Rg.jsx)("h2",{className:"wizard-step-title",children:"Any shared items?"}),(0,Rg.jsx)("p",{className:"wizard-step-description",children:"Specify how many people shared each item"}),(0,Rg.jsx)("div",{className:"split-config-list",children:k.map((e=>{var t,n,r,a;if(!e.id)return null;const o=null!==(t=g.get(e.id))&&void 0!==t?t:{portionsPaying:null!==(n=e.portionsPaying)&&void 0!==n?n:1,totalPortions:null!==(r=e.totalPortions)&&void 0!==r?r:1},i=Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(null!==(a=e.cost)&&void 0!==a?a:0),s=_===e.id,l=Math.abs(o.totalPortions),u=l>1?"Split ".concat(l," ways, paying for ").concat(o.portionsPaying):"Just me";return(0,Rg.jsxs)("div",{className:"split-config-card ".concat(s?"expanded":""),children:[(0,Rg.jsxs)("button",{className:"split-config-card-header",onClick:()=>w(s?null:e.id||null),children:[(0,Rg.jsxs)("div",{className:"split-config-card-info",children:[e.name&&(0,Rg.jsx)("div",{className:"split-config-card-name",children:e.name}),(0,Rg.jsxs)("div",{className:"split-config-card-status",children:[(0,Rg.jsx)(Lg,{isExpanded:s,className:"split-config-card-toggle"}),u]})]}),(0,Rg.jsx)("div",{className:"split-config-card-cost",children:i})]}),s&&(0,Rg.jsx)("div",{className:"split-config-card-body",children:(0,Rg.jsx)("div",{className:"item-controls",children:(0,Rg.jsx)(Fg,{totalPortions:o.totalPortions,portionsPaying:o.portionsPaying,maxSplit:Math.max(8,...k.map((e=>{var t;return Math.abs(null!==(t=e.totalPortions)&&void 0!==t?t:1)}))),onTotalPortionsChange:t=>{v((n=>{var r,a,o;const i=null!==(r=n.get(e.id))&&void 0!==r?r:{portionsPaying:null!==(a=e.portionsPaying)&&void 0!==a?a:1,totalPortions:null!==(o=e.totalPortions)&&void 0!==o?o:1},s=Math.min(i.portionsPaying,Math.abs(t)),l=new Map(n);return l.set(e.id,{portionsPaying:s,totalPortions:t}),l}))},onPortionsPayingChange:t=>{v((n=>{var r,a,o;const i=null!==(r=n.get(e.id))&&void 0!==r?r:{portionsPaying:null!==(a=e.portionsPaying)&&void 0!==a?a:1,totalPortions:null!==(o=e.totalPortions)&&void 0!==o?o:1},s=new Map(n);return s.set(e.id,{totalPortions:i.totalPortions,portionsPaying:t}),s}))}})})})]},e.id)}))}),(0,Rg.jsxs)("div",{className:"wizard-nav",children:[(0,Rg.jsx)("button",{className:"btn btn-outline btn-wizard-back",onClick:()=>I(1),children:"Back"}),(0,Rg.jsx)("button",{className:"btn btn-primary btn-wizard-next",onClick:()=>I(3),children:"Next"})]})]}),3===p&&(0,Rg.jsxs)("div",{className:"wizard-step",children:[(0,Rg.jsx)("h2",{className:"wizard-step-title",children:"Ready to pay?"}),(0,Rg.jsxs)("div",{className:"payment-summary",children:[(0,Rg.jsxs)("h3",{className:"payment-summary-title",children:["Your items",u?" *":"",":"]}),(0,Rg.jsxs)("div",{className:"payment-summary-items",children:[k.map((e=>{var t,n,r;if(!e.id)return null;const a=null!==(t=e.cost)&&void 0!==t?t:0,o=Math.max(1,Math.abs(null!==(n=e.totalPortions)&&void 0!==n?n:1)),i=a*((null!==(r=e.portionsPaying)&&void 0!==r?r:1)/o),s=Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(i);return(0,Rg.jsxs)("div",{className:"payment-summary-item",children:[(0,Rg.jsxs)("span",{className:"payment-summary-item-name",children:[e.name||"Item",e.totalPortions&&e.totalPortions>1&&(0,Rg.jsxs)("span",{className:"payment-summary-item-split",children:[" ","(",e.portionsPaying,"/",e.totalPortions,")"]})]}),(0,Rg.jsx)("span",{className:"payment-summary-item-cost",children:s})]},e.id)})),(S.myTax>0||S.myTip>0)&&(0,Rg.jsx)("div",{className:"payment-summary-divider"}),S.myTax>0&&(0,Rg.jsxs)("div",{className:"payment-summary-item",children:[(0,Rg.jsxs)("span",{className:"payment-summary-item-name",children:["Your share of tax & fees ",u?" *":""]}),(0,Rg.jsx)("span",{className:"payment-summary-item-cost",children:Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(S.myTax)})]}),S.myTip>0&&(0,Rg.jsxs)("div",{className:"payment-summary-item",children:[(0,Rg.jsx)("span",{className:"payment-summary-item-name",children:"Your share of tip"}),(0,Rg.jsx)("span",{className:"payment-summary-item-cost",children:Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(S.myTip)})]})]}),u&&(0,Rg.jsx)("div",{className:"tip-included-notice",children:"* Gratuity is already included in the fees"})]}),(0,Rg.jsxs)("div",{className:"payment-amount",children:[(0,Rg.jsx)("div",{className:"payment-amount-label",children:"You owe:"}),(0,Rg.jsx)("div",{className:"payment-amount-value",children:E})]}),(0,Rg.jsxs)("div",{className:"payment-recipient-selector",children:[(0,Rg.jsx)("p",{className:"payment-recipient-question",children:"Are you paying Mike Delmonaco?"}),(0,Rg.jsxs)("div",{className:"radio-group",children:[(0,Rg.jsxs)("label",{className:"radio-label",children:[(0,Rg.jsx)("input",{className:"radio-input",name:"paying-me",type:"radio",checked:y,onChange:()=>b(!0)}),"Yes"]}),(0,Rg.jsxs)("label",{className:"radio-label",children:[(0,Rg.jsx)("input",{className:"radio-input",name:"not-paying-me",type:"radio",checked:!y,onChange:()=>b(!1)}),"No"]})]})]}),(0,Rg.jsx)("div",{className:"wizard-actions",children:(0,Rg.jsxs)("a",{className:"action-button venmo-button venmo-button-large",href:y?o(C,A,"Mike-Delmonaco"):o(C,A),children:["Pay ",E," with Venmo"]})}),(0,Rg.jsx)("div",{className:"wizard-nav",children:(0,Rg.jsx)("button",{className:"btn btn-outline btn-wizard-back",onClick:()=>I(2),children:"Back"})})]})]})}class Ug extends t.Component{constructor(e){super(e),this.state={hasError:!1}}static getDerivedStateFromError(){return{hasError:!0}}componentDidCatch(e){console.error("QR Code generation failed:",e),this.props.onError()}render(){return this.state.hasError?null:this.props.children}}const Bg=function(){const{items:e,subtotal:n,setSubtotal:s,total:l,setTotal:u,tip:c,setTip:d,tipIsRate:f,setTipIsRate:h,tipIncludedInTotal:m,isPayingMe:g,setIsPayingMe:v,setItem:y,removeItem:b,addItem:_,populateFormFromReceipt:w,getFormState:k}=p(),{showSettingsModal:x,setShowSettingsModal:S,betaFeaturesEnabled:E,toggleBetaFeatures:C}=function(){const[e,n]=(0,t.useState)(!1),[r,a]=(0,t.useState)("true"===localStorage.getItem("beta_features_enabled"));return{showSettingsModal:e,setShowSettingsModal:n,betaFeaturesEnabled:r,toggleBetaFeatures:e=>{a(e),localStorage.setItem("beta_features_enabled",e.toString())}}}(),{getApiKey:A,saveApiKey:I,deleteApiKey:T}={getApiKey:()=>localStorage.getItem("openrouter_api_key"),saveApiKey:e=>{localStorage.setItem("openrouter_api_key",e)},deleteApiKey:()=>!!window.confirm("Are you sure you want to delete your API key?")&&(localStorage.removeItem("openrouter_api_key"),!0)},[N,O]=t.useState(!1),{isProcessingReceipt:P,receiptError:z,handleReceiptUploadClick:R,handleReceiptUpload:j}=function(e){let{onPopulateForm:n,onApiKeyMissing:r}=e;const[a,o]=(0,t.useState)(!1),[i,s]=(0,t.useState)();return{isProcessingReceipt:a,receiptError:i,handleReceiptUploadClick:()=>{if(!localStorage.getItem("openrouter_api_key"))return void r();const e=document.getElementById("receipt-upload");null===e||void 0===e||e.click()},handleReceiptUpload:async e=>{var t;const r=null===(t=e.target.files)||void 0===t?void 0:t[0];if(!r)return;const a=localStorage.getItem("openrouter_api_key");if(a){o(!0),s(void 0);try{console.log("Receipt selected:",r.name,r.type);const e=await Pg(r,a);n(e)}catch(i){console.error("Error processing receipt:",i),s(i instanceof Error?i.message:"Failed to process receipt")}finally{o(!1),e.target.value=""}}else e.target.value=""}}}({onPopulateForm:w,onApiKeyMissing:()=>O(!0)}),{showQRCode:M,setShowQRCode:F,linkCopied:L,qrCodeError:D,setQrCodeError:U,getShareUrl:B,handleCopyLink:Z,handleShareLink:q}=zg({getFormState:k}),V=E,$=t.useMemo((()=>new URLSearchParams(window.location.search).has("data")),[]),H=a({items:e,subtotal:n,total:l,tip:c,tipIsRate:f,tipIncludedInTotal:m}),W=Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(H),Q=W.substring(1),K=encodeURIComponent("dinner-debt");return(0,Rg.jsxs)("div",{className:"app-container",children:[(0,Rg.jsxs)("header",{className:"app-header",children:[(0,Rg.jsx)("button",{className:"settings-button",onClick:()=>S(!0),title:"Settings",children:(0,Rg.jsxs)("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,Rg.jsx)("path",{d:"M12 15C13.6569 15 15 13.6569 15 12C15 10.3431 13.6569 9 12 9C10.3431 9 9 10.3431 9 12C9 13.6569 10.3431 15 12 15Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,Rg.jsx)("path",{d:"M19.4 15C19.2669 15.3016 19.2272 15.6362 19.286 15.9606C19.3448 16.285 19.4995 16.5843 19.73 16.82L19.79 16.88C19.976 17.0657 20.1235 17.2863 20.2241 17.5291C20.3248 17.7719 20.3766 18.0322 20.3766 18.295C20.3766 18.5578 20.3248 18.8181 20.2241 19.0609C20.1235 19.3037 19.976 19.5243 19.79 19.71C19.6043 19.896 19.3837 20.0435 19.1409 20.1441C18.8981 20.2448 18.6378 20.2966 18.375 20.2966C18.1122 20.2966 17.8519 20.2448 17.6091 20.1441C17.3663 20.0435 17.1457 19.896 16.96 19.71L16.9 19.65C16.6643 19.4195 16.365 19.2648 16.0406 19.206C15.7162 19.1472 15.3816 19.1869 15.08 19.32C14.7842 19.4468 14.532 19.6572 14.3543 19.9255C14.1766 20.1938 14.0813 20.5082 14.08 20.83V21C14.08 21.5304 13.8693 22.0391 13.4942 22.4142C13.1191 22.7893 12.6104 23 12.08 23C11.5496 23 11.0409 22.7893 10.6658 22.4142C10.2907 22.0391 10.08 21.5304 10.08 21V20.91C10.0723 20.579 9.96512 20.258 9.77251 19.9887C9.5799 19.7194 9.31074 19.5143 9 19.4C8.69838 19.2669 8.36381 19.2272 8.03941 19.286C7.71502 19.3448 7.41568 19.4995 7.18 19.73L7.12 19.79C6.93425 19.976 6.71368 20.1235 6.47088 20.2241C6.22808 20.3248 5.96783 20.3766 5.705 20.3766C5.44217 20.3766 5.18192 20.3248 4.93912 20.2241C4.69632 20.1235 4.47575 19.976 4.29 19.79C4.10405 19.6043 3.95653 19.3837 3.85588 19.1409C3.75523 18.8981 3.70343 18.6378 3.70343 18.375C3.70343 18.1122 3.75523 17.8519 3.85588 17.6091C3.95653 17.3663 4.10405 17.1457 4.29 16.96L4.35 16.9C4.58054 16.6643 4.73519 16.365 4.794 16.0406C4.85282 15.7162 4.81312 15.3816 4.68 15.08C4.55324 14.7842 4.34276 14.532 4.07447 14.3543C3.80618 14.1766 3.49179 14.0813 3.17 14.08H3C2.46957 14.08 1.96086 13.8693 1.58579 13.4942C1.21071 13.1191 1 12.6104 1 12.08C1 11.5496 1.21071 11.0409 1.58579 10.6658C1.96086 10.2907 2.46957 10.08 3 10.08H3.09C3.42099 10.0723 3.742 9.96512 4.0113 9.77251C4.28059 9.5799 4.48572 9.31074 4.6 9C4.73312 8.69838 4.77282 8.36381 4.714 8.03941C4.65519 7.71502 4.50054 7.41568 4.27 7.18L4.21 7.12C4.02405 6.93425 3.87653 6.71368 3.77588 6.47088C3.67523 6.22808 3.62343 5.96783 3.62343 5.705C3.62343 5.44217 3.67523 5.18192 3.77588 4.93912C3.87653 4.69632 4.02405 4.47575 4.21 4.29C4.39575 4.10405 4.61632 3.95653 4.85912 3.85588C5.10192 3.75523 5.36217 3.70343 5.625 3.70343C5.88783 3.70343 6.14808 3.75523 6.39088 3.85588C6.63368 3.95653 6.85425 4.10405 7.04 4.29L7.1 4.35C7.33568 4.58054 7.63502 4.73519 7.95941 4.794C8.28381 4.85282 8.61838 4.81312 8.92 4.68H9C9.29577 4.55324 9.54802 4.34276 9.72569 4.07447C9.90337 3.80618 9.99872 3.49179 10 3.17V3C10 2.46957 10.2107 1.96086 10.5858 1.58579C10.9609 1.21071 11.4696 1 12 1C12.5304 1 13.0391 1.21071 13.4142 1.58579C13.7893 1.96086 14 2.46957 14 3V3.09C14.0013 3.41179 14.0966 3.72618 14.2743 3.99447C14.452 4.26276 14.7042 4.47324 15 4.6C15.3016 4.73312 15.6362 4.77282 15.9606 4.714C16.285 4.65519 16.5843 4.50054 16.82 4.27L16.88 4.21C17.0657 4.02405 17.2863 3.87653 17.5291 3.77588C17.7719 3.67523 18.0322 3.62343 18.295 3.62343C18.5578 3.62343 18.8181 3.67523 19.0609 3.77588C19.3037 3.87653 19.5243 4.02405 19.71 4.21C19.896 4.39575 20.0435 4.61632 20.1441 4.85912C20.2448 5.10192 20.2966 5.36217 20.2966 5.625C20.2966 5.88783 20.2448 6.14808 20.1441 6.39088C20.0435 6.63368 19.896 6.85425 19.71 7.04L19.65 7.1C19.4195 7.33568 19.2648 7.63502 19.206 7.95941C19.1472 8.28381 19.1869 8.61838 19.32 8.92V9C19.4468 9.29577 19.6572 9.54802 19.9255 9.72569C20.1938 9.90337 20.5082 9.99872 20.83 10H21C21.5304 10 22.0391 10.2107 22.4142 10.5858C22.7893 10.9609 23 11.4696 23 12C23 12.5304 22.7893 13.0391 22.4142 13.4142C22.0391 13.7893 21.5304 14 21 14H20.91C20.5882 14.0013 20.2738 14.0966 20.0055 14.2743C19.7372 14.452 19.5268 14.7042 19.4 15Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]})}),(0,Rg.jsx)("h1",{className:"app-title",children:"Dinner Debt"}),(0,Rg.jsx)("p",{className:"app-description",children:"Calculate how much you owe someone for dinner, including your portion of the tax and tip based on what you ordered."})]}),$?(0,Rg.jsx)(Dg,{items:e,subtotal:n,total:l,tip:c,tipIsRate:f,tipIncludedInTotal:m,isPayingMe:g}):(0,Rg.jsxs)(Rg.Fragment,{children:[(0,Rg.jsxs)("section",{className:"form-section",children:[(0,Rg.jsx)("h2",{className:"section-title",children:"Items"}),(0,Rg.jsx)("div",{className:"items-container",children:e.map(((t,n)=>{var r,a,o;const s=Math.max(8,...e.map((e=>{var t;return Math.abs(null!==(t=e.totalPortions)&&void 0!==t?t:1)})));return(0,Rg.jsxs)("div",{className:"item-card",children:[t.name&&(0,Rg.jsx)("div",{className:"item-name",children:(0,Rg.jsx)("input",{type:"text",className:"item-name-input",value:t.name,onChange:e=>y(n,{name:e.target.value}),placeholder:"Item name"})}),(0,Rg.jsxs)("div",{className:"item-controls",children:[(0,Rg.jsx)("button",{className:"btn btn-danger btn-sm btn-remove",onClick:()=>b(n),children:"\xd7"}),(0,Rg.jsxs)("div",{className:"control-group",children:[(0,Rg.jsx)("label",{className:"control-label",children:"Cost"}),(0,Rg.jsxs)("div",{className:"currency-input-wrapper",children:[(0,Rg.jsx)("span",{className:"currency-symbol",children:"$"}),(0,Rg.jsx)("input",{className:"form-control form-control-sm currency-input",name:"cost".concat(n),type:"text",inputMode:"decimal",value:null!==(r=t.cost)&&void 0!==r?r:"",onChange:e=>y(n,{cost:(0,i.s)(e.target.value,1)}),placeholder:"0.00"})]})]}),(0,Rg.jsx)(Fg,{totalPortions:null!==(a=t.totalPortions)&&void 0!==a?a:1,portionsPaying:null!==(o=t.portionsPaying)&&void 0!==o?o:1,maxSplit:s,onTotalPortionsChange:e=>{var r;const a=Math.min(null!==(r=t.portionsPaying)&&void 0!==r?r:1,Math.abs(e));y(n,{totalPortions:e,portionsPaying:a})},onPortionsPayingChange:e=>{y(n,{portionsPaying:e})}})]})]},t.id)}))}),(0,Rg.jsxs)("div",{className:"action-buttons-container",children:[(0,Rg.jsxs)("div",{className:"action-buttons",children:[V&&(0,Rg.jsxs)(Rg.Fragment,{children:[(0,Rg.jsx)("input",{type:"file",id:"receipt-upload",accept:"image/jpeg,image/jpg,image/png,image/webp,image/gif",onChange:j,style:{display:"none"},disabled:P}),(0,Rg.jsx)("button",{className:"btn btn-outline upload-button ".concat(P?"disabled":""),onClick:R,disabled:P,children:P?"Processing...":"\ud83d\udcf8 Upload Receipt (beta)"})]}),(0,Rg.jsx)("button",{className:"btn btn-primary",onClick:()=>_(),children:"Add Item"})]}),z&&(0,Rg.jsx)("div",{className:"error-message",children:z})]})]}),(0,Rg.jsxs)("section",{className:"form-section",children:[(0,Rg.jsx)("h2",{className:"section-title",children:"Bill Details"}),(0,Rg.jsxs)("div",{className:"form-group",children:[(0,Rg.jsx)("label",{className:"form-label",htmlFor:"sub",children:"Subtotal (Whole Bill)"}),(0,Rg.jsxs)("div",{className:"currency-input-wrapper",children:[(0,Rg.jsx)("span",{className:"currency-symbol",children:"$"}),(0,Rg.jsx)("input",{className:"form-control form-control-sm currency-input",name:"sub",type:"text",inputMode:"decimal",value:null!==n&&void 0!==n?n:"",onChange:e=>s(Number.parseFloat(e.target.value)),placeholder:"0.00"})]})]}),(0,Rg.jsxs)("div",{className:"form-group",children:[(0,Rg.jsx)("label",{className:"form-label",htmlFor:"total",children:"Total (Whole Bill)"}),(0,Rg.jsxs)("div",{className:"currency-input-wrapper",children:[(0,Rg.jsx)("span",{className:"currency-symbol",children:"$"}),(0,Rg.jsx)("input",{className:"form-control form-control-sm currency-input",name:"total",type:"text",inputMode:"decimal",value:null!==l&&void 0!==l?l:"",onChange:e=>u(Number.parseFloat(e.target.value)),placeholder:"0.00"})]})]}),(0,Rg.jsxs)("div",{className:"form-group",children:[(0,Rg.jsxs)("label",{className:"form-label",htmlFor:"tip",children:["Tip",m&&" *"]}),(0,Rg.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[(0,Rg.jsxs)("div",{className:f?"percent-input-wrapper":"currency-input-wrapper",style:{marginRight:"0.5rem"},children:[!f&&(0,Rg.jsx)("span",{className:"currency-symbol",children:"$"}),(0,Rg.jsx)("input",{className:"form-control form-control-sm ".concat(f?"percent-input":"currency-input"),name:"tip",type:"number",inputMode:"decimal",value:c,onChange:e=>d(Number.parseFloat(e.target.value))}),f&&(0,Rg.jsx)("span",{className:"percent-symbol",children:"%"})]}),(0,Rg.jsxs)("div",{className:"radio-group",children:[(0,Rg.jsxs)("label",{className:"radio-label",children:[(0,Rg.jsx)("input",{className:"radio-input",name:"tipIsRate",type:"radio",checked:f,onClick:()=>h(!0)}),"percent"]}),(0,Rg.jsxs)("label",{className:"radio-label",children:[(0,Rg.jsx)("input",{className:"radio-input",name:"tipisFlat",type:"radio",checked:!f,onClick:()=>h(!1)}),"flat amount"]})]})]}),m&&(0,Rg.jsx)("div",{className:"tip-included-notice",children:"* Gratuity is already included in the total"})]})]}),(0,Rg.jsxs)("section",{className:"result-section",children:[(0,Rg.jsx)("h2",{className:"section-title",children:"Result"}),(0,Rg.jsxs)("div",{className:"result-amount",children:["You owe: ",W]}),(0,Rg.jsxs)("div",{className:"form-group",children:[(0,Rg.jsx)("p",{children:"Are you paying Mike Delmonaco?"}),(0,Rg.jsxs)("div",{className:"radio-group",children:[(0,Rg.jsxs)("label",{className:"radio-label",children:[(0,Rg.jsx)("input",{className:"radio-input",name:"not-paying-me",type:"radio",checked:!g,onClick:()=>v(!1)}),"No"]}),(0,Rg.jsxs)("label",{className:"radio-label",children:[(0,Rg.jsx)("input",{className:"radio-input",name:"paying-me",type:"radio",checked:g,onClick:()=>v(!0)}),"Yes"]})]})]}),g?(0,Rg.jsx)("a",{className:"action-button venmo-button",href:o(Q,K,"Mike-Delmonaco"),children:"Pay Mike Delmonaco with Venmo"}):(0,Rg.jsx)("a",{className:"action-button venmo-button",href:o(Q,K),children:"Pay with Venmo"})]}),(0,Rg.jsxs)("section",{className:"form-section",children:[(0,Rg.jsxs)("div",{className:"qr-toggle",onClick:()=>{U(!1),F((e=>!e))},children:[(0,Rg.jsx)(Lg,{isExpanded:M}),M?"Hide QR Code":"Show QR Code"]}),M&&(0,Rg.jsxs)("div",{className:"qr-container",children:[D?(0,Rg.jsxs)("div",{className:"error-message",style:{textAlign:"center",padding:"2rem"},children:[(0,Rg.jsx)("p",{style:{marginBottom:"1rem"},children:"\u26a0\ufe0f Receipt is too large for QR code generation."}),(0,Rg.jsx)("p",{style:{fontSize:"0.9em",opacity:.8},children:"Please use the Copy Link or Share Link button."})]}):(0,Rg.jsx)(Ug,{onError:()=>U(!0),children:(0,Rg.jsx)(r.Ay,{value:B(),bgColor:"var(--background-secondary)",fgColor:"#dcddde",level:"M",style:{width:"100%",height:"auto",maxWidth:"400px"}})}),(0,Rg.jsxs)("div",{style:{marginTop:"1rem",display:"flex",gap:"0.5rem",justifyContent:"center"},children:[(0,Rg.jsxs)("button",{className:"btn btn-outline",onClick:Z,style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[(0,Rg.jsx)("span",{children:"Copy Link"}),L?(0,Rg.jsx)("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,Rg.jsx)("path",{d:"M13.5 4L6 11.5L2.5 8",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}):(0,Rg.jsxs)("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,Rg.jsx)("rect",{x:"5",y:"4",width:"9",height:"11",rx:"1",stroke:"currentColor",strokeWidth:"1.5",fill:"none"}),(0,Rg.jsx)("path",{d:"M4 12H3C2.44772 12 2 11.5523 2 11V2C2 1.44772 2.44772 1 3 1H9C9.55228 1 10 1.44772 10 2V3",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round"})]})]}),(0,Rg.jsxs)("button",{className:"btn btn-outline",onClick:q,style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[(0,Rg.jsx)("span",{children:"Share Link"}),(0,Rg.jsxs)("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,Rg.jsx)("path",{d:"M3 7V14C3 14.5523 3.44772 15 4 15H12C12.5523 15 13 14.5523 13 14V7",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),(0,Rg.jsx)("path",{d:"M8 10V2M8 2L5.5 4.5M8 2L10.5 4.5",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]})]})]})]})]})]}),(0,Rg.jsxs)("footer",{className:"app-footer",children:["Created by Mike Delmonaco",(0,Rg.jsx)("br",{}),(0,Rg.jsx)("a",{href:"https://github.com/quasarbright/dinner-debt",children:"Source Code"})]}),(0,Rg.jsx)(jg,{show:N,onClose:()=>O(!1),onSave:e=>{I(e),O(!1)}}),(0,Rg.jsx)(Mg,{show:x,onClose:()=>S(!1),betaFeaturesEnabled:E,onToggleBetaFeatures:C,apiKey:A(),onSaveApiKey:I,onDeleteApiKey:T})]})},Zg=e=>{e&&e instanceof Function&&__webpack_require__.e(453).then(__webpack_require__.bind(__webpack_require__,453)).then((t=>{let{getCLS:n,getFID:r,getFCP:a,getLCP:o,getTTFB:i}=t;n(e),r(e),a(e),o(e),i(e)}))};n.createRoot(document.getElementById("root")).render((0,Rg.jsx)(t.StrictMode,{children:(0,Rg.jsx)(Bg,{})})),Zg()})()})();
//# sourceMappingURL=main.3fca03c4.js.map