/*! For license information please see main.80cbd480.js.LICENSE.txt */
(()=>{var __webpack_modules__={492:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";function emptyItem(){return{portionsPaying:1,totalPortions:1,id:crypto.randomUUID()}}function safeEval(expr,defaultValue){try{return eval(expr)}catch(ignored){return defaultValue}}__webpack_require__.d(__webpack_exports__,{T:()=>emptyItem,s:()=>safeEval})},812:e=>{"use strict";var t,n=Object.defineProperty,r=Object.getOwnPropertyDescriptor,a=Object.getOwnPropertyNames,o=Object.prototype.hasOwnProperty,i={};((e,t)=>{for(var r in t)n(e,r,{get:t[r],enumerable:!0})})(i,{SYMBOL_FOR_REQ_CONTEXT:()=>s,getContext:()=>l}),e.exports=(t=i,((e,t,i,s)=>{if(t&&"object"===typeof t||"function"===typeof t)for(let l of a(t))o.call(e,l)||l===i||n(e,l,{get:()=>t[l],enumerable:!(s=r(t,l))||s.enumerable});return e})(n({},"__esModule",{value:!0}),t));const s=Symbol.for("@vercel/request-context");function l(){var e,t,n;return null!==(e=null===(t=globalThis[s])||void 0===t||null===(n=t.get)||void 0===n?void 0:n.call(t))&&void 0!==e?e:{}}},327:(e,t,n)=>{"use strict";var r,a=Object.defineProperty,o=Object.getOwnPropertyDescriptor,i=Object.getOwnPropertyNames,s=Object.prototype.hasOwnProperty,l={};((e,t)=>{for(var n in t)a(e,n,{get:t[n],enumerable:!0})})(l,{getContext:()=>u.getContext,getVercelOidcToken:()=>c,getVercelOidcTokenSync:()=>d}),e.exports=(r=l,((e,t,n,r)=>{if(t&&"object"===typeof t||"function"===typeof t)for(let l of i(t))s.call(e,l)||l===n||a(e,l,{get:()=>t[l],enumerable:!(r=o(t,l))||r.enumerable});return e})(a({},"__esModule",{value:!0}),r));var u=n(812);async function c(){return""}function d(){return""}},497:(e,t,n)=>{"use strict";var r=n(218);function a(){}function o(){}o.resetWarningCache=a,e.exports=function(){function e(e,t,n,a,o,i){if(i!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:a};return n.PropTypes=n,n}},173:(e,t,n)=>{e.exports=n(497)()},218:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},343:(e,t,n)=>{var r=n(957);function a(e){this.mode=r.MODE_8BIT_BYTE,this.data=e}a.prototype={getLength:function(e){return this.data.length},write:function(e){for(var t=0;t<this.data.length;t++)e.put(this.data.charCodeAt(t),8)}},e.exports=a},813:e=>{function t(){this.buffer=new Array,this.length=0}t.prototype={get:function(e){var t=Math.floor(e/8);return 1==(this.buffer[t]>>>7-e%8&1)},put:function(e,t){for(var n=0;n<t;n++)this.putBit(1==(e>>>t-n-1&1))},getLengthInBits:function(){return this.length},putBit:function(e){var t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0),e&&(this.buffer[t]|=128>>>this.length%8),this.length++}},e.exports=t},742:e=>{e.exports={L:1,M:0,Q:3,H:2}},392:(e,t,n)=>{var r=n(460);function a(e,t){if(void 0==e.length)throw new Error(e.length+"/"+t);for(var n=0;n<e.length&&0==e[n];)n++;this.num=new Array(e.length-n+t);for(var r=0;r<e.length-n;r++)this.num[r]=e[r+n]}a.prototype={get:function(e){return this.num[e]},getLength:function(){return this.num.length},multiply:function(e){for(var t=new Array(this.getLength()+e.getLength()-1),n=0;n<this.getLength();n++)for(var o=0;o<e.getLength();o++)t[n+o]^=r.gexp(r.glog(this.get(n))+r.glog(e.get(o)));return new a(t,0)},mod:function(e){if(this.getLength()-e.getLength()<0)return this;for(var t=r.glog(this.get(0))-r.glog(e.get(0)),n=new Array(this.getLength()),o=0;o<this.getLength();o++)n[o]=this.get(o);for(o=0;o<e.getLength();o++)n[o]^=r.gexp(r.glog(e.get(o))+t);return new a(n,0).mod(e)}},e.exports=a},612:(e,t,n)=>{var r=n(343),a=n(436),o=n(813),i=n(898),s=n(392);function l(e,t){this.typeNumber=e,this.errorCorrectLevel=t,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}var u=l.prototype;u.addData=function(e){var t=new r(e);this.dataList.push(t),this.dataCache=null},u.isDark=function(e,t){if(e<0||this.moduleCount<=e||t<0||this.moduleCount<=t)throw new Error(e+","+t);return this.modules[e][t]},u.getModuleCount=function(){return this.moduleCount},u.make=function(){if(this.typeNumber<1){var e=1;for(e=1;e<40;e++){for(var t=a.getRSBlocks(e,this.errorCorrectLevel),n=new o,r=0,s=0;s<t.length;s++)r+=t[s].dataCount;for(s=0;s<this.dataList.length;s++){var l=this.dataList[s];n.put(l.mode,4),n.put(l.getLength(),i.getLengthInBits(l.mode,e)),l.write(n)}if(n.getLengthInBits()<=8*r)break}this.typeNumber=e}this.makeImpl(!1,this.getBestMaskPattern())},u.makeImpl=function(e,t){this.moduleCount=4*this.typeNumber+17,this.modules=new Array(this.moduleCount);for(var n=0;n<this.moduleCount;n++){this.modules[n]=new Array(this.moduleCount);for(var r=0;r<this.moduleCount;r++)this.modules[n][r]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(e,t),this.typeNumber>=7&&this.setupTypeNumber(e),null==this.dataCache&&(this.dataCache=l.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,t)},u.setupPositionProbePattern=function(e,t){for(var n=-1;n<=7;n++)if(!(e+n<=-1||this.moduleCount<=e+n))for(var r=-1;r<=7;r++)t+r<=-1||this.moduleCount<=t+r||(this.modules[e+n][t+r]=0<=n&&n<=6&&(0==r||6==r)||0<=r&&r<=6&&(0==n||6==n)||2<=n&&n<=4&&2<=r&&r<=4)},u.getBestMaskPattern=function(){for(var e=0,t=0,n=0;n<8;n++){this.makeImpl(!0,n);var r=i.getLostPoint(this);(0==n||e>r)&&(e=r,t=n)}return t},u.createMovieClip=function(e,t,n){var r=e.createEmptyMovieClip(t,n);this.make();for(var a=0;a<this.modules.length;a++)for(var o=1*a,i=0;i<this.modules[a].length;i++){var s=1*i;this.modules[a][i]&&(r.beginFill(0,100),r.moveTo(s,o),r.lineTo(s+1,o),r.lineTo(s+1,o+1),r.lineTo(s,o+1),r.endFill())}return r},u.setupTimingPattern=function(){for(var e=8;e<this.moduleCount-8;e++)null==this.modules[e][6]&&(this.modules[e][6]=e%2==0);for(var t=8;t<this.moduleCount-8;t++)null==this.modules[6][t]&&(this.modules[6][t]=t%2==0)},u.setupPositionAdjustPattern=function(){for(var e=i.getPatternPosition(this.typeNumber),t=0;t<e.length;t++)for(var n=0;n<e.length;n++){var r=e[t],a=e[n];if(null==this.modules[r][a])for(var o=-2;o<=2;o++)for(var s=-2;s<=2;s++)this.modules[r+o][a+s]=-2==o||2==o||-2==s||2==s||0==o&&0==s}},u.setupTypeNumber=function(e){for(var t=i.getBCHTypeNumber(this.typeNumber),n=0;n<18;n++){var r=!e&&1==(t>>n&1);this.modules[Math.floor(n/3)][n%3+this.moduleCount-8-3]=r}for(n=0;n<18;n++){r=!e&&1==(t>>n&1);this.modules[n%3+this.moduleCount-8-3][Math.floor(n/3)]=r}},u.setupTypeInfo=function(e,t){for(var n=this.errorCorrectLevel<<3|t,r=i.getBCHTypeInfo(n),a=0;a<15;a++){var o=!e&&1==(r>>a&1);a<6?this.modules[a][8]=o:a<8?this.modules[a+1][8]=o:this.modules[this.moduleCount-15+a][8]=o}for(a=0;a<15;a++){o=!e&&1==(r>>a&1);a<8?this.modules[8][this.moduleCount-a-1]=o:a<9?this.modules[8][15-a-1+1]=o:this.modules[8][15-a-1]=o}this.modules[this.moduleCount-8][8]=!e},u.mapData=function(e,t){for(var n=-1,r=this.moduleCount-1,a=7,o=0,s=this.moduleCount-1;s>0;s-=2)for(6==s&&s--;;){for(var l=0;l<2;l++)if(null==this.modules[r][s-l]){var u=!1;o<e.length&&(u=1==(e[o]>>>a&1)),i.getMask(t,r,s-l)&&(u=!u),this.modules[r][s-l]=u,-1==--a&&(o++,a=7)}if((r+=n)<0||this.moduleCount<=r){r-=n,n=-n;break}}},l.PAD0=236,l.PAD1=17,l.createData=function(e,t,n){for(var r=a.getRSBlocks(e,t),s=new o,u=0;u<n.length;u++){var c=n[u];s.put(c.mode,4),s.put(c.getLength(),i.getLengthInBits(c.mode,e)),c.write(s)}var d=0;for(u=0;u<r.length;u++)d+=r[u].dataCount;if(s.getLengthInBits()>8*d)throw new Error("code length overflow. ("+s.getLengthInBits()+">"+8*d+")");for(s.getLengthInBits()+4<=8*d&&s.put(0,4);s.getLengthInBits()%8!=0;)s.putBit(!1);for(;!(s.getLengthInBits()>=8*d)&&(s.put(l.PAD0,8),!(s.getLengthInBits()>=8*d));)s.put(l.PAD1,8);return l.createBytes(s,r)},l.createBytes=function(e,t){for(var n=0,r=0,a=0,o=new Array(t.length),l=new Array(t.length),u=0;u<t.length;u++){var c=t[u].dataCount,d=t[u].totalCount-c;r=Math.max(r,c),a=Math.max(a,d),o[u]=new Array(c);for(var p=0;p<o[u].length;p++)o[u][p]=255&e.buffer[p+n];n+=c;var f=i.getErrorCorrectPolynomial(d),h=new s(o[u],f.getLength()-1).mod(f);l[u]=new Array(f.getLength()-1);for(p=0;p<l[u].length;p++){var m=p+h.getLength()-l[u].length;l[u][p]=m>=0?h.get(m):0}}var g=0;for(p=0;p<t.length;p++)g+=t[p].totalCount;var v=new Array(g),y=0;for(p=0;p<r;p++)for(u=0;u<t.length;u++)p<o[u].length&&(v[y++]=o[u][p]);for(p=0;p<a;p++)for(u=0;u<t.length;u++)p<l[u].length&&(v[y++]=l[u][p]);return v},e.exports=l},436:(e,t,n)=>{var r=n(742);function a(e,t){this.totalCount=e,this.dataCount=t}a.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],a.getRSBlocks=function(e,t){var n=a.getRsBlockTable(e,t);if(void 0==n)throw new Error("bad rs block @ typeNumber:"+e+"/errorCorrectLevel:"+t);for(var r=n.length/3,o=new Array,i=0;i<r;i++)for(var s=n[3*i+0],l=n[3*i+1],u=n[3*i+2],c=0;c<s;c++)o.push(new a(l,u));return o},a.getRsBlockTable=function(e,t){switch(t){case r.L:return a.RS_BLOCK_TABLE[4*(e-1)+0];case r.M:return a.RS_BLOCK_TABLE[4*(e-1)+1];case r.Q:return a.RS_BLOCK_TABLE[4*(e-1)+2];case r.H:return a.RS_BLOCK_TABLE[4*(e-1)+3];default:return}},e.exports=a},460:e=>{for(var t={glog:function(e){if(e<1)throw new Error("glog("+e+")");return t.LOG_TABLE[e]},gexp:function(e){for(;e<0;)e+=255;for(;e>=256;)e-=255;return t.EXP_TABLE[e]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)},n=0;n<8;n++)t.EXP_TABLE[n]=1<<n;for(n=8;n<256;n++)t.EXP_TABLE[n]=t.EXP_TABLE[n-4]^t.EXP_TABLE[n-5]^t.EXP_TABLE[n-6]^t.EXP_TABLE[n-8];for(n=0;n<255;n++)t.LOG_TABLE[t.EXP_TABLE[n]]=n;e.exports=t},957:e=>{e.exports={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8}},898:(e,t,n)=>{var r=n(957),a=n(392),o=n(460),i=0,s=1,l=2,u=3,c=4,d=5,p=6,f=7,h={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(e){for(var t=e<<10;h.getBCHDigit(t)-h.getBCHDigit(h.G15)>=0;)t^=h.G15<<h.getBCHDigit(t)-h.getBCHDigit(h.G15);return(e<<10|t)^h.G15_MASK},getBCHTypeNumber:function(e){for(var t=e<<12;h.getBCHDigit(t)-h.getBCHDigit(h.G18)>=0;)t^=h.G18<<h.getBCHDigit(t)-h.getBCHDigit(h.G18);return e<<12|t},getBCHDigit:function(e){for(var t=0;0!=e;)t++,e>>>=1;return t},getPatternPosition:function(e){return h.PATTERN_POSITION_TABLE[e-1]},getMask:function(e,t,n){switch(e){case i:return(t+n)%2==0;case s:return t%2==0;case l:return n%3==0;case u:return(t+n)%3==0;case c:return(Math.floor(t/2)+Math.floor(n/3))%2==0;case d:return t*n%2+t*n%3==0;case p:return(t*n%2+t*n%3)%2==0;case f:return(t*n%3+(t+n)%2)%2==0;default:throw new Error("bad maskPattern:"+e)}},getErrorCorrectPolynomial:function(e){for(var t=new a([1],0),n=0;n<e;n++)t=t.multiply(new a([1,o.gexp(n)],0));return t},getLengthInBits:function(e,t){if(1<=t&&t<10)switch(e){case r.MODE_NUMBER:return 10;case r.MODE_ALPHA_NUM:return 9;case r.MODE_8BIT_BYTE:case r.MODE_KANJI:return 8;default:throw new Error("mode:"+e)}else if(t<27)switch(e){case r.MODE_NUMBER:return 12;case r.MODE_ALPHA_NUM:return 11;case r.MODE_8BIT_BYTE:return 16;case r.MODE_KANJI:return 10;default:throw new Error("mode:"+e)}else{if(!(t<41))throw new Error("type:"+t);switch(e){case r.MODE_NUMBER:return 14;case r.MODE_ALPHA_NUM:return 13;case r.MODE_8BIT_BYTE:return 16;case r.MODE_KANJI:return 12;default:throw new Error("mode:"+e)}}},getLostPoint:function(e){for(var t=e.getModuleCount(),n=0,r=0;r<t;r++)for(var a=0;a<t;a++){for(var o=0,i=e.isDark(r,a),s=-1;s<=1;s++)if(!(r+s<0||t<=r+s))for(var l=-1;l<=1;l++)a+l<0||t<=a+l||0==s&&0==l||i==e.isDark(r+s,a+l)&&o++;o>5&&(n+=3+o-5)}for(r=0;r<t-1;r++)for(a=0;a<t-1;a++){var u=0;e.isDark(r,a)&&u++,e.isDark(r+1,a)&&u++,e.isDark(r,a+1)&&u++,e.isDark(r+1,a+1)&&u++,0!=u&&4!=u||(n+=3)}for(r=0;r<t;r++)for(a=0;a<t-6;a++)e.isDark(r,a)&&!e.isDark(r,a+1)&&e.isDark(r,a+2)&&e.isDark(r,a+3)&&e.isDark(r,a+4)&&!e.isDark(r,a+5)&&e.isDark(r,a+6)&&(n+=40);for(a=0;a<t;a++)for(r=0;r<t-6;r++)e.isDark(r,a)&&!e.isDark(r+1,a)&&e.isDark(r+2,a)&&e.isDark(r+3,a)&&e.isDark(r+4,a)&&!e.isDark(r+5,a)&&e.isDark(r+6,a)&&(n+=40);var c=0;for(a=0;a<t;a++)for(r=0;r<t;r++)e.isDark(r,a)&&c++;return n+=10*(Math.abs(100*c/t/t-50)/5)}};e.exports=h},730:(e,t,n)=>{"use strict";var r=n(43),a=n(853);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,s={};function l(e,t){u(e,t),u(e+"Capture",t)}function u(e,t){for(s[e]=t,e=0;e<t.length;e++)i.add(t[e])}var c=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},h={};function m(e,t,n,r,a,o,i){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=a,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=i}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){g[e]=new m(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];g[t]=new m(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){g[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){g[e]=new m(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){g[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){g[e]=new m(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){g[e]=new m(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){g[e]=new m(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){g[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)}));var v=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function b(e,t,n,r){var a=g.hasOwnProperty(t)?g[t]:null;(null!==a?0!==a.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,a,r)&&(n=null),r||null===a?function(e){return!!d.call(h,e)||!d.call(f,e)&&(p.test(e)?h[e]=!0:(f[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):a.mustUseProperty?e[a.propertyName]=null===n?3!==a.type&&"":n:(t=a.attributeName,r=a.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(a=a.type)||4===a&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)})),g.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)}));var _=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),k=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),E=Symbol.for("react.provider"),I=Symbol.for("react.context"),A=Symbol.for("react.forward_ref"),T=Symbol.for("react.suspense"),N=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),O=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var j=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var z=Symbol.iterator;function R(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=z&&e[z]||e["@@iterator"])?e:null}var M,F=Object.assign;function L(e){if(void 0===M)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);M=t&&t[1]||""}return"\n"+M+e}var D=!1;function U(e,t){if(!e||D)return"";D=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&"string"===typeof u.stack){for(var a=u.stack.split("\n"),o=r.stack.split("\n"),i=a.length-1,s=o.length-1;1<=i&&0<=s&&a[i]!==o[s];)s--;for(;1<=i&&0<=s;i--,s--)if(a[i]!==o[s]){if(1!==i||1!==s)do{if(i--,0>--s||a[i]!==o[s]){var l="\n"+a[i].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=i&&0<=s);break}}}finally{D=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?L(e):""}function B(e){switch(e.tag){case 5:return L(e.type);case 16:return L("Lazy");case 13:return L("Suspense");case 19:return L("SuspenseList");case 0:case 2:case 15:return e=U(e.type,!1);case 11:return e=U(e.type.render,!1);case 1:return e=U(e.type,!0);default:return""}}function Z(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case x:return"Fragment";case k:return"Portal";case C:return"Profiler";case S:return"StrictMode";case T:return"Suspense";case N:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case I:return(e.displayName||"Context")+".Consumer";case E:return(e._context.displayName||"Context")+".Provider";case A:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case P:return null!==(t=e.displayName||null)?t:Z(e.type)||"Memo";case O:t=e._payload,e=e._init;try{return Z(e(t))}catch(n){}}return null}function V(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Z(t);case 8:return t===S?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function q(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function $(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function H(e){e._valueTracker||(e._valueTracker=function(e){var t=$(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var a=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function W(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=$(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Q(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function K(e,t){var n=t.checked;return F({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function J(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=q(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function G(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function Y(e,t){G(e,t);var n=q(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,q(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function X(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Q(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var a=0;a<n.length;a++)t["$"+n[a]]=!0;for(n=0;n<e.length;n++)a=t.hasOwnProperty("$"+e[n].value),e[n].selected!==a&&(e[n].selected=a),a&&r&&(e[n].defaultSelected=!0)}else{for(n=""+q(n),t=null,a=0;a<e.length;a++){if(e[a].value===n)return e[a].selected=!0,void(r&&(e[a].defaultSelected=!0));null!==t||e[a].disabled||(t=e[a])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return F({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ae(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(te(n)){if(1<n.length)throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:q(n)}}function oe(e,t){var n=q(t.value),r=q(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ie(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function se(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?se(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ue,ce,de=(ce=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ue=ue||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ue.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ce(e,t)}))}:ce);function pe(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var fe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},he=["Webkit","ms","Moz","O"];function me(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||fe.hasOwnProperty(e)&&fe[e]?(""+t).trim():t+"px"}function ge(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),a=me(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,a):e[n]=a}}Object.keys(fe).forEach((function(e){he.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),fe[t]=fe[e]}))}));var ve=F({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(ve[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(o(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var _e=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var ke=null,xe=null,Se=null;function Ce(e){if(e=ba(e)){if("function"!==typeof ke)throw Error(o(280));var t=e.stateNode;t&&(t=wa(t),ke(e.stateNode,e.type,t))}}function Ee(e){xe?Se?Se.push(e):Se=[e]:xe=e}function Ie(){if(xe){var e=xe,t=Se;if(Se=xe=null,Ce(e),t)for(e=0;e<t.length;e++)Ce(t[e])}}function Ae(e,t){return e(t)}function Te(){}var Ne=!1;function Pe(e,t,n){if(Ne)return e(t,n);Ne=!0;try{return Ae(e,t,n)}finally{Ne=!1,(null!==xe||null!==Se)&&(Te(),Ie())}}function Oe(e,t){var n=e.stateNode;if(null===n)return null;var r=wa(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}var je=!1;if(c)try{var ze={};Object.defineProperty(ze,"passive",{get:function(){je=!0}}),window.addEventListener("test",ze,ze),window.removeEventListener("test",ze,ze)}catch(ce){je=!1}function Re(e,t,n,r,a,o,i,s,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(c){this.onError(c)}}var Me=!1,Fe=null,Le=!1,De=null,Ue={onError:function(e){Me=!0,Fe=e}};function Be(e,t,n,r,a,o,i,s,l){Me=!1,Fe=null,Re.apply(Ue,arguments)}function Ze(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Ve(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function qe(e){if(Ze(e)!==e)throw Error(o(188))}function $e(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ze(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var a=n.return;if(null===a)break;var i=a.alternate;if(null===i){if(null!==(r=a.return)){n=r;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===n)return qe(a),e;if(i===r)return qe(a),t;i=i.sibling}throw Error(o(188))}if(n.return!==r.return)n=a,r=i;else{for(var s=!1,l=a.child;l;){if(l===n){s=!0,n=a,r=i;break}if(l===r){s=!0,r=a,n=i;break}l=l.sibling}if(!s){for(l=i.child;l;){if(l===n){s=!0,n=i,r=a;break}if(l===r){s=!0,r=i,n=a;break}l=l.sibling}if(!s)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e))?He(e):null}function He(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=He(e);if(null!==t)return t;e=e.sibling}return null}var We=a.unstable_scheduleCallback,Qe=a.unstable_cancelCallback,Ke=a.unstable_shouldYield,Je=a.unstable_requestPaint,Ge=a.unstable_now,Ye=a.unstable_getCurrentPriorityLevel,Xe=a.unstable_ImmediatePriority,et=a.unstable_UserBlockingPriority,tt=a.unstable_NormalPriority,nt=a.unstable_LowPriority,rt=a.unstable_IdlePriority,at=null,ot=null;var it=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(st(e)/lt|0)|0},st=Math.log,lt=Math.LN2;var ut=64,ct=4194304;function dt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function pt(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,a=e.suspendedLanes,o=e.pingedLanes,i=268435455&n;if(0!==i){var s=i&~a;0!==s?r=dt(s):0!==(o&=i)&&(r=dt(o))}else 0!==(i=n&~a)?r=dt(i):0!==o&&(r=dt(o));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&a)&&((a=r&-r)>=(o=t&-t)||16===a&&0!==(4194240&o)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)a=1<<(n=31-it(t)),r|=e[n],t&=~a;return r}function ft(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function ht(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function mt(){var e=ut;return 0===(4194240&(ut<<=1))&&(ut=64),e}function gt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function vt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-it(t)]=n}function yt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-it(n),a=1<<r;a&t|e[r]&t&&(e[r]|=t),n&=~a}}var bt=0;function _t(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var wt,kt,xt,St,Ct,Et=!1,It=[],At=null,Tt=null,Nt=null,Pt=new Map,Ot=new Map,jt=[],zt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Rt(e,t){switch(e){case"focusin":case"focusout":At=null;break;case"dragenter":case"dragleave":Tt=null;break;case"mouseover":case"mouseout":Nt=null;break;case"pointerover":case"pointerout":Pt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ot.delete(t.pointerId)}}function Mt(e,t,n,r,a,o){return null===e||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[a]},null!==t&&(null!==(t=ba(t))&&kt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==a&&-1===t.indexOf(a)&&t.push(a),e)}function Ft(e){var t=ya(e.target);if(null!==t){var n=Ze(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Ve(n)))return e.blockedOn=t,void Ct(e.priority,(function(){xt(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Lt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Kt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ba(n))&&kt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);_e=r,n.target.dispatchEvent(r),_e=null,t.shift()}return!0}function Dt(e,t,n){Lt(e)&&n.delete(t)}function Ut(){Et=!1,null!==At&&Lt(At)&&(At=null),null!==Tt&&Lt(Tt)&&(Tt=null),null!==Nt&&Lt(Nt)&&(Nt=null),Pt.forEach(Dt),Ot.forEach(Dt)}function Bt(e,t){e.blockedOn===t&&(e.blockedOn=null,Et||(Et=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,Ut)))}function Zt(e){function t(t){return Bt(t,e)}if(0<It.length){Bt(It[0],e);for(var n=1;n<It.length;n++){var r=It[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==At&&Bt(At,e),null!==Tt&&Bt(Tt,e),null!==Nt&&Bt(Nt,e),Pt.forEach(t),Ot.forEach(t),n=0;n<jt.length;n++)(r=jt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<jt.length&&null===(n=jt[0]).blockedOn;)Ft(n),null===n.blockedOn&&jt.shift()}var Vt=_.ReactCurrentBatchConfig,qt=!0;function $t(e,t,n,r){var a=bt,o=Vt.transition;Vt.transition=null;try{bt=1,Wt(e,t,n,r)}finally{bt=a,Vt.transition=o}}function Ht(e,t,n,r){var a=bt,o=Vt.transition;Vt.transition=null;try{bt=4,Wt(e,t,n,r)}finally{bt=a,Vt.transition=o}}function Wt(e,t,n,r){if(qt){var a=Kt(e,t,n,r);if(null===a)qr(e,t,r,Qt,n),Rt(e,r);else if(function(e,t,n,r,a){switch(t){case"focusin":return At=Mt(At,e,t,n,r,a),!0;case"dragenter":return Tt=Mt(Tt,e,t,n,r,a),!0;case"mouseover":return Nt=Mt(Nt,e,t,n,r,a),!0;case"pointerover":var o=a.pointerId;return Pt.set(o,Mt(Pt.get(o)||null,e,t,n,r,a)),!0;case"gotpointercapture":return o=a.pointerId,Ot.set(o,Mt(Ot.get(o)||null,e,t,n,r,a)),!0}return!1}(a,e,t,n,r))r.stopPropagation();else if(Rt(e,r),4&t&&-1<zt.indexOf(e)){for(;null!==a;){var o=ba(a);if(null!==o&&wt(o),null===(o=Kt(e,t,n,r))&&qr(e,t,r,Qt,n),o===a)break;a=o}null!==a&&r.stopPropagation()}else qr(e,t,r,null,n)}}var Qt=null;function Kt(e,t,n,r){if(Qt=null,null!==(e=ya(e=we(r))))if(null===(t=Ze(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=Ve(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Qt=e,null}function Jt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ye()){case Xe:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Gt=null,Yt=null,Xt=null;function en(){if(Xt)return Xt;var e,t,n=Yt,r=n.length,a="value"in Gt?Gt.value:Gt.textContent,o=a.length;for(e=0;e<r&&n[e]===a[e];e++);var i=r-e;for(t=1;t<=i&&n[r-t]===a[o-t];t++);return Xt=a.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function an(e){function t(t,n,r,a,o){for(var i in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=a,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(i)&&(t=e[i],this[i]=t?t(a):a[i]);return this.isDefaultPrevented=(null!=a.defaultPrevented?a.defaultPrevented:!1===a.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return F(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var on,sn,ln,un={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cn=an(un),dn=F({},un,{view:0,detail:0}),pn=an(dn),fn=F({},dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(on=e.screenX-ln.screenX,sn=e.screenY-ln.screenY):sn=on=0,ln=e),on)},movementY:function(e){return"movementY"in e?e.movementY:sn}}),hn=an(fn),mn=an(F({},fn,{dataTransfer:0})),gn=an(F({},dn,{relatedTarget:0})),vn=an(F({},un,{animationName:0,elapsedTime:0,pseudoElement:0})),yn=F({},un,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bn=an(yn),_n=an(F({},un,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},kn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},xn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Sn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=xn[e])&&!!t[e]}function Cn(){return Sn}var En=F({},dn,{key:function(e){if(e.key){var t=wn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?kn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),In=an(En),An=an(F({},fn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Tn=an(F({},dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cn})),Nn=an(F({},un,{propertyName:0,elapsedTime:0,pseudoElement:0})),Pn=F({},fn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),On=an(Pn),jn=[9,13,27,32],zn=c&&"CompositionEvent"in window,Rn=null;c&&"documentMode"in document&&(Rn=document.documentMode);var Mn=c&&"TextEvent"in window&&!Rn,Fn=c&&(!zn||Rn&&8<Rn&&11>=Rn),Ln=String.fromCharCode(32),Dn=!1;function Un(e,t){switch(e){case"keyup":return-1!==jn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Bn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Zn=!1;var Vn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function qn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Vn[e.type]:"textarea"===t}function $n(e,t,n,r){Ee(r),0<(t=Hr(t,"onChange")).length&&(n=new cn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Hn=null,Wn=null;function Qn(e){Lr(e,0)}function Kn(e){if(W(_a(e)))return e}function Jn(e,t){if("change"===e)return t}var Gn=!1;if(c){var Yn;if(c){var Xn="oninput"in document;if(!Xn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Xn="function"===typeof er.oninput}Yn=Xn}else Yn=!1;Gn=Yn&&(!document.documentMode||9<document.documentMode)}function tr(){Hn&&(Hn.detachEvent("onpropertychange",nr),Wn=Hn=null)}function nr(e){if("value"===e.propertyName&&Kn(Wn)){var t=[];$n(t,Wn,e,we(e)),Pe(Qn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Wn=n,(Hn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ar(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Kn(Wn)}function or(e,t){if("click"===e)return Kn(t)}function ir(e,t){if("input"===e||"change"===e)return Kn(t)}var sr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function lr(e,t){if(sr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var a=n[r];if(!d.call(t,a)||!sr(e[a],t[a]))return!1}return!0}function ur(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function cr(e,t){var n,r=ur(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=ur(r)}}function dr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?dr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function pr(){for(var e=window,t=Q();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Q((e=t.contentWindow).document)}return t}function fr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function hr(e){var t=pr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&dr(n.ownerDocument.documentElement,n)){if(null!==r&&fr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var a=n.textContent.length,o=Math.min(r.start,a);r=void 0===r.end?o:Math.min(r.end,a),!e.extend&&o>r&&(a=r,r=o,o=a),a=cr(n,o);var i=cr(n,r);a&&i&&(1!==e.rangeCount||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&((t=t.createRange()).setStart(a.node,a.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var mr=c&&"documentMode"in document&&11>=document.documentMode,gr=null,vr=null,yr=null,br=!1;function _r(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;br||null==gr||gr!==Q(r)||("selectionStart"in(r=gr)&&fr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},yr&&lr(yr,r)||(yr=r,0<(r=Hr(vr,"onSelect")).length&&(t=new cn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=gr)))}function wr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var kr={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionend:wr("Transition","TransitionEnd")},xr={},Sr={};function Cr(e){if(xr[e])return xr[e];if(!kr[e])return e;var t,n=kr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Sr)return xr[e]=n[t];return e}c&&(Sr=document.createElement("div").style,"AnimationEvent"in window||(delete kr.animationend.animation,delete kr.animationiteration.animation,delete kr.animationstart.animation),"TransitionEvent"in window||delete kr.transitionend.transition);var Er=Cr("animationend"),Ir=Cr("animationiteration"),Ar=Cr("animationstart"),Tr=Cr("transitionend"),Nr=new Map,Pr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Or(e,t){Nr.set(e,t),l(t,[e])}for(var jr=0;jr<Pr.length;jr++){var zr=Pr[jr];Or(zr.toLowerCase(),"on"+(zr[0].toUpperCase()+zr.slice(1)))}Or(Er,"onAnimationEnd"),Or(Ir,"onAnimationIteration"),Or(Ar,"onAnimationStart"),Or("dblclick","onDoubleClick"),Or("focusin","onFocus"),Or("focusout","onBlur"),Or(Tr,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Rr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Mr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Rr));function Fr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,a,i,s,l,u){if(Be.apply(this,arguments),Me){if(!Me)throw Error(o(198));var c=Fe;Me=!1,Fe=null,Le||(Le=!0,De=c)}}(r,t,void 0,e),e.currentTarget=null}function Lr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],a=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var i=r.length-1;0<=i;i--){var s=r[i],l=s.instance,u=s.currentTarget;if(s=s.listener,l!==o&&a.isPropagationStopped())break e;Fr(a,s,u),o=l}else for(i=0;i<r.length;i++){if(l=(s=r[i]).instance,u=s.currentTarget,s=s.listener,l!==o&&a.isPropagationStopped())break e;Fr(a,s,u),o=l}}}if(Le)throw e=De,Le=!1,De=null,e}function Dr(e,t){var n=t[ma];void 0===n&&(n=t[ma]=new Set);var r=e+"__bubble";n.has(r)||(Vr(t,e,2,!1),n.add(r))}function Ur(e,t,n){var r=0;t&&(r|=4),Vr(n,e,r,t)}var Br="_reactListening"+Math.random().toString(36).slice(2);function Zr(e){if(!e[Br]){e[Br]=!0,i.forEach((function(t){"selectionchange"!==t&&(Mr.has(t)||Ur(t,!1,e),Ur(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Br]||(t[Br]=!0,Ur("selectionchange",!1,t))}}function Vr(e,t,n,r){switch(Jt(t)){case 1:var a=$t;break;case 4:a=Ht;break;default:a=Wt}n=a.bind(null,t,n,e),a=void 0,!je||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(a=!0),r?void 0!==a?e.addEventListener(t,n,{capture:!0,passive:a}):e.addEventListener(t,n,!0):void 0!==a?e.addEventListener(t,n,{passive:a}):e.addEventListener(t,n,!1)}function qr(e,t,n,r,a){var o=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var i=r.tag;if(3===i||4===i){var s=r.stateNode.containerInfo;if(s===a||8===s.nodeType&&s.parentNode===a)break;if(4===i)for(i=r.return;null!==i;){var l=i.tag;if((3===l||4===l)&&((l=i.stateNode.containerInfo)===a||8===l.nodeType&&l.parentNode===a))return;i=i.return}for(;null!==s;){if(null===(i=ya(s)))return;if(5===(l=i.tag)||6===l){r=o=i;continue e}s=s.parentNode}}r=r.return}Pe((function(){var r=o,a=we(n),i=[];e:{var s=Nr.get(e);if(void 0!==s){var l=cn,u=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=In;break;case"focusin":u="focus",l=gn;break;case"focusout":u="blur",l=gn;break;case"beforeblur":case"afterblur":l=gn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=hn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=mn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Tn;break;case Er:case Ir:case Ar:l=vn;break;case Tr:l=Nn;break;case"scroll":l=pn;break;case"wheel":l=On;break;case"copy":case"cut":case"paste":l=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=An}var c=0!==(4&t),d=!c&&"scroll"===e,p=c?null!==s?s+"Capture":null:s;c=[];for(var f,h=r;null!==h;){var m=(f=h).stateNode;if(5===f.tag&&null!==m&&(f=m,null!==p&&(null!=(m=Oe(h,p))&&c.push($r(h,m,f)))),d)break;h=h.return}0<c.length&&(s=new l(s,u,null,n,a),i.push({event:s,listeners:c}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===_e||!(u=n.relatedTarget||n.fromElement)||!ya(u)&&!u[ha])&&(l||s)&&(s=a.window===a?a:(s=a.ownerDocument)?s.defaultView||s.parentWindow:window,l?(l=r,null!==(u=(u=n.relatedTarget||n.toElement)?ya(u):null)&&(u!==(d=Ze(u))||5!==u.tag&&6!==u.tag)&&(u=null)):(l=null,u=r),l!==u)){if(c=hn,m="onMouseLeave",p="onMouseEnter",h="mouse","pointerout"!==e&&"pointerover"!==e||(c=An,m="onPointerLeave",p="onPointerEnter",h="pointer"),d=null==l?s:_a(l),f=null==u?s:_a(u),(s=new c(m,h+"leave",l,n,a)).target=d,s.relatedTarget=f,m=null,ya(a)===r&&((c=new c(p,h+"enter",u,n,a)).target=f,c.relatedTarget=d,m=c),d=m,l&&u)e:{for(p=u,h=0,f=c=l;f;f=Wr(f))h++;for(f=0,m=p;m;m=Wr(m))f++;for(;0<h-f;)c=Wr(c),h--;for(;0<f-h;)p=Wr(p),f--;for(;h--;){if(c===p||null!==p&&c===p.alternate)break e;c=Wr(c),p=Wr(p)}c=null}else c=null;null!==l&&Qr(i,s,l,c,!1),null!==u&&null!==d&&Qr(i,d,u,c,!0)}if("select"===(l=(s=r?_a(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===l&&"file"===s.type)var g=Jn;else if(qn(s))if(Gn)g=ir;else{g=ar;var v=rr}else(l=s.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(g=or);switch(g&&(g=g(e,r))?$n(i,g,n,a):(v&&v(e,s,r),"focusout"===e&&(v=s._wrapperState)&&v.controlled&&"number"===s.type&&ee(s,"number",s.value)),v=r?_a(r):window,e){case"focusin":(qn(v)||"true"===v.contentEditable)&&(gr=v,vr=r,yr=null);break;case"focusout":yr=vr=gr=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,_r(i,n,a);break;case"selectionchange":if(mr)break;case"keydown":case"keyup":_r(i,n,a)}var y;if(zn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Zn?Un(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Fn&&"ko"!==n.locale&&(Zn||"onCompositionStart"!==b?"onCompositionEnd"===b&&Zn&&(y=en()):(Yt="value"in(Gt=a)?Gt.value:Gt.textContent,Zn=!0)),0<(v=Hr(r,b)).length&&(b=new _n(b,e,null,n,a),i.push({event:b,listeners:v}),y?b.data=y:null!==(y=Bn(n))&&(b.data=y))),(y=Mn?function(e,t){switch(e){case"compositionend":return Bn(t);case"keypress":return 32!==t.which?null:(Dn=!0,Ln);case"textInput":return(e=t.data)===Ln&&Dn?null:e;default:return null}}(e,n):function(e,t){if(Zn)return"compositionend"===e||!zn&&Un(e,t)?(e=en(),Xt=Yt=Gt=null,Zn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Fn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Hr(r,"onBeforeInput")).length&&(a=new _n("onBeforeInput","beforeinput",null,n,a),i.push({event:a,listeners:r}),a.data=y))}Lr(i,t)}))}function $r(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Hr(e,t){for(var n=t+"Capture",r=[];null!==e;){var a=e,o=a.stateNode;5===a.tag&&null!==o&&(a=o,null!=(o=Oe(e,n))&&r.unshift($r(e,o,a)),null!=(o=Oe(e,t))&&r.push($r(e,o,a))),e=e.return}return r}function Wr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Qr(e,t,n,r,a){for(var o=t._reactName,i=[];null!==n&&n!==r;){var s=n,l=s.alternate,u=s.stateNode;if(null!==l&&l===r)break;5===s.tag&&null!==u&&(s=u,a?null!=(l=Oe(n,o))&&i.unshift($r(n,l,s)):a||null!=(l=Oe(n,o))&&i.push($r(n,l,s))),n=n.return}0!==i.length&&e.push({event:t,listeners:i})}var Kr=/\r\n?/g,Jr=/\u0000|\uFFFD/g;function Gr(e){return("string"===typeof e?e:""+e).replace(Kr,"\n").replace(Jr,"")}function Yr(e,t,n){if(t=Gr(t),Gr(e)!==t&&n)throw Error(o(425))}function Xr(){}var ea=null,ta=null;function na(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ra="function"===typeof setTimeout?setTimeout:void 0,aa="function"===typeof clearTimeout?clearTimeout:void 0,oa="function"===typeof Promise?Promise:void 0,ia="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof oa?function(e){return oa.resolve(null).then(e).catch(sa)}:ra;function sa(e){setTimeout((function(){throw e}))}function la(e,t){var n=t,r=0;do{var a=n.nextSibling;if(e.removeChild(n),a&&8===a.nodeType)if("/$"===(n=a.data)){if(0===r)return e.removeChild(a),void Zt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=a}while(n);Zt(t)}function ua(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ca(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var da=Math.random().toString(36).slice(2),pa="__reactFiber$"+da,fa="__reactProps$"+da,ha="__reactContainer$"+da,ma="__reactEvents$"+da,ga="__reactListeners$"+da,va="__reactHandles$"+da;function ya(e){var t=e[pa];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ha]||n[pa]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ca(e);null!==e;){if(n=e[pa])return n;e=ca(e)}return t}n=(e=n).parentNode}return null}function ba(e){return!(e=e[pa]||e[ha])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function _a(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function wa(e){return e[fa]||null}var ka=[],xa=-1;function Sa(e){return{current:e}}function Ca(e){0>xa||(e.current=ka[xa],ka[xa]=null,xa--)}function Ea(e,t){xa++,ka[xa]=e.current,e.current=t}var Ia={},Aa=Sa(Ia),Ta=Sa(!1),Na=Ia;function Pa(e,t){var n=e.type.contextTypes;if(!n)return Ia;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var a,o={};for(a in n)o[a]=t[a];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function Oa(e){return null!==(e=e.childContextTypes)&&void 0!==e}function ja(){Ca(Ta),Ca(Aa)}function za(e,t,n){if(Aa.current!==Ia)throw Error(o(168));Ea(Aa,t),Ea(Ta,n)}function Ra(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var a in r=r.getChildContext())if(!(a in t))throw Error(o(108,V(e)||"Unknown",a));return F({},n,r)}function Ma(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ia,Na=Aa.current,Ea(Aa,e),Ea(Ta,Ta.current),!0}function Fa(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=Ra(e,t,Na),r.__reactInternalMemoizedMergedChildContext=e,Ca(Ta),Ca(Aa),Ea(Aa,e)):Ca(Ta),Ea(Ta,n)}var La=null,Da=!1,Ua=!1;function Ba(e){null===La?La=[e]:La.push(e)}function Za(){if(!Ua&&null!==La){Ua=!0;var e=0,t=bt;try{var n=La;for(bt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}La=null,Da=!1}catch(a){throw null!==La&&(La=La.slice(e+1)),We(Xe,Za),a}finally{bt=t,Ua=!1}}return null}var Va=[],qa=0,$a=null,Ha=0,Wa=[],Qa=0,Ka=null,Ja=1,Ga="";function Ya(e,t){Va[qa++]=Ha,Va[qa++]=$a,$a=e,Ha=t}function Xa(e,t,n){Wa[Qa++]=Ja,Wa[Qa++]=Ga,Wa[Qa++]=Ka,Ka=e;var r=Ja;e=Ga;var a=32-it(r)-1;r&=~(1<<a),n+=1;var o=32-it(t)+a;if(30<o){var i=a-a%5;o=(r&(1<<i)-1).toString(32),r>>=i,a-=i,Ja=1<<32-it(t)+a|n<<a|r,Ga=o+e}else Ja=1<<o|n<<a|r,Ga=e}function eo(e){null!==e.return&&(Ya(e,1),Xa(e,1,0))}function to(e){for(;e===$a;)$a=Va[--qa],Va[qa]=null,Ha=Va[--qa],Va[qa]=null;for(;e===Ka;)Ka=Wa[--Qa],Wa[Qa]=null,Ga=Wa[--Qa],Wa[Qa]=null,Ja=Wa[--Qa],Wa[Qa]=null}var no=null,ro=null,ao=!1,oo=null;function io(e,t){var n=Ou(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function so(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,no=e,ro=ua(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,no=e,ro=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Ka?{id:Ja,overflow:Ga}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Ou(18,null,null,0)).stateNode=t,n.return=e,e.child=n,no=e,ro=null,!0);default:return!1}}function lo(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function uo(e){if(ao){var t=ro;if(t){var n=t;if(!so(e,t)){if(lo(e))throw Error(o(418));t=ua(n.nextSibling);var r=no;t&&so(e,t)?io(r,n):(e.flags=-4097&e.flags|2,ao=!1,no=e)}}else{if(lo(e))throw Error(o(418));e.flags=-4097&e.flags|2,ao=!1,no=e}}}function co(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;no=e}function po(e){if(e!==no)return!1;if(!ao)return co(e),ao=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!na(e.type,e.memoizedProps)),t&&(t=ro)){if(lo(e))throw fo(),Error(o(418));for(;t;)io(e,t),t=ua(t.nextSibling)}if(co(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ro=ua(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ro=null}}else ro=no?ua(e.stateNode.nextSibling):null;return!0}function fo(){for(var e=ro;e;)e=ua(e.nextSibling)}function ho(){ro=no=null,ao=!1}function mo(e){null===oo?oo=[e]:oo.push(e)}var go=_.ReactCurrentBatchConfig;function vo(e,t){if(e&&e.defaultProps){for(var n in t=F({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var yo=Sa(null),bo=null,_o=null,wo=null;function ko(){wo=_o=bo=null}function xo(e){var t=yo.current;Ca(yo),e._currentValue=t}function So(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Co(e,t){bo=e,wo=_o=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(_s=!0),e.firstContext=null)}function Eo(e){var t=e._currentValue;if(wo!==e)if(e={context:e,memoizedValue:t,next:null},null===_o){if(null===bo)throw Error(o(308));_o=e,bo.dependencies={lanes:0,firstContext:e}}else _o=_o.next=e;return t}var Io=null;function Ao(e){null===Io?Io=[e]:Io.push(e)}function To(e,t,n,r){var a=t.interleaved;return null===a?(n.next=n,Ao(t)):(n.next=a.next,a.next=n),t.interleaved=n,No(e,r)}function No(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Po=!1;function Oo(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function jo(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function zo(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ro(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Tl)){var a=r.pending;return null===a?t.next=t:(t.next=a.next,a.next=t),r.pending=t,No(e,n)}return null===(a=r.interleaved)?(t.next=t,Ao(r)):(t.next=a.next,a.next=t),r.interleaved=t,No(e,n)}function Mo(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}function Fo(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var a=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var i={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?a=o=i:o=o.next=i,n=n.next}while(null!==n);null===o?a=o=t:o=o.next=t}else a=o=t;return n={baseState:r.baseState,firstBaseUpdate:a,lastBaseUpdate:o,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Lo(e,t,n,r){var a=e.updateQueue;Po=!1;var o=a.firstBaseUpdate,i=a.lastBaseUpdate,s=a.shared.pending;if(null!==s){a.shared.pending=null;var l=s,u=l.next;l.next=null,null===i?o=u:i.next=u,i=l;var c=e.alternate;null!==c&&((s=(c=c.updateQueue).lastBaseUpdate)!==i&&(null===s?c.firstBaseUpdate=u:s.next=u,c.lastBaseUpdate=l))}if(null!==o){var d=a.baseState;for(i=0,c=u=l=null,s=o;;){var p=s.lane,f=s.eventTime;if((r&p)===p){null!==c&&(c=c.next={eventTime:f,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var h=e,m=s;switch(p=t,f=n,m.tag){case 1:if("function"===typeof(h=m.payload)){d=h.call(f,d,p);break e}d=h;break e;case 3:h.flags=-65537&h.flags|128;case 0:if(null===(p="function"===typeof(h=m.payload)?h.call(f,d,p):h)||void 0===p)break e;d=F({},d,p);break e;case 2:Po=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,null===(p=a.effects)?a.effects=[s]:p.push(s))}else f={eventTime:f,lane:p,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===c?(u=c=f,l=d):c=c.next=f,i|=p;if(null===(s=s.next)){if(null===(s=a.shared.pending))break;s=(p=s).next,p.next=null,a.lastBaseUpdate=p,a.shared.pending=null}}if(null===c&&(l=d),a.baseState=l,a.firstBaseUpdate=u,a.lastBaseUpdate=c,null!==(t=a.shared.interleaved)){a=t;do{i|=a.lane,a=a.next}while(a!==t)}else null===o&&(a.shared.lanes=0);Fl|=i,e.lanes=i,e.memoizedState=d}}function Do(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],a=r.callback;if(null!==a){if(r.callback=null,r=n,"function"!==typeof a)throw Error(o(191,a));a.call(r)}}}var Uo=(new r.Component).refs;function Bo(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:F({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var Zo={isMounted:function(e){return!!(e=e._reactInternals)&&Ze(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=tu(),a=nu(e),o=zo(r,a);o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=Ro(e,o,a))&&(ru(t,e,a,r),Mo(t,e,a))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=tu(),a=nu(e),o=zo(r,a);o.tag=1,o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=Ro(e,o,a))&&(ru(t,e,a,r),Mo(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=tu(),r=nu(e),a=zo(n,r);a.tag=2,void 0!==t&&null!==t&&(a.callback=t),null!==(t=Ro(e,a,r))&&(ru(t,e,r,n),Mo(t,e,r))}};function Vo(e,t,n,r,a,o,i){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,i):!t.prototype||!t.prototype.isPureReactComponent||(!lr(n,r)||!lr(a,o))}function qo(e,t,n){var r=!1,a=Ia,o=t.contextType;return"object"===typeof o&&null!==o?o=Eo(o):(a=Oa(t)?Na:Aa.current,o=(r=null!==(r=t.contextTypes)&&void 0!==r)?Pa(e,a):Ia),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Zo,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=o),t}function $o(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Zo.enqueueReplaceState(t,t.state,null)}function Ho(e,t,n,r){var a=e.stateNode;a.props=n,a.state=e.memoizedState,a.refs=Uo,Oo(e);var o=t.contextType;"object"===typeof o&&null!==o?a.context=Eo(o):(o=Oa(t)?Na:Aa.current,a.context=Pa(e,o)),a.state=e.memoizedState,"function"===typeof(o=t.getDerivedStateFromProps)&&(Bo(e,t,o,n),a.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof a.getSnapshotBeforeUpdate||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||(t=a.state,"function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount(),t!==a.state&&Zo.enqueueReplaceState(a,a.state,null),Lo(e,n,a,r),a.state=e.memoizedState),"function"===typeof a.componentDidMount&&(e.flags|=4194308)}function Wo(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var a=r,i=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===i?t.ref:(t=function(e){var t=a.refs;t===Uo&&(t=a.refs={}),null===e?delete t[i]:t[i]=e},t._stringRef=i,t)}if("string"!==typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function Qo(e,t){throw e=Object.prototype.toString.call(t),Error(o(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Ko(e){return(0,e._init)(e._payload)}function Jo(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function a(e,t){return(e=zu(e,t)).index=0,e.sibling=null,e}function i(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Lu(n,e.mode,r)).return=e,t):((t=a(t,n)).return=e,t)}function u(e,t,n,r){var o=n.type;return o===x?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===o||"object"===typeof o&&null!==o&&o.$$typeof===O&&Ko(o)===t.type)?((r=a(t,n.props)).ref=Wo(e,t,n),r.return=e,r):((r=Ru(n.type,n.key,n.props,null,e.mode,r)).ref=Wo(e,t,n),r.return=e,r)}function c(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Du(n,e.mode,r)).return=e,t):((t=a(t,n.children||[])).return=e,t)}function d(e,t,n,r,o){return null===t||7!==t.tag?((t=Mu(n,e.mode,r,o)).return=e,t):((t=a(t,n)).return=e,t)}function p(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Lu(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Ru(t.type,t.key,t.props,null,e.mode,n)).ref=Wo(e,null,t),n.return=e,n;case k:return(t=Du(t,e.mode,n)).return=e,t;case O:return p(e,(0,t._init)(t._payload),n)}if(te(t)||R(t))return(t=Mu(t,e.mode,n,null)).return=e,t;Qo(e,t)}return null}function f(e,t,n,r){var a=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==a?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===a?u(e,t,n,r):null;case k:return n.key===a?c(e,t,n,r):null;case O:return f(e,t,(a=n._init)(n._payload),r)}if(te(n)||R(n))return null!==a?null:d(e,t,n,r,null);Qo(e,n)}return null}function h(e,t,n,r,a){if("string"===typeof r&&""!==r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,a);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return u(t,e=e.get(null===r.key?n:r.key)||null,r,a);case k:return c(t,e=e.get(null===r.key?n:r.key)||null,r,a);case O:return h(e,t,n,(0,r._init)(r._payload),a)}if(te(r)||R(r))return d(t,e=e.get(n)||null,r,a,null);Qo(t,r)}return null}function m(a,o,s,l){for(var u=null,c=null,d=o,m=o=0,g=null;null!==d&&m<s.length;m++){d.index>m?(g=d,d=null):g=d.sibling;var v=f(a,d,s[m],l);if(null===v){null===d&&(d=g);break}e&&d&&null===v.alternate&&t(a,d),o=i(v,o,m),null===c?u=v:c.sibling=v,c=v,d=g}if(m===s.length)return n(a,d),ao&&Ya(a,m),u;if(null===d){for(;m<s.length;m++)null!==(d=p(a,s[m],l))&&(o=i(d,o,m),null===c?u=d:c.sibling=d,c=d);return ao&&Ya(a,m),u}for(d=r(a,d);m<s.length;m++)null!==(g=h(d,a,m,s[m],l))&&(e&&null!==g.alternate&&d.delete(null===g.key?m:g.key),o=i(g,o,m),null===c?u=g:c.sibling=g,c=g);return e&&d.forEach((function(e){return t(a,e)})),ao&&Ya(a,m),u}function g(a,s,l,u){var c=R(l);if("function"!==typeof c)throw Error(o(150));if(null==(l=c.call(l)))throw Error(o(151));for(var d=c=null,m=s,g=s=0,v=null,y=l.next();null!==m&&!y.done;g++,y=l.next()){m.index>g?(v=m,m=null):v=m.sibling;var b=f(a,m,y.value,u);if(null===b){null===m&&(m=v);break}e&&m&&null===b.alternate&&t(a,m),s=i(b,s,g),null===d?c=b:d.sibling=b,d=b,m=v}if(y.done)return n(a,m),ao&&Ya(a,g),c;if(null===m){for(;!y.done;g++,y=l.next())null!==(y=p(a,y.value,u))&&(s=i(y,s,g),null===d?c=y:d.sibling=y,d=y);return ao&&Ya(a,g),c}for(m=r(a,m);!y.done;g++,y=l.next())null!==(y=h(m,a,g,y.value,u))&&(e&&null!==y.alternate&&m.delete(null===y.key?g:y.key),s=i(y,s,g),null===d?c=y:d.sibling=y,d=y);return e&&m.forEach((function(e){return t(a,e)})),ao&&Ya(a,g),c}return function e(r,o,i,l){if("object"===typeof i&&null!==i&&i.type===x&&null===i.key&&(i=i.props.children),"object"===typeof i&&null!==i){switch(i.$$typeof){case w:e:{for(var u=i.key,c=o;null!==c;){if(c.key===u){if((u=i.type)===x){if(7===c.tag){n(r,c.sibling),(o=a(c,i.props.children)).return=r,r=o;break e}}else if(c.elementType===u||"object"===typeof u&&null!==u&&u.$$typeof===O&&Ko(u)===c.type){n(r,c.sibling),(o=a(c,i.props)).ref=Wo(r,c,i),o.return=r,r=o;break e}n(r,c);break}t(r,c),c=c.sibling}i.type===x?((o=Mu(i.props.children,r.mode,l,i.key)).return=r,r=o):((l=Ru(i.type,i.key,i.props,null,r.mode,l)).ref=Wo(r,o,i),l.return=r,r=l)}return s(r);case k:e:{for(c=i.key;null!==o;){if(o.key===c){if(4===o.tag&&o.stateNode.containerInfo===i.containerInfo&&o.stateNode.implementation===i.implementation){n(r,o.sibling),(o=a(o,i.children||[])).return=r,r=o;break e}n(r,o);break}t(r,o),o=o.sibling}(o=Du(i,r.mode,l)).return=r,r=o}return s(r);case O:return e(r,o,(c=i._init)(i._payload),l)}if(te(i))return m(r,o,i,l);if(R(i))return g(r,o,i,l);Qo(r,i)}return"string"===typeof i&&""!==i||"number"===typeof i?(i=""+i,null!==o&&6===o.tag?(n(r,o.sibling),(o=a(o,i)).return=r,r=o):(n(r,o),(o=Lu(i,r.mode,l)).return=r,r=o),s(r)):n(r,o)}}var Go=Jo(!0),Yo=Jo(!1),Xo={},ei=Sa(Xo),ti=Sa(Xo),ni=Sa(Xo);function ri(e){if(e===Xo)throw Error(o(174));return e}function ai(e,t){switch(Ea(ni,t),Ea(ti,e),Ea(ei,Xo),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ca(ei),Ea(ei,t)}function oi(){Ca(ei),Ca(ti),Ca(ni)}function ii(e){ri(ni.current);var t=ri(ei.current),n=le(t,e.type);t!==n&&(Ea(ti,e),Ea(ei,n))}function si(e){ti.current===e&&(Ca(ei),Ca(ti))}var li=Sa(0);function ui(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ci=[];function di(){for(var e=0;e<ci.length;e++)ci[e]._workInProgressVersionPrimary=null;ci.length=0}var pi=_.ReactCurrentDispatcher,fi=_.ReactCurrentBatchConfig,hi=0,mi=null,gi=null,vi=null,yi=!1,bi=!1,_i=0,wi=0;function ki(){throw Error(o(321))}function xi(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!sr(e[n],t[n]))return!1;return!0}function Si(e,t,n,r,a,i){if(hi=i,mi=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,pi.current=null===e||null===e.memoizedState?ss:ls,e=n(r,a),bi){i=0;do{if(bi=!1,_i=0,25<=i)throw Error(o(301));i+=1,vi=gi=null,t.updateQueue=null,pi.current=us,e=n(r,a)}while(bi)}if(pi.current=is,t=null!==gi&&null!==gi.next,hi=0,vi=gi=mi=null,yi=!1,t)throw Error(o(300));return e}function Ci(){var e=0!==_i;return _i=0,e}function Ei(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===vi?mi.memoizedState=vi=e:vi=vi.next=e,vi}function Ii(){if(null===gi){var e=mi.alternate;e=null!==e?e.memoizedState:null}else e=gi.next;var t=null===vi?mi.memoizedState:vi.next;if(null!==t)vi=t,gi=e;else{if(null===e)throw Error(o(310));e={memoizedState:(gi=e).memoizedState,baseState:gi.baseState,baseQueue:gi.baseQueue,queue:gi.queue,next:null},null===vi?mi.memoizedState=vi=e:vi=vi.next=e}return vi}function Ai(e,t){return"function"===typeof t?t(e):t}function Ti(e){var t=Ii(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=gi,a=r.baseQueue,i=n.pending;if(null!==i){if(null!==a){var s=a.next;a.next=i.next,i.next=s}r.baseQueue=a=i,n.pending=null}if(null!==a){i=a.next,r=r.baseState;var l=s=null,u=null,c=i;do{var d=c.lane;if((hi&d)===d)null!==u&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var p={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};null===u?(l=u=p,s=r):u=u.next=p,mi.lanes|=d,Fl|=d}c=c.next}while(null!==c&&c!==i);null===u?s=r:u.next=l,sr(r,t.memoizedState)||(_s=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=u,n.lastRenderedState=r}if(null!==(e=n.interleaved)){a=e;do{i=a.lane,mi.lanes|=i,Fl|=i,a=a.next}while(a!==e)}else null===a&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ni(e){var t=Ii(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,a=n.pending,i=t.memoizedState;if(null!==a){n.pending=null;var s=a=a.next;do{i=e(i,s.action),s=s.next}while(s!==a);sr(i,t.memoizedState)||(_s=!0),t.memoizedState=i,null===t.baseQueue&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function Pi(){}function Oi(e,t){var n=mi,r=Ii(),a=t(),i=!sr(r.memoizedState,a);if(i&&(r.memoizedState=a,_s=!0),r=r.queue,qi(Ri.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||null!==vi&&1&vi.memoizedState.tag){if(n.flags|=2048,Di(9,zi.bind(null,n,r,a,t),void 0,null),null===Nl)throw Error(o(349));0!==(30&hi)||ji(n,t,a)}return a}function ji(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=mi.updateQueue)?(t={lastEffect:null,stores:null},mi.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function zi(e,t,n,r){t.value=n,t.getSnapshot=r,Mi(t)&&Fi(e)}function Ri(e,t,n){return n((function(){Mi(t)&&Fi(e)}))}function Mi(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!sr(e,n)}catch(r){return!0}}function Fi(e){var t=No(e,1);null!==t&&ru(t,e,1,-1)}function Li(e){var t=Ei();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ai,lastRenderedState:e},t.queue=e,e=e.dispatch=ns.bind(null,mi,e),[t.memoizedState,e]}function Di(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=mi.updateQueue)?(t={lastEffect:null,stores:null},mi.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Ui(){return Ii().memoizedState}function Bi(e,t,n,r){var a=Ei();mi.flags|=e,a.memoizedState=Di(1|t,n,void 0,void 0===r?null:r)}function Zi(e,t,n,r){var a=Ii();r=void 0===r?null:r;var o=void 0;if(null!==gi){var i=gi.memoizedState;if(o=i.destroy,null!==r&&xi(r,i.deps))return void(a.memoizedState=Di(t,n,o,r))}mi.flags|=e,a.memoizedState=Di(1|t,n,o,r)}function Vi(e,t){return Bi(8390656,8,e,t)}function qi(e,t){return Zi(2048,8,e,t)}function $i(e,t){return Zi(4,2,e,t)}function Hi(e,t){return Zi(4,4,e,t)}function Wi(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Qi(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Zi(4,4,Wi.bind(null,t,e),n)}function Ki(){}function Ji(e,t){var n=Ii();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&xi(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Gi(e,t){var n=Ii();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&xi(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Yi(e,t,n){return 0===(21&hi)?(e.baseState&&(e.baseState=!1,_s=!0),e.memoizedState=n):(sr(n,t)||(n=mt(),mi.lanes|=n,Fl|=n,e.baseState=!0),t)}function Xi(e,t){var n=bt;bt=0!==n&&4>n?n:4,e(!0);var r=fi.transition;fi.transition={};try{e(!1),t()}finally{bt=n,fi.transition=r}}function es(){return Ii().memoizedState}function ts(e,t,n){var r=nu(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},rs(e))as(t,n);else if(null!==(n=To(e,t,n,r))){ru(n,e,r,tu()),os(n,t,r)}}function ns(e,t,n){var r=nu(e),a={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(rs(e))as(t,a);else{var o=e.alternate;if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var i=t.lastRenderedState,s=o(i,n);if(a.hasEagerState=!0,a.eagerState=s,sr(s,i)){var l=t.interleaved;return null===l?(a.next=a,Ao(t)):(a.next=l.next,l.next=a),void(t.interleaved=a)}}catch(u){}null!==(n=To(e,t,a,r))&&(ru(n,e,r,a=tu()),os(n,t,r))}}function rs(e){var t=e.alternate;return e===mi||null!==t&&t===mi}function as(e,t){bi=yi=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function os(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}var is={readContext:Eo,useCallback:ki,useContext:ki,useEffect:ki,useImperativeHandle:ki,useInsertionEffect:ki,useLayoutEffect:ki,useMemo:ki,useReducer:ki,useRef:ki,useState:ki,useDebugValue:ki,useDeferredValue:ki,useTransition:ki,useMutableSource:ki,useSyncExternalStore:ki,useId:ki,unstable_isNewReconciler:!1},ss={readContext:Eo,useCallback:function(e,t){return Ei().memoizedState=[e,void 0===t?null:t],e},useContext:Eo,useEffect:Vi,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Bi(4194308,4,Wi.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Bi(4194308,4,e,t)},useInsertionEffect:function(e,t){return Bi(4,2,e,t)},useMemo:function(e,t){var n=Ei();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Ei();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=ts.bind(null,mi,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Ei().memoizedState=e},useState:Li,useDebugValue:Ki,useDeferredValue:function(e){return Ei().memoizedState=e},useTransition:function(){var e=Li(!1),t=e[0];return e=Xi.bind(null,e[1]),Ei().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=mi,a=Ei();if(ao){if(void 0===n)throw Error(o(407));n=n()}else{if(n=t(),null===Nl)throw Error(o(349));0!==(30&hi)||ji(r,t,n)}a.memoizedState=n;var i={value:n,getSnapshot:t};return a.queue=i,Vi(Ri.bind(null,r,i,e),[e]),r.flags|=2048,Di(9,zi.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=Ei(),t=Nl.identifierPrefix;if(ao){var n=Ga;t=":"+t+"R"+(n=(Ja&~(1<<32-it(Ja)-1)).toString(32)+n),0<(n=_i++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=wi++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},ls={readContext:Eo,useCallback:Ji,useContext:Eo,useEffect:qi,useImperativeHandle:Qi,useInsertionEffect:$i,useLayoutEffect:Hi,useMemo:Gi,useReducer:Ti,useRef:Ui,useState:function(){return Ti(Ai)},useDebugValue:Ki,useDeferredValue:function(e){return Yi(Ii(),gi.memoizedState,e)},useTransition:function(){return[Ti(Ai)[0],Ii().memoizedState]},useMutableSource:Pi,useSyncExternalStore:Oi,useId:es,unstable_isNewReconciler:!1},us={readContext:Eo,useCallback:Ji,useContext:Eo,useEffect:qi,useImperativeHandle:Qi,useInsertionEffect:$i,useLayoutEffect:Hi,useMemo:Gi,useReducer:Ni,useRef:Ui,useState:function(){return Ni(Ai)},useDebugValue:Ki,useDeferredValue:function(e){var t=Ii();return null===gi?t.memoizedState=e:Yi(t,gi.memoizedState,e)},useTransition:function(){return[Ni(Ai)[0],Ii().memoizedState]},useMutableSource:Pi,useSyncExternalStore:Oi,useId:es,unstable_isNewReconciler:!1};function cs(e,t){try{var n="",r=t;do{n+=B(r),r=r.return}while(r);var a=n}catch(o){a="\nError generating stack: "+o.message+"\n"+o.stack}return{value:e,source:t,stack:a,digest:null}}function ds(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function ps(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var fs="function"===typeof WeakMap?WeakMap:Map;function hs(e,t,n){(n=zo(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){$l||($l=!0,Hl=r),ps(0,t)},n}function ms(e,t,n){(n=zo(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var a=t.value;n.payload=function(){return r(a)},n.callback=function(){ps(0,t)}}var o=e.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(n.callback=function(){ps(0,t),"function"!==typeof r&&(null===Wl?Wl=new Set([this]):Wl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function gs(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new fs;var a=new Set;r.set(t,a)}else void 0===(a=r.get(t))&&(a=new Set,r.set(t,a));a.has(n)||(a.add(n),e=Eu.bind(null,e,t,n),t.then(e,e))}function vs(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function ys(e,t,n,r,a){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=zo(-1,1)).tag=2,Ro(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=a,e)}var bs=_.ReactCurrentOwner,_s=!1;function ws(e,t,n,r){t.child=null===e?Yo(t,null,n,r):Go(t,e.child,n,r)}function ks(e,t,n,r,a){n=n.render;var o=t.ref;return Co(t,a),r=Si(e,t,n,r,o,a),n=Ci(),null===e||_s?(ao&&n&&eo(t),t.flags|=1,ws(e,t,r,a),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,$s(e,t,a))}function xs(e,t,n,r,a){if(null===e){var o=n.type;return"function"!==typeof o||ju(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Ru(n.type,null,r,t,t.mode,a)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,Ss(e,t,o,r,a))}if(o=e.child,0===(e.lanes&a)){var i=o.memoizedProps;if((n=null!==(n=n.compare)?n:lr)(i,r)&&e.ref===t.ref)return $s(e,t,a)}return t.flags|=1,(e=zu(o,r)).ref=t.ref,e.return=t,t.child=e}function Ss(e,t,n,r,a){if(null!==e){var o=e.memoizedProps;if(lr(o,r)&&e.ref===t.ref){if(_s=!1,t.pendingProps=r=o,0===(e.lanes&a))return t.lanes=e.lanes,$s(e,t,a);0!==(131072&e.flags)&&(_s=!0)}}return Is(e,t,n,r,a)}function Cs(e,t,n){var r=t.pendingProps,a=r.children,o=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ea(zl,jl),jl|=n;else{if(0===(1073741824&n))return e=null!==o?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ea(zl,jl),jl|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==o?o.baseLanes:n,Ea(zl,jl),jl|=r}else null!==o?(r=o.baseLanes|n,t.memoizedState=null):r=n,Ea(zl,jl),jl|=r;return ws(e,t,a,n),t.child}function Es(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Is(e,t,n,r,a){var o=Oa(n)?Na:Aa.current;return o=Pa(t,o),Co(t,a),n=Si(e,t,n,r,o,a),r=Ci(),null===e||_s?(ao&&r&&eo(t),t.flags|=1,ws(e,t,n,a),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,$s(e,t,a))}function As(e,t,n,r,a){if(Oa(n)){var o=!0;Ma(t)}else o=!1;if(Co(t,a),null===t.stateNode)qs(e,t),qo(t,n,r),Ho(t,n,r,a),r=!0;else if(null===e){var i=t.stateNode,s=t.memoizedProps;i.props=s;var l=i.context,u=n.contextType;"object"===typeof u&&null!==u?u=Eo(u):u=Pa(t,u=Oa(n)?Na:Aa.current);var c=n.getDerivedStateFromProps,d="function"===typeof c||"function"===typeof i.getSnapshotBeforeUpdate;d||"function"!==typeof i.UNSAFE_componentWillReceiveProps&&"function"!==typeof i.componentWillReceiveProps||(s!==r||l!==u)&&$o(t,i,r,u),Po=!1;var p=t.memoizedState;i.state=p,Lo(t,r,i,a),l=t.memoizedState,s!==r||p!==l||Ta.current||Po?("function"===typeof c&&(Bo(t,n,c,r),l=t.memoizedState),(s=Po||Vo(t,n,s,r,p,l,u))?(d||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||("function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount()),"function"===typeof i.componentDidMount&&(t.flags|=4194308)):("function"===typeof i.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),i.props=r,i.state=l,i.context=u,r=s):("function"===typeof i.componentDidMount&&(t.flags|=4194308),r=!1)}else{i=t.stateNode,jo(e,t),s=t.memoizedProps,u=t.type===t.elementType?s:vo(t.type,s),i.props=u,d=t.pendingProps,p=i.context,"object"===typeof(l=n.contextType)&&null!==l?l=Eo(l):l=Pa(t,l=Oa(n)?Na:Aa.current);var f=n.getDerivedStateFromProps;(c="function"===typeof f||"function"===typeof i.getSnapshotBeforeUpdate)||"function"!==typeof i.UNSAFE_componentWillReceiveProps&&"function"!==typeof i.componentWillReceiveProps||(s!==d||p!==l)&&$o(t,i,r,l),Po=!1,p=t.memoizedState,i.state=p,Lo(t,r,i,a);var h=t.memoizedState;s!==d||p!==h||Ta.current||Po?("function"===typeof f&&(Bo(t,n,f,r),h=t.memoizedState),(u=Po||Vo(t,n,u,r,p,h,l)||!1)?(c||"function"!==typeof i.UNSAFE_componentWillUpdate&&"function"!==typeof i.componentWillUpdate||("function"===typeof i.componentWillUpdate&&i.componentWillUpdate(r,h,l),"function"===typeof i.UNSAFE_componentWillUpdate&&i.UNSAFE_componentWillUpdate(r,h,l)),"function"===typeof i.componentDidUpdate&&(t.flags|=4),"function"===typeof i.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof i.componentDidUpdate||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),"function"!==typeof i.getSnapshotBeforeUpdate||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=h),i.props=r,i.state=h,i.context=l,r=u):("function"!==typeof i.componentDidUpdate||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),"function"!==typeof i.getSnapshotBeforeUpdate||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),r=!1)}return Ts(e,t,n,r,o,a)}function Ts(e,t,n,r,a,o){Es(e,t);var i=0!==(128&t.flags);if(!r&&!i)return a&&Fa(t,n,!1),$s(e,t,o);r=t.stateNode,bs.current=t;var s=i&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&i?(t.child=Go(t,e.child,null,o),t.child=Go(t,null,s,o)):ws(e,t,s,o),t.memoizedState=r.state,a&&Fa(t,n,!0),t.child}function Ns(e){var t=e.stateNode;t.pendingContext?za(0,t.pendingContext,t.pendingContext!==t.context):t.context&&za(0,t.context,!1),ai(e,t.containerInfo)}function Ps(e,t,n,r,a){return ho(),mo(a),t.flags|=256,ws(e,t,n,r),t.child}var Os,js,zs,Rs,Ms={dehydrated:null,treeContext:null,retryLane:0};function Fs(e){return{baseLanes:e,cachePool:null,transitions:null}}function Ls(e,t,n){var r,a=t.pendingProps,i=li.current,s=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&i)),r?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(i|=1),Ea(li,1&i),null===e)return uo(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=a.children,e=a.fallback,s?(a=t.mode,s=t.child,l={mode:"hidden",children:l},0===(1&a)&&null!==s?(s.childLanes=0,s.pendingProps=l):s=Fu(l,a,0,null),e=Mu(e,a,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Fs(n),t.memoizedState=Ms,e):Ds(t,l));if(null!==(i=e.memoizedState)&&null!==(r=i.dehydrated))return function(e,t,n,r,a,i,s){if(n)return 256&t.flags?(t.flags&=-257,Us(e,t,s,r=ds(Error(o(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(i=r.fallback,a=t.mode,r=Fu({mode:"visible",children:r.children},a,0,null),(i=Mu(i,a,s,null)).flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,0!==(1&t.mode)&&Go(t,e.child,null,s),t.child.memoizedState=Fs(s),t.memoizedState=Ms,i);if(0===(1&t.mode))return Us(e,t,s,null);if("$!"===a.data){if(r=a.nextSibling&&a.nextSibling.dataset)var l=r.dgst;return r=l,Us(e,t,s,r=ds(i=Error(o(419)),r,void 0))}if(l=0!==(s&e.childLanes),_s||l){if(null!==(r=Nl)){switch(s&-s){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}0!==(a=0!==(a&(r.suspendedLanes|s))?0:a)&&a!==i.retryLane&&(i.retryLane=a,No(e,a),ru(r,e,a,-1))}return gu(),Us(e,t,s,r=ds(Error(o(421))))}return"$?"===a.data?(t.flags|=128,t.child=e.child,t=Au.bind(null,e),a._reactRetry=t,null):(e=i.treeContext,ro=ua(a.nextSibling),no=t,ao=!0,oo=null,null!==e&&(Wa[Qa++]=Ja,Wa[Qa++]=Ga,Wa[Qa++]=Ka,Ja=e.id,Ga=e.overflow,Ka=t),t=Ds(t,r.children),t.flags|=4096,t)}(e,t,l,a,r,i,n);if(s){s=a.fallback,l=t.mode,r=(i=e.child).sibling;var u={mode:"hidden",children:a.children};return 0===(1&l)&&t.child!==i?((a=t.child).childLanes=0,a.pendingProps=u,t.deletions=null):(a=zu(i,u)).subtreeFlags=14680064&i.subtreeFlags,null!==r?s=zu(r,s):(s=Mu(s,l,n,null)).flags|=2,s.return=t,a.return=t,a.sibling=s,t.child=a,a=s,s=t.child,l=null===(l=e.child.memoizedState)?Fs(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},s.memoizedState=l,s.childLanes=e.childLanes&~n,t.memoizedState=Ms,a}return e=(s=e.child).sibling,a=zu(s,{mode:"visible",children:a.children}),0===(1&t.mode)&&(a.lanes=n),a.return=t,a.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=a,t.memoizedState=null,a}function Ds(e,t){return(t=Fu({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Us(e,t,n,r){return null!==r&&mo(r),Go(t,e.child,null,n),(e=Ds(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Bs(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),So(e.return,t,n)}function Zs(e,t,n,r,a){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:a}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=a)}function Vs(e,t,n){var r=t.pendingProps,a=r.revealOrder,o=r.tail;if(ws(e,t,r.children,n),0!==(2&(r=li.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Bs(e,n,t);else if(19===e.tag)Bs(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ea(li,r),0===(1&t.mode))t.memoizedState=null;else switch(a){case"forwards":for(n=t.child,a=null;null!==n;)null!==(e=n.alternate)&&null===ui(e)&&(a=n),n=n.sibling;null===(n=a)?(a=t.child,t.child=null):(a=n.sibling,n.sibling=null),Zs(t,!1,a,n,o);break;case"backwards":for(n=null,a=t.child,t.child=null;null!==a;){if(null!==(e=a.alternate)&&null===ui(e)){t.child=a;break}e=a.sibling,a.sibling=n,n=a,a=e}Zs(t,!0,n,null,o);break;case"together":Zs(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function qs(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function $s(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Fl|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=zu(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=zu(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Hs(e,t){if(!ao)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ws(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var a=e.child;null!==a;)n|=a.lanes|a.childLanes,r|=14680064&a.subtreeFlags,r|=14680064&a.flags,a.return=e,a=a.sibling;else for(a=e.child;null!==a;)n|=a.lanes|a.childLanes,r|=a.subtreeFlags,r|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Qs(e,t,n){var r=t.pendingProps;switch(to(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ws(t),null;case 1:case 17:return Oa(t.type)&&ja(),Ws(t),null;case 3:return r=t.stateNode,oi(),Ca(Ta),Ca(Aa),di(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(po(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==oo&&(su(oo),oo=null))),js(e,t),Ws(t),null;case 5:si(t);var a=ri(ni.current);if(n=t.type,null!==e&&null!=t.stateNode)zs(e,t,n,r,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(o(166));return Ws(t),null}if(e=ri(ei.current),po(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[pa]=t,r[fa]=i,e=0!==(1&t.mode),n){case"dialog":Dr("cancel",r),Dr("close",r);break;case"iframe":case"object":case"embed":Dr("load",r);break;case"video":case"audio":for(a=0;a<Rr.length;a++)Dr(Rr[a],r);break;case"source":Dr("error",r);break;case"img":case"image":case"link":Dr("error",r),Dr("load",r);break;case"details":Dr("toggle",r);break;case"input":J(r,i),Dr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Dr("invalid",r);break;case"textarea":ae(r,i),Dr("invalid",r)}for(var l in ye(n,i),a=null,i)if(i.hasOwnProperty(l)){var u=i[l];"children"===l?"string"===typeof u?r.textContent!==u&&(!0!==i.suppressHydrationWarning&&Yr(r.textContent,u,e),a=["children",u]):"number"===typeof u&&r.textContent!==""+u&&(!0!==i.suppressHydrationWarning&&Yr(r.textContent,u,e),a=["children",""+u]):s.hasOwnProperty(l)&&null!=u&&"onScroll"===l&&Dr("scroll",r)}switch(n){case"input":H(r),X(r,i,!0);break;case"textarea":H(r),ie(r);break;case"select":case"option":break;default:"function"===typeof i.onClick&&(r.onclick=Xr)}r=a,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===a.nodeType?a:a.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=se(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[pa]=t,e[fa]=r,Os(e,t,!1,!1),t.stateNode=e;e:{switch(l=be(n,r),n){case"dialog":Dr("cancel",e),Dr("close",e),a=r;break;case"iframe":case"object":case"embed":Dr("load",e),a=r;break;case"video":case"audio":for(a=0;a<Rr.length;a++)Dr(Rr[a],e);a=r;break;case"source":Dr("error",e),a=r;break;case"img":case"image":case"link":Dr("error",e),Dr("load",e),a=r;break;case"details":Dr("toggle",e),a=r;break;case"input":J(e,r),a=K(e,r),Dr("invalid",e);break;case"option":default:a=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},a=F({},r,{value:void 0}),Dr("invalid",e);break;case"textarea":ae(e,r),a=re(e,r),Dr("invalid",e)}for(i in ye(n,a),u=a)if(u.hasOwnProperty(i)){var c=u[i];"style"===i?ge(e,c):"dangerouslySetInnerHTML"===i?null!=(c=c?c.__html:void 0)&&de(e,c):"children"===i?"string"===typeof c?("textarea"!==n||""!==c)&&pe(e,c):"number"===typeof c&&pe(e,""+c):"suppressContentEditableWarning"!==i&&"suppressHydrationWarning"!==i&&"autoFocus"!==i&&(s.hasOwnProperty(i)?null!=c&&"onScroll"===i&&Dr("scroll",e):null!=c&&b(e,i,c,l))}switch(n){case"input":H(e),X(e,r,!1);break;case"textarea":H(e),ie(e);break;case"option":null!=r.value&&e.setAttribute("value",""+q(r.value));break;case"select":e.multiple=!!r.multiple,null!=(i=r.value)?ne(e,!!r.multiple,i,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof a.onClick&&(e.onclick=Xr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Ws(t),null;case 6:if(e&&null!=t.stateNode)Rs(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(o(166));if(n=ri(ni.current),ri(ei.current),po(t)){if(r=t.stateNode,n=t.memoizedProps,r[pa]=t,(i=r.nodeValue!==n)&&null!==(e=no))switch(e.tag){case 3:Yr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Yr(r.nodeValue,n,0!==(1&e.mode))}i&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[pa]=t,t.stateNode=r}return Ws(t),null;case 13:if(Ca(li),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ao&&null!==ro&&0!==(1&t.mode)&&0===(128&t.flags))fo(),ho(),t.flags|=98560,i=!1;else if(i=po(t),null!==r&&null!==r.dehydrated){if(null===e){if(!i)throw Error(o(318));if(!(i=null!==(i=t.memoizedState)?i.dehydrated:null))throw Error(o(317));i[pa]=t}else ho(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Ws(t),i=!1}else null!==oo&&(su(oo),oo=null),i=!0;if(!i)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&li.current)?0===Rl&&(Rl=3):gu())),null!==t.updateQueue&&(t.flags|=4),Ws(t),null);case 4:return oi(),js(e,t),null===e&&Zr(t.stateNode.containerInfo),Ws(t),null;case 10:return xo(t.type._context),Ws(t),null;case 19:if(Ca(li),null===(i=t.memoizedState))return Ws(t),null;if(r=0!==(128&t.flags),null===(l=i.rendering))if(r)Hs(i,!1);else{if(0!==Rl||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=ui(e))){for(t.flags|=128,Hs(i,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(i=n).flags&=14680066,null===(l=i.alternate)?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=l.childLanes,i.lanes=l.lanes,i.child=l.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=l.memoizedProps,i.memoizedState=l.memoizedState,i.updateQueue=l.updateQueue,i.type=l.type,e=l.dependencies,i.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ea(li,1&li.current|2),t.child}e=e.sibling}null!==i.tail&&Ge()>Vl&&(t.flags|=128,r=!0,Hs(i,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=ui(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Hs(i,!0),null===i.tail&&"hidden"===i.tailMode&&!l.alternate&&!ao)return Ws(t),null}else 2*Ge()-i.renderingStartTime>Vl&&1073741824!==n&&(t.flags|=128,r=!0,Hs(i,!1),t.lanes=4194304);i.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=i.last)?n.sibling=l:t.child=l,i.last=l)}return null!==i.tail?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Ge(),t.sibling=null,n=li.current,Ea(li,r?1&n|2:1&n),t):(Ws(t),null);case 22:case 23:return pu(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&jl)&&(Ws(t),6&t.subtreeFlags&&(t.flags|=8192)):Ws(t),null;case 24:case 25:return null}throw Error(o(156,t.tag))}function Ks(e,t){switch(to(t),t.tag){case 1:return Oa(t.type)&&ja(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return oi(),Ca(Ta),Ca(Aa),di(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return si(t),null;case 13:if(Ca(li),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(o(340));ho()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ca(li),null;case 4:return oi(),null;case 10:return xo(t.type._context),null;case 22:case 23:return pu(),null;default:return null}}Os=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},js=function(){},zs=function(e,t,n,r){var a=e.memoizedProps;if(a!==r){e=t.stateNode,ri(ei.current);var o,i=null;switch(n){case"input":a=K(e,a),r=K(e,r),i=[];break;case"select":a=F({},a,{value:void 0}),r=F({},r,{value:void 0}),i=[];break;case"textarea":a=re(e,a),r=re(e,r),i=[];break;default:"function"!==typeof a.onClick&&"function"===typeof r.onClick&&(e.onclick=Xr)}for(c in ye(n,r),n=null,a)if(!r.hasOwnProperty(c)&&a.hasOwnProperty(c)&&null!=a[c])if("style"===c){var l=a[c];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==c&&"children"!==c&&"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&"autoFocus"!==c&&(s.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in r){var u=r[c];if(l=null!=a?a[c]:void 0,r.hasOwnProperty(c)&&u!==l&&(null!=u||null!=l))if("style"===c)if(l){for(o in l)!l.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in u)u.hasOwnProperty(o)&&l[o]!==u[o]&&(n||(n={}),n[o]=u[o])}else n||(i||(i=[]),i.push(c,n)),n=u;else"dangerouslySetInnerHTML"===c?(u=u?u.__html:void 0,l=l?l.__html:void 0,null!=u&&l!==u&&(i=i||[]).push(c,u)):"children"===c?"string"!==typeof u&&"number"!==typeof u||(i=i||[]).push(c,""+u):"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&(s.hasOwnProperty(c)?(null!=u&&"onScroll"===c&&Dr("scroll",e),i||l===u||(i=[])):(i=i||[]).push(c,u))}n&&(i=i||[]).push("style",n);var c=i;(t.updateQueue=c)&&(t.flags|=4)}},Rs=function(e,t,n,r){n!==r&&(t.flags|=4)};var Js=!1,Gs=!1,Ys="function"===typeof WeakSet?WeakSet:Set,Xs=null;function el(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Cu(e,t,r)}else n.current=null}function tl(e,t,n){try{n()}catch(r){Cu(e,t,r)}}var nl=!1;function rl(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var a=r=r.next;do{if((a.tag&e)===e){var o=a.destroy;a.destroy=void 0,void 0!==o&&tl(t,n,o)}a=a.next}while(a!==r)}}function al(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function ol(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function il(e){var t=e.alternate;null!==t&&(e.alternate=null,il(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[pa],delete t[fa],delete t[ma],delete t[ga],delete t[va])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function sl(e){return 5===e.tag||3===e.tag||4===e.tag}function ll(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||sl(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ul(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Xr));else if(4!==r&&null!==(e=e.child))for(ul(e,t,n),e=e.sibling;null!==e;)ul(e,t,n),e=e.sibling}function cl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(cl(e,t,n),e=e.sibling;null!==e;)cl(e,t,n),e=e.sibling}var dl=null,pl=!1;function fl(e,t,n){for(n=n.child;null!==n;)hl(e,t,n),n=n.sibling}function hl(e,t,n){if(ot&&"function"===typeof ot.onCommitFiberUnmount)try{ot.onCommitFiberUnmount(at,n)}catch(s){}switch(n.tag){case 5:Gs||el(n,t);case 6:var r=dl,a=pl;dl=null,fl(e,t,n),pl=a,null!==(dl=r)&&(pl?(e=dl,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):dl.removeChild(n.stateNode));break;case 18:null!==dl&&(pl?(e=dl,n=n.stateNode,8===e.nodeType?la(e.parentNode,n):1===e.nodeType&&la(e,n),Zt(e)):la(dl,n.stateNode));break;case 4:r=dl,a=pl,dl=n.stateNode.containerInfo,pl=!0,fl(e,t,n),dl=r,pl=a;break;case 0:case 11:case 14:case 15:if(!Gs&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){a=r=r.next;do{var o=a,i=o.destroy;o=o.tag,void 0!==i&&(0!==(2&o)||0!==(4&o))&&tl(n,t,i),a=a.next}while(a!==r)}fl(e,t,n);break;case 1:if(!Gs&&(el(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){Cu(n,t,s)}fl(e,t,n);break;case 21:fl(e,t,n);break;case 22:1&n.mode?(Gs=(r=Gs)||null!==n.memoizedState,fl(e,t,n),Gs=r):fl(e,t,n);break;default:fl(e,t,n)}}function ml(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Ys),t.forEach((function(t){var r=Tu.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function gl(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var a=n[r];try{var i=e,s=t,l=s;e:for(;null!==l;){switch(l.tag){case 5:dl=l.stateNode,pl=!1;break e;case 3:case 4:dl=l.stateNode.containerInfo,pl=!0;break e}l=l.return}if(null===dl)throw Error(o(160));hl(i,s,a),dl=null,pl=!1;var u=a.alternate;null!==u&&(u.return=null),a.return=null}catch(c){Cu(a,t,c)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)vl(t,e),t=t.sibling}function vl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(gl(t,e),yl(e),4&r){try{rl(3,e,e.return),al(3,e)}catch(g){Cu(e,e.return,g)}try{rl(5,e,e.return)}catch(g){Cu(e,e.return,g)}}break;case 1:gl(t,e),yl(e),512&r&&null!==n&&el(n,n.return);break;case 5:if(gl(t,e),yl(e),512&r&&null!==n&&el(n,n.return),32&e.flags){var a=e.stateNode;try{pe(a,"")}catch(g){Cu(e,e.return,g)}}if(4&r&&null!=(a=e.stateNode)){var i=e.memoizedProps,s=null!==n?n.memoizedProps:i,l=e.type,u=e.updateQueue;if(e.updateQueue=null,null!==u)try{"input"===l&&"radio"===i.type&&null!=i.name&&G(a,i),be(l,s);var c=be(l,i);for(s=0;s<u.length;s+=2){var d=u[s],p=u[s+1];"style"===d?ge(a,p):"dangerouslySetInnerHTML"===d?de(a,p):"children"===d?pe(a,p):b(a,d,p,c)}switch(l){case"input":Y(a,i);break;case"textarea":oe(a,i);break;case"select":var f=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!i.multiple;var h=i.value;null!=h?ne(a,!!i.multiple,h,!1):f!==!!i.multiple&&(null!=i.defaultValue?ne(a,!!i.multiple,i.defaultValue,!0):ne(a,!!i.multiple,i.multiple?[]:"",!1))}a[fa]=i}catch(g){Cu(e,e.return,g)}}break;case 6:if(gl(t,e),yl(e),4&r){if(null===e.stateNode)throw Error(o(162));a=e.stateNode,i=e.memoizedProps;try{a.nodeValue=i}catch(g){Cu(e,e.return,g)}}break;case 3:if(gl(t,e),yl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Zt(t.containerInfo)}catch(g){Cu(e,e.return,g)}break;case 4:default:gl(t,e),yl(e);break;case 13:gl(t,e),yl(e),8192&(a=e.child).flags&&(i=null!==a.memoizedState,a.stateNode.isHidden=i,!i||null!==a.alternate&&null!==a.alternate.memoizedState||(Zl=Ge())),4&r&&ml(e);break;case 22:if(d=null!==n&&null!==n.memoizedState,1&e.mode?(Gs=(c=Gs)||d,gl(t,e),Gs=c):gl(t,e),yl(e),8192&r){if(c=null!==e.memoizedState,(e.stateNode.isHidden=c)&&!d&&0!==(1&e.mode))for(Xs=e,d=e.child;null!==d;){for(p=Xs=d;null!==Xs;){switch(h=(f=Xs).child,f.tag){case 0:case 11:case 14:case 15:rl(4,f,f.return);break;case 1:el(f,f.return);var m=f.stateNode;if("function"===typeof m.componentWillUnmount){r=f,n=f.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(g){Cu(r,n,g)}}break;case 5:el(f,f.return);break;case 22:if(null!==f.memoizedState){kl(p);continue}}null!==h?(h.return=f,Xs=h):kl(p)}d=d.sibling}e:for(d=null,p=e;;){if(5===p.tag){if(null===d){d=p;try{a=p.stateNode,c?"function"===typeof(i=a.style).setProperty?i.setProperty("display","none","important"):i.display="none":(l=p.stateNode,s=void 0!==(u=p.memoizedProps.style)&&null!==u&&u.hasOwnProperty("display")?u.display:null,l.style.display=me("display",s))}catch(g){Cu(e,e.return,g)}}}else if(6===p.tag){if(null===d)try{p.stateNode.nodeValue=c?"":p.memoizedProps}catch(g){Cu(e,e.return,g)}}else if((22!==p.tag&&23!==p.tag||null===p.memoizedState||p===e)&&null!==p.child){p.child.return=p,p=p.child;continue}if(p===e)break e;for(;null===p.sibling;){if(null===p.return||p.return===e)break e;d===p&&(d=null),p=p.return}d===p&&(d=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:gl(t,e),yl(e),4&r&&ml(e);case 21:}}function yl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(sl(n)){var r=n;break e}n=n.return}throw Error(o(160))}switch(r.tag){case 5:var a=r.stateNode;32&r.flags&&(pe(a,""),r.flags&=-33),cl(e,ll(e),a);break;case 3:case 4:var i=r.stateNode.containerInfo;ul(e,ll(e),i);break;default:throw Error(o(161))}}catch(s){Cu(e,e.return,s)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function bl(e,t,n){Xs=e,_l(e,t,n)}function _l(e,t,n){for(var r=0!==(1&e.mode);null!==Xs;){var a=Xs,o=a.child;if(22===a.tag&&r){var i=null!==a.memoizedState||Js;if(!i){var s=a.alternate,l=null!==s&&null!==s.memoizedState||Gs;s=Js;var u=Gs;if(Js=i,(Gs=l)&&!u)for(Xs=a;null!==Xs;)l=(i=Xs).child,22===i.tag&&null!==i.memoizedState?xl(a):null!==l?(l.return=i,Xs=l):xl(a);for(;null!==o;)Xs=o,_l(o,t,n),o=o.sibling;Xs=a,Js=s,Gs=u}wl(e)}else 0!==(8772&a.subtreeFlags)&&null!==o?(o.return=a,Xs=o):wl(e)}}function wl(e){for(;null!==Xs;){var t=Xs;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Gs||al(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Gs)if(null===n)r.componentDidMount();else{var a=t.elementType===t.type?n.memoizedProps:vo(t.type,n.memoizedProps);r.componentDidUpdate(a,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;null!==i&&Do(t,i,r);break;case 3:var s=t.updateQueue;if(null!==s){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Do(t,s,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var c=t.alternate;if(null!==c){var d=c.memoizedState;if(null!==d){var p=d.dehydrated;null!==p&&Zt(p)}}}break;default:throw Error(o(163))}Gs||512&t.flags&&ol(t)}catch(f){Cu(t,t.return,f)}}if(t===e){Xs=null;break}if(null!==(n=t.sibling)){n.return=t.return,Xs=n;break}Xs=t.return}}function kl(e){for(;null!==Xs;){var t=Xs;if(t===e){Xs=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Xs=n;break}Xs=t.return}}function xl(e){for(;null!==Xs;){var t=Xs;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{al(4,t)}catch(l){Cu(t,n,l)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var a=t.return;try{r.componentDidMount()}catch(l){Cu(t,a,l)}}var o=t.return;try{ol(t)}catch(l){Cu(t,o,l)}break;case 5:var i=t.return;try{ol(t)}catch(l){Cu(t,i,l)}}}catch(l){Cu(t,t.return,l)}if(t===e){Xs=null;break}var s=t.sibling;if(null!==s){s.return=t.return,Xs=s;break}Xs=t.return}}var Sl,Cl=Math.ceil,El=_.ReactCurrentDispatcher,Il=_.ReactCurrentOwner,Al=_.ReactCurrentBatchConfig,Tl=0,Nl=null,Pl=null,Ol=0,jl=0,zl=Sa(0),Rl=0,Ml=null,Fl=0,Ll=0,Dl=0,Ul=null,Bl=null,Zl=0,Vl=1/0,ql=null,$l=!1,Hl=null,Wl=null,Ql=!1,Kl=null,Jl=0,Gl=0,Yl=null,Xl=-1,eu=0;function tu(){return 0!==(6&Tl)?Ge():-1!==Xl?Xl:Xl=Ge()}function nu(e){return 0===(1&e.mode)?1:0!==(2&Tl)&&0!==Ol?Ol&-Ol:null!==go.transition?(0===eu&&(eu=mt()),eu):0!==(e=bt)?e:e=void 0===(e=window.event)?16:Jt(e.type)}function ru(e,t,n,r){if(50<Gl)throw Gl=0,Yl=null,Error(o(185));vt(e,n,r),0!==(2&Tl)&&e===Nl||(e===Nl&&(0===(2&Tl)&&(Ll|=n),4===Rl&&lu(e,Ol)),au(e,r),1===n&&0===Tl&&0===(1&t.mode)&&(Vl=Ge()+500,Da&&Za()))}function au(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,a=e.expirationTimes,o=e.pendingLanes;0<o;){var i=31-it(o),s=1<<i,l=a[i];-1===l?0!==(s&n)&&0===(s&r)||(a[i]=ft(s,t)):l<=t&&(e.expiredLanes|=s),o&=~s}}(e,t);var r=pt(e,e===Nl?Ol:0);if(0===r)null!==n&&Qe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Qe(n),1===t)0===e.tag?function(e){Da=!0,Ba(e)}(uu.bind(null,e)):Ba(uu.bind(null,e)),ia((function(){0===(6&Tl)&&Za()})),n=null;else{switch(_t(r)){case 1:n=Xe;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Nu(n,ou.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ou(e,t){if(Xl=-1,eu=0,0!==(6&Tl))throw Error(o(327));var n=e.callbackNode;if(xu()&&e.callbackNode!==n)return null;var r=pt(e,e===Nl?Ol:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=vu(e,r);else{t=r;var a=Tl;Tl|=2;var i=mu();for(Nl===e&&Ol===t||(ql=null,Vl=Ge()+500,fu(e,t));;)try{bu();break}catch(l){hu(e,l)}ko(),El.current=i,Tl=a,null!==Pl?t=0:(Nl=null,Ol=0,t=Rl)}if(0!==t){if(2===t&&(0!==(a=ht(e))&&(r=a,t=iu(e,a))),1===t)throw n=Ml,fu(e,0),lu(e,r),au(e,Ge()),n;if(6===t)lu(e,r);else{if(a=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var a=n[r],o=a.getSnapshot;a=a.value;try{if(!sr(o(),a))return!1}catch(s){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(a)&&(2===(t=vu(e,r))&&(0!==(i=ht(e))&&(r=i,t=iu(e,i))),1===t))throw n=Ml,fu(e,0),lu(e,r),au(e,Ge()),n;switch(e.finishedWork=a,e.finishedLanes=r,t){case 0:case 1:throw Error(o(345));case 2:case 5:ku(e,Bl,ql);break;case 3:if(lu(e,r),(130023424&r)===r&&10<(t=Zl+500-Ge())){if(0!==pt(e,0))break;if(((a=e.suspendedLanes)&r)!==r){tu(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=ra(ku.bind(null,e,Bl,ql),t);break}ku(e,Bl,ql);break;case 4:if(lu(e,r),(4194240&r)===r)break;for(t=e.eventTimes,a=-1;0<r;){var s=31-it(r);i=1<<s,(s=t[s])>a&&(a=s),r&=~i}if(r=a,10<(r=(120>(r=Ge()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Cl(r/1960))-r)){e.timeoutHandle=ra(ku.bind(null,e,Bl,ql),r);break}ku(e,Bl,ql);break;default:throw Error(o(329))}}}return au(e,Ge()),e.callbackNode===n?ou.bind(null,e):null}function iu(e,t){var n=Ul;return e.current.memoizedState.isDehydrated&&(fu(e,t).flags|=256),2!==(e=vu(e,t))&&(t=Bl,Bl=n,null!==t&&su(t)),e}function su(e){null===Bl?Bl=e:Bl.push.apply(Bl,e)}function lu(e,t){for(t&=~Dl,t&=~Ll,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-it(t),r=1<<n;e[n]=-1,t&=~r}}function uu(e){if(0!==(6&Tl))throw Error(o(327));xu();var t=pt(e,0);if(0===(1&t))return au(e,Ge()),null;var n=vu(e,t);if(0!==e.tag&&2===n){var r=ht(e);0!==r&&(t=r,n=iu(e,r))}if(1===n)throw n=Ml,fu(e,0),lu(e,t),au(e,Ge()),n;if(6===n)throw Error(o(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,ku(e,Bl,ql),au(e,Ge()),null}function cu(e,t){var n=Tl;Tl|=1;try{return e(t)}finally{0===(Tl=n)&&(Vl=Ge()+500,Da&&Za())}}function du(e){null!==Kl&&0===Kl.tag&&0===(6&Tl)&&xu();var t=Tl;Tl|=1;var n=Al.transition,r=bt;try{if(Al.transition=null,bt=1,e)return e()}finally{bt=r,Al.transition=n,0===(6&(Tl=t))&&Za()}}function pu(){jl=zl.current,Ca(zl)}function fu(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,aa(n)),null!==Pl)for(n=Pl.return;null!==n;){var r=n;switch(to(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&ja();break;case 3:oi(),Ca(Ta),Ca(Aa),di();break;case 5:si(r);break;case 4:oi();break;case 13:case 19:Ca(li);break;case 10:xo(r.type._context);break;case 22:case 23:pu()}n=n.return}if(Nl=e,Pl=e=zu(e.current,null),Ol=jl=t,Rl=0,Ml=null,Dl=Ll=Fl=0,Bl=Ul=null,null!==Io){for(t=0;t<Io.length;t++)if(null!==(r=(n=Io[t]).interleaved)){n.interleaved=null;var a=r.next,o=n.pending;if(null!==o){var i=o.next;o.next=a,r.next=i}n.pending=r}Io=null}return e}function hu(e,t){for(;;){var n=Pl;try{if(ko(),pi.current=is,yi){for(var r=mi.memoizedState;null!==r;){var a=r.queue;null!==a&&(a.pending=null),r=r.next}yi=!1}if(hi=0,vi=gi=mi=null,bi=!1,_i=0,Il.current=null,null===n||null===n.return){Rl=1,Ml=t,Pl=null;break}e:{var i=e,s=n.return,l=n,u=t;if(t=Ol,l.flags|=32768,null!==u&&"object"===typeof u&&"function"===typeof u.then){var c=u,d=l,p=d.tag;if(0===(1&d.mode)&&(0===p||11===p||15===p)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var h=vs(s);if(null!==h){h.flags&=-257,ys(h,s,l,0,t),1&h.mode&&gs(i,c,t),u=c;var m=(t=h).updateQueue;if(null===m){var g=new Set;g.add(u),t.updateQueue=g}else m.add(u);break e}if(0===(1&t)){gs(i,c,t),gu();break e}u=Error(o(426))}else if(ao&&1&l.mode){var v=vs(s);if(null!==v){0===(65536&v.flags)&&(v.flags|=256),ys(v,s,l,0,t),mo(cs(u,l));break e}}i=u=cs(u,l),4!==Rl&&(Rl=2),null===Ul?Ul=[i]:Ul.push(i),i=s;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t,Fo(i,hs(0,u,t));break e;case 1:l=u;var y=i.type,b=i.stateNode;if(0===(128&i.flags)&&("function"===typeof y.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Wl||!Wl.has(b)))){i.flags|=65536,t&=-t,i.lanes|=t,Fo(i,ms(i,l,t));break e}}i=i.return}while(null!==i)}wu(n)}catch(_){t=_,Pl===n&&null!==n&&(Pl=n=n.return);continue}break}}function mu(){var e=El.current;return El.current=is,null===e?is:e}function gu(){0!==Rl&&3!==Rl&&2!==Rl||(Rl=4),null===Nl||0===(268435455&Fl)&&0===(268435455&Ll)||lu(Nl,Ol)}function vu(e,t){var n=Tl;Tl|=2;var r=mu();for(Nl===e&&Ol===t||(ql=null,fu(e,t));;)try{yu();break}catch(a){hu(e,a)}if(ko(),Tl=n,El.current=r,null!==Pl)throw Error(o(261));return Nl=null,Ol=0,Rl}function yu(){for(;null!==Pl;)_u(Pl)}function bu(){for(;null!==Pl&&!Ke();)_u(Pl)}function _u(e){var t=Sl(e.alternate,e,jl);e.memoizedProps=e.pendingProps,null===t?wu(e):Pl=t,Il.current=null}function wu(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Qs(n,t,jl)))return void(Pl=n)}else{if(null!==(n=Ks(n,t)))return n.flags&=32767,void(Pl=n);if(null===e)return Rl=6,void(Pl=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Pl=t);Pl=t=e}while(null!==t);0===Rl&&(Rl=5)}function ku(e,t,n){var r=bt,a=Al.transition;try{Al.transition=null,bt=1,function(e,t,n,r){do{xu()}while(null!==Kl);if(0!==(6&Tl))throw Error(o(327));n=e.finishedWork;var a=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(o(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var a=31-it(n),o=1<<a;t[a]=0,r[a]=-1,e[a]=-1,n&=~o}}(e,i),e===Nl&&(Pl=Nl=null,Ol=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Ql||(Ql=!0,Nu(tt,(function(){return xu(),null}))),i=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||i){i=Al.transition,Al.transition=null;var s=bt;bt=1;var l=Tl;Tl|=4,Il.current=null,function(e,t){if(ea=qt,fr(e=pr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var a=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch(w){n=null;break e}var s=0,l=-1,u=-1,c=0,d=0,p=e,f=null;t:for(;;){for(var h;p!==n||0!==a&&3!==p.nodeType||(l=s+a),p!==i||0!==r&&3!==p.nodeType||(u=s+r),3===p.nodeType&&(s+=p.nodeValue.length),null!==(h=p.firstChild);)f=p,p=h;for(;;){if(p===e)break t;if(f===n&&++c===a&&(l=s),f===i&&++d===r&&(u=s),null!==(h=p.nextSibling))break;f=(p=f).parentNode}p=h}n=-1===l||-1===u?null:{start:l,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(ta={focusedElem:e,selectionRange:n},qt=!1,Xs=t;null!==Xs;)if(e=(t=Xs).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Xs=e;else for(;null!==Xs;){t=Xs;try{var m=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var g=m.memoizedProps,v=m.memoizedState,y=t.stateNode,b=y.getSnapshotBeforeUpdate(t.elementType===t.type?g:vo(t.type,g),v);y.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var _=t.stateNode.containerInfo;1===_.nodeType?_.textContent="":9===_.nodeType&&_.documentElement&&_.removeChild(_.documentElement);break;default:throw Error(o(163))}}catch(w){Cu(t,t.return,w)}if(null!==(e=t.sibling)){e.return=t.return,Xs=e;break}Xs=t.return}m=nl,nl=!1}(e,n),vl(n,e),hr(ta),qt=!!ea,ta=ea=null,e.current=n,bl(n,e,a),Je(),Tl=l,bt=s,Al.transition=i}else e.current=n;if(Ql&&(Ql=!1,Kl=e,Jl=a),i=e.pendingLanes,0===i&&(Wl=null),function(e){if(ot&&"function"===typeof ot.onCommitFiberRoot)try{ot.onCommitFiberRoot(at,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),au(e,Ge()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)a=t[n],r(a.value,{componentStack:a.stack,digest:a.digest});if($l)throw $l=!1,e=Hl,Hl=null,e;0!==(1&Jl)&&0!==e.tag&&xu(),i=e.pendingLanes,0!==(1&i)?e===Yl?Gl++:(Gl=0,Yl=e):Gl=0,Za()}(e,t,n,r)}finally{Al.transition=a,bt=r}return null}function xu(){if(null!==Kl){var e=_t(Jl),t=Al.transition,n=bt;try{if(Al.transition=null,bt=16>e?16:e,null===Kl)var r=!1;else{if(e=Kl,Kl=null,Jl=0,0!==(6&Tl))throw Error(o(331));var a=Tl;for(Tl|=4,Xs=e.current;null!==Xs;){var i=Xs,s=i.child;if(0!==(16&Xs.flags)){var l=i.deletions;if(null!==l){for(var u=0;u<l.length;u++){var c=l[u];for(Xs=c;null!==Xs;){var d=Xs;switch(d.tag){case 0:case 11:case 15:rl(8,d,i)}var p=d.child;if(null!==p)p.return=d,Xs=p;else for(;null!==Xs;){var f=(d=Xs).sibling,h=d.return;if(il(d),d===c){Xs=null;break}if(null!==f){f.return=h,Xs=f;break}Xs=h}}}var m=i.alternate;if(null!==m){var g=m.child;if(null!==g){m.child=null;do{var v=g.sibling;g.sibling=null,g=v}while(null!==g)}}Xs=i}}if(0!==(2064&i.subtreeFlags)&&null!==s)s.return=i,Xs=s;else e:for(;null!==Xs;){if(0!==(2048&(i=Xs).flags))switch(i.tag){case 0:case 11:case 15:rl(9,i,i.return)}var y=i.sibling;if(null!==y){y.return=i.return,Xs=y;break e}Xs=i.return}}var b=e.current;for(Xs=b;null!==Xs;){var _=(s=Xs).child;if(0!==(2064&s.subtreeFlags)&&null!==_)_.return=s,Xs=_;else e:for(s=b;null!==Xs;){if(0!==(2048&(l=Xs).flags))try{switch(l.tag){case 0:case 11:case 15:al(9,l)}}catch(k){Cu(l,l.return,k)}if(l===s){Xs=null;break e}var w=l.sibling;if(null!==w){w.return=l.return,Xs=w;break e}Xs=l.return}}if(Tl=a,Za(),ot&&"function"===typeof ot.onPostCommitFiberRoot)try{ot.onPostCommitFiberRoot(at,e)}catch(k){}r=!0}return r}finally{bt=n,Al.transition=t}}return!1}function Su(e,t,n){e=Ro(e,t=hs(0,t=cs(n,t),1),1),t=tu(),null!==e&&(vt(e,1,t),au(e,t))}function Cu(e,t,n){if(3===e.tag)Su(e,e,n);else for(;null!==t;){if(3===t.tag){Su(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Wl||!Wl.has(r))){t=Ro(t,e=ms(t,e=cs(n,e),1),1),e=tu(),null!==t&&(vt(t,1,e),au(t,e));break}}t=t.return}}function Eu(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=tu(),e.pingedLanes|=e.suspendedLanes&n,Nl===e&&(Ol&n)===n&&(4===Rl||3===Rl&&(130023424&Ol)===Ol&&500>Ge()-Zl?fu(e,0):Dl|=n),au(e,t)}function Iu(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ct,0===(130023424&(ct<<=1))&&(ct=4194304)));var n=tu();null!==(e=No(e,t))&&(vt(e,t,n),au(e,n))}function Au(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Iu(e,n)}function Tu(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,a=e.memoizedState;null!==a&&(n=a.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(o(314))}null!==r&&r.delete(t),Iu(e,n)}function Nu(e,t){return We(e,t)}function Pu(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ou(e,t,n,r){return new Pu(e,t,n,r)}function ju(e){return!(!(e=e.prototype)||!e.isReactComponent)}function zu(e,t){var n=e.alternate;return null===n?((n=Ou(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Ru(e,t,n,r,a,i){var s=2;if(r=e,"function"===typeof e)ju(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case x:return Mu(n.children,a,i,t);case S:s=8,a|=8;break;case C:return(e=Ou(12,n,t,2|a)).elementType=C,e.lanes=i,e;case T:return(e=Ou(13,n,t,a)).elementType=T,e.lanes=i,e;case N:return(e=Ou(19,n,t,a)).elementType=N,e.lanes=i,e;case j:return Fu(n,a,i,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case E:s=10;break e;case I:s=9;break e;case A:s=11;break e;case P:s=14;break e;case O:s=16,r=null;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=Ou(s,n,t,a)).elementType=e,t.type=r,t.lanes=i,t}function Mu(e,t,n,r){return(e=Ou(7,e,r,t)).lanes=n,e}function Fu(e,t,n,r){return(e=Ou(22,e,r,t)).elementType=j,e.lanes=n,e.stateNode={isHidden:!1},e}function Lu(e,t,n){return(e=Ou(6,e,null,t)).lanes=n,e}function Du(e,t,n){return(t=Ou(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Uu(e,t,n,r,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=r,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function Bu(e,t,n,r,a,o,i,s,l){return e=new Uu(e,t,n,s,l),1===t?(t=1,!0===o&&(t|=8)):t=0,o=Ou(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Oo(o),e}function Zu(e){if(!e)return Ia;e:{if(Ze(e=e._reactInternals)!==e||1!==e.tag)throw Error(o(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Oa(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(o(171))}if(1===e.tag){var n=e.type;if(Oa(n))return Ra(e,n,t)}return t}function Vu(e,t,n,r,a,o,i,s,l){return(e=Bu(n,r,!0,e,0,o,0,s,l)).context=Zu(null),n=e.current,(o=zo(r=tu(),a=nu(n))).callback=void 0!==t&&null!==t?t:null,Ro(n,o,a),e.current.lanes=a,vt(e,a,r),au(e,r),e}function qu(e,t,n,r){var a=t.current,o=tu(),i=nu(a);return n=Zu(n),null===t.context?t.context=n:t.pendingContext=n,(t=zo(o,i)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Ro(a,t,i))&&(ru(e,a,i,o),Mo(e,a,i)),i}function $u(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Hu(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Wu(e,t){Hu(e,t),(e=e.alternate)&&Hu(e,t)}Sl=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ta.current)_s=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return _s=!1,function(e,t,n){switch(t.tag){case 3:Ns(t),ho();break;case 5:ii(t);break;case 1:Oa(t.type)&&Ma(t);break;case 4:ai(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,a=t.memoizedProps.value;Ea(yo,r._currentValue),r._currentValue=a;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ea(li,1&li.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Ls(e,t,n):(Ea(li,1&li.current),null!==(e=$s(e,t,n))?e.sibling:null);Ea(li,1&li.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Vs(e,t,n);t.flags|=128}if(null!==(a=t.memoizedState)&&(a.rendering=null,a.tail=null,a.lastEffect=null),Ea(li,li.current),r)break;return null;case 22:case 23:return t.lanes=0,Cs(e,t,n)}return $s(e,t,n)}(e,t,n);_s=0!==(131072&e.flags)}else _s=!1,ao&&0!==(1048576&t.flags)&&Xa(t,Ha,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;qs(e,t),e=t.pendingProps;var a=Pa(t,Aa.current);Co(t,n),a=Si(null,t,r,e,a,n);var i=Ci();return t.flags|=1,"object"===typeof a&&null!==a&&"function"===typeof a.render&&void 0===a.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Oa(r)?(i=!0,Ma(t)):i=!1,t.memoizedState=null!==a.state&&void 0!==a.state?a.state:null,Oo(t),a.updater=Zo,t.stateNode=a,a._reactInternals=t,Ho(t,r,e,n),t=Ts(null,t,r,!0,i,n)):(t.tag=0,ao&&i&&eo(t),ws(null,t,a,n),t=t.child),t;case 16:r=t.elementType;e:{switch(qs(e,t),e=t.pendingProps,r=(a=r._init)(r._payload),t.type=r,a=t.tag=function(e){if("function"===typeof e)return ju(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===A)return 11;if(e===P)return 14}return 2}(r),e=vo(r,e),a){case 0:t=Is(null,t,r,e,n);break e;case 1:t=As(null,t,r,e,n);break e;case 11:t=ks(null,t,r,e,n);break e;case 14:t=xs(null,t,r,vo(r.type,e),n);break e}throw Error(o(306,r,""))}return t;case 0:return r=t.type,a=t.pendingProps,Is(e,t,r,a=t.elementType===r?a:vo(r,a),n);case 1:return r=t.type,a=t.pendingProps,As(e,t,r,a=t.elementType===r?a:vo(r,a),n);case 3:e:{if(Ns(t),null===e)throw Error(o(387));r=t.pendingProps,a=(i=t.memoizedState).element,jo(e,t),Lo(t,r,null,n);var s=t.memoizedState;if(r=s.element,i.isDehydrated){if(i={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=i,t.memoizedState=i,256&t.flags){t=Ps(e,t,r,n,a=cs(Error(o(423)),t));break e}if(r!==a){t=Ps(e,t,r,n,a=cs(Error(o(424)),t));break e}for(ro=ua(t.stateNode.containerInfo.firstChild),no=t,ao=!0,oo=null,n=Yo(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(ho(),r===a){t=$s(e,t,n);break e}ws(e,t,r,n)}t=t.child}return t;case 5:return ii(t),null===e&&uo(t),r=t.type,a=t.pendingProps,i=null!==e?e.memoizedProps:null,s=a.children,na(r,a)?s=null:null!==i&&na(r,i)&&(t.flags|=32),Es(e,t),ws(e,t,s,n),t.child;case 6:return null===e&&uo(t),null;case 13:return Ls(e,t,n);case 4:return ai(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Go(t,null,r,n):ws(e,t,r,n),t.child;case 11:return r=t.type,a=t.pendingProps,ks(e,t,r,a=t.elementType===r?a:vo(r,a),n);case 7:return ws(e,t,t.pendingProps,n),t.child;case 8:case 12:return ws(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,a=t.pendingProps,i=t.memoizedProps,s=a.value,Ea(yo,r._currentValue),r._currentValue=s,null!==i)if(sr(i.value,s)){if(i.children===a.children&&!Ta.current){t=$s(e,t,n);break e}}else for(null!==(i=t.child)&&(i.return=t);null!==i;){var l=i.dependencies;if(null!==l){s=i.child;for(var u=l.firstContext;null!==u;){if(u.context===r){if(1===i.tag){(u=zo(-1,n&-n)).tag=2;var c=i.updateQueue;if(null!==c){var d=(c=c.shared).pending;null===d?u.next=u:(u.next=d.next,d.next=u),c.pending=u}}i.lanes|=n,null!==(u=i.alternate)&&(u.lanes|=n),So(i.return,n,t),l.lanes|=n;break}u=u.next}}else if(10===i.tag)s=i.type===t.type?null:i.child;else if(18===i.tag){if(null===(s=i.return))throw Error(o(341));s.lanes|=n,null!==(l=s.alternate)&&(l.lanes|=n),So(s,n,t),s=i.sibling}else s=i.child;if(null!==s)s.return=i;else for(s=i;null!==s;){if(s===t){s=null;break}if(null!==(i=s.sibling)){i.return=s.return,s=i;break}s=s.return}i=s}ws(e,t,a.children,n),t=t.child}return t;case 9:return a=t.type,r=t.pendingProps.children,Co(t,n),r=r(a=Eo(a)),t.flags|=1,ws(e,t,r,n),t.child;case 14:return a=vo(r=t.type,t.pendingProps),xs(e,t,r,a=vo(r.type,a),n);case 15:return Ss(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:vo(r,a),qs(e,t),t.tag=1,Oa(r)?(e=!0,Ma(t)):e=!1,Co(t,n),qo(t,r,a),Ho(t,r,a,n),Ts(null,t,r,!0,e,n);case 19:return Vs(e,t,n);case 22:return Cs(e,t,n)}throw Error(o(156,t.tag))};var Qu="function"===typeof reportError?reportError:function(e){console.error(e)};function Ku(e){this._internalRoot=e}function Ju(e){this._internalRoot=e}function Gu(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Yu(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Xu(){}function ec(e,t,n,r,a){var o=n._reactRootContainer;if(o){var i=o;if("function"===typeof a){var s=a;a=function(){var e=$u(i);s.call(e)}}qu(t,i,e,a)}else i=function(e,t,n,r,a){if(a){if("function"===typeof r){var o=r;r=function(){var e=$u(i);o.call(e)}}var i=Vu(t,r,e,0,null,!1,0,"",Xu);return e._reactRootContainer=i,e[ha]=i.current,Zr(8===e.nodeType?e.parentNode:e),du(),i}for(;a=e.lastChild;)e.removeChild(a);if("function"===typeof r){var s=r;r=function(){var e=$u(l);s.call(e)}}var l=Bu(e,0,!1,null,0,!1,0,"",Xu);return e._reactRootContainer=l,e[ha]=l.current,Zr(8===e.nodeType?e.parentNode:e),du((function(){qu(t,l,n,r)})),l}(n,t,e,a,r);return $u(i)}Ju.prototype.render=Ku.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(o(409));qu(e,t,null,null)},Ju.prototype.unmount=Ku.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;du((function(){qu(null,e,null,null)})),t[ha]=null}},Ju.prototype.unstable_scheduleHydration=function(e){if(e){var t=St();e={blockedOn:null,target:e,priority:t};for(var n=0;n<jt.length&&0!==t&&t<jt[n].priority;n++);jt.splice(n,0,e),0===n&&Ft(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=dt(t.pendingLanes);0!==n&&(yt(t,1|n),au(t,Ge()),0===(6&Tl)&&(Vl=Ge()+500,Za()))}break;case 13:du((function(){var t=No(e,1);if(null!==t){var n=tu();ru(t,e,1,n)}})),Wu(e,1)}},kt=function(e){if(13===e.tag){var t=No(e,134217728);if(null!==t)ru(t,e,134217728,tu());Wu(e,134217728)}},xt=function(e){if(13===e.tag){var t=nu(e),n=No(e,t);if(null!==n)ru(n,e,t,tu());Wu(e,t)}},St=function(){return bt},Ct=function(e,t){var n=bt;try{return bt=e,t()}finally{bt=n}},ke=function(e,t,n){switch(t){case"input":if(Y(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var a=wa(r);if(!a)throw Error(o(90));W(r),Y(r,a)}}}break;case"textarea":oe(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ae=cu,Te=du;var tc={usingClientEntryPoint:!1,Events:[ba,_a,wa,Ee,Ie,cu]},nc={findFiberByHostInstance:ya,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},rc={bundleType:nc.bundleType,version:nc.version,rendererPackageName:nc.rendererPackageName,rendererConfig:nc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:_.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=$e(e))?null:e.stateNode},findFiberByHostInstance:nc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ac=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ac.isDisabled&&ac.supportsFiber)try{at=ac.inject(rc),ot=ac}catch(ce){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tc,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Gu(t))throw Error(o(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:k,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Gu(e))throw Error(o(299));var n=!1,r="",a=Qu;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(a=t.onRecoverableError)),t=Bu(e,1,!1,null,0,n,0,r,a),e[ha]=t.current,Zr(8===e.nodeType?e.parentNode:e),new Ku(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw e=Object.keys(e).join(","),Error(o(268,e))}return e=null===(e=$e(t))?null:e.stateNode},t.flushSync=function(e){return du(e)},t.hydrate=function(e,t,n){if(!Yu(t))throw Error(o(200));return ec(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Gu(e))throw Error(o(405));var r=null!=n&&n.hydratedSources||null,a=!1,i="",s=Qu;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(a=!0),void 0!==n.identifierPrefix&&(i=n.identifierPrefix),void 0!==n.onRecoverableError&&(s=n.onRecoverableError)),t=Vu(t,null,e,1,null!=n?n:null,a,0,i,s),e[ha]=t.current,Zr(e),r)for(e=0;e<r.length;e++)a=(a=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,a]:t.mutableSourceEagerHydrationData.push(n,a);return new Ju(t)},t.render=function(e,t,n){if(!Yu(t))throw Error(o(200));return ec(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Yu(e))throw Error(o(40));return!!e._reactRootContainer&&(du((function(){ec(null,null,e,!1,(function(){e._reactRootContainer=null,e[ha]=null}))})),!0)},t.unstable_batchedUpdates=cu,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Yu(n))throw Error(o(200));if(null==e||void 0===e._reactInternals)throw Error(o(38));return ec(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},391:(e,t,n)=>{"use strict";var r=n(950);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},950:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(730)},686:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=s(n(173)),o=n(43),i=s(o);function s(e){return e&&e.__esModule?e:{default:e}}var l={bgColor:a.default.oneOfType([a.default.object,a.default.string]).isRequired,bgD:a.default.string.isRequired,fgColor:a.default.oneOfType([a.default.object,a.default.string]).isRequired,fgD:a.default.string.isRequired,size:a.default.number.isRequired,title:a.default.string,viewBoxSize:a.default.number.isRequired,xmlns:a.default.string},u=(0,o.forwardRef)((function(e,t){var n=e.bgColor,a=e.bgD,o=e.fgD,s=e.fgColor,l=e.size,u=e.title,c=e.viewBoxSize,d=e.xmlns,p=void 0===d?"http://www.w3.org/2000/svg":d,f=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["bgColor","bgD","fgD","fgColor","size","title","viewBoxSize","xmlns"]);return i.default.createElement("svg",r({},f,{height:l,ref:t,viewBox:"0 0 "+c+" "+c,width:l,xmlns:p}),u?i.default.createElement("title",null,u):null,i.default.createElement("path",{d:a,fill:n}),i.default.createElement("path",{d:o,fill:s}))}));u.displayName="QRCodeSvg",u.propTypes=l,t.default=u},245:(e,t,n)=>{"use strict";var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=c(n(173)),o=c(n(742)),i=c(n(612)),s=n(43),l=c(s),u=c(n(686));function c(e){return e&&e.__esModule?e:{default:e}}var d={bgColor:a.default.oneOfType([a.default.object,a.default.string]),fgColor:a.default.oneOfType([a.default.object,a.default.string]),level:a.default.string,size:a.default.number,value:a.default.string.isRequired},p=(0,s.forwardRef)((function(e,t){var n=e.bgColor,a=void 0===n?"#FFFFFF":n,s=e.fgColor,c=void 0===s?"#000000":s,d=e.level,p=void 0===d?"L":d,f=e.size,h=void 0===f?256:f,m=e.value,g=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["bgColor","fgColor","level","size","value"]),v=new i.default(-1,o.default[p]);v.addData(m),v.make();var y=v.modules;return l.default.createElement(u.default,r({},g,{bgColor:a,bgD:y.map((function(e,t){return e.map((function(e,n){return e?"":"M "+n+" "+t+" l 1 0 0 1 -1 0 Z"})).join(" ")})).join(" "),fgColor:c,fgD:y.map((function(e,t){return e.map((function(e,n){return e?"M "+n+" "+t+" l 1 0 0 1 -1 0 Z":""})).join(" ")})).join(" "),ref:t,size:h,viewBoxSize:y.length}))}));p.displayName="QRCode",p.propTypes=d,t.Ay=p},153:(e,t,n)=>{"use strict";var r=n(43),a=Symbol.for("react.element"),o=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function u(e,t,n){var r,o={},u=null,c=null;for(r in void 0!==n&&(u=""+n),void 0!==t.key&&(u=""+t.key),void 0!==t.ref&&(c=t.ref),t)i.call(t,r)&&!l.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===o[r]&&(o[r]=t[r]);return{$$typeof:a,type:e,key:u,ref:c,props:o,_owner:s.current}}t.Fragment=o,t.jsx=u,t.jsxs=u},202:(e,t)=>{"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),f=Symbol.iterator;var h={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function v(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||h}function y(){}function b(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||h}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=v.prototype;var _=b.prototype=new y;_.constructor=b,m(_,v.prototype),_.isPureReactComponent=!0;var w=Array.isArray,k=Object.prototype.hasOwnProperty,x={current:null},S={key:!0,ref:!0,__self:!0,__source:!0};function C(e,t,r){var a,o={},i=null,s=null;if(null!=t)for(a in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(i=""+t.key),t)k.call(t,a)&&!S.hasOwnProperty(a)&&(o[a]=t[a]);var l=arguments.length-2;if(1===l)o.children=r;else if(1<l){for(var u=Array(l),c=0;c<l;c++)u[c]=arguments[c+2];o.children=u}if(e&&e.defaultProps)for(a in l=e.defaultProps)void 0===o[a]&&(o[a]=l[a]);return{$$typeof:n,type:e,key:i,ref:s,props:o,_owner:x.current}}function E(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var I=/\/+/g;function A(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function T(e,t,a,o,i){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var l=!1;if(null===e)l=!0;else switch(s){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return i=i(l=e),e=""===o?"."+A(l,0):o,w(i)?(a="",null!=e&&(a=e.replace(I,"$&/")+"/"),T(i,t,a,"",(function(e){return e}))):null!=i&&(E(i)&&(i=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(i,a+(!i.key||l&&l.key===i.key?"":(""+i.key).replace(I,"$&/")+"/")+e)),t.push(i)),1;if(l=0,o=""===o?".":o+":",w(e))for(var u=0;u<e.length;u++){var c=o+A(s=e[u],u);l+=T(s,t,a,c,i)}else if(c=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"===typeof c)for(e=c.call(e),u=0;!(s=e.next()).done;)l+=T(s=s.value,t,a,c=o+A(s,u++),i);else if("object"===s)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function N(e,t,n){if(null==e)return e;var r=[],a=0;return T(e,r,"","",(function(e){return t.call(n,e,a++)})),r}function P(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var O={current:null},j={transition:null},z={ReactCurrentDispatcher:O,ReactCurrentBatchConfig:j,ReactCurrentOwner:x};t.Children={map:N,forEach:function(e,t,n){N(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return N(e,(function(){t++})),t},toArray:function(e){return N(e,(function(e){return e}))||[]},only:function(e){if(!E(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=v,t.Fragment=a,t.Profiler=i,t.PureComponent=b,t.StrictMode=o,t.Suspense=c,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=z,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var a=m({},e.props),o=e.key,i=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(i=t.ref,s=x.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(u in t)k.call(t,u)&&!S.hasOwnProperty(u)&&(a[u]=void 0===t[u]&&void 0!==l?l[u]:t[u])}var u=arguments.length-2;if(1===u)a.children=r;else if(1<u){l=Array(u);for(var c=0;c<u;c++)l[c]=arguments[c+2];a.children=l}return{$$typeof:n,type:e.type,key:o,ref:i,props:a,_owner:s}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=C,t.createFactory=function(e){var t=C.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:u,render:e}},t.isValidElement=E,t.lazy=function(e){return{$$typeof:p,_payload:{_status:-1,_result:e},_init:P}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=j.transition;j.transition={};try{e()}finally{j.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return O.current.useCallback(e,t)},t.useContext=function(e){return O.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return O.current.useDeferredValue(e)},t.useEffect=function(e,t){return O.current.useEffect(e,t)},t.useId=function(){return O.current.useId()},t.useImperativeHandle=function(e,t,n){return O.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return O.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return O.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return O.current.useMemo(e,t)},t.useReducer=function(e,t,n){return O.current.useReducer(e,t,n)},t.useRef=function(e){return O.current.useRef(e)},t.useState=function(e){return O.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return O.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return O.current.useTransition()},t.version="18.2.0"},43:(e,t,n)=>{"use strict";e.exports=n(202)},579:(e,t,n)=>{"use strict";e.exports=n(153)},234:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,a=e[r];if(!(0<o(a,t)))break e;e[r]=t,e[n]=a,n=r}}function r(e){return 0===e.length?null:e[0]}function a(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,a=e.length,i=a>>>1;r<i;){var s=2*(r+1)-1,l=e[s],u=s+1,c=e[u];if(0>o(l,n))u<a&&0>o(c,l)?(e[r]=c,e[u]=n,r=u):(e[r]=l,e[s]=n,r=s);else{if(!(u<a&&0>o(c,n)))break e;e[r]=c,e[u]=n,r=u}}}return t}function o(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var i=performance;t.unstable_now=function(){return i.now()}}else{var s=Date,l=s.now();t.unstable_now=function(){return s.now()-l}}var u=[],c=[],d=1,p=null,f=3,h=!1,m=!1,g=!1,v="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function _(e){for(var t=r(c);null!==t;){if(null===t.callback)a(c);else{if(!(t.startTime<=e))break;a(c),t.sortIndex=t.expirationTime,n(u,t)}t=r(c)}}function w(e){if(g=!1,_(e),!m)if(null!==r(u))m=!0,j(k);else{var t=r(c);null!==t&&z(w,t.startTime-e)}}function k(e,n){m=!1,g&&(g=!1,y(E),E=-1),h=!0;var o=f;try{for(_(n),p=r(u);null!==p&&(!(p.expirationTime>n)||e&&!T());){var i=p.callback;if("function"===typeof i){p.callback=null,f=p.priorityLevel;var s=i(p.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?p.callback=s:p===r(u)&&a(u),_(n)}else a(u);p=r(u)}if(null!==p)var l=!0;else{var d=r(c);null!==d&&z(w,d.startTime-n),l=!1}return l}finally{p=null,f=o,h=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var x,S=!1,C=null,E=-1,I=5,A=-1;function T(){return!(t.unstable_now()-A<I)}function N(){if(null!==C){var e=t.unstable_now();A=e;var n=!0;try{n=C(!0,e)}finally{n?x():(S=!1,C=null)}}else S=!1}if("function"===typeof b)x=function(){b(N)};else if("undefined"!==typeof MessageChannel){var P=new MessageChannel,O=P.port2;P.port1.onmessage=N,x=function(){O.postMessage(null)}}else x=function(){v(N,0)};function j(e){C=e,S||(S=!0,x())}function z(e,n){E=v((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||h||(m=!0,j(k))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(u)},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,a,o){var i=t.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?i+o:i:o=i,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:d++,callback:a,priorityLevel:e,startTime:o,expirationTime:s=o+s,sortIndex:-1},o>i?(e.sortIndex=o,n(c,e),null===r(u)&&e===r(c)&&(g?(y(E),E=-1):g=!0,z(w,o-i))):(e.sortIndex=s,n(u,e),m||h||(m=!0,j(k))),e},t.unstable_shouldYield=T,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},853:(e,t,n)=>{"use strict";e.exports=n(234)}},__webpack_module_cache__={};function __webpack_require__(e){var t=__webpack_module_cache__[e];if(void 0!==t)return t.exports;var n=__webpack_module_cache__[e]={exports:{}};return __webpack_modules__[e](n,n.exports,__webpack_require__),n.exports}__webpack_require__.m=__webpack_modules__,__webpack_require__.d=(e,t)=>{for(var n in t)__webpack_require__.o(t,n)&&!__webpack_require__.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},__webpack_require__.f={},__webpack_require__.e=e=>Promise.all(Object.keys(__webpack_require__.f).reduce(((t,n)=>(__webpack_require__.f[n](e,t),t)),[])),__webpack_require__.u=e=>"static/js/"+e+".ad07704e.chunk.js",__webpack_require__.miniCssF=e=>{},__webpack_require__.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),__webpack_require__.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="dinner-debt:";__webpack_require__.l=(n,r,a,o)=>{if(e[n])e[n].push(r);else{var i,s;if(void 0!==a)for(var l=document.getElementsByTagName("script"),u=0;u<l.length;u++){var c=l[u];if(c.getAttribute("src")==n||c.getAttribute("data-webpack")==t+a){i=c;break}}i||(s=!0,(i=document.createElement("script")).charset="utf-8",i.timeout=120,__webpack_require__.nc&&i.setAttribute("nonce",__webpack_require__.nc),i.setAttribute("data-webpack",t+a),i.src=n),e[n]=[r];var d=(t,r)=>{i.onerror=i.onload=null,clearTimeout(p);var a=e[n];if(delete e[n],i.parentNode&&i.parentNode.removeChild(i),a&&a.forEach((e=>e(r))),t)return t(r)},p=setTimeout(d.bind(null,void 0,{type:"timeout",target:i}),12e4);i.onerror=d.bind(null,i.onerror),i.onload=d.bind(null,i.onload),s&&document.head.appendChild(i)}}})(),__webpack_require__.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},__webpack_require__.p="/dinner-debt/",(()=>{var e={792:0};__webpack_require__.f.j=(t,n)=>{var r=__webpack_require__.o(e,t)?e[t]:void 0;if(0!==r)if(r)n.push(r[2]);else{var a=new Promise(((n,a)=>r=e[t]=[n,a]));n.push(r[2]=a);var o=__webpack_require__.p+__webpack_require__.u(t),i=new Error;__webpack_require__.l(o,(n=>{if(__webpack_require__.o(e,t)&&(0!==(r=e[t])&&(e[t]=void 0),r)){var a=n&&("load"===n.type?"missing":n.type),o=n&&n.target&&n.target.src;i.message="Loading chunk "+t+" failed.\n("+a+": "+o+")",i.name="ChunkLoadError",i.type=a,i.request=o,r[1](i)}}),"chunk-"+t,t)}};var t=(t,n)=>{var r,a,o=n[0],i=n[1],s=n[2],l=0;if(o.some((t=>0!==e[t]))){for(r in i)__webpack_require__.o(i,r)&&(__webpack_require__.m[r]=i[r]);if(s)s(__webpack_require__)}for(t&&t(n);l<o.length;l++)a=o[l],__webpack_require__.o(e,a)&&e[a]&&e[a][0](),e[a]=0},n=self.webpackChunkdinner_debt=self.webpackChunkdinner_debt||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})();var __webpack_exports__={};(()=>{"use strict";var e={};__webpack_require__.r(e),__webpack_require__.d(e,{base64:()=>nn,base64url:()=>rn,bigint:()=>hn,boolean:()=>vn,browserEmail:()=>Kt,cidrv4:()=>en,cidrv6:()=>tn,cuid:()=>Pt,cuid2:()=>Ot,date:()=>un,datetime:()=>pn,domain:()=>on,duration:()=>Ft,e164:()=>sn,email:()=>qt,emoji:()=>Gt,extendedDuration:()=>Lt,guid:()=>Dt,hex:()=>kn,hostname:()=>an,html5Email:()=>$t,idnEmail:()=>Qt,integer:()=>mn,ipv4:()=>Yt,ipv6:()=>Xt,ksuid:()=>Rt,lowercase:()=>_n,md5_base64:()=>En,md5_base64url:()=>In,md5_hex:()=>Cn,nanoid:()=>Mt,null:()=>yn,number:()=>gn,rfc5322Email:()=>Ht,sha1_base64:()=>Tn,sha1_base64url:()=>Nn,sha1_hex:()=>An,sha256_base64:()=>On,sha256_base64url:()=>jn,sha256_hex:()=>Pn,sha384_base64:()=>Rn,sha384_base64url:()=>Mn,sha384_hex:()=>zn,sha512_base64:()=>Ln,sha512_base64url:()=>Dn,sha512_hex:()=>Fn,string:()=>fn,time:()=>dn,ulid:()=>jt,undefined:()=>bn,unicodeEmail:()=>Wt,uppercase:()=>wn,uuid:()=>Ut,uuid4:()=>Bt,uuid6:()=>Zt,uuid7:()=>Vt,xid:()=>zt});var t=__webpack_require__(43),n=__webpack_require__(391);function r(e){const{items:t,subtotal:n,total:r,tip:a,tipIsRate:o,tipIncludedInTotal:i}=e,s=function(e){let t=0;for(const{cost:n,portionsPaying:r,totalPortions:a}of e){t+=(null!==n&&void 0!==n?n:0)*((null!==r&&void 0!==r?r:1)/Math.max(1,Math.abs(null!==a&&void 0!==a?a:1)))}return t}(t),l=(null!==r&&void 0!==r?r:s)-(null!==n&&void 0!==n?n:s),u=function(e,t,n,r,a,o){var i;if(n||!e)return 0;return t?(null!==(i=null!==r&&void 0!==r?r:a)&&void 0!==i?i:o)*e/100:e}(a,o,i,r,n,s),c=l+u,d=function(e,t){return e/(null!==t&&void 0!==t?t:e)}(s,n);if(!n&&!s)return 0;return s+c*d}function a(e,t,n){if(/iPhone|iPad|iPod|Android/i.test(navigator.userAgent)){const r="venmo://paycharge?txn=pay",a="amount=".concat(e,"&note=").concat(t);return n?"".concat(r,"&").concat(a,"&recipients=").concat(n):"".concat(r,"&").concat(a)}{const r="https://venmo.com/?txn=pay",a="amount=".concat(e,"&note=").concat(t);return n?"".concat(r,"&").concat(a,"&recipients=@").concat(n):"".concat(r,"&").concat(a)}}var o=__webpack_require__(492);function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function s(e){var t=function(e,t){if("object"!=i(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=i(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==i(t)?t:t+""}function l(e,t,n){return(t=s(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function d(){const[e,n]=(0,t.useState)([(0,o.T)()]),[r,a]=(0,t.useState)(),[i,s]=(0,t.useState)(),[l,u]=(0,t.useState)(20),[d,p]=(0,t.useState)(!0),[f,h]=(0,t.useState)(!1),[m,g]=(0,t.useState)(!1);(0,t.useEffect)((()=>{const e=new URLSearchParams(window.location.search).get("data");if(e){const t=function(e){try{const t=atob(e);return console.debug("Decoded form state JSON:",t),JSON.parse(t)}catch(t){return console.error("Failed to decode form state:",t),null}}(e);t&&(n(t.items.map((e=>c(c({},e),{},{id:e.id||crypto.randomUUID()})))),a(t.subtotal),s(t.total),u(t.tip),p(t.tipIsRate),h(t.tipIncludedInTotal),g(t.isPayingMe))}}),[]);return{items:e,setItems:n,subtotal:r,setSubtotal:a,total:i,setTotal:s,tip:l,setTip:u,tipIsRate:d,setTipIsRate:p,tipIncludedInTotal:f,setTipIncludedInTotal:h,isPayingMe:m,setIsPayingMe:g,setItem:(e,t)=>{n((n=>{const r=n.slice();return r[e]=c(c({},n[e]),t),r}))},removeItem:e=>{n((t=>{const n=t.slice();return n.splice(e,1),n}))},addItem:()=>{n((e=>[...e,(0,o.T)()]))},populateFormFromReceipt:e=>{const t=e.items.map((e=>({name:e.name,cost:e.cost,portionsPaying:1,totalPortions:1,id:crypto.randomUUID()})));n(t),e.subtotal&&a(e.subtotal),e.total&&s(e.total),e.tipIncludedInTotal?(u(0),h(!0)):e.tip?(u(e.tip),p(!1),h(!1)):h(!1),console.log("Form populated successfully")},getFormState:()=>({items:e,subtotal:r,total:i,tip:l,tipIsRate:d,tipIncludedInTotal:f,isPayingMe:m})}}function p(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function f(e){var t,n,r,a=2;for("undefined"!=typeof Symbol&&(n=Symbol.asyncIterator,r=Symbol.iterator);a--;){if(n&&null!=(t=e[n]))return t.call(e);if(r&&null!=(t=e[r]))return new h(t.call(e));n="@@asyncIterator",r="@@iterator"}throw new TypeError("Object is not async iterable")}function h(e){function t(e){if(Object(e)!==e)return Promise.reject(new TypeError(e+" is not an object."));var t=e.done;return Promise.resolve(e.value).then((function(e){return{value:e,done:t}}))}return h=function(e){this.s=e,this.n=e.next},h.prototype={s:null,n:null,next:function(){return t(this.n.apply(this.s,arguments))},return:function(e){var n=this.s.return;return void 0===n?Promise.resolve({value:e,done:!0}):t(n.apply(this.s,arguments))},throw:function(e){var n=this.s.return;return void 0===n?Promise.reject(e):t(n.apply(this.s,arguments))}},new h(e)}function m(e,t){this.v=e,this.k=t}function g(e){return new m(e,0)}function v(e){var t,n;function r(t,n){try{var o=e[t](n),i=o.value,s=i instanceof m;Promise.resolve(s?i.v:i).then((function(n){if(s){var l="return"===t?"return":"next";if(!i.k||n.done)return r(l,n);n=e[l](n).value}a(o.done?"return":"normal",n)}),(function(e){r("throw",e)}))}catch(e){a("throw",e)}}function a(e,a){switch(e){case"return":t.resolve({value:a,done:!0});break;case"throw":t.reject(a);break;default:t.resolve({value:a,done:!1})}(t=t.next)?r(t.key,t.arg):n=null}this._invoke=function(e,a){return new Promise((function(o,i){var s={key:e,arg:a,resolve:o,reject:i,next:null};n?n=n.next=s:(t=n=s,r(e,a))}))},"function"!=typeof e.return&&(this.return=void 0)}v.prototype["function"==typeof Symbol&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},v.prototype.next=function(e){return this._invoke("next",e)},v.prototype.throw=function(e){return this._invoke("throw",e)},v.prototype.return=function(e){return this._invoke("return",e)};var y,b="vercel.ai.error",_=Symbol.for(b),w=class e extends Error{constructor(e){let{name:t,message:n,cause:r}=e;super(n),this[y]=!0,this.name=t,this.cause=r}static isInstance(t){return e.hasMarker(t,b)}static hasMarker(e,t){const n=Symbol.for(t);return null!=e&&"object"===typeof e&&n in e&&"boolean"===typeof e[n]&&!0===e[n]}};y=_;var k,x=w,S="AI_APICallError",C="vercel.ai.error.".concat(S),E=Symbol.for(C),I=class extends x{constructor(e){let{message:t,url:n,requestBodyValues:r,statusCode:a,responseHeaders:o,responseBody:i,cause:s,isRetryable:l=null!=a&&(408===a||409===a||429===a||a>=500),data:u}=e;super({name:S,message:t,cause:s}),this[k]=!0,this.url=n,this.requestBodyValues=r,this.statusCode=a,this.responseHeaders=o,this.responseBody=i,this.isRetryable=l,this.data=u}static isInstance(e){return x.hasMarker(e,C)}};k=E;var A,T="AI_EmptyResponseBodyError",N="vercel.ai.error.".concat(T),P=Symbol.for(N),O=class extends x{constructor(){let{message:e="Empty response body"}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super({name:T,message:e}),this[A]=!0}static isInstance(e){return x.hasMarker(e,N)}};function j(e){return null==e?"unknown error":"string"===typeof e?e:e instanceof Error?e.message:JSON.stringify(e)}A=P;var z,R="AI_InvalidArgumentError",M="vercel.ai.error.".concat(R),F=Symbol.for(M),L=class extends x{constructor(e){let{message:t,cause:n,argument:r}=e;super({name:R,message:t,cause:n}),this[z]=!0,this.argument=r}static isInstance(e){return x.hasMarker(e,M)}};z=F;var D,U="AI_InvalidPromptError",B="vercel.ai.error.".concat(U),Z=Symbol.for(B),V=class extends x{constructor(e){let{prompt:t,message:n,cause:r}=e;super({name:U,message:"Invalid prompt: ".concat(n),cause:r}),this[D]=!0,this.prompt=t}static isInstance(e){return x.hasMarker(e,B)}};D=Z;var q,$="AI_InvalidResponseDataError",H="vercel.ai.error.".concat($),W=Symbol.for(H),Q=class extends x{constructor(e){let{data:t,message:n="Invalid response data: ".concat(JSON.stringify(t),".")}=e;super({name:$,message:n}),this[q]=!0,this.data=t}static isInstance(e){return x.hasMarker(e,H)}};q=W;var K,J="AI_JSONParseError",G="vercel.ai.error.".concat(J),Y=Symbol.for(G),X=class extends x{constructor(e){let{text:t,cause:n}=e;super({name:J,message:"JSON parsing failed: Text: ".concat(t,".\nError message: ").concat(j(n)),cause:n}),this[K]=!0,this.text=t}static isInstance(e){return x.hasMarker(e,G)}};K=Y;var ee,te="AI_LoadAPIKeyError",ne="vercel.ai.error.".concat(te),re=Symbol.for(ne),ae=class extends x{constructor(e){let{message:t}=e;super({name:te,message:t}),this[ee]=!0}static isInstance(e){return x.hasMarker(e,ne)}};ee=re;var oe="AI_LoadSettingError",ie="vercel.ai.error.".concat(oe),se=Symbol.for(ie);var le="AI_NoContentGeneratedError",ue="vercel.ai.error.".concat(le),ce=Symbol.for(ue);var de,pe="AI_NoSuchModelError",fe="vercel.ai.error.".concat(pe),he=Symbol.for(fe),me=class extends x{constructor(e){let{errorName:t=pe,modelId:n,modelType:r,message:a="No such ".concat(r,": ").concat(n)}=e;super({name:t,message:a}),this[de]=!0,this.modelId=n,this.modelType=r}static isInstance(e){return x.hasMarker(e,fe)}};de=he;var ge,ve="AI_TooManyEmbeddingValuesForCallError",ye="vercel.ai.error.".concat(ve),be=Symbol.for(ye),_e=class extends x{constructor(e){super({name:ve,message:"Too many values for a single embedding call. The ".concat(e.provider,' model "').concat(e.modelId,'" can only embed up to ').concat(e.maxEmbeddingsPerCall," values per call, but ").concat(e.values.length," values were provided.")}),this[ge]=!0,this.provider=e.provider,this.modelId=e.modelId,this.maxEmbeddingsPerCall=e.maxEmbeddingsPerCall,this.values=e.values}static isInstance(e){return x.hasMarker(e,ye)}};ge=be;var we,ke="AI_TypeValidationError",xe="vercel.ai.error.".concat(ke),Se=Symbol.for(xe);we=Se;var Ce,Ee=class e extends x{constructor(e){let{value:t,cause:n}=e;super({name:ke,message:"Type validation failed: Value: ".concat(JSON.stringify(t),".\nError message: ").concat(j(n)),cause:n}),this[we]=!0,this.value=t}static isInstance(e){return x.hasMarker(e,xe)}static wrap(t){let{value:n,cause:r}=t;return e.isInstance(r)&&r.value===n?r:new e({value:n,cause:r})}},Ie="AI_UnsupportedFunctionalityError",Ae="vercel.ai.error.".concat(Ie),Te=Symbol.for(Ae),Ne=class extends x{constructor(e){let{functionality:t,message:n="'".concat(t,"' functionality not supported.")}=e;super({name:Ie,message:n}),this[Ce]=!0,this.functionality=t}static isInstance(e){return x.hasMarker(e,Ae)}};Ce=Te;class Pe extends Error{constructor(e,t){super(e),this.name="ParseError",this.type=t.type,this.field=t.field,this.value=t.value,this.line=t.line}}function Oe(e){}function je(e){if("function"==typeof e)throw new TypeError("`callbacks` must be an object, got a function instead. Did you mean `{onEvent: fn}`?");const{onEvent:t=Oe,onError:n=Oe,onRetry:r=Oe,onComment:a}=e;let o,i="",s=!0,l="",u="";function c(e){if(""===e)return l.length>0&&t({id:o,event:u||void 0,data:l.endsWith("\n")?l.slice(0,-1):l}),o=void 0,l="",void(u="");if(e.startsWith(":"))return void(a&&a(e.slice(e.startsWith(": ")?2:1)));const n=e.indexOf(":");if(-1===n)d(e,"",e);else{const t=e.slice(0,n),r=" "===e[n+1]?2:1;d(t,e.slice(n+r),e)}}function d(e,t,a){switch(e){case"event":u=t;break;case"data":l="".concat(l).concat(t,"\n");break;case"id":o=t.includes("\0")?void 0:t;break;case"retry":/^\d+$/.test(t)?r(parseInt(t,10)):n(new Pe('Invalid `retry` value: "'.concat(t,'"'),{type:"invalid-retry",value:t,line:a}));break;default:n(new Pe('Unknown field "'.concat(e.length>20?"".concat(e.slice(0,20),"\u2026"):e,'"'),{type:"unknown-field",field:e,value:t,line:a}))}}return{feed:function(e){const t=s?e.replace(/^\xEF\xBB\xBF/,""):e,[n,r]=function(e){const t=[];let n="",r=0;for(;r<e.length;){const a=e.indexOf("\r",r),o=e.indexOf("\n",r);let i=-1;if(-1!==a&&-1!==o?i=Math.min(a,o):-1!==a?i=a===e.length-1?-1:a:-1!==o&&(i=o),-1===i){n=e.slice(r);break}{const n=e.slice(r,i);t.push(n),r=i+1,"\r"===e[r-1]&&"\n"===e[r]&&r++}}return[t,n]}("".concat(i).concat(t));for(const a of n)c(a);i=r,s=!1},reset:function(){i&&(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).consume&&c(i),s=!0,o=void 0,l="",u="",i=""}}}class ze extends TransformStream{constructor(){let e,{onError:t,onRetry:n,onComment:r}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super({start(a){e=je({onEvent:e=>{a.enqueue(e)},onError(e){"terminate"===t?a.error(e):"function"==typeof t&&t(e)},onRetry:n,onComment:r})},transform(t){e.feed(t)}})}}Object.freeze({status:"aborted"});function Re(e,t,n){var r;function a(n,r){var a,o,i;Object.defineProperty(n,"_zod",{value:null!==(a=n._zod)&&void 0!==a?a:{},enumerable:!1}),null!==(o=(i=n._zod).traits)&&void 0!==o||(i.traits=new Set),n._zod.traits.add(e),t(n,r);for(const e in s.prototype)e in n||Object.defineProperty(n,e,{value:s.prototype[e].bind(n)});n._zod.constr=s,n._zod.def=r}const o=null!==(r=null===n||void 0===n?void 0:n.Parent)&&void 0!==r?r:Object;class i extends o{}function s(e){var t,r;const o=null!==n&&void 0!==n&&n.Parent?new i:this;a(o,e),null!==(t=(r=o._zod).deferred)&&void 0!==t||(r.deferred=[]);for(const n of o._zod.deferred)n();return o}return Object.defineProperty(i,"name",{value:e}),Object.defineProperty(s,"init",{value:a}),Object.defineProperty(s,Symbol.hasInstance,{value:t=>{var r;return!!(null!==n&&void 0!==n&&n.Parent&&t instanceof n.Parent)||(null===t||void 0===t||null===(r=t._zod)||void 0===r||null===(r=r.traits)||void 0===r?void 0:r.has(e))}}),Object.defineProperty(s,"name",{value:e}),s}Symbol("zod_brand");class Me extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}class Fe extends Error{constructor(e){super("Encountered unidirectional transform during encode: ".concat(e)),this.name="ZodEncodeError"}}const Le={};function De(e){return e&&Object.assign(Le,e),Le}function Ue(e){const t=Object.values(e).filter((e=>"number"===typeof e));return Object.entries(e).filter((e=>{let[n,r]=e;return-1===t.indexOf(+n)})).map((e=>{let[t,n]=e;return n}))}function Be(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"|";return e.map((e=>it(e))).join(t)}function Ze(e,t){return"bigint"===typeof t?t.toString():t}function Ve(e){return{get value(){{const t=e();return Object.defineProperty(this,"value",{value:t}),t}}}}function qe(e){return null===e||void 0===e}function $e(e){const t=e.startsWith("^")?1:0,n=e.endsWith("$")?e.length-1:e.length;return e.slice(t,n)}const He=Symbol("evaluating");function We(e,t,n){let r;Object.defineProperty(e,t,{get(){if(r!==He)return void 0===r&&(r=He,r=n()),r},set(n){Object.defineProperty(e,t,{value:n})},configurable:!0})}function Qe(e,t,n){Object.defineProperty(e,t,{value:n,writable:!0,enumerable:!0,configurable:!0})}function Ke(){const e={};for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const a of n){const t=Object.getOwnPropertyDescriptors(a);Object.assign(e,t)}return Object.defineProperties({},e)}function Je(e){return JSON.stringify(e)}const Ge="captureStackTrace"in Error?Error.captureStackTrace:function(){};function Ye(e){return"object"===typeof e&&null!==e&&!Array.isArray(e)}const Xe=Ve((()=>{var e;if("undefined"!==typeof navigator&&null!==(e=navigator)&&void 0!==e&&null!==(e=e.userAgent)&&void 0!==e&&e.includes("Cloudflare"))return!1;try{return new Function(""),!0}catch(t){return!1}}));function et(e){if(!1===Ye(e))return!1;const t=e.constructor;if(void 0===t)return!0;const n=t.prototype;return!1!==Ye(n)&&!1!==Object.prototype.hasOwnProperty.call(n,"isPrototypeOf")}function tt(e){return et(e)?c({},e):Array.isArray(e)?[...e]:e}const nt=new Set(["string","number","symbol"]);new Set(["string","number","bigint","boolean","symbol","undefined"]);function rt(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function at(e,t,n){const r=new e._zod.constr(null!==t&&void 0!==t?t:e._zod.def);return(!t||null!==n&&void 0!==n&&n.parent)&&(r._zod.parent=e),r}function ot(e){const t=e;if(!t)return{};if("string"===typeof t)return{error:()=>t};if(void 0!==(null===t||void 0===t?void 0:t.message)){if(void 0!==(null===t||void 0===t?void 0:t.error))throw new Error("Cannot specify both `message` and `error` params");t.error=t.message}return delete t.message,"string"===typeof t.error?c(c({},t),{},{error:()=>t.error}):t}function it(e){return"bigint"===typeof e?e.toString()+"n":"string"===typeof e?'"'.concat(e,'"'):"".concat(e)}const st={safeint:[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],int32:[-2147483648,2147483647],uint32:[0,4294967295],float32:[-34028234663852886e22,34028234663852886e22],float64:[-Number.MAX_VALUE,Number.MAX_VALUE]};function lt(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(!0===e.aborted)return!0;for(let r=t;r<e.issues.length;r++){var n;if(!0!==(null===(n=e.issues[r])||void 0===n?void 0:n.continue))return!0}return!1}function ut(e,t){return t.map((t=>{var n,r;return null!==(n=(r=t).path)&&void 0!==n||(r.path=[]),t.path.unshift(e),t}))}function ct(e){return"string"===typeof e?e:null===e||void 0===e?void 0:e.message}function dt(e,t,n){var r;const a=c(c({},e),{},{path:null!==(r=e.path)&&void 0!==r?r:[]});if(!e.message){var o,i,s,l,u,d,p,f,h;const r=null!==(o=null!==(i=null!==(s=null!==(l=ct(null===(u=e.inst)||void 0===u||null===(u=u._zod.def)||void 0===u||null===(d=u.error)||void 0===d?void 0:d.call(u,e)))&&void 0!==l?l:ct(null===t||void 0===t||null===(p=t.error)||void 0===p?void 0:p.call(t,e)))&&void 0!==s?s:ct(null===(f=n.customError)||void 0===f?void 0:f.call(n,e)))&&void 0!==i?i:ct(null===(h=n.localeError)||void 0===h?void 0:h.call(n,e)))&&void 0!==o?o:"Invalid input";a.message=r}return delete a.inst,delete a.continue,null!==t&&void 0!==t&&t.reportInput||delete a.input,a}function pt(e){return Array.isArray(e)?"array":"string"===typeof e?"string":"unknown"}function ft(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const[r,a,o]=t;return"string"===typeof r?{message:r,code:"custom",input:a,inst:o}:c({},r)}const ht=(e,t)=>{e.name="$ZodError",Object.defineProperty(e,"_zod",{value:e._zod,enumerable:!1}),Object.defineProperty(e,"issues",{value:t,enumerable:!1}),e.message=JSON.stringify(t,Ze,2),Object.defineProperty(e,"toString",{value:()=>e.message,enumerable:!1})},mt=Re("$ZodError",ht),gt=Re("$ZodError",ht,{Parent:Error});const vt=e=>(t,n,r,a)=>{const o=r?Object.assign(r,{async:!1}):{async:!1},i=t._zod.run({value:n,issues:[]},o);if(i instanceof Promise)throw new Me;if(i.issues.length){var s;const t=new(null!==(s=null===a||void 0===a?void 0:a.Err)&&void 0!==s?s:e)(i.issues.map((e=>dt(e,o,De()))));throw Ge(t,null===a||void 0===a?void 0:a.callee),t}return i.value},yt=e=>async(t,n,r,a)=>{const o=r?Object.assign(r,{async:!0}):{async:!0};let i=t._zod.run({value:n,issues:[]},o);if(i instanceof Promise&&(i=await i),i.issues.length){var s;const t=new(null!==(s=null===a||void 0===a?void 0:a.Err)&&void 0!==s?s:e)(i.issues.map((e=>dt(e,o,De()))));throw Ge(t,null===a||void 0===a?void 0:a.callee),t}return i.value},bt=e=>(t,n,r)=>{const a=r?c(c({},r),{},{async:!1}):{async:!1},o=t._zod.run({value:n,issues:[]},a);if(o instanceof Promise)throw new Me;return o.issues.length?{success:!1,error:new(null!==e&&void 0!==e?e:mt)(o.issues.map((e=>dt(e,a,De()))))}:{success:!0,data:o.value}},_t=bt(gt),wt=e=>async(t,n,r)=>{const a=r?Object.assign(r,{async:!0}):{async:!0};let o=t._zod.run({value:n,issues:[]},a);return o instanceof Promise&&(o=await o),o.issues.length?{success:!1,error:new e(o.issues.map((e=>dt(e,a,De()))))}:{success:!0,data:o.value}},kt=wt(gt),xt=e=>(t,n,r)=>{const a=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return vt(e)(t,n,a)},St=e=>(t,n,r)=>vt(e)(t,n,r),Ct=e=>async(t,n,r)=>{const a=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return yt(e)(t,n,a)},Et=e=>async(t,n,r)=>yt(e)(t,n,r),It=e=>(t,n,r)=>{const a=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return bt(e)(t,n,a)},At=e=>(t,n,r)=>bt(e)(t,n,r),Tt=e=>async(t,n,r)=>{const a=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return wt(e)(t,n,a)},Nt=e=>async(t,n,r)=>wt(e)(t,n,r),Pt=/^[cC][^\s-]{8,}$/,Ot=/^[0-9a-z]+$/,jt=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,zt=/^[0-9a-vA-V]{20}$/,Rt=/^[A-Za-z0-9]{27}$/,Mt=/^[a-zA-Z0-9_-]{21}$/,Ft=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,Lt=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,Dt=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,Ut=e=>e?new RegExp("^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-".concat(e,"[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$")):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/,Bt=Ut(4),Zt=Ut(6),Vt=Ut(7),qt=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,$t=/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,Ht=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,Wt=/^(?:[\0-\x08\x0E-\x1F!#-\?A-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]){1,64}@(?:[\0-\x08\x0E-\x1F!-\?A-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]){1,255}$/,Qt=Wt,Kt=/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,Jt="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";function Gt(){return new RegExp(Jt,"u")}const Yt=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,Xt=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:))$/,en=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,tn=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,nn=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,rn=/^[A-Za-z0-9_-]*$/,an=/^(?=.{1,253}\.?$)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[-0-9a-zA-Z]{0,61}[0-9a-zA-Z])?)*\.?$/,on=/^([a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?\.)+[a-zA-Z]{2,}$/,sn=/^\+(?:[0-9]){6,14}[0-9]$/,ln="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",un=new RegExp("^".concat(ln,"$"));function cn(e){const t="(?:[01]\\d|2[0-3]):[0-5]\\d";return"number"===typeof e.precision?-1===e.precision?"".concat(t):0===e.precision?"".concat(t,":[0-5]\\d"):"".concat(t,":[0-5]\\d\\.\\d{").concat(e.precision,"}"):"".concat(t,"(?::[0-5]\\d(?:\\.\\d+)?)?")}function dn(e){return new RegExp("^".concat(cn(e),"$"))}function pn(e){const t=cn({precision:e.precision}),n=["Z"];e.local&&n.push(""),e.offset&&n.push("([+-](?:[01]\\d|2[0-3]):[0-5]\\d)");const r="".concat(t,"(?:").concat(n.join("|"),")");return new RegExp("^".concat(ln,"T(?:").concat(r,")$"))}const fn=e=>{var t,n;const r=e?"[\\s\\S]{".concat(null!==(t=null===e||void 0===e?void 0:e.minimum)&&void 0!==t?t:0,",").concat(null!==(n=null===e||void 0===e?void 0:e.maximum)&&void 0!==n?n:"","}"):"[\\s\\S]*";return new RegExp("^".concat(r,"$"))},hn=/^-?\d+n?$/,mn=/^-?\d+$/,gn=/^-?\d+(?:\.\d+)?/,vn=/^(?:true|false)$/i,yn=/^null$/i,bn=/^undefined$/i,_n=/^[^A-Z]*$/,wn=/^[^a-z]*$/,kn=/^[0-9a-fA-F]*$/;function xn(e,t){return new RegExp("^[A-Za-z0-9+/]{".concat(e,"}").concat(t,"$"))}function Sn(e){return new RegExp("^[A-Za-z0-9_-]{".concat(e,"}$"))}const Cn=/^[0-9a-fA-F]{32}$/,En=xn(22,"=="),In=Sn(22),An=/^[0-9a-fA-F]{40}$/,Tn=xn(27,"="),Nn=Sn(27),Pn=/^[0-9a-fA-F]{64}$/,On=xn(43,"="),jn=Sn(43),zn=/^[0-9a-fA-F]{96}$/,Rn=xn(64,""),Mn=Sn(64),Fn=/^[0-9a-fA-F]{128}$/,Ln=xn(86,"=="),Dn=Sn(86),Un=Re("$ZodCheck",((e,t)=>{var n,r,a;null!==(n=e._zod)&&void 0!==n||(e._zod={}),e._zod.def=t,null!==(r=(a=e._zod).onattach)&&void 0!==r||(a.onattach=[])})),Bn={number:"number",bigint:"bigint",object:"date"},Zn=Re("$ZodCheckLessThan",((e,t)=>{Un.init(e,t);const n=Bn[typeof t.value];e._zod.onattach.push((e=>{var n;const r=e._zod.bag,a=null!==(n=t.inclusive?r.maximum:r.exclusiveMaximum)&&void 0!==n?n:Number.POSITIVE_INFINITY;t.value<a&&(t.inclusive?r.maximum=t.value:r.exclusiveMaximum=t.value)})),e._zod.check=r=>{(t.inclusive?r.value<=t.value:r.value<t.value)||r.issues.push({origin:n,code:"too_big",maximum:t.value,input:r.value,inclusive:t.inclusive,inst:e,continue:!t.abort})}})),Vn=Re("$ZodCheckGreaterThan",((e,t)=>{Un.init(e,t);const n=Bn[typeof t.value];e._zod.onattach.push((e=>{var n;const r=e._zod.bag,a=null!==(n=t.inclusive?r.minimum:r.exclusiveMinimum)&&void 0!==n?n:Number.NEGATIVE_INFINITY;t.value>a&&(t.inclusive?r.minimum=t.value:r.exclusiveMinimum=t.value)})),e._zod.check=r=>{(t.inclusive?r.value>=t.value:r.value>t.value)||r.issues.push({origin:n,code:"too_small",minimum:t.value,input:r.value,inclusive:t.inclusive,inst:e,continue:!t.abort})}})),qn=Re("$ZodCheckMultipleOf",((e,t)=>{Un.init(e,t),e._zod.onattach.push((e=>{var n,r;null!==(n=(r=e._zod.bag).multipleOf)&&void 0!==n||(r.multipleOf=t.value)})),e._zod.check=n=>{if(typeof n.value!==typeof t.value)throw new Error("Cannot mix number and bigint in multiple_of check.");("bigint"===typeof n.value?n.value%t.value===BigInt(0):0===function(e,t){const n=(e.toString().split(".")[1]||"").length,r=t.toString();let a=(r.split(".")[1]||"").length;if(0===a&&/\d?e-\d?/.test(r)){const e=r.match(/\d?e-(\d?)/);null!==e&&void 0!==e&&e[1]&&(a=Number.parseInt(e[1]))}const o=n>a?n:a;return Number.parseInt(e.toFixed(o).replace(".",""))%Number.parseInt(t.toFixed(o).replace(".",""))/10**o}(n.value,t.value))||n.issues.push({origin:typeof n.value,code:"not_multiple_of",divisor:t.value,input:n.value,inst:e,continue:!t.abort})}})),$n=Re("$ZodCheckNumberFormat",((e,t)=>{var n;Un.init(e,t),t.format=t.format||"float64";const r=null===(n=t.format)||void 0===n?void 0:n.includes("int"),a=r?"int":"number",[o,i]=st[t.format];e._zod.onattach.push((e=>{const n=e._zod.bag;n.format=t.format,n.minimum=o,n.maximum=i,r&&(n.pattern=mn)})),e._zod.check=n=>{const s=n.value;if(r){if(!Number.isInteger(s))return void n.issues.push({expected:a,format:t.format,code:"invalid_type",continue:!1,input:s,inst:e});if(!Number.isSafeInteger(s))return void(s>0?n.issues.push({input:s,code:"too_big",maximum:Number.MAX_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:a,continue:!t.abort}):n.issues.push({input:s,code:"too_small",minimum:Number.MIN_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:a,continue:!t.abort}))}s<o&&n.issues.push({origin:"number",input:s,code:"too_small",minimum:o,inclusive:!0,inst:e,continue:!t.abort}),s>i&&n.issues.push({origin:"number",input:s,code:"too_big",maximum:i,inst:e})}})),Hn=Re("$ZodCheckMaxLength",((e,t)=>{var n,r;Un.init(e,t),null!==(n=(r=e._zod.def).when)&&void 0!==n||(r.when=e=>{const t=e.value;return!qe(t)&&void 0!==t.length}),e._zod.onattach.push((e=>{var n;const r=null!==(n=e._zod.bag.maximum)&&void 0!==n?n:Number.POSITIVE_INFINITY;t.maximum<r&&(e._zod.bag.maximum=t.maximum)})),e._zod.check=n=>{const r=n.value;if(r.length<=t.maximum)return;const a=pt(r);n.issues.push({origin:a,code:"too_big",maximum:t.maximum,inclusive:!0,input:r,inst:e,continue:!t.abort})}})),Wn=Re("$ZodCheckMinLength",((e,t)=>{var n,r;Un.init(e,t),null!==(n=(r=e._zod.def).when)&&void 0!==n||(r.when=e=>{const t=e.value;return!qe(t)&&void 0!==t.length}),e._zod.onattach.push((e=>{var n;const r=null!==(n=e._zod.bag.minimum)&&void 0!==n?n:Number.NEGATIVE_INFINITY;t.minimum>r&&(e._zod.bag.minimum=t.minimum)})),e._zod.check=n=>{const r=n.value;if(r.length>=t.minimum)return;const a=pt(r);n.issues.push({origin:a,code:"too_small",minimum:t.minimum,inclusive:!0,input:r,inst:e,continue:!t.abort})}})),Qn=Re("$ZodCheckLengthEquals",((e,t)=>{var n,r;Un.init(e,t),null!==(n=(r=e._zod.def).when)&&void 0!==n||(r.when=e=>{const t=e.value;return!qe(t)&&void 0!==t.length}),e._zod.onattach.push((e=>{const n=e._zod.bag;n.minimum=t.length,n.maximum=t.length,n.length=t.length})),e._zod.check=n=>{const r=n.value,a=r.length;if(a===t.length)return;const o=pt(r),i=a>t.length;n.issues.push(c(c({origin:o},i?{code:"too_big",maximum:t.length}:{code:"too_small",minimum:t.length}),{},{inclusive:!0,exact:!0,input:n.value,inst:e,continue:!t.abort}))}})),Kn=Re("$ZodCheckStringFormat",((e,t)=>{var n,r,a,o;Un.init(e,t),e._zod.onattach.push((e=>{const n=e._zod.bag;var r;(n.format=t.format,t.pattern)&&(null!==(r=n.patterns)&&void 0!==r||(n.patterns=new Set),n.patterns.add(t.pattern))})),t.pattern?null!==(n=(a=e._zod).check)&&void 0!==n||(a.check=n=>{t.pattern.lastIndex=0,t.pattern.test(n.value)||n.issues.push(c(c({origin:"string",code:"invalid_format",format:t.format,input:n.value},t.pattern?{pattern:t.pattern.toString()}:{}),{},{inst:e,continue:!t.abort}))}):null!==(r=(o=e._zod).check)&&void 0!==r||(o.check=()=>{})})),Jn=Re("$ZodCheckRegex",((e,t)=>{Kn.init(e,t),e._zod.check=n=>{t.pattern.lastIndex=0,t.pattern.test(n.value)||n.issues.push({origin:"string",code:"invalid_format",format:"regex",input:n.value,pattern:t.pattern.toString(),inst:e,continue:!t.abort})}})),Gn=Re("$ZodCheckLowerCase",((e,t)=>{var n;null!==(n=t.pattern)&&void 0!==n||(t.pattern=_n),Kn.init(e,t)})),Yn=Re("$ZodCheckUpperCase",((e,t)=>{var n;null!==(n=t.pattern)&&void 0!==n||(t.pattern=wn),Kn.init(e,t)})),Xn=Re("$ZodCheckIncludes",((e,t)=>{Un.init(e,t);const n=rt(t.includes),r=new RegExp("number"===typeof t.position?"^.{".concat(t.position,"}").concat(n):n);t.pattern=r,e._zod.onattach.push((e=>{var t;const n=e._zod.bag;null!==(t=n.patterns)&&void 0!==t||(n.patterns=new Set),n.patterns.add(r)})),e._zod.check=n=>{n.value.includes(t.includes,t.position)||n.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:t.includes,input:n.value,inst:e,continue:!t.abort})}})),er=Re("$ZodCheckStartsWith",((e,t)=>{var n;Un.init(e,t);const r=new RegExp("^".concat(rt(t.prefix),".*"));null!==(n=t.pattern)&&void 0!==n||(t.pattern=r),e._zod.onattach.push((e=>{var t;const n=e._zod.bag;null!==(t=n.patterns)&&void 0!==t||(n.patterns=new Set),n.patterns.add(r)})),e._zod.check=n=>{n.value.startsWith(t.prefix)||n.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:t.prefix,input:n.value,inst:e,continue:!t.abort})}})),tr=Re("$ZodCheckEndsWith",((e,t)=>{var n;Un.init(e,t);const r=new RegExp(".*".concat(rt(t.suffix),"$"));null!==(n=t.pattern)&&void 0!==n||(t.pattern=r),e._zod.onattach.push((e=>{var t;const n=e._zod.bag;null!==(t=n.patterns)&&void 0!==t||(n.patterns=new Set),n.patterns.add(r)})),e._zod.check=n=>{n.value.endsWith(t.suffix)||n.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:t.suffix,input:n.value,inst:e,continue:!t.abort})}}));const nr=Re("$ZodCheckOverwrite",((e,t)=>{Un.init(e,t),e._zod.check=e=>{e.value=t.tx(e.value)}}));class rr{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this.content=[],this.indent=0,this&&(this.args=e)}indented(e){this.indent+=1,e(this),this.indent-=1}write(e){if("function"===typeof e)return e(this,{execution:"sync"}),void e(this,{execution:"async"});const t=e.split("\n").filter((e=>e)),n=Math.min(...t.map((e=>e.length-e.trimStart().length))),r=t.map((e=>e.slice(n))).map((e=>" ".repeat(2*this.indent)+e));for(const a of r)this.content.push(a)}compile(){var e;return new Function(...null===this||void 0===this?void 0:this.args,[...(null!==(e=null===this||void 0===this?void 0:this.content)&&void 0!==e?e:[""]).map((e=>"  ".concat(e)))].join("\n"))}}const ar={major:4,minor:1,patch:12},or=Re("$ZodType",((e,t)=>{var n,r,a;null!==(n=e)&&void 0!==n||(e={}),e._zod.def=t,e._zod.bag=e._zod.bag||{},e._zod.version=ar;const o=[...null!==(r=e._zod.def.checks)&&void 0!==r?r:[]];e._zod.traits.has("$ZodCheck")&&o.unshift(e);for(const l of o)for(const t of l._zod.onattach)t(e);if(0===o.length){var i,s;null!==(i=(a=e._zod).deferred)&&void 0!==i||(a.deferred=[]),null===(s=e._zod.deferred)||void 0===s||s.push((()=>{e._zod.run=e._zod.parse}))}else{const t=(e,t,n)=>{let r,a=lt(e);for(const i of t){if(i._zod.def.when){if(!i._zod.def.when(e))continue}else if(a)continue;const t=e.issues.length,s=i._zod.check(e);if(s instanceof Promise&&!1===(null===n||void 0===n?void 0:n.async))throw new Me;if(r||s instanceof Promise){var o;r=(null!==(o=r)&&void 0!==o?o:Promise.resolve()).then((async()=>{await s;e.issues.length!==t&&(a||(a=lt(e,t)))}))}else{if(e.issues.length===t)continue;a||(a=lt(e,t))}}return r?r.then((()=>e)):e},n=(n,r,a)=>{if(lt(n))return n.aborted=!0,n;const i=t(r,o,a);if(i instanceof Promise){if(!1===a.async)throw new Me;return i.then((t=>e._zod.parse(t,a)))}return e._zod.parse(i,a)};e._zod.run=(r,a)=>{if(a.skipChecks)return e._zod.parse(r,a);if("backward"===a.direction){const t=e._zod.parse({value:r.value,issues:[]},c(c({},a),{},{skipChecks:!0}));return t instanceof Promise?t.then((e=>n(e,r,a))):n(t,r,a)}const i=e._zod.parse(r,a);if(i instanceof Promise){if(!1===a.async)throw new Me;return i.then((e=>t(e,o,a)))}return t(i,o,a)}}e["~standard"]={validate:t=>{try{var n;const r=_t(e,t);return r.success?{value:r.data}:{issues:null===(n=r.error)||void 0===n?void 0:n.issues}}catch(r){return kt(e,t).then((e=>{var t;return e.success?{value:e.data}:{issues:null===(t=e.error)||void 0===t?void 0:t.issues}}))}},vendor:"zod",version:1}})),ir=Re("$ZodString",((e,t)=>{var n,r,a;or.init(e,t),e._zod.pattern=null!==(n=[...null!==(r=null===e||void 0===e||null===(a=e._zod.bag)||void 0===a?void 0:a.patterns)&&void 0!==r?r:[]].pop())&&void 0!==n?n:fn(e._zod.bag),e._zod.parse=(n,r)=>{if(t.coerce)try{n.value=String(n.value)}catch(r){}return"string"===typeof n.value||n.issues.push({expected:"string",code:"invalid_type",input:n.value,inst:e}),n}})),sr=Re("$ZodStringFormat",((e,t)=>{Kn.init(e,t),ir.init(e,t)})),lr=Re("$ZodGUID",((e,t)=>{var n;null!==(n=t.pattern)&&void 0!==n||(t.pattern=Dt),sr.init(e,t)})),ur=Re("$ZodUUID",((e,t)=>{var n;if(t.version){var r;const e={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[t.version];if(void 0===e)throw new Error('Invalid UUID version: "'.concat(t.version,'"'));null!==(r=t.pattern)&&void 0!==r||(t.pattern=Ut(e))}else null!==(n=t.pattern)&&void 0!==n||(t.pattern=Ut());sr.init(e,t)})),cr=Re("$ZodEmail",((e,t)=>{var n;null!==(n=t.pattern)&&void 0!==n||(t.pattern=qt),sr.init(e,t)})),dr=Re("$ZodURL",((e,t)=>{sr.init(e,t),e._zod.check=n=>{try{const r=n.value.trim(),a=new URL(r);return t.hostname&&(t.hostname.lastIndex=0,t.hostname.test(a.hostname)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:an.source,input:n.value,inst:e,continue:!t.abort})),t.protocol&&(t.protocol.lastIndex=0,t.protocol.test(a.protocol.endsWith(":")?a.protocol.slice(0,-1):a.protocol)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:t.protocol.source,input:n.value,inst:e,continue:!t.abort})),void(t.normalize?n.value=a.href:n.value=r)}catch(r){n.issues.push({code:"invalid_format",format:"url",input:n.value,inst:e,continue:!t.abort})}}})),pr=Re("$ZodEmoji",((e,t)=>{var n;null!==(n=t.pattern)&&void 0!==n||(t.pattern=Gt()),sr.init(e,t)})),fr=Re("$ZodNanoID",((e,t)=>{var n;null!==(n=t.pattern)&&void 0!==n||(t.pattern=Mt),sr.init(e,t)})),hr=Re("$ZodCUID",((e,t)=>{var n;null!==(n=t.pattern)&&void 0!==n||(t.pattern=Pt),sr.init(e,t)})),mr=Re("$ZodCUID2",((e,t)=>{var n;null!==(n=t.pattern)&&void 0!==n||(t.pattern=Ot),sr.init(e,t)})),gr=Re("$ZodULID",((e,t)=>{var n;null!==(n=t.pattern)&&void 0!==n||(t.pattern=jt),sr.init(e,t)})),vr=Re("$ZodXID",((e,t)=>{var n;null!==(n=t.pattern)&&void 0!==n||(t.pattern=zt),sr.init(e,t)})),yr=Re("$ZodKSUID",((e,t)=>{var n;null!==(n=t.pattern)&&void 0!==n||(t.pattern=Rt),sr.init(e,t)})),br=Re("$ZodISODateTime",((e,t)=>{var n;null!==(n=t.pattern)&&void 0!==n||(t.pattern=pn(t)),sr.init(e,t)})),_r=Re("$ZodISODate",((e,t)=>{var n;null!==(n=t.pattern)&&void 0!==n||(t.pattern=un),sr.init(e,t)})),wr=Re("$ZodISOTime",((e,t)=>{var n;null!==(n=t.pattern)&&void 0!==n||(t.pattern=dn(t)),sr.init(e,t)})),kr=Re("$ZodISODuration",((e,t)=>{var n;null!==(n=t.pattern)&&void 0!==n||(t.pattern=Ft),sr.init(e,t)})),xr=Re("$ZodIPv4",((e,t)=>{var n;null!==(n=t.pattern)&&void 0!==n||(t.pattern=Yt),sr.init(e,t),e._zod.onattach.push((e=>{e._zod.bag.format="ipv4"}))})),Sr=Re("$ZodIPv6",((e,t)=>{var n;null!==(n=t.pattern)&&void 0!==n||(t.pattern=Xt),sr.init(e,t),e._zod.onattach.push((e=>{e._zod.bag.format="ipv6"})),e._zod.check=n=>{try{new URL("http://[".concat(n.value,"]"))}catch(r){n.issues.push({code:"invalid_format",format:"ipv6",input:n.value,inst:e,continue:!t.abort})}}})),Cr=Re("$ZodCIDRv4",((e,t)=>{var n;null!==(n=t.pattern)&&void 0!==n||(t.pattern=en),sr.init(e,t)})),Er=Re("$ZodCIDRv6",((e,t)=>{var n;null!==(n=t.pattern)&&void 0!==n||(t.pattern=tn),sr.init(e,t),e._zod.check=n=>{const r=n.value.split("/");try{if(2!==r.length)throw new Error;const[e,t]=r;if(!t)throw new Error;const n=Number(t);if("".concat(n)!==t)throw new Error;if(n<0||n>128)throw new Error;new URL("http://[".concat(e,"]"))}catch(a){n.issues.push({code:"invalid_format",format:"cidrv6",input:n.value,inst:e,continue:!t.abort})}}}));function Ir(e){if(""===e)return!0;if(e.length%4!==0)return!1;try{return atob(e),!0}catch(t){return!1}}const Ar=Re("$ZodBase64",((e,t)=>{var n;null!==(n=t.pattern)&&void 0!==n||(t.pattern=nn),sr.init(e,t),e._zod.onattach.push((e=>{e._zod.bag.contentEncoding="base64"})),e._zod.check=n=>{Ir(n.value)||n.issues.push({code:"invalid_format",format:"base64",input:n.value,inst:e,continue:!t.abort})}}));const Tr=Re("$ZodBase64URL",((e,t)=>{var n;null!==(n=t.pattern)&&void 0!==n||(t.pattern=rn),sr.init(e,t),e._zod.onattach.push((e=>{e._zod.bag.contentEncoding="base64url"})),e._zod.check=n=>{(function(e){if(!rn.test(e))return!1;const t=e.replace(/[-_]/g,(e=>"-"===e?"+":"/"));return Ir(t.padEnd(4*Math.ceil(t.length/4),"="))})(n.value)||n.issues.push({code:"invalid_format",format:"base64url",input:n.value,inst:e,continue:!t.abort})}})),Nr=Re("$ZodE164",((e,t)=>{var n;null!==(n=t.pattern)&&void 0!==n||(t.pattern=sn),sr.init(e,t)}));const Pr=Re("$ZodJWT",((e,t)=>{sr.init(e,t),e._zod.check=n=>{(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;try{const n=e.split(".");if(3!==n.length)return!1;const[r]=n;if(!r)return!1;const a=JSON.parse(atob(r));return(!("typ"in a)||"JWT"===(null===a||void 0===a?void 0:a.typ))&&!!a.alg&&(!t||"alg"in a&&a.alg===t)}catch(n){return!1}})(n.value,t.alg)||n.issues.push({code:"invalid_format",format:"jwt",input:n.value,inst:e,continue:!t.abort})}})),Or=Re("$ZodNumber",((e,t)=>{var n;or.init(e,t),e._zod.pattern=null!==(n=e._zod.bag.pattern)&&void 0!==n?n:gn,e._zod.parse=(n,r)=>{if(t.coerce)try{n.value=Number(n.value)}catch(i){}const a=n.value;if("number"===typeof a&&!Number.isNaN(a)&&Number.isFinite(a))return n;const o="number"===typeof a?Number.isNaN(a)?"NaN":Number.isFinite(a)?void 0:"Infinity":void 0;return n.issues.push(c({expected:"number",code:"invalid_type",input:a,inst:e},o?{received:o}:{})),n}})),jr=Re("$ZodNumber",((e,t)=>{$n.init(e,t),Or.init(e,t)})),zr=Re("$ZodBoolean",((e,t)=>{or.init(e,t),e._zod.pattern=vn,e._zod.parse=(n,r)=>{if(t.coerce)try{n.value=Boolean(n.value)}catch(o){}const a=n.value;return"boolean"===typeof a||n.issues.push({expected:"boolean",code:"invalid_type",input:a,inst:e}),n}})),Rr=Re("$ZodNull",((e,t)=>{or.init(e,t),e._zod.pattern=yn,e._zod.values=new Set([null]),e._zod.parse=(t,n)=>{const r=t.value;return null===r||t.issues.push({expected:"null",code:"invalid_type",input:r,inst:e}),t}})),Mr=Re("$ZodAny",((e,t)=>{or.init(e,t),e._zod.parse=e=>e})),Fr=Re("$ZodUnknown",((e,t)=>{or.init(e,t),e._zod.parse=e=>e})),Lr=Re("$ZodNever",((e,t)=>{or.init(e,t),e._zod.parse=(t,n)=>(t.issues.push({expected:"never",code:"invalid_type",input:t.value,inst:e}),t)}));function Dr(e,t,n){e.issues.length&&t.issues.push(...ut(n,e.issues)),t.value[n]=e.value}const Ur=Re("$ZodArray",((e,t)=>{or.init(e,t),e._zod.parse=(n,r)=>{const a=n.value;if(!Array.isArray(a))return n.issues.push({expected:"array",code:"invalid_type",input:a,inst:e}),n;n.value=Array(a.length);const o=[];for(let e=0;e<a.length;e++){const i=a[e],s=t.element._zod.run({value:i,issues:[]},r);s instanceof Promise?o.push(s.then((t=>Dr(t,n,e)))):Dr(s,n,e)}return o.length?Promise.all(o).then((()=>n)):n}}));function Br(e,t,n,r){e.issues.length&&t.issues.push(...ut(n,e.issues)),void 0===e.value?n in r&&(t.value[n]=void 0):t.value[n]=e.value}function Zr(e){const t=Object.keys(e.shape);for(const o of t){var n;if(null===(n=e.shape)||void 0===n||null===(n=n[o])||void 0===n||null===(n=n._zod)||void 0===n||null===(n=n.traits)||void 0===n||!n.has("$ZodType"))throw new Error('Invalid element at key "'.concat(o,'": expected a Zod schema'))}const r=(a=e.shape,Object.keys(a).filter((e=>"optional"===a[e]._zod.optin&&"optional"===a[e]._zod.optout)));var a;return c(c({},e),{},{keys:t,keySet:new Set(t),numKeys:t.length,optionalKeys:new Set(r)})}function Vr(e,t,n,r,a,o){const i=[],s=a.keySet,l=a.catchall._zod,u=l.def.type;for(const c of Object.keys(t)){if(s.has(c))continue;if("never"===u){i.push(c);continue}const a=l.run({value:t[c],issues:[]},r);a instanceof Promise?e.push(a.then((e=>Br(e,n,c,t)))):Br(a,n,c,t)}return i.length&&n.issues.push({code:"unrecognized_keys",keys:i,input:t,inst:o}),e.length?Promise.all(e).then((()=>n)):n}const qr=Re("$ZodObject",((e,t)=>{or.init(e,t);const n=Object.getOwnPropertyDescriptor(t,"shape");if(null===n||void 0===n||!n.get){const e=t.shape;Object.defineProperty(t,"shape",{get:()=>{const n=c({},e);return Object.defineProperty(t,"shape",{value:n}),n}})}const r=Ve((()=>Zr(t)));We(e._zod,"propValues",(()=>{const e=t.shape,n={};for(const t in e){const a=e[t]._zod;if(a.values){var r;null!==(r=n[t])&&void 0!==r||(n[t]=new Set);for(const e of a.values)n[t].add(e)}}return n}));const a=Ye,o=t.catchall;let i;e._zod.parse=(t,n)=>{var s;null!==(s=i)&&void 0!==s||(i=r.value);const l=t.value;if(!a(l))return t.issues.push({expected:"object",code:"invalid_type",input:l,inst:e}),t;t.value={};const u=[],c=i.shape;for(const e of i.keys){const r=c[e]._zod.run({value:l[e],issues:[]},n);r instanceof Promise?u.push(r.then((n=>Br(n,t,e,l)))):Br(r,t,e,l)}return o?Vr(u,l,t,n,r.value,e):u.length?Promise.all(u).then((()=>t)):t}})),$r=Re("$ZodObjectJIT",((e,t)=>{qr.init(e,t);const n=e._zod.parse,r=Ve((()=>Zr(t)));let a;const o=Ye,i=!Le.jitless,s=i&&Xe.value,l=t.catchall;let u;e._zod.parse=(c,d)=>{var p;null!==(p=u)&&void 0!==p||(u=r.value);const f=c.value;return o(f)?i&&s&&!1===(null===d||void 0===d?void 0:d.async)&&!0!==d.jitless?(a||(a=(e=>{const t=new rr(["shape","payload","ctx"]),n=r.value,a=e=>{const t=Je(e);return"shape[".concat(t,"]._zod.run({ value: input[").concat(t,"], issues: [] }, ctx)")};t.write("const input = payload.value;");const o=Object.create(null);let i=0;for(const r of n.keys)o[r]="key_".concat(i++);t.write("const newResult = {};");for(const r of n.keys){const e=o[r],n=Je(r);t.write("const ".concat(e," = ").concat(a(r),";")),t.write("\n        if (".concat(e,".issues.length) {\n          payload.issues = payload.issues.concat(").concat(e,".issues.map(iss => ({\n            ...iss,\n            path: iss.path ? [").concat(n,", ...iss.path] : [").concat(n,"]\n          })));\n        }\n        \n        \n        if (").concat(e,".value === undefined) {\n          if (").concat(n," in input) {\n            newResult[").concat(n,"] = undefined;\n          }\n        } else {\n          newResult[").concat(n,"] = ").concat(e,".value;\n        }\n        \n      "))}t.write("payload.value = newResult;"),t.write("return payload;");const s=t.compile();return(t,n)=>s(e,t,n)})(t.shape)),c=a(c,d),l?Vr([],f,c,d,u,e):c):n(c,d):(c.issues.push({expected:"object",code:"invalid_type",input:f,inst:e}),c)}}));function Hr(e,t,n,r){for(const o of e)if(0===o.issues.length)return t.value=o.value,t;const a=e.filter((e=>!lt(e)));return 1===a.length?(t.value=a[0].value,a[0]):(t.issues.push({code:"invalid_union",input:t.value,inst:n,errors:e.map((e=>e.issues.map((e=>dt(e,r,De())))))}),t)}const Wr=Re("$ZodUnion",((e,t)=>{or.init(e,t),We(e._zod,"optin",(()=>t.options.some((e=>"optional"===e._zod.optin))?"optional":void 0)),We(e._zod,"optout",(()=>t.options.some((e=>"optional"===e._zod.optout))?"optional":void 0)),We(e._zod,"values",(()=>{if(t.options.every((e=>e._zod.values)))return new Set(t.options.flatMap((e=>Array.from(e._zod.values))))})),We(e._zod,"pattern",(()=>{if(t.options.every((e=>e._zod.pattern))){const e=t.options.map((e=>e._zod.pattern));return new RegExp("^(".concat(e.map((e=>$e(e.source))).join("|"),")$"))}}));const n=1===t.options.length,r=t.options[0]._zod.run;e._zod.parse=(a,o)=>{if(n)return r(a,o);let i=!1;const s=[];for(const e of t.options){const t=e._zod.run({value:a.value,issues:[]},o);if(t instanceof Promise)s.push(t),i=!0;else{if(0===t.issues.length)return t;s.push(t)}}return i?Promise.all(s).then((t=>Hr(t,a,e,o))):Hr(s,a,e,o)}})),Qr=Re("$ZodDiscriminatedUnion",((e,t)=>{Wr.init(e,t);const n=e._zod.parse;We(e._zod,"propValues",(()=>{const e={};for(const n of t.options){const r=n._zod.propValues;if(!r||0===Object.keys(r).length)throw new Error('Invalid discriminated union option at index "'.concat(t.options.indexOf(n),'"'));for(const[t,n]of Object.entries(r)){e[t]||(e[t]=new Set);for(const r of n)e[t].add(r)}}return e}));const r=Ve((()=>{const e=t.options,n=new Map;for(const a of e){var r;const e=null===(r=a._zod.propValues)||void 0===r?void 0:r[t.discriminator];if(!e||0===e.size)throw new Error('Invalid discriminated union option at index "'.concat(t.options.indexOf(a),'"'));for(const t of e){if(n.has(t))throw new Error('Duplicate discriminator value "'.concat(String(t),'"'));n.set(t,a)}}return n}));e._zod.parse=(a,o)=>{const i=a.value;if(!Ye(i))return a.issues.push({code:"invalid_type",expected:"object",input:i,inst:e}),a;const s=r.value.get(null===i||void 0===i?void 0:i[t.discriminator]);return s?s._zod.run(a,o):t.unionFallback?n(a,o):(a.issues.push({code:"invalid_union",errors:[],note:"No matching discriminator",discriminator:t.discriminator,input:i,path:[t.discriminator],inst:e}),a)}})),Kr=Re("$ZodIntersection",((e,t)=>{or.init(e,t),e._zod.parse=(e,n)=>{const r=e.value,a=t.left._zod.run({value:r,issues:[]},n),o=t.right._zod.run({value:r,issues:[]},n);return a instanceof Promise||o instanceof Promise?Promise.all([a,o]).then((t=>{let[n,r]=t;return Gr(e,n,r)})):Gr(e,a,o)}}));function Jr(e,t){if(e===t)return{valid:!0,data:e};if(e instanceof Date&&t instanceof Date&&+e===+t)return{valid:!0,data:e};if(et(e)&&et(t)){const n=Object.keys(t),r=Object.keys(e).filter((e=>-1!==n.indexOf(e))),a=c(c({},e),t);for(const o of r){const n=Jr(e[o],t[o]);if(!n.valid)return{valid:!1,mergeErrorPath:[o,...n.mergeErrorPath]};a[o]=n.data}return{valid:!0,data:a}}if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return{valid:!1,mergeErrorPath:[]};const n=[];for(let r=0;r<e.length;r++){const a=Jr(e[r],t[r]);if(!a.valid)return{valid:!1,mergeErrorPath:[r,...a.mergeErrorPath]};n.push(a.data)}return{valid:!0,data:n}}return{valid:!1,mergeErrorPath:[]}}function Gr(e,t,n){if(t.issues.length&&e.issues.push(...t.issues),n.issues.length&&e.issues.push(...n.issues),lt(e))return e;const r=Jr(t.value,n.value);if(!r.valid)throw new Error("Unmergable intersection. Error path: "+"".concat(JSON.stringify(r.mergeErrorPath)));return e.value=r.data,e}const Yr=Re("$ZodRecord",((e,t)=>{or.init(e,t),e._zod.parse=(n,r)=>{const a=n.value;if(!et(a))return n.issues.push({expected:"record",code:"invalid_type",input:a,inst:e}),n;const o=[];if(t.keyType._zod.values){const s=t.keyType._zod.values;n.value={};for(const e of s)if("string"===typeof e||"number"===typeof e||"symbol"===typeof e){const i=t.valueType._zod.run({value:a[e],issues:[]},r);i instanceof Promise?o.push(i.then((t=>{t.issues.length&&n.issues.push(...ut(e,t.issues)),n.value[e]=t.value}))):(i.issues.length&&n.issues.push(...ut(e,i.issues)),n.value[e]=i.value)}let l;for(const e in a){var i;if(!s.has(e))l=null!==(i=l)&&void 0!==i?i:[],l.push(e)}l&&l.length>0&&n.issues.push({code:"unrecognized_keys",input:a,inst:e,keys:l})}else{n.value={};for(const i of Reflect.ownKeys(a)){if("__proto__"===i)continue;const s=t.keyType._zod.run({value:i,issues:[]},r);if(s instanceof Promise)throw new Error("Async schemas not supported in object keys currently");if(s.issues.length){n.issues.push({code:"invalid_key",origin:"record",issues:s.issues.map((e=>dt(e,r,De()))),input:i,path:[i],inst:e}),n.value[s.value]=s.value;continue}const l=t.valueType._zod.run({value:a[i],issues:[]},r);l instanceof Promise?o.push(l.then((e=>{e.issues.length&&n.issues.push(...ut(i,e.issues)),n.value[s.value]=e.value}))):(l.issues.length&&n.issues.push(...ut(i,l.issues)),n.value[s.value]=l.value)}}return o.length?Promise.all(o).then((()=>n)):n}}));const Xr=Re("$ZodEnum",((e,t)=>{or.init(e,t);const n=Ue(t.entries),r=new Set(n);e._zod.values=r,e._zod.pattern=new RegExp("^(".concat(n.filter((e=>nt.has(typeof e))).map((e=>"string"===typeof e?rt(e):e.toString())).join("|"),")$")),e._zod.parse=(t,a)=>{const o=t.value;return r.has(o)||t.issues.push({code:"invalid_value",values:n,input:o,inst:e}),t}})),ea=Re("$ZodLiteral",((e,t)=>{if(or.init(e,t),0===t.values.length)throw new Error("Cannot create literal schema with no valid values");e._zod.values=new Set(t.values),e._zod.pattern=new RegExp("^(".concat(t.values.map((e=>"string"===typeof e?rt(e):e?rt(e.toString()):String(e))).join("|"),")$")),e._zod.parse=(n,r)=>{const a=n.value;return e._zod.values.has(a)||n.issues.push({code:"invalid_value",values:t.values,input:a,inst:e}),n}})),ta=Re("$ZodTransform",((e,t)=>{or.init(e,t),e._zod.parse=(n,r)=>{if("backward"===r.direction)throw new Fe(e.constructor.name);const a=t.transform(n.value,n);if(r.async){return(a instanceof Promise?a:Promise.resolve(a)).then((e=>(n.value=e,n)))}if(a instanceof Promise)throw new Me;return n.value=a,n}}));function na(e,t){return e.issues.length&&void 0===t?{issues:[],value:void 0}:e}const ra=Re("$ZodOptional",((e,t)=>{or.init(e,t),e._zod.optin="optional",e._zod.optout="optional",We(e._zod,"values",(()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,void 0]):void 0)),We(e._zod,"pattern",(()=>{const e=t.innerType._zod.pattern;return e?new RegExp("^(".concat($e(e.source),")?$")):void 0})),e._zod.parse=(e,n)=>{if("optional"===t.innerType._zod.optin){const r=t.innerType._zod.run(e,n);return r instanceof Promise?r.then((t=>na(t,e.value))):na(r,e.value)}return void 0===e.value?e:t.innerType._zod.run(e,n)}})),aa=Re("$ZodNullable",((e,t)=>{or.init(e,t),We(e._zod,"optin",(()=>t.innerType._zod.optin)),We(e._zod,"optout",(()=>t.innerType._zod.optout)),We(e._zod,"pattern",(()=>{const e=t.innerType._zod.pattern;return e?new RegExp("^(".concat($e(e.source),"|null)$")):void 0})),We(e._zod,"values",(()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,null]):void 0)),e._zod.parse=(e,n)=>null===e.value?e:t.innerType._zod.run(e,n)})),oa=Re("$ZodDefault",((e,t)=>{or.init(e,t),e._zod.optin="optional",We(e._zod,"values",(()=>t.innerType._zod.values)),e._zod.parse=(e,n)=>{if("backward"===n.direction)return t.innerType._zod.run(e,n);if(void 0===e.value)return e.value=t.defaultValue,e;const r=t.innerType._zod.run(e,n);return r instanceof Promise?r.then((e=>ia(e,t))):ia(r,t)}}));function ia(e,t){return void 0===e.value&&(e.value=t.defaultValue),e}const sa=Re("$ZodPrefault",((e,t)=>{or.init(e,t),e._zod.optin="optional",We(e._zod,"values",(()=>t.innerType._zod.values)),e._zod.parse=(e,n)=>("backward"===n.direction||void 0===e.value&&(e.value=t.defaultValue),t.innerType._zod.run(e,n))})),la=Re("$ZodNonOptional",((e,t)=>{or.init(e,t),We(e._zod,"values",(()=>{const e=t.innerType._zod.values;return e?new Set([...e].filter((e=>void 0!==e))):void 0})),e._zod.parse=(n,r)=>{const a=t.innerType._zod.run(n,r);return a instanceof Promise?a.then((t=>ua(t,e))):ua(a,e)}}));function ua(e,t){return e.issues.length||void 0!==e.value||e.issues.push({code:"invalid_type",expected:"nonoptional",input:e.value,inst:t}),e}const ca=Re("$ZodCatch",((e,t)=>{or.init(e,t),We(e._zod,"optin",(()=>t.innerType._zod.optin)),We(e._zod,"optout",(()=>t.innerType._zod.optout)),We(e._zod,"values",(()=>t.innerType._zod.values)),e._zod.parse=(e,n)=>{if("backward"===n.direction)return t.innerType._zod.run(e,n);const r=t.innerType._zod.run(e,n);return r instanceof Promise?r.then((r=>(e.value=r.value,r.issues.length&&(e.value=t.catchValue(c(c({},e),{},{error:{issues:r.issues.map((e=>dt(e,n,De())))},input:e.value})),e.issues=[]),e))):(e.value=r.value,r.issues.length&&(e.value=t.catchValue(c(c({},e),{},{error:{issues:r.issues.map((e=>dt(e,n,De())))},input:e.value})),e.issues=[]),e)}})),da=Re("$ZodPipe",((e,t)=>{or.init(e,t),We(e._zod,"values",(()=>t.in._zod.values)),We(e._zod,"optin",(()=>t.in._zod.optin)),We(e._zod,"optout",(()=>t.out._zod.optout)),We(e._zod,"propValues",(()=>t.in._zod.propValues)),e._zod.parse=(e,n)=>{if("backward"===n.direction){const r=t.out._zod.run(e,n);return r instanceof Promise?r.then((e=>pa(e,t.in,n))):pa(r,t.in,n)}const r=t.in._zod.run(e,n);return r instanceof Promise?r.then((e=>pa(e,t.out,n))):pa(r,t.out,n)}}));function pa(e,t,n){return e.issues.length?(e.aborted=!0,e):t._zod.run({value:e.value,issues:e.issues},n)}const fa=Re("$ZodReadonly",((e,t)=>{or.init(e,t),We(e._zod,"propValues",(()=>t.innerType._zod.propValues)),We(e._zod,"values",(()=>t.innerType._zod.values)),We(e._zod,"optin",(()=>t.innerType._zod.optin)),We(e._zod,"optout",(()=>t.innerType._zod.optout)),e._zod.parse=(e,n)=>{if("backward"===n.direction)return t.innerType._zod.run(e,n);const r=t.innerType._zod.run(e,n);return r instanceof Promise?r.then(ha):ha(r)}}));function ha(e){return e.value=Object.freeze(e.value),e}const ma=Re("$ZodLazy",((e,t)=>{or.init(e,t),We(e._zod,"innerType",(()=>t.getter())),We(e._zod,"pattern",(()=>e._zod.innerType._zod.pattern)),We(e._zod,"propValues",(()=>e._zod.innerType._zod.propValues)),We(e._zod,"optin",(()=>{var t;return null!==(t=e._zod.innerType._zod.optin)&&void 0!==t?t:void 0})),We(e._zod,"optout",(()=>{var t;return null!==(t=e._zod.innerType._zod.optout)&&void 0!==t?t:void 0})),e._zod.parse=(t,n)=>e._zod.innerType._zod.run(t,n)})),ga=Re("$ZodCustom",((e,t)=>{Un.init(e,t),or.init(e,t),e._zod.parse=(e,t)=>e,e._zod.check=n=>{const r=n.value,a=t.fn(r);if(a instanceof Promise)return a.then((t=>va(t,n,r,e)));va(a,n,r,e)}}));function va(e,t,n,r){if(!e){var a;const e={code:"custom",input:n,inst:r,path:[...null!==(a=r._zod.def.path)&&void 0!==a?a:[]],continue:!r._zod.def.abort};r._zod.def.params&&(e.params=r._zod.def.params),t.issues.push(ft(e))}}const ya=()=>{const e={string:{unit:"characters",verb:"to have"},file:{unit:"bytes",verb:"to have"},array:{unit:"items",verb:"to have"},set:{unit:"items",verb:"to have"}};function t(t){var n;return null!==(n=e[t])&&void 0!==n?n:null}const n={regex:"input",email:"email address",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO datetime",date:"ISO date",time:"ISO time",duration:"ISO duration",ipv4:"IPv4 address",ipv6:"IPv6 address",cidrv4:"IPv4 range",cidrv6:"IPv6 range",base64:"base64-encoded string",base64url:"base64url-encoded string",json_string:"JSON string",e164:"E.164 number",jwt:"JWT",template_literal:"input"};return e=>{switch(e.code){case"invalid_type":return"Invalid input: expected ".concat(e.expected,", received ").concat((e=>{const t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"number";case"object":if(Array.isArray(e))return"array";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(e.input));case"invalid_value":return 1===e.values.length?"Invalid input: expected ".concat(it(e.values[0])):"Invalid option: expected one of ".concat(Be(e.values,"|"));case"too_big":{var r,a,o;const n=e.inclusive?"<=":"<",i=t(e.origin);return i?"Too big: expected ".concat(null!==(r=e.origin)&&void 0!==r?r:"value"," to have ").concat(n).concat(e.maximum.toString()," ").concat(null!==(a=i.unit)&&void 0!==a?a:"elements"):"Too big: expected ".concat(null!==(o=e.origin)&&void 0!==o?o:"value"," to be ").concat(n).concat(e.maximum.toString())}case"too_small":{const n=e.inclusive?">=":">",r=t(e.origin);return r?"Too small: expected ".concat(e.origin," to have ").concat(n).concat(e.minimum.toString()," ").concat(r.unit):"Too small: expected ".concat(e.origin," to be ").concat(n).concat(e.minimum.toString())}case"invalid_format":{var i;const t=e;return"starts_with"===t.format?'Invalid string: must start with "'.concat(t.prefix,'"'):"ends_with"===t.format?'Invalid string: must end with "'.concat(t.suffix,'"'):"includes"===t.format?'Invalid string: must include "'.concat(t.includes,'"'):"regex"===t.format?"Invalid string: must match pattern ".concat(t.pattern):"Invalid ".concat(null!==(i=n[t.format])&&void 0!==i?i:e.format)}case"not_multiple_of":return"Invalid number: must be a multiple of ".concat(e.divisor);case"unrecognized_keys":return"Unrecognized key".concat(e.keys.length>1?"s":"",": ").concat(Be(e.keys,", "));case"invalid_key":return"Invalid key in ".concat(e.origin);case"invalid_union":default:return"Invalid input";case"invalid_element":return"Invalid value in ".concat(e.origin)}}};Symbol("ZodOutput"),Symbol("ZodInput");class ba{constructor(){this._map=new WeakMap,this._idmap=new Map}add(e){const t=arguments.length<=1?void 0:arguments[1];if(this._map.set(e,t),t&&"object"===typeof t&&"id"in t){if(this._idmap.has(t.id))throw new Error("ID ".concat(t.id," already exists in the registry"));this._idmap.set(t.id,e)}return this}clear(){return this._map=new WeakMap,this._idmap=new Map,this}remove(e){const t=this._map.get(e);return t&&"object"===typeof t&&"id"in t&&this._idmap.delete(t.id),this._map.delete(e),this}get(e){const t=e._zod.parent;if(t){var n;const r=c({},null!==(n=this.get(t))&&void 0!==n?n:{});delete r.id;const a=c(c({},r),this._map.get(e));return Object.keys(a).length?a:void 0}return this._map.get(e)}has(e){return this._map.has(e)}}function _a(){return new ba}const wa=_a();function ka(e,t){return new e(c({type:"string",format:"email",check:"string_format",abort:!1},ot(t)))}function xa(e,t){return new e(c({type:"string",format:"guid",check:"string_format",abort:!1},ot(t)))}function Sa(e,t){return new e(c({type:"string",format:"uuid",check:"string_format",abort:!1},ot(t)))}function Ca(e,t){return new e(c({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4"},ot(t)))}function Ea(e,t){return new e(c({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6"},ot(t)))}function Ia(e,t){return new e(c({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7"},ot(t)))}function Aa(e,t){return new e(c({type:"string",format:"url",check:"string_format",abort:!1},ot(t)))}function Ta(e,t){return new e(c({type:"string",format:"emoji",check:"string_format",abort:!1},ot(t)))}function Na(e,t){return new e(c({type:"string",format:"nanoid",check:"string_format",abort:!1},ot(t)))}function Pa(e,t){return new e(c({type:"string",format:"cuid",check:"string_format",abort:!1},ot(t)))}function Oa(e,t){return new e(c({type:"string",format:"cuid2",check:"string_format",abort:!1},ot(t)))}function ja(e,t){return new e(c({type:"string",format:"ulid",check:"string_format",abort:!1},ot(t)))}function za(e,t){return new e(c({type:"string",format:"xid",check:"string_format",abort:!1},ot(t)))}function Ra(e,t){return new e(c({type:"string",format:"ksuid",check:"string_format",abort:!1},ot(t)))}function Ma(e,t){return new e(c({type:"string",format:"ipv4",check:"string_format",abort:!1},ot(t)))}function Fa(e,t){return new e(c({type:"string",format:"ipv6",check:"string_format",abort:!1},ot(t)))}function La(e,t){return new e(c({type:"string",format:"cidrv4",check:"string_format",abort:!1},ot(t)))}function Da(e,t){return new e(c({type:"string",format:"cidrv6",check:"string_format",abort:!1},ot(t)))}function Ua(e,t){return new e(c({type:"string",format:"base64",check:"string_format",abort:!1},ot(t)))}function Ba(e,t){return new e(c({type:"string",format:"base64url",check:"string_format",abort:!1},ot(t)))}function Za(e,t){return new e(c({type:"string",format:"e164",check:"string_format",abort:!1},ot(t)))}function Va(e,t){return new e(c({type:"string",format:"jwt",check:"string_format",abort:!1},ot(t)))}function qa(e,t){return new Zn(c(c({check:"less_than"},ot(t)),{},{value:e,inclusive:!1}))}function $a(e,t){return new Zn(c(c({check:"less_than"},ot(t)),{},{value:e,inclusive:!0}))}function Ha(e,t){return new Vn(c(c({check:"greater_than"},ot(t)),{},{value:e,inclusive:!1}))}function Wa(e,t){return new Vn(c(c({check:"greater_than"},ot(t)),{},{value:e,inclusive:!0}))}function Qa(e,t){return new qn(c(c({check:"multiple_of"},ot(t)),{},{value:e}))}function Ka(e,t){return new Hn(c(c({check:"max_length"},ot(t)),{},{maximum:e}))}function Ja(e,t){return new Wn(c(c({check:"min_length"},ot(t)),{},{minimum:e}))}function Ga(e,t){return new Qn(c(c({check:"length_equals"},ot(t)),{},{length:e}))}function Ya(e){return new nr({check:"overwrite",tx:e})}function Xa(e){const t=function(e,t){const n=new Un(c({check:"custom"},ot(t)));return n._zod.check=e,n}((n=>(n.addIssue=e=>{if("string"===typeof e)n.issues.push(ft(e,n.value,t._zod.def));else{var r,a,o,i;const s=e;s.fatal&&(s.continue=!1),null!==(r=s.code)&&void 0!==r||(s.code="custom"),null!==(a=s.input)&&void 0!==a||(s.input=n.value),null!==(o=s.inst)&&void 0!==o||(s.inst=t),null!==(i=s.continue)&&void 0!==i||(s.continue=!t._zod.def.abort),n.issues.push(ft(s))}},e(n.value,n))));return t}class eo{constructor(e){var t,n,r,a,o;this.counter=0,this.metadataRegistry=null!==(t=null===e||void 0===e?void 0:e.metadata)&&void 0!==t?t:wa,this.target=null!==(n=null===e||void 0===e?void 0:e.target)&&void 0!==n?n:"draft-2020-12",this.unrepresentable=null!==(r=null===e||void 0===e?void 0:e.unrepresentable)&&void 0!==r?r:"throw",this.override=null!==(a=null===e||void 0===e?void 0:e.override)&&void 0!==a?a:()=>{},this.io=null!==(o=null===e||void 0===e?void 0:e.io)&&void 0!==o?o:"output",this.seen=new Map}process(e){var t,n,r;let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{path:[],schemaPath:[]};var o;const i=e._zod.def,s={guid:"uuid",url:"uri",datetime:"date-time",json_string:"json-string",regex:""},l=this.seen.get(e);if(l){l.count++;return a.schemaPath.includes(e)&&(l.cycle=a.path),l.schema}const u={schema:{},count:1,cycle:void 0,path:a.path};this.seen.set(e,u);const d=null===(t=(n=e._zod).toJSONSchema)||void 0===t?void 0:t.call(n);if(d)u.schema=d;else{const t=c(c({},a),{},{schemaPath:[...a.schemaPath,e],path:a.path}),n=e._zod.parent;if(n)u.ref=n,this.process(n,t),this.seen.get(n).isParent=!0;else{const n=u.schema;switch(i.type){case"string":{const t=n;t.type="string";const{minimum:r,maximum:a,format:o,patterns:i,contentEncoding:l}=e._zod.bag;var p;if("number"===typeof r&&(t.minLength=r),"number"===typeof a&&(t.maxLength=a),o)t.format=null!==(p=s[o])&&void 0!==p?p:o,""===t.format&&delete t.format;if(l&&(t.contentEncoding=l),i&&i.size>0){const e=[...i];1===e.length?t.pattern=e[0].source:e.length>1&&(u.schema.allOf=[...e.map((e=>c(c({},"draft-7"===this.target||"draft-4"===this.target||"openapi-3.0"===this.target?{type:"string"}:{}),{},{pattern:e.source})))])}break}case"number":{const t=n,{minimum:r,maximum:a,format:o,multipleOf:i,exclusiveMaximum:s,exclusiveMinimum:l}=e._zod.bag;"string"===typeof o&&o.includes("int")?t.type="integer":t.type="number","number"===typeof l&&("draft-4"===this.target||"openapi-3.0"===this.target?(t.minimum=l,t.exclusiveMinimum=!0):t.exclusiveMinimum=l),"number"===typeof r&&(t.minimum=r,"number"===typeof l&&"draft-4"!==this.target&&(l>=r?delete t.minimum:delete t.exclusiveMinimum)),"number"===typeof s&&("draft-4"===this.target||"openapi-3.0"===this.target?(t.maximum=s,t.exclusiveMaximum=!0):t.exclusiveMaximum=s),"number"===typeof a&&(t.maximum=a,"number"===typeof s&&"draft-4"!==this.target&&(s<=a?delete t.maximum:delete t.exclusiveMaximum)),"number"===typeof i&&(t.multipleOf=i);break}case"boolean":n.type="boolean";break;case"bigint":if("throw"===this.unrepresentable)throw new Error("BigInt cannot be represented in JSON Schema");break;case"symbol":if("throw"===this.unrepresentable)throw new Error("Symbols cannot be represented in JSON Schema");break;case"null":"openapi-3.0"===this.target?(n.type="string",n.nullable=!0,n.enum=[null]):n.type="null";break;case"any":case"unknown":break;case"undefined":if("throw"===this.unrepresentable)throw new Error("Undefined cannot be represented in JSON Schema");break;case"void":if("throw"===this.unrepresentable)throw new Error("Void cannot be represented in JSON Schema");break;case"never":n.not={};break;case"date":if("throw"===this.unrepresentable)throw new Error("Date cannot be represented in JSON Schema");break;case"array":{const r=n,{minimum:a,maximum:o}=e._zod.bag;"number"===typeof a&&(r.minItems=a),"number"===typeof o&&(r.maxItems=o),r.type="array",r.items=this.process(i.element,c(c({},t),{},{path:[...t.path,"items"]}));break}case"object":{var f;const e=n;e.type="object",e.properties={};const r=i.shape;for(const n in r)e.properties[n]=this.process(r[n],c(c({},t),{},{path:[...t.path,"properties",n]}));const a=new Set(Object.keys(r)),o=new Set([...a].filter((e=>{const t=i.shape[e]._zod;return"input"===this.io?void 0===t.optin:void 0===t.optout})));o.size>0&&(e.required=Array.from(o)),"never"===(null===(f=i.catchall)||void 0===f?void 0:f._zod.def.type)?e.additionalProperties=!1:i.catchall?i.catchall&&(e.additionalProperties=this.process(i.catchall,c(c({},t),{},{path:[...t.path,"additionalProperties"]}))):"output"===this.io&&(e.additionalProperties=!1);break}case"union":{const e=n,r=i.options.map(((e,n)=>this.process(e,c(c({},t),{},{path:[...t.path,"anyOf",n]}))));e.anyOf=r;break}case"intersection":{const e=n,r=this.process(i.left,c(c({},t),{},{path:[...t.path,"allOf",0]})),a=this.process(i.right,c(c({},t),{},{path:[...t.path,"allOf",1]})),o=e=>"allOf"in e&&1===Object.keys(e).length,s=[...o(r)?r.allOf:[r],...o(a)?a.allOf:[a]];e.allOf=s;break}case"tuple":{const r=n;r.type="array";const a="draft-2020-12"===this.target?"prefixItems":"items",o="draft-2020-12"===this.target||"openapi-3.0"===this.target?"items":"additionalItems",s=i.items.map(((e,n)=>this.process(e,c(c({},t),{},{path:[...t.path,a,n]})))),l=i.rest?this.process(i.rest,c(c({},t),{},{path:[...t.path,o,..."openapi-3.0"===this.target?[i.items.length]:[]]})):null;"draft-2020-12"===this.target?(r.prefixItems=s,l&&(r.items=l)):"openapi-3.0"===this.target?(r.items={anyOf:s},l&&r.items.anyOf.push(l),r.minItems=s.length,l||(r.maxItems=s.length)):(r.items=s,l&&(r.additionalItems=l));const{minimum:u,maximum:d}=e._zod.bag;"number"===typeof u&&(r.minItems=u),"number"===typeof d&&(r.maxItems=d);break}case"record":{const e=n;e.type="object","draft-7"!==this.target&&"draft-2020-12"!==this.target||(e.propertyNames=this.process(i.keyType,c(c({},t),{},{path:[...t.path,"propertyNames"]}))),e.additionalProperties=this.process(i.valueType,c(c({},t),{},{path:[...t.path,"additionalProperties"]}));break}case"map":if("throw"===this.unrepresentable)throw new Error("Map cannot be represented in JSON Schema");break;case"set":if("throw"===this.unrepresentable)throw new Error("Set cannot be represented in JSON Schema");break;case"enum":{const e=n,t=Ue(i.entries);t.every((e=>"number"===typeof e))&&(e.type="number"),t.every((e=>"string"===typeof e))&&(e.type="string"),e.enum=t;break}case"literal":{const e=n,t=[];for(const n of i.values)if(void 0===n){if("throw"===this.unrepresentable)throw new Error("Literal `undefined` cannot be represented in JSON Schema")}else if("bigint"===typeof n){if("throw"===this.unrepresentable)throw new Error("BigInt literals cannot be represented in JSON Schema");t.push(Number(n))}else t.push(n);if(0===t.length);else if(1===t.length){const n=t[0];e.type=null===n?"null":typeof n,"draft-4"===this.target||"openapi-3.0"===this.target?e.enum=[n]:e.const=n}else t.every((e=>"number"===typeof e))&&(e.type="number"),t.every((e=>"string"===typeof e))&&(e.type="string"),t.every((e=>"boolean"===typeof e))&&(e.type="string"),t.every((e=>null===e))&&(e.type="null"),e.enum=t;break}case"file":{const t=n,r={type:"string",format:"binary",contentEncoding:"binary"},{minimum:a,maximum:o,mime:i}=e._zod.bag;void 0!==a&&(r.minLength=a),void 0!==o&&(r.maxLength=o),i?1===i.length?(r.contentMediaType=i[0],Object.assign(t,r)):t.anyOf=i.map((e=>c(c({},r),{},{contentMediaType:e}))):Object.assign(t,r);break}case"transform":if("throw"===this.unrepresentable)throw new Error("Transforms cannot be represented in JSON Schema");break;case"nullable":{const e=this.process(i.innerType,t);"openapi-3.0"===this.target?(u.ref=i.innerType,n.nullable=!0):n.anyOf=[e,{type:"null"}];break}case"nonoptional":case"promise":case"optional":this.process(i.innerType,t),u.ref=i.innerType;break;case"success":n.type="boolean";break;case"default":this.process(i.innerType,t),u.ref=i.innerType,n.default=JSON.parse(JSON.stringify(i.defaultValue));break;case"prefault":this.process(i.innerType,t),u.ref=i.innerType,"input"===this.io&&(n._prefault=JSON.parse(JSON.stringify(i.defaultValue)));break;case"catch":{let e;this.process(i.innerType,t),u.ref=i.innerType;try{e=i.catchValue(void 0)}catch(m){throw new Error("Dynamic catch values are not supported in JSON Schema")}n.default=e;break}case"nan":if("throw"===this.unrepresentable)throw new Error("NaN cannot be represented in JSON Schema");break;case"template_literal":{const t=n,r=e._zod.pattern;if(!r)throw new Error("Pattern not found in template literal");t.type="string",t.pattern=r.source;break}case"pipe":{const e="input"===this.io?"transform"===i.in._zod.def.type?i.out:i.in:i.out;this.process(e,t),u.ref=e;break}case"readonly":this.process(i.innerType,t),u.ref=i.innerType,n.readOnly=!0;break;case"lazy":{const n=e._zod.innerType;this.process(n,t),u.ref=n;break}case"custom":if("throw"===this.unrepresentable)throw new Error("Custom types cannot be represented in JSON Schema");break;case"function":if("throw"===this.unrepresentable)throw new Error("Function types cannot be represented in JSON Schema")}}}const h=this.metadataRegistry.get(e);h&&Object.assign(u.schema,h),"input"===this.io&&to(e)&&(delete u.schema.examples,delete u.schema.default),"input"===this.io&&u.schema._prefault&&(null!==(r=(o=u.schema).default)&&void 0!==r||(o.default=u.schema._prefault)),delete u.schema._prefault;return this.seen.get(e).schema}emit(e,t){var n,r,a,o,i,s;const l={cycles:null!==(n=null===t||void 0===t?void 0:t.cycles)&&void 0!==n?n:"ref",reused:null!==(r=null===t||void 0===t?void 0:t.reused)&&void 0!==r?r:"inline",external:null!==(a=null===t||void 0===t?void 0:t.external)&&void 0!==a?a:void 0},u=this.seen.get(e);if(!u)throw new Error("Unprocessed schema. This is a bug in Zod.");const d=e=>{var t;const n="draft-2020-12"===this.target?"$defs":"definitions";if(l.external){var r,a,o,i;const t=null===(r=l.external.registry.get(e[0]))||void 0===r?void 0:r.id,s=null!==(a=l.external.uri)&&void 0!==a?a:e=>e;if(t)return{ref:s(t)};const u=null!==(o=null!==(i=e[1].defId)&&void 0!==i?i:e[1].schema.id)&&void 0!==o?o:"schema".concat(this.counter++);return e[1].defId=u,{defId:u,ref:"".concat(s("__shared"),"#/").concat(n,"/").concat(u)}}if(e[1]===u)return{ref:"#"};const s="".concat("#","/").concat(n,"/"),c=null!==(t=e[1].schema.id)&&void 0!==t?t:"__schema".concat(this.counter++);return{defId:c,ref:s+c}},p=e=>{if(e[1].schema.$ref)return;const t=e[1],{ref:n,defId:r}=d(e);t.def=c({},t.schema),r&&(t.defId=r);const a=t.schema;for(const o in a)delete a[o];a.$ref=n};if("throw"===l.cycles)for(const c of this.seen.entries()){const e=c[1];var f;if(e.cycle)throw new Error("Cycle detected: "+"#/".concat(null===(f=e.cycle)||void 0===f?void 0:f.join("/"),"/<root>")+'\n\nSet the `cycles` parameter to `"ref"` to resolve cyclical schemas with defs.')}for(const c of this.seen.entries()){var h;const t=c[1];if(e===c[0]){p(c);continue}if(l.external){var m;const t=null===(m=l.external.registry.get(c[0]))||void 0===m?void 0:m.id;if(e!==c[0]&&t){p(c);continue}}(null===(h=this.metadataRegistry.get(c[0]))||void 0===h?void 0:h.id)?p(c):(t.cycle||t.count>1&&"ref"===l.reused)&&p(c)}const g=(e,t)=>{var n,r;const a=this.seen.get(e),o=null!==(n=a.def)&&void 0!==n?n:a.schema,i=c({},o);if(null===a.ref)return;const s=a.ref;if(a.ref=null,s){g(s,t);const e=this.seen.get(s).schema;var l;if(!e.$ref||"draft-7"!==t.target&&"draft-4"!==t.target&&"openapi-3.0"!==t.target)Object.assign(o,e),Object.assign(o,i);else o.allOf=null!==(l=o.allOf)&&void 0!==l?l:[],o.allOf.push(e)}a.isParent||this.override({zodSchema:e,jsonSchema:o,path:null!==(r=a.path)&&void 0!==r?r:[]})};for(const c of[...this.seen.entries()].reverse())g(c[0],{target:this.target});const v={};if("draft-2020-12"===this.target?v.$schema="https://json-schema.org/draft/2020-12/schema":"draft-7"===this.target?v.$schema="http://json-schema.org/draft-07/schema#":"draft-4"===this.target?v.$schema="http://json-schema.org/draft-04/schema#":"openapi-3.0"===this.target||console.warn("Invalid target: ".concat(this.target)),null!==(o=l.external)&&void 0!==o&&o.uri){var y;const t=null===(y=l.external.registry.get(e))||void 0===y?void 0:y.id;if(!t)throw new Error("Schema is missing an `id` property");v.$id=l.external.uri(t)}Object.assign(v,u.def);const b=null!==(i=null===(s=l.external)||void 0===s?void 0:s.defs)&&void 0!==i?i:{};for(const c of this.seen.entries()){const e=c[1];e.def&&e.defId&&(b[e.defId]=e.def)}l.external||Object.keys(b).length>0&&("draft-2020-12"===this.target?v.$defs=b:v.definitions=b);try{return JSON.parse(JSON.stringify(v))}catch(_){throw new Error("Error converting schema to JSON.")}}}function to(e,t){const n=null!==t&&void 0!==t?t:{seen:new Set};if(n.seen.has(e))return!1;n.seen.add(e);const r=e._zod.def;switch(r.type){case"string":case"number":case"bigint":case"boolean":case"date":case"symbol":case"undefined":case"null":case"any":case"unknown":case"never":case"void":case"literal":case"enum":case"nan":case"file":case"template_literal":case"custom":case"success":case"catch":case"function":return!1;case"array":return to(r.element,n);case"object":for(const e in r.shape)if(to(r.shape[e],n))return!0;return!1;case"union":for(const e of r.options)if(to(e,n))return!0;return!1;case"intersection":return to(r.left,n)||to(r.right,n);case"tuple":for(const e of r.items)if(to(e,n))return!0;return!(!r.rest||!to(r.rest,n));case"record":case"map":return to(r.keyType,n)||to(r.valueType,n);case"set":return to(r.valueType,n);case"promise":case"optional":case"nonoptional":case"nullable":case"readonly":case"default":case"prefault":return to(r.innerType,n);case"lazy":return to(r.getter(),n);case"transform":return!0;case"pipe":return to(r.in,n)||to(r.out,n)}throw new Error("Unknown schema type: ".concat(r.type))}const no=Re("ZodISODateTime",((e,t)=>{br.init(e,t),To.init(e,t)}));function ro(e){return function(e,t){return new e(c({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null},ot(t)))}(no,e)}const ao=Re("ZodISODate",((e,t)=>{_r.init(e,t),To.init(e,t)}));function oo(e){return function(e,t){return new e(c({type:"string",format:"date",check:"string_format"},ot(t)))}(ao,e)}const io=Re("ZodISOTime",((e,t)=>{wr.init(e,t),To.init(e,t)}));function so(e){return function(e,t){return new e(c({type:"string",format:"time",check:"string_format",precision:null},ot(t)))}(io,e)}const lo=Re("ZodISODuration",((e,t)=>{kr.init(e,t),To.init(e,t)}));function uo(e){return function(e,t){return new e(c({type:"string",format:"duration",check:"string_format"},ot(t)))}(lo,e)}const co=(e,t)=>{mt.init(e,t),e.name="ZodError",Object.defineProperties(e,{format:{value:t=>function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e=>e.message;const n={_errors:[]},r=e=>{for(const a of e.issues)if("invalid_union"===a.code&&a.errors.length)a.errors.map((e=>r({issues:e})));else if("invalid_key"===a.code)r({issues:a.issues});else if("invalid_element"===a.code)r({issues:a.issues});else if(0===a.path.length)n._errors.push(t(a));else{let e=n,r=0;for(;r<a.path.length;){const n=a.path[r];r===a.path.length-1?(e[n]=e[n]||{_errors:[]},e[n]._errors.push(t(a))):e[n]=e[n]||{_errors:[]},e=e[n],r++}}};return r(e),n}(e,t)},flatten:{value:t=>function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e=>e.message;const n={},r=[];for(const a of e.issues)a.path.length>0?(n[a.path[0]]=n[a.path[0]]||[],n[a.path[0]].push(t(a))):r.push(t(a));return{formErrors:r,fieldErrors:n}}(e,t)},addIssue:{value:t=>{e.issues.push(t),e.message=JSON.stringify(e.issues,Ze,2)}},addIssues:{value:t=>{e.issues.push(...t),e.message=JSON.stringify(e.issues,Ze,2)}},isEmpty:{get:()=>0===e.issues.length}})},po=(Re("ZodError",co),Re("ZodError",co,{Parent:Error})),fo=vt(po),ho=yt(po),mo=bt(po),go=wt(po),vo=xt(po),yo=St(po),bo=Ct(po),_o=Et(po),wo=It(po),ko=At(po),xo=Tt(po),So=Nt(po),Co=Re("ZodType",((e,t)=>(or.init(e,t),e.def=t,e.type=t.type,Object.defineProperty(e,"_def",{value:t}),e.check=function(){for(var n,r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return e.clone(Ke(t,{checks:[...null!==(n=t.checks)&&void 0!==n?n:[],...a.map((e=>"function"===typeof e?{_zod:{check:e,def:{check:"custom"},onattach:[]}}:e))]}))},e.clone=(t,n)=>at(e,t,n),e.brand=()=>e,e.register=(t,n)=>(t.add(e,n),e),e.parse=(t,n)=>fo(e,t,n,{callee:e.parse}),e.safeParse=(t,n)=>mo(e,t,n),e.parseAsync=async(t,n)=>ho(e,t,n,{callee:e.parseAsync}),e.safeParseAsync=async(t,n)=>go(e,t,n),e.spa=e.safeParseAsync,e.encode=(t,n)=>vo(e,t,n),e.decode=(t,n)=>yo(e,t,n),e.encodeAsync=async(t,n)=>bo(e,t,n),e.decodeAsync=async(t,n)=>_o(e,t,n),e.safeEncode=(t,n)=>wo(e,t,n),e.safeDecode=(t,n)=>ko(e,t,n),e.safeEncodeAsync=async(t,n)=>xo(e,t,n),e.safeDecodeAsync=async(t,n)=>So(e,t,n),e.refine=(t,n)=>e.check(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(e,t,n){return new e(c({type:"custom",check:"custom",fn:t},ot(n)))}(Zi,e,t)}(t,n)),e.superRefine=t=>e.check(Xa(t)),e.overwrite=t=>e.check(Ya(t)),e.optional=()=>Ni(e),e.nullable=()=>Oi(e),e.nullish=()=>Ni(Oi(e)),e.nonoptional=t=>function(e,t){return new Ri(c({type:"nonoptional",innerType:e},ot(t)))}(e,t),e.array=()=>di(e),e.or=t=>vi([e,t]),e.and=t=>new _i({type:"intersection",left:e,right:t}),e.transform=t=>Li(e,Ai(t)),e.default=t=>{return n=t,new ji({type:"default",innerType:e,get defaultValue(){return"function"===typeof n?n():tt(n)}});var n},e.prefault=t=>{return n=t,new zi({type:"prefault",innerType:e,get defaultValue(){return"function"===typeof n?n():tt(n)}});var n},e.catch=t=>{return new Mi({type:"catch",innerType:e,catchValue:"function"===typeof(n=t)?n:()=>n});var n},e.pipe=t=>Li(e,t),e.readonly=()=>new Di({type:"readonly",innerType:e}),e.describe=t=>{const n=e.clone();return wa.add(n,{description:t}),n},Object.defineProperty(e,"description",{get(){var t;return null===(t=wa.get(e))||void 0===t?void 0:t.description},configurable:!0}),e.meta=function(){if(0===arguments.length)return wa.get(e);const t=e.clone();return wa.add(t,arguments.length<=0?void 0:arguments[0]),t},e.isOptional=()=>e.safeParse(void 0).success,e.isNullable=()=>e.safeParse(null).success,e))),Eo=Re("_ZodString",((e,t)=>{var n,r,a;ir.init(e,t),Co.init(e,t);const o=e._zod.bag;e.format=null!==(n=o.format)&&void 0!==n?n:null,e.minLength=null!==(r=o.minimum)&&void 0!==r?r:null,e.maxLength=null!==(a=o.maximum)&&void 0!==a?a:null,e.regex=function(){return e.check(function(e,t){return new Jn(c(c({check:"string_format",format:"regex"},ot(t)),{},{pattern:e}))}(...arguments))},e.includes=function(){return e.check(function(e,t){return new Xn(c(c({check:"string_format",format:"includes"},ot(t)),{},{includes:e}))}(...arguments))},e.startsWith=function(){return e.check(function(e,t){return new er(c(c({check:"string_format",format:"starts_with"},ot(t)),{},{prefix:e}))}(...arguments))},e.endsWith=function(){return e.check(function(e,t){return new tr(c(c({check:"string_format",format:"ends_with"},ot(t)),{},{suffix:e}))}(...arguments))},e.min=function(){return e.check(Ja(...arguments))},e.max=function(){return e.check(Ka(...arguments))},e.length=function(){return e.check(Ga(...arguments))},e.nonempty=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.check(Ja(1,...n))},e.lowercase=t=>e.check(function(e){return new Gn(c({check:"string_format",format:"lowercase"},ot(e)))}(t)),e.uppercase=t=>e.check(function(e){return new Yn(c({check:"string_format",format:"uppercase"},ot(e)))}(t)),e.trim=()=>e.check(Ya((e=>e.trim()))),e.normalize=function(){return e.check(function(e){return Ya((t=>t.normalize(e)))}(...arguments))},e.toLowerCase=()=>e.check(Ya((e=>e.toLowerCase()))),e.toUpperCase=()=>e.check(Ya((e=>e.toUpperCase())))})),Io=Re("ZodString",((e,t)=>{ir.init(e,t),Eo.init(e,t),e.email=t=>e.check(ka(No,t)),e.url=t=>e.check(Aa(jo,t)),e.jwt=t=>e.check(Va(Ko,t)),e.emoji=t=>e.check(Ta(zo,t)),e.guid=t=>e.check(xa(Po,t)),e.uuid=t=>e.check(Sa(Oo,t)),e.uuidv4=t=>e.check(Ca(Oo,t)),e.uuidv6=t=>e.check(Ea(Oo,t)),e.uuidv7=t=>e.check(Ia(Oo,t)),e.nanoid=t=>e.check(Na(Ro,t)),e.guid=t=>e.check(xa(Po,t)),e.cuid=t=>e.check(Pa(Mo,t)),e.cuid2=t=>e.check(Oa(Fo,t)),e.ulid=t=>e.check(ja(Lo,t)),e.base64=t=>e.check(Ua($o,t)),e.base64url=t=>e.check(Ba(Wo,t)),e.xid=t=>e.check(za(Do,t)),e.ksuid=t=>e.check(Ra(Uo,t)),e.ipv4=t=>e.check(Ma(Bo,t)),e.ipv6=t=>e.check(Fa(Zo,t)),e.cidrv4=t=>e.check(La(Vo,t)),e.cidrv6=t=>e.check(Da(qo,t)),e.e164=t=>e.check(Za(Qo,t)),e.datetime=t=>e.check(ro(t)),e.date=t=>e.check(oo(t)),e.time=t=>e.check(so(t)),e.duration=t=>e.check(uo(t))}));function Ao(e){return function(e,t){return new e(c({type:"string"},ot(t)))}(Io,e)}const To=Re("ZodStringFormat",((e,t)=>{sr.init(e,t),Eo.init(e,t)})),No=Re("ZodEmail",((e,t)=>{cr.init(e,t),To.init(e,t)}));const Po=Re("ZodGUID",((e,t)=>{lr.init(e,t),To.init(e,t)}));const Oo=Re("ZodUUID",((e,t)=>{ur.init(e,t),To.init(e,t)}));const jo=Re("ZodURL",((e,t)=>{dr.init(e,t),To.init(e,t)}));const zo=Re("ZodEmoji",((e,t)=>{pr.init(e,t),To.init(e,t)}));const Ro=Re("ZodNanoID",((e,t)=>{fr.init(e,t),To.init(e,t)}));const Mo=Re("ZodCUID",((e,t)=>{hr.init(e,t),To.init(e,t)}));const Fo=Re("ZodCUID2",((e,t)=>{mr.init(e,t),To.init(e,t)}));const Lo=Re("ZodULID",((e,t)=>{gr.init(e,t),To.init(e,t)}));const Do=Re("ZodXID",((e,t)=>{vr.init(e,t),To.init(e,t)}));const Uo=Re("ZodKSUID",((e,t)=>{yr.init(e,t),To.init(e,t)}));const Bo=Re("ZodIPv4",((e,t)=>{xr.init(e,t),To.init(e,t)}));const Zo=Re("ZodIPv6",((e,t)=>{Sr.init(e,t),To.init(e,t)}));const Vo=Re("ZodCIDRv4",((e,t)=>{Cr.init(e,t),To.init(e,t)}));const qo=Re("ZodCIDRv6",((e,t)=>{Er.init(e,t),To.init(e,t)}));const $o=Re("ZodBase64",((e,t)=>{Ar.init(e,t),To.init(e,t)}));function Ho(e){return Ua($o,e)}const Wo=Re("ZodBase64URL",((e,t)=>{Tr.init(e,t),To.init(e,t)}));const Qo=Re("ZodE164",((e,t)=>{Nr.init(e,t),To.init(e,t)}));const Ko=Re("ZodJWT",((e,t)=>{Pr.init(e,t),To.init(e,t)}));const Jo=Re("ZodNumber",((e,t)=>{var n,r,a,o,i,s,l,u,c;Or.init(e,t),Co.init(e,t),e.gt=(t,n)=>e.check(Ha(t,n)),e.gte=(t,n)=>e.check(Wa(t,n)),e.min=(t,n)=>e.check(Wa(t,n)),e.lt=(t,n)=>e.check(qa(t,n)),e.lte=(t,n)=>e.check($a(t,n)),e.max=(t,n)=>e.check($a(t,n)),e.int=t=>e.check(Xo(t)),e.safe=t=>e.check(Xo(t)),e.positive=t=>e.check(Ha(0,t)),e.nonnegative=t=>e.check(Wa(0,t)),e.negative=t=>e.check(qa(0,t)),e.nonpositive=t=>e.check($a(0,t)),e.multipleOf=(t,n)=>e.check(Qa(t,n)),e.step=(t,n)=>e.check(Qa(t,n)),e.finite=()=>e;const d=e._zod.bag;e.minValue=null!==(n=Math.max(null!==(r=d.minimum)&&void 0!==r?r:Number.NEGATIVE_INFINITY,null!==(a=d.exclusiveMinimum)&&void 0!==a?a:Number.NEGATIVE_INFINITY))&&void 0!==n?n:null,e.maxValue=null!==(o=Math.min(null!==(i=d.maximum)&&void 0!==i?i:Number.POSITIVE_INFINITY,null!==(s=d.exclusiveMaximum)&&void 0!==s?s:Number.POSITIVE_INFINITY))&&void 0!==o?o:null,e.isInt=(null!==(l=d.format)&&void 0!==l?l:"").includes("int")||Number.isSafeInteger(null!==(u=d.multipleOf)&&void 0!==u?u:.5),e.isFinite=!0,e.format=null!==(c=d.format)&&void 0!==c?c:null}));function Go(e){return function(e,t){return new e(c({type:"number",checks:[]},ot(t)))}(Jo,e)}const Yo=Re("ZodNumberFormat",((e,t)=>{jr.init(e,t),Jo.init(e,t)}));function Xo(e){return function(e,t){return new e(c({type:"number",check:"number_format",abort:!1,format:"safeint"},ot(t)))}(Yo,e)}const ei=Re("ZodBoolean",((e,t)=>{zr.init(e,t),Co.init(e,t)}));function ti(e){return function(e,t){return new e(c({type:"boolean"},ot(t)))}(ei,e)}const ni=Re("ZodNull",((e,t)=>{Rr.init(e,t),Co.init(e,t)}));function ri(e){return function(e,t){return new e(c({type:"null"},ot(t)))}(ni,e)}const ai=Re("ZodAny",((e,t)=>{Mr.init(e,t),Co.init(e,t)}));function oi(){return function(e){return new e({type:"any"})}(ai)}const ii=Re("ZodUnknown",((e,t)=>{Fr.init(e,t),Co.init(e,t)}));function si(){return function(e){return new e({type:"unknown"})}(ii)}const li=Re("ZodNever",((e,t)=>{Lr.init(e,t),Co.init(e,t)}));function ui(e){return function(e,t){return new e(c({type:"never"},ot(t)))}(li,e)}const ci=Re("ZodArray",((e,t)=>{Ur.init(e,t),Co.init(e,t),e.element=t.element,e.min=(t,n)=>e.check(Ja(t,n)),e.nonempty=t=>e.check(Ja(1,t)),e.max=(t,n)=>e.check(Ka(t,n)),e.length=(t,n)=>e.check(Ga(t,n)),e.unwrap=()=>e.element}));function di(e,t){return function(e,t,n){return new e(c({type:"array",element:t},ot(n)))}(ci,e,t)}const pi=Re("ZodObject",((e,t)=>{$r.init(e,t),Co.init(e,t),We(e,"shape",(()=>t.shape)),e.keyof=()=>Si(Object.keys(e._zod.def.shape)),e.catchall=t=>e.clone(c(c({},e._zod.def),{},{catchall:t})),e.passthrough=()=>e.clone(c(c({},e._zod.def),{},{catchall:si()})),e.loose=()=>e.clone(c(c({},e._zod.def),{},{catchall:si()})),e.strict=()=>e.clone(c(c({},e._zod.def),{},{catchall:ui()})),e.strip=()=>e.clone(c(c({},e._zod.def),{},{catchall:void 0})),e.extend=t=>function(e,t){if(!et(t))throw new Error("Invalid input to extend: expected a plain object");const n=e._zod.def.checks;if(n&&n.length>0)throw new Error("Object schemas containing refinements cannot be extended. Use `.safeExtend()` instead.");const r=Ke(e._zod.def,{get shape(){const n=c(c({},e._zod.def.shape),t);return Qe(this,"shape",n),n},checks:[]});return at(e,r)}(e,t),e.safeExtend=t=>function(e,t){if(!et(t))throw new Error("Invalid input to safeExtend: expected a plain object");const n=c(c({},e._zod.def),{},{get shape(){const n=c(c({},e._zod.def.shape),t);return Qe(this,"shape",n),n},checks:e._zod.def.checks});return at(e,n)}(e,t),e.merge=t=>function(e,t){const n=Ke(e._zod.def,{get shape(){const n=c(c({},e._zod.def.shape),t._zod.def.shape);return Qe(this,"shape",n),n},get catchall(){return t._zod.def.catchall},checks:[]});return at(e,n)}(e,t),e.pick=t=>function(e,t){const n=e._zod.def;return at(e,Ke(e._zod.def,{get shape(){const e={};for(const r in t){if(!(r in n.shape))throw new Error('Unrecognized key: "'.concat(r,'"'));t[r]&&(e[r]=n.shape[r])}return Qe(this,"shape",e),e},checks:[]}))}(e,t),e.omit=t=>function(e,t){const n=e._zod.def,r=Ke(e._zod.def,{get shape(){const r=c({},e._zod.def.shape);for(const e in t){if(!(e in n.shape))throw new Error('Unrecognized key: "'.concat(e,'"'));t[e]&&delete r[e]}return Qe(this,"shape",r),r},checks:[]});return at(e,r)}(e,t),e.partial=function(){return function(e,t,n){const r=Ke(t._zod.def,{get shape(){const r=t._zod.def.shape,a=c({},r);if(n)for(const t in n){if(!(t in r))throw new Error('Unrecognized key: "'.concat(t,'"'));n[t]&&(a[t]=e?new e({type:"optional",innerType:r[t]}):r[t])}else for(const t in r)a[t]=e?new e({type:"optional",innerType:r[t]}):r[t];return Qe(this,"shape",a),a},checks:[]});return at(t,r)}(Ti,e,arguments.length<=0?void 0:arguments[0])},e.required=function(){return function(e,t,n){const r=Ke(t._zod.def,{get shape(){const r=t._zod.def.shape,a=c({},r);if(n)for(const t in n){if(!(t in a))throw new Error('Unrecognized key: "'.concat(t,'"'));n[t]&&(a[t]=new e({type:"nonoptional",innerType:r[t]}))}else for(const t in r)a[t]=new e({type:"nonoptional",innerType:r[t]});return Qe(this,"shape",a),a},checks:[]});return at(t,r)}(Ri,e,arguments.length<=0?void 0:arguments[0])}}));function fi(e,t){const n=c({type:"object",shape:null!==e&&void 0!==e?e:{}},ot(t));return new pi(n)}function hi(e,t){return new pi(c({type:"object",shape:e,catchall:ui()},ot(t)))}function mi(e,t){return new pi(c({type:"object",shape:e,catchall:si()},ot(t)))}const gi=Re("ZodUnion",((e,t)=>{Wr.init(e,t),Co.init(e,t),e.options=t.options}));function vi(e,t){return new gi(c({type:"union",options:e},ot(t)))}const yi=Re("ZodDiscriminatedUnion",((e,t)=>{gi.init(e,t),Qr.init(e,t)}));function bi(e,t,n){return new yi(c({type:"union",options:t,discriminator:e},ot(n)))}const _i=Re("ZodIntersection",((e,t)=>{Kr.init(e,t),Co.init(e,t)}));const wi=Re("ZodRecord",((e,t)=>{Yr.init(e,t),Co.init(e,t),e.keyType=t.keyType,e.valueType=t.valueType}));function ki(e,t,n){return new wi(c({type:"record",keyType:e,valueType:t},ot(n)))}const xi=Re("ZodEnum",((e,t)=>{Xr.init(e,t),Co.init(e,t),e.enum=t.entries,e.options=Object.values(t.entries);const n=new Set(Object.keys(t.entries));e.extract=(e,r)=>{const a={};for(const o of e){if(!n.has(o))throw new Error("Key ".concat(o," not found in enum"));a[o]=t.entries[o]}return new xi(c(c(c({},t),{},{checks:[]},ot(r)),{},{entries:a}))},e.exclude=(e,r)=>{const a=c({},t.entries);for(const t of e){if(!n.has(t))throw new Error("Key ".concat(t," not found in enum"));delete a[t]}return new xi(c(c(c({},t),{},{checks:[]},ot(r)),{},{entries:a}))}}));function Si(e,t){const n=Array.isArray(e)?Object.fromEntries(e.map((e=>[e,e]))):e;return new xi(c({type:"enum",entries:n},ot(t)))}const Ci=Re("ZodLiteral",((e,t)=>{ea.init(e,t),Co.init(e,t),e.values=new Set(t.values),Object.defineProperty(e,"value",{get(){if(t.values.length>1)throw new Error("This schema contains multiple valid literal values. Use `.values` instead.");return t.values[0]}})}));function Ei(e,t){return new Ci(c({type:"literal",values:Array.isArray(e)?e:[e]},ot(t)))}const Ii=Re("ZodTransform",((e,t)=>{ta.init(e,t),Co.init(e,t),e._zod.parse=(n,r)=>{if("backward"===r.direction)throw new Fe(e.constructor.name);n.addIssue=r=>{if("string"===typeof r)n.issues.push(ft(r,n.value,t));else{var a,o,i;const t=r;t.fatal&&(t.continue=!1),null!==(a=t.code)&&void 0!==a||(t.code="custom"),null!==(o=t.input)&&void 0!==o||(t.input=n.value),null!==(i=t.inst)&&void 0!==i||(t.inst=e),n.issues.push(ft(t))}};const a=t.transform(n.value,n);return a instanceof Promise?a.then((e=>(n.value=e,n))):(n.value=a,n)}}));function Ai(e){return new Ii({type:"transform",transform:e})}const Ti=Re("ZodOptional",((e,t)=>{ra.init(e,t),Co.init(e,t),e.unwrap=()=>e._zod.def.innerType}));function Ni(e){return new Ti({type:"optional",innerType:e})}const Pi=Re("ZodNullable",((e,t)=>{aa.init(e,t),Co.init(e,t),e.unwrap=()=>e._zod.def.innerType}));function Oi(e){return new Pi({type:"nullable",innerType:e})}const ji=Re("ZodDefault",((e,t)=>{oa.init(e,t),Co.init(e,t),e.unwrap=()=>e._zod.def.innerType,e.removeDefault=e.unwrap}));const zi=Re("ZodPrefault",((e,t)=>{sa.init(e,t),Co.init(e,t),e.unwrap=()=>e._zod.def.innerType}));const Ri=Re("ZodNonOptional",((e,t)=>{la.init(e,t),Co.init(e,t),e.unwrap=()=>e._zod.def.innerType}));const Mi=Re("ZodCatch",((e,t)=>{ca.init(e,t),Co.init(e,t),e.unwrap=()=>e._zod.def.innerType,e.removeCatch=e.unwrap}));const Fi=Re("ZodPipe",((e,t)=>{da.init(e,t),Co.init(e,t),e.in=t.in,e.out=t.out}));function Li(e,t){return new Fi({type:"pipe",in:e,out:t})}const Di=Re("ZodReadonly",((e,t)=>{fa.init(e,t),Co.init(e,t),e.unwrap=()=>e._zod.def.innerType}));const Ui=Re("ZodLazy",((e,t)=>{ma.init(e,t),Co.init(e,t),e.unwrap=()=>e._zod.def.getter()}));function Bi(e){return new Ui({type:"lazy",getter:e})}const Zi=Re("ZodCustom",((e,t)=>{ga.init(e,t),Co.init(e,t)}));function Vi(e,t){return function(e,t,n){var r;const a=ot(n);return null!==(r=a.abort)&&void 0!==r||(a.abort=!0),new e(c({type:"custom",check:"custom",fn:t},a))}(Zi,null!==e&&void 0!==e?e:()=>!0,t)}function qi(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{error:"Input not instance of ".concat(e.name)};const n=new Zi(c({type:"custom",check:"custom",fn:t=>t instanceof e,abort:!0},ot(t)));return n._zod.bag.Class=e,n}var $i;function Hi(e){return function(e,t){return new e(c({type:"number",coerce:!0,checks:[]},ot(t)))}(Jo,e)}$i||($i={}),De({localeError:ya()});var Wi,Qi;!function(e){e.assertEqual=e=>{},e.assertIs=function(e){},e.assertNever=function(e){throw new Error},e.arrayToEnum=e=>{const t={};for(const n of e)t[n]=n;return t},e.getValidEnumValues=t=>{const n=e.objectKeys(t).filter((e=>"number"!==typeof t[t[e]])),r={};for(const e of n)r[e]=t[e];return e.objectValues(r)},e.objectValues=t=>e.objectKeys(t).map((function(e){return t[e]})),e.objectKeys="function"===typeof Object.keys?e=>Object.keys(e):e=>{const t=[];for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push(n);return t},e.find=(e,t)=>{for(const n of e)if(t(n))return n},e.isInteger="function"===typeof Number.isInteger?e=>Number.isInteger(e):e=>"number"===typeof e&&Number.isFinite(e)&&Math.floor(e)===e,e.joinValues=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:" | ";return e.map((e=>"string"===typeof e?"'".concat(e,"'"):e)).join(t)},e.jsonStringifyReplacer=(e,t)=>"bigint"===typeof t?t.toString():t}(Wi||(Wi={})),function(e){e.mergeShapes=(e,t)=>c(c({},e),t)}(Qi||(Qi={}));const Ki=Wi.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Ji=e=>{switch(typeof e){case"undefined":return Ki.undefined;case"string":return Ki.string;case"number":return Number.isNaN(e)?Ki.nan:Ki.number;case"boolean":return Ki.boolean;case"function":return Ki.function;case"bigint":return Ki.bigint;case"symbol":return Ki.symbol;case"object":return Array.isArray(e)?Ki.array:null===e?Ki.null:e.then&&"function"===typeof e.then&&e.catch&&"function"===typeof e.catch?Ki.promise:"undefined"!==typeof Map&&e instanceof Map?Ki.map:"undefined"!==typeof Set&&e instanceof Set?Ki.set:"undefined"!==typeof Date&&e instanceof Date?Ki.date:Ki.object;default:return Ki.unknown}},Gi=Wi.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class Yi extends Error{get errors(){return this.issues}constructor(e){var t;super(),t=this,this.issues=[],this.addIssue=e=>{this.issues=[...this.issues,e]},this.addIssues=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];t.issues=[...t.issues,...e]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=e}format(e){const t=e||function(e){return e.message},n={_errors:[]},r=e=>{for(const a of e.issues)if("invalid_union"===a.code)a.unionErrors.map(r);else if("invalid_return_type"===a.code)r(a.returnTypeError);else if("invalid_arguments"===a.code)r(a.argumentsError);else if(0===a.path.length)n._errors.push(t(a));else{let e=n,r=0;for(;r<a.path.length;){const n=a.path[r];r===a.path.length-1?(e[n]=e[n]||{_errors:[]},e[n]._errors.push(t(a))):e[n]=e[n]||{_errors:[]},e=e[n],r++}}};return r(this),n}static assert(e){if(!(e instanceof Yi))throw new Error("Not a ZodError: ".concat(e))}toString(){return this.message}get message(){return JSON.stringify(this.issues,Wi.jsonStringifyReplacer,2)}get isEmpty(){return 0===this.issues.length}flatten(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e=>e.message;const t=Object.create(null),n=[];for(const r of this.issues)if(r.path.length>0){const n=r.path[0];t[n]=t[n]||[],t[n].push(e(r))}else n.push(e(r));return{formErrors:n,fieldErrors:t}}get formErrors(){return this.flatten()}}Yi.create=e=>new Yi(e);const Xi=(e,t)=>{let n;switch(e.code){case Gi.invalid_type:n=e.received===Ki.undefined?"Required":"Expected ".concat(e.expected,", received ").concat(e.received);break;case Gi.invalid_literal:n="Invalid literal value, expected ".concat(JSON.stringify(e.expected,Wi.jsonStringifyReplacer));break;case Gi.unrecognized_keys:n="Unrecognized key(s) in object: ".concat(Wi.joinValues(e.keys,", "));break;case Gi.invalid_union:n="Invalid input";break;case Gi.invalid_union_discriminator:n="Invalid discriminator value. Expected ".concat(Wi.joinValues(e.options));break;case Gi.invalid_enum_value:n="Invalid enum value. Expected ".concat(Wi.joinValues(e.options),", received '").concat(e.received,"'");break;case Gi.invalid_arguments:n="Invalid function arguments";break;case Gi.invalid_return_type:n="Invalid function return type";break;case Gi.invalid_date:n="Invalid date";break;case Gi.invalid_string:"object"===typeof e.validation?"includes"in e.validation?(n='Invalid input: must include "'.concat(e.validation.includes,'"'),"number"===typeof e.validation.position&&(n="".concat(n," at one or more positions greater than or equal to ").concat(e.validation.position))):"startsWith"in e.validation?n='Invalid input: must start with "'.concat(e.validation.startsWith,'"'):"endsWith"in e.validation?n='Invalid input: must end with "'.concat(e.validation.endsWith,'"'):Wi.assertNever(e.validation):n="regex"!==e.validation?"Invalid ".concat(e.validation):"Invalid";break;case Gi.too_small:n="array"===e.type?"Array must contain ".concat(e.exact?"exactly":e.inclusive?"at least":"more than"," ").concat(e.minimum," element(s)"):"string"===e.type?"String must contain ".concat(e.exact?"exactly":e.inclusive?"at least":"over"," ").concat(e.minimum," character(s)"):"number"===e.type||"bigint"===e.type?"Number must be ".concat(e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than ").concat(e.minimum):"date"===e.type?"Date must be ".concat(e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than ").concat(new Date(Number(e.minimum))):"Invalid input";break;case Gi.too_big:n="array"===e.type?"Array must contain ".concat(e.exact?"exactly":e.inclusive?"at most":"less than"," ").concat(e.maximum," element(s)"):"string"===e.type?"String must contain ".concat(e.exact?"exactly":e.inclusive?"at most":"under"," ").concat(e.maximum," character(s)"):"number"===e.type?"Number must be ".concat(e.exact?"exactly":e.inclusive?"less than or equal to":"less than"," ").concat(e.maximum):"bigint"===e.type?"BigInt must be ".concat(e.exact?"exactly":e.inclusive?"less than or equal to":"less than"," ").concat(e.maximum):"date"===e.type?"Date must be ".concat(e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"," ").concat(new Date(Number(e.maximum))):"Invalid input";break;case Gi.custom:n="Invalid input";break;case Gi.invalid_intersection_types:n="Intersection results could not be merged";break;case Gi.not_multiple_of:n="Number must be a multiple of ".concat(e.multipleOf);break;case Gi.not_finite:n="Number must be finite";break;default:n=t.defaultError,Wi.assertNever(e)}return{message:n}};let es=Xi;function ts(){return es}const ns=e=>{const{data:t,path:n,errorMaps:r,issueData:a}=e,o=[...n,...a.path||[]],i=c(c({},a),{},{path:o});if(void 0!==a.message)return c(c({},a),{},{path:o,message:a.message});let s="";const l=r.filter((e=>!!e)).slice().reverse();for(const u of l)s=u(i,{data:t,defaultError:s}).message;return c(c({},a),{},{path:o,message:s})};function rs(e,t){const n=ts(),r=ns({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,n,n===Xi?void 0:Xi].filter((e=>!!e))});e.common.issues.push(r)}class as{constructor(){this.value="valid"}dirty(){"valid"===this.value&&(this.value="dirty")}abort(){"aborted"!==this.value&&(this.value="aborted")}static mergeArray(e,t){const n=[];for(const r of t){if("aborted"===r.status)return os;"dirty"===r.status&&e.dirty(),n.push(r.value)}return{status:e.value,value:n}}static async mergeObjectAsync(e,t){const n=[];for(const r of t){const e=await r.key,t=await r.value;n.push({key:e,value:t})}return as.mergeObjectSync(e,n)}static mergeObjectSync(e,t){const n={};for(const r of t){const{key:t,value:a}=r;if("aborted"===t.status)return os;if("aborted"===a.status)return os;"dirty"===t.status&&e.dirty(),"dirty"===a.status&&e.dirty(),"__proto__"===t.value||"undefined"===typeof a.value&&!r.alwaysSet||(n[t.value]=a.value)}return{status:e.value,value:n}}}const os=Object.freeze({status:"aborted"}),is=e=>({status:"dirty",value:e}),ss=e=>({status:"valid",value:e}),ls=e=>"aborted"===e.status,us=e=>"dirty"===e.status,cs=e=>"valid"===e.status,ds=e=>"undefined"!==typeof Promise&&e instanceof Promise;var ps;!function(e){e.errToObj=e=>"string"===typeof e?{message:e}:e||{},e.toString=e=>"string"===typeof e?e:null===e||void 0===e?void 0:e.message}(ps||(ps={}));class fs{constructor(e,t,n,r){this._cachedPath=[],this.parent=e,this.data=t,this._path=n,this._key=r}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const hs=(e,t)=>{if(cs(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const t=new Yi(e.common.issues);return this._error=t,this._error}}};function ms(e){if(!e)return{};const{errorMap:t,invalid_type_error:n,required_error:r,description:a}=e;if(t&&(n||r))throw new Error('Can\'t use "invalid_type_error" or "required_error" in conjunction with custom error map.');if(t)return{errorMap:t,description:a};return{errorMap:(t,a)=>{var o;const{message:i}=e;return"invalid_enum_value"===t.code?{message:null!==i&&void 0!==i?i:a.defaultError}:"undefined"===typeof a.data?{message:null!==(s=null!==i&&void 0!==i?i:r)&&void 0!==s?s:a.defaultError}:"invalid_type"!==t.code?{message:a.defaultError}:{message:null!==(o=null!==i&&void 0!==i?i:n)&&void 0!==o?o:a.defaultError};var s},description:a}}class gs{get description(){return this._def.description}_getType(e){return Ji(e.data)}_getOrReturnCtx(e,t){return t||{common:e.parent.common,data:e.data,parsedType:Ji(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new as,ctx:{common:e.parent.common,data:e.data,parsedType:Ji(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const t=this._parse(e);if(ds(t))throw new Error("Synchronous parse encountered promise.");return t}_parseAsync(e){const t=this._parse(e);return Promise.resolve(t)}parse(e,t){const n=this.safeParse(e,t);if(n.success)return n.data;throw n.error}safeParse(e,t){var n;const r={common:{issues:[],async:null!==(n=null===t||void 0===t?void 0:t.async)&&void 0!==n&&n,contextualErrorMap:null===t||void 0===t?void 0:t.errorMap},path:(null===t||void 0===t?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Ji(e)},a=this._parseSync({data:e,path:r.path,parent:r});return hs(r,a)}"~validate"(e){const t={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Ji(e)};if(!this["~standard"].async)try{const n=this._parseSync({data:e,path:[],parent:t});return cs(n)?{value:n.value}:{issues:t.common.issues}}catch(r){var n;null!==r&&void 0!==r&&null!==(n=r.message)&&void 0!==n&&null!==(n=n.toLowerCase())&&void 0!==n&&n.includes("encountered")&&(this["~standard"].async=!0),t.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:t}).then((e=>cs(e)?{value:e.value}:{issues:t.common.issues}))}async parseAsync(e,t){const n=await this.safeParseAsync(e,t);if(n.success)return n.data;throw n.error}async safeParseAsync(e,t){const n={common:{issues:[],contextualErrorMap:null===t||void 0===t?void 0:t.errorMap,async:!0},path:(null===t||void 0===t?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Ji(e)},r=this._parse({data:e,path:n.path,parent:n}),a=await(ds(r)?r:Promise.resolve(r));return hs(n,a)}refine(e,t){return this._refinement(((n,r)=>{const a=e(n),o=()=>r.addIssue(c({code:Gi.custom},(e=>"string"===typeof t||"undefined"===typeof t?{message:t}:"function"===typeof t?t(e):t)(n)));return"undefined"!==typeof Promise&&a instanceof Promise?a.then((e=>!!e||(o(),!1))):!!a||(o(),!1)}))}refinement(e,t){return this._refinement(((n,r)=>!!e(n)||(r.addIssue("function"===typeof t?t(n,r):t),!1)))}_refinement(e){return new fl({schema:this,typeName:kl.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:e=>this["~validate"](e)}}optional(){return hl.create(this,this._def)}nullable(){return ml.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Ys.create(this)}promise(){return pl.create(this,this._def)}or(e){return tl.create([this,e],this._def)}and(e){return rl.create(this,e,this._def)}transform(e){return new fl(c(c({},ms(this._def)),{},{schema:this,typeName:kl.ZodEffects,effect:{type:"transform",transform:e}}))}default(e){const t="function"===typeof e?e:()=>e;return new gl(c(c({},ms(this._def)),{},{innerType:this,defaultValue:t,typeName:kl.ZodDefault}))}brand(){return new bl(c({typeName:kl.ZodBranded,type:this},ms(this._def)))}catch(e){const t="function"===typeof e?e:()=>e;return new vl(c(c({},ms(this._def)),{},{innerType:this,catchValue:t,typeName:kl.ZodCatch}))}describe(e){return new(0,this.constructor)(c(c({},this._def),{},{description:e}))}pipe(e){return _l.create(this,e)}readonly(){return wl.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const vs=/^c[^\s-]{8,}$/i,ys=/^[0-9a-z]+$/,bs=/^[0-9A-HJKMNP-TV-Z]{26}$/i,_s=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,ws=/^[a-z0-9_-]{21}$/i,ks=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,xs=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,Ss=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i;let Cs;const Es=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,Is=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,As=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,Ts=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,Ns=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,Ps=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,Os="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",js=new RegExp("^".concat(Os,"$"));function zs(e){let t="[0-5]\\d";e.precision?t="".concat(t,"\\.\\d{").concat(e.precision,"}"):null==e.precision&&(t="".concat(t,"(\\.\\d+)?"));const n=e.precision?"+":"?";return"([01]\\d|2[0-3]):[0-5]\\d(:".concat(t,")").concat(n)}function Rs(e){let t="".concat(Os,"T").concat(zs(e));const n=[];return n.push(e.local?"Z?":"Z"),e.offset&&n.push("([+-]\\d{2}:?\\d{2})"),t="".concat(t,"(").concat(n.join("|"),")"),new RegExp("^".concat(t,"$"))}function Ms(e,t){return!("v4"!==t&&t||!Es.test(e))||!("v6"!==t&&t||!As.test(e))}function Fs(e,t){if(!ks.test(e))return!1;try{const[n]=e.split(".");if(!n)return!1;const r=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),a=JSON.parse(atob(r));return"object"===typeof a&&null!==a&&((!("typ"in a)||"JWT"===(null===a||void 0===a?void 0:a.typ))&&(!!a.alg&&(!t||a.alg===t)))}catch(n){return!1}}function Ls(e,t){return!("v4"!==t&&t||!Is.test(e))||!("v6"!==t&&t||!Ts.test(e))}class Ds extends gs{_parse(e){this._def.coerce&&(e.data=String(e.data));if(this._getType(e)!==Ki.string){const t=this._getOrReturnCtx(e);return rs(t,{code:Gi.invalid_type,expected:Ki.string,received:t.parsedType}),os}const t=new as;let n;for(const a of this._def.checks)if("min"===a.kind)e.data.length<a.value&&(n=this._getOrReturnCtx(e,n),rs(n,{code:Gi.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),t.dirty());else if("max"===a.kind)e.data.length>a.value&&(n=this._getOrReturnCtx(e,n),rs(n,{code:Gi.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),t.dirty());else if("length"===a.kind){const r=e.data.length>a.value,o=e.data.length<a.value;(r||o)&&(n=this._getOrReturnCtx(e,n),r?rs(n,{code:Gi.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}):o&&rs(n,{code:Gi.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}),t.dirty())}else if("email"===a.kind)Ss.test(e.data)||(n=this._getOrReturnCtx(e,n),rs(n,{validation:"email",code:Gi.invalid_string,message:a.message}),t.dirty());else if("emoji"===a.kind)Cs||(Cs=new RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),Cs.test(e.data)||(n=this._getOrReturnCtx(e,n),rs(n,{validation:"emoji",code:Gi.invalid_string,message:a.message}),t.dirty());else if("uuid"===a.kind)_s.test(e.data)||(n=this._getOrReturnCtx(e,n),rs(n,{validation:"uuid",code:Gi.invalid_string,message:a.message}),t.dirty());else if("nanoid"===a.kind)ws.test(e.data)||(n=this._getOrReturnCtx(e,n),rs(n,{validation:"nanoid",code:Gi.invalid_string,message:a.message}),t.dirty());else if("cuid"===a.kind)vs.test(e.data)||(n=this._getOrReturnCtx(e,n),rs(n,{validation:"cuid",code:Gi.invalid_string,message:a.message}),t.dirty());else if("cuid2"===a.kind)ys.test(e.data)||(n=this._getOrReturnCtx(e,n),rs(n,{validation:"cuid2",code:Gi.invalid_string,message:a.message}),t.dirty());else if("ulid"===a.kind)bs.test(e.data)||(n=this._getOrReturnCtx(e,n),rs(n,{validation:"ulid",code:Gi.invalid_string,message:a.message}),t.dirty());else if("url"===a.kind)try{new URL(e.data)}catch(r){n=this._getOrReturnCtx(e,n),rs(n,{validation:"url",code:Gi.invalid_string,message:a.message}),t.dirty()}else if("regex"===a.kind){a.regex.lastIndex=0;a.regex.test(e.data)||(n=this._getOrReturnCtx(e,n),rs(n,{validation:"regex",code:Gi.invalid_string,message:a.message}),t.dirty())}else if("trim"===a.kind)e.data=e.data.trim();else if("includes"===a.kind)e.data.includes(a.value,a.position)||(n=this._getOrReturnCtx(e,n),rs(n,{code:Gi.invalid_string,validation:{includes:a.value,position:a.position},message:a.message}),t.dirty());else if("toLowerCase"===a.kind)e.data=e.data.toLowerCase();else if("toUpperCase"===a.kind)e.data=e.data.toUpperCase();else if("startsWith"===a.kind)e.data.startsWith(a.value)||(n=this._getOrReturnCtx(e,n),rs(n,{code:Gi.invalid_string,validation:{startsWith:a.value},message:a.message}),t.dirty());else if("endsWith"===a.kind)e.data.endsWith(a.value)||(n=this._getOrReturnCtx(e,n),rs(n,{code:Gi.invalid_string,validation:{endsWith:a.value},message:a.message}),t.dirty());else if("datetime"===a.kind){Rs(a).test(e.data)||(n=this._getOrReturnCtx(e,n),rs(n,{code:Gi.invalid_string,validation:"datetime",message:a.message}),t.dirty())}else if("date"===a.kind){js.test(e.data)||(n=this._getOrReturnCtx(e,n),rs(n,{code:Gi.invalid_string,validation:"date",message:a.message}),t.dirty())}else if("time"===a.kind){new RegExp("^".concat(zs(a),"$")).test(e.data)||(n=this._getOrReturnCtx(e,n),rs(n,{code:Gi.invalid_string,validation:"time",message:a.message}),t.dirty())}else"duration"===a.kind?xs.test(e.data)||(n=this._getOrReturnCtx(e,n),rs(n,{validation:"duration",code:Gi.invalid_string,message:a.message}),t.dirty()):"ip"===a.kind?Ms(e.data,a.version)||(n=this._getOrReturnCtx(e,n),rs(n,{validation:"ip",code:Gi.invalid_string,message:a.message}),t.dirty()):"jwt"===a.kind?Fs(e.data,a.alg)||(n=this._getOrReturnCtx(e,n),rs(n,{validation:"jwt",code:Gi.invalid_string,message:a.message}),t.dirty()):"cidr"===a.kind?Ls(e.data,a.version)||(n=this._getOrReturnCtx(e,n),rs(n,{validation:"cidr",code:Gi.invalid_string,message:a.message}),t.dirty()):"base64"===a.kind?Ns.test(e.data)||(n=this._getOrReturnCtx(e,n),rs(n,{validation:"base64",code:Gi.invalid_string,message:a.message}),t.dirty()):"base64url"===a.kind?Ps.test(e.data)||(n=this._getOrReturnCtx(e,n),rs(n,{validation:"base64url",code:Gi.invalid_string,message:a.message}),t.dirty()):Wi.assertNever(a);return{status:t.value,value:e.data}}_regex(e,t,n){return this.refinement((t=>e.test(t)),c({validation:t,code:Gi.invalid_string},ps.errToObj(n)))}_addCheck(e){return new Ds(c(c({},this._def),{},{checks:[...this._def.checks,e]}))}email(e){return this._addCheck(c({kind:"email"},ps.errToObj(e)))}url(e){return this._addCheck(c({kind:"url"},ps.errToObj(e)))}emoji(e){return this._addCheck(c({kind:"emoji"},ps.errToObj(e)))}uuid(e){return this._addCheck(c({kind:"uuid"},ps.errToObj(e)))}nanoid(e){return this._addCheck(c({kind:"nanoid"},ps.errToObj(e)))}cuid(e){return this._addCheck(c({kind:"cuid"},ps.errToObj(e)))}cuid2(e){return this._addCheck(c({kind:"cuid2"},ps.errToObj(e)))}ulid(e){return this._addCheck(c({kind:"ulid"},ps.errToObj(e)))}base64(e){return this._addCheck(c({kind:"base64"},ps.errToObj(e)))}base64url(e){return this._addCheck(c({kind:"base64url"},ps.errToObj(e)))}jwt(e){return this._addCheck(c({kind:"jwt"},ps.errToObj(e)))}ip(e){return this._addCheck(c({kind:"ip"},ps.errToObj(e)))}cidr(e){return this._addCheck(c({kind:"cidr"},ps.errToObj(e)))}datetime(e){var t,n;return"string"===typeof e?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck(c({kind:"datetime",precision:"undefined"===typeof(null===e||void 0===e?void 0:e.precision)?null:null===e||void 0===e?void 0:e.precision,offset:null!==(t=null===e||void 0===e?void 0:e.offset)&&void 0!==t&&t,local:null!==(n=null===e||void 0===e?void 0:e.local)&&void 0!==n&&n},ps.errToObj(null===e||void 0===e?void 0:e.message)))}date(e){return this._addCheck({kind:"date",message:e})}time(e){return"string"===typeof e?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck(c({kind:"time",precision:"undefined"===typeof(null===e||void 0===e?void 0:e.precision)?null:null===e||void 0===e?void 0:e.precision},ps.errToObj(null===e||void 0===e?void 0:e.message)))}duration(e){return this._addCheck(c({kind:"duration"},ps.errToObj(e)))}regex(e,t){return this._addCheck(c({kind:"regex",regex:e},ps.errToObj(t)))}includes(e,t){return this._addCheck(c({kind:"includes",value:e,position:null===t||void 0===t?void 0:t.position},ps.errToObj(null===t||void 0===t?void 0:t.message)))}startsWith(e,t){return this._addCheck(c({kind:"startsWith",value:e},ps.errToObj(t)))}endsWith(e,t){return this._addCheck(c({kind:"endsWith",value:e},ps.errToObj(t)))}min(e,t){return this._addCheck(c({kind:"min",value:e},ps.errToObj(t)))}max(e,t){return this._addCheck(c({kind:"max",value:e},ps.errToObj(t)))}length(e,t){return this._addCheck(c({kind:"length",value:e},ps.errToObj(t)))}nonempty(e){return this.min(1,ps.errToObj(e))}trim(){return new Ds(c(c({},this._def),{},{checks:[...this._def.checks,{kind:"trim"}]}))}toLowerCase(){return new Ds(c(c({},this._def),{},{checks:[...this._def.checks,{kind:"toLowerCase"}]}))}toUpperCase(){return new Ds(c(c({},this._def),{},{checks:[...this._def.checks,{kind:"toUpperCase"}]}))}get isDatetime(){return!!this._def.checks.find((e=>"datetime"===e.kind))}get isDate(){return!!this._def.checks.find((e=>"date"===e.kind))}get isTime(){return!!this._def.checks.find((e=>"time"===e.kind))}get isDuration(){return!!this._def.checks.find((e=>"duration"===e.kind))}get isEmail(){return!!this._def.checks.find((e=>"email"===e.kind))}get isURL(){return!!this._def.checks.find((e=>"url"===e.kind))}get isEmoji(){return!!this._def.checks.find((e=>"emoji"===e.kind))}get isUUID(){return!!this._def.checks.find((e=>"uuid"===e.kind))}get isNANOID(){return!!this._def.checks.find((e=>"nanoid"===e.kind))}get isCUID(){return!!this._def.checks.find((e=>"cuid"===e.kind))}get isCUID2(){return!!this._def.checks.find((e=>"cuid2"===e.kind))}get isULID(){return!!this._def.checks.find((e=>"ulid"===e.kind))}get isIP(){return!!this._def.checks.find((e=>"ip"===e.kind))}get isCIDR(){return!!this._def.checks.find((e=>"cidr"===e.kind))}get isBase64(){return!!this._def.checks.find((e=>"base64"===e.kind))}get isBase64url(){return!!this._def.checks.find((e=>"base64url"===e.kind))}get minLength(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxLength(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}}function Us(e,t){const n=(e.toString().split(".")[1]||"").length,r=(t.toString().split(".")[1]||"").length,a=n>r?n:r;return Number.parseInt(e.toFixed(a).replace(".",""))%Number.parseInt(t.toFixed(a).replace(".",""))/10**a}Ds.create=e=>{var t;return new Ds(c({checks:[],typeName:kl.ZodString,coerce:null!==(t=null===e||void 0===e?void 0:e.coerce)&&void 0!==t&&t},ms(e)))};class Bs extends gs{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){this._def.coerce&&(e.data=Number(e.data));if(this._getType(e)!==Ki.number){const t=this._getOrReturnCtx(e);return rs(t,{code:Gi.invalid_type,expected:Ki.number,received:t.parsedType}),os}let t;const n=new as;for(const r of this._def.checks)if("int"===r.kind)Wi.isInteger(e.data)||(t=this._getOrReturnCtx(e,t),rs(t,{code:Gi.invalid_type,expected:"integer",received:"float",message:r.message}),n.dirty());else if("min"===r.kind){(r.inclusive?e.data<r.value:e.data<=r.value)&&(t=this._getOrReturnCtx(e,t),rs(t,{code:Gi.too_small,minimum:r.value,type:"number",inclusive:r.inclusive,exact:!1,message:r.message}),n.dirty())}else if("max"===r.kind){(r.inclusive?e.data>r.value:e.data>=r.value)&&(t=this._getOrReturnCtx(e,t),rs(t,{code:Gi.too_big,maximum:r.value,type:"number",inclusive:r.inclusive,exact:!1,message:r.message}),n.dirty())}else"multipleOf"===r.kind?0!==Us(e.data,r.value)&&(t=this._getOrReturnCtx(e,t),rs(t,{code:Gi.not_multiple_of,multipleOf:r.value,message:r.message}),n.dirty()):"finite"===r.kind?Number.isFinite(e.data)||(t=this._getOrReturnCtx(e,t),rs(t,{code:Gi.not_finite,message:r.message}),n.dirty()):Wi.assertNever(r);return{status:n.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,ps.toString(t))}gt(e,t){return this.setLimit("min",e,!1,ps.toString(t))}lte(e,t){return this.setLimit("max",e,!0,ps.toString(t))}lt(e,t){return this.setLimit("max",e,!1,ps.toString(t))}setLimit(e,t,n,r){return new Bs(c(c({},this._def),{},{checks:[...this._def.checks,{kind:e,value:t,inclusive:n,message:ps.toString(r)}]}))}_addCheck(e){return new Bs(c(c({},this._def),{},{checks:[...this._def.checks,e]}))}int(e){return this._addCheck({kind:"int",message:ps.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:ps.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:ps.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:ps.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:ps.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:ps.toString(t)})}finite(e){return this._addCheck({kind:"finite",message:ps.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:ps.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:ps.toString(e)})}get minValue(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}get isInt(){return!!this._def.checks.find((e=>"int"===e.kind||"multipleOf"===e.kind&&Wi.isInteger(e.value)))}get isFinite(){let e=null,t=null;for(const n of this._def.checks){if("finite"===n.kind||"int"===n.kind||"multipleOf"===n.kind)return!0;"min"===n.kind?(null===t||n.value>t)&&(t=n.value):"max"===n.kind&&(null===e||n.value<e)&&(e=n.value)}return Number.isFinite(t)&&Number.isFinite(e)}}Bs.create=e=>new Bs(c({checks:[],typeName:kl.ZodNumber,coerce:(null===e||void 0===e?void 0:e.coerce)||!1},ms(e)));class Zs extends gs{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch(r){return this._getInvalidInput(e)}if(this._getType(e)!==Ki.bigint)return this._getInvalidInput(e);let t;const n=new as;for(const a of this._def.checks)if("min"===a.kind){(a.inclusive?e.data<a.value:e.data<=a.value)&&(t=this._getOrReturnCtx(e,t),rs(t,{code:Gi.too_small,type:"bigint",minimum:a.value,inclusive:a.inclusive,message:a.message}),n.dirty())}else if("max"===a.kind){(a.inclusive?e.data>a.value:e.data>=a.value)&&(t=this._getOrReturnCtx(e,t),rs(t,{code:Gi.too_big,type:"bigint",maximum:a.value,inclusive:a.inclusive,message:a.message}),n.dirty())}else"multipleOf"===a.kind?e.data%a.value!==BigInt(0)&&(t=this._getOrReturnCtx(e,t),rs(t,{code:Gi.not_multiple_of,multipleOf:a.value,message:a.message}),n.dirty()):Wi.assertNever(a);return{status:n.value,value:e.data}}_getInvalidInput(e){const t=this._getOrReturnCtx(e);return rs(t,{code:Gi.invalid_type,expected:Ki.bigint,received:t.parsedType}),os}gte(e,t){return this.setLimit("min",e,!0,ps.toString(t))}gt(e,t){return this.setLimit("min",e,!1,ps.toString(t))}lte(e,t){return this.setLimit("max",e,!0,ps.toString(t))}lt(e,t){return this.setLimit("max",e,!1,ps.toString(t))}setLimit(e,t,n,r){return new Zs(c(c({},this._def),{},{checks:[...this._def.checks,{kind:e,value:t,inclusive:n,message:ps.toString(r)}]}))}_addCheck(e){return new Zs(c(c({},this._def),{},{checks:[...this._def.checks,e]}))}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:ps.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:ps.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:ps.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:ps.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:ps.toString(t)})}get minValue(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}}Zs.create=e=>{var t;return new Zs(c({checks:[],typeName:kl.ZodBigInt,coerce:null!==(t=null===e||void 0===e?void 0:e.coerce)&&void 0!==t&&t},ms(e)))};class Vs extends gs{_parse(e){this._def.coerce&&(e.data=Boolean(e.data));if(this._getType(e)!==Ki.boolean){const t=this._getOrReturnCtx(e);return rs(t,{code:Gi.invalid_type,expected:Ki.boolean,received:t.parsedType}),os}return ss(e.data)}}Vs.create=e=>new Vs(c({typeName:kl.ZodBoolean,coerce:(null===e||void 0===e?void 0:e.coerce)||!1},ms(e)));class qs extends gs{_parse(e){this._def.coerce&&(e.data=new Date(e.data));if(this._getType(e)!==Ki.date){const t=this._getOrReturnCtx(e);return rs(t,{code:Gi.invalid_type,expected:Ki.date,received:t.parsedType}),os}if(Number.isNaN(e.data.getTime())){return rs(this._getOrReturnCtx(e),{code:Gi.invalid_date}),os}const t=new as;let n;for(const r of this._def.checks)"min"===r.kind?e.data.getTime()<r.value&&(n=this._getOrReturnCtx(e,n),rs(n,{code:Gi.too_small,message:r.message,inclusive:!0,exact:!1,minimum:r.value,type:"date"}),t.dirty()):"max"===r.kind?e.data.getTime()>r.value&&(n=this._getOrReturnCtx(e,n),rs(n,{code:Gi.too_big,message:r.message,inclusive:!0,exact:!1,maximum:r.value,type:"date"}),t.dirty()):Wi.assertNever(r);return{status:t.value,value:new Date(e.data.getTime())}}_addCheck(e){return new qs(c(c({},this._def),{},{checks:[...this._def.checks,e]}))}min(e,t){return this._addCheck({kind:"min",value:e.getTime(),message:ps.toString(t)})}max(e,t){return this._addCheck({kind:"max",value:e.getTime(),message:ps.toString(t)})}get minDate(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return null!=e?new Date(e):null}get maxDate(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return null!=e?new Date(e):null}}qs.create=e=>new qs(c({checks:[],coerce:(null===e||void 0===e?void 0:e.coerce)||!1,typeName:kl.ZodDate},ms(e)));class $s extends gs{_parse(e){if(this._getType(e)!==Ki.symbol){const t=this._getOrReturnCtx(e);return rs(t,{code:Gi.invalid_type,expected:Ki.symbol,received:t.parsedType}),os}return ss(e.data)}}$s.create=e=>new $s(c({typeName:kl.ZodSymbol},ms(e)));class Hs extends gs{_parse(e){if(this._getType(e)!==Ki.undefined){const t=this._getOrReturnCtx(e);return rs(t,{code:Gi.invalid_type,expected:Ki.undefined,received:t.parsedType}),os}return ss(e.data)}}Hs.create=e=>new Hs(c({typeName:kl.ZodUndefined},ms(e)));class Ws extends gs{_parse(e){if(this._getType(e)!==Ki.null){const t=this._getOrReturnCtx(e);return rs(t,{code:Gi.invalid_type,expected:Ki.null,received:t.parsedType}),os}return ss(e.data)}}Ws.create=e=>new Ws(c({typeName:kl.ZodNull},ms(e)));class Qs extends gs{constructor(){super(...arguments),this._any=!0}_parse(e){return ss(e.data)}}Qs.create=e=>new Qs(c({typeName:kl.ZodAny},ms(e)));class Ks extends gs{constructor(){super(...arguments),this._unknown=!0}_parse(e){return ss(e.data)}}Ks.create=e=>new Ks(c({typeName:kl.ZodUnknown},ms(e)));class Js extends gs{_parse(e){const t=this._getOrReturnCtx(e);return rs(t,{code:Gi.invalid_type,expected:Ki.never,received:t.parsedType}),os}}Js.create=e=>new Js(c({typeName:kl.ZodNever},ms(e)));class Gs extends gs{_parse(e){if(this._getType(e)!==Ki.undefined){const t=this._getOrReturnCtx(e);return rs(t,{code:Gi.invalid_type,expected:Ki.void,received:t.parsedType}),os}return ss(e.data)}}Gs.create=e=>new Gs(c({typeName:kl.ZodVoid},ms(e)));class Ys extends gs{_parse(e){const{ctx:t,status:n}=this._processInputParams(e),r=this._def;if(t.parsedType!==Ki.array)return rs(t,{code:Gi.invalid_type,expected:Ki.array,received:t.parsedType}),os;if(null!==r.exactLength){const e=t.data.length>r.exactLength.value,a=t.data.length<r.exactLength.value;(e||a)&&(rs(t,{code:e?Gi.too_big:Gi.too_small,minimum:a?r.exactLength.value:void 0,maximum:e?r.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:r.exactLength.message}),n.dirty())}if(null!==r.minLength&&t.data.length<r.minLength.value&&(rs(t,{code:Gi.too_small,minimum:r.minLength.value,type:"array",inclusive:!0,exact:!1,message:r.minLength.message}),n.dirty()),null!==r.maxLength&&t.data.length>r.maxLength.value&&(rs(t,{code:Gi.too_big,maximum:r.maxLength.value,type:"array",inclusive:!0,exact:!1,message:r.maxLength.message}),n.dirty()),t.common.async)return Promise.all([...t.data].map(((e,n)=>r.type._parseAsync(new fs(t,e,t.path,n))))).then((e=>as.mergeArray(n,e)));const a=[...t.data].map(((e,n)=>r.type._parseSync(new fs(t,e,t.path,n))));return as.mergeArray(n,a)}get element(){return this._def.type}min(e,t){return new Ys(c(c({},this._def),{},{minLength:{value:e,message:ps.toString(t)}}))}max(e,t){return new Ys(c(c({},this._def),{},{maxLength:{value:e,message:ps.toString(t)}}))}length(e,t){return new Ys(c(c({},this._def),{},{exactLength:{value:e,message:ps.toString(t)}}))}nonempty(e){return this.min(1,e)}}function Xs(e){if(e instanceof el){const t={};for(const n in e.shape){const r=e.shape[n];t[n]=hl.create(Xs(r))}return new el(c(c({},e._def),{},{shape:()=>t}))}return e instanceof Ys?new Ys(c(c({},e._def),{},{type:Xs(e.element)})):e instanceof hl?hl.create(Xs(e.unwrap())):e instanceof ml?ml.create(Xs(e.unwrap())):e instanceof al?al.create(e.items.map((e=>Xs(e)))):e}Ys.create=(e,t)=>new Ys(c({type:e,minLength:null,maxLength:null,exactLength:null,typeName:kl.ZodArray},ms(t)));class el extends gs{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(null!==this._cached)return this._cached;const e=this._def.shape(),t=Wi.objectKeys(e);return this._cached={shape:e,keys:t},this._cached}_parse(e){if(this._getType(e)!==Ki.object){const t=this._getOrReturnCtx(e);return rs(t,{code:Gi.invalid_type,expected:Ki.object,received:t.parsedType}),os}const{status:t,ctx:n}=this._processInputParams(e),{shape:r,keys:a}=this._getCached(),o=[];if(!(this._def.catchall instanceof Js&&"strip"===this._def.unknownKeys))for(const s in n.data)a.includes(s)||o.push(s);const i=[];for(const s of a){const e=r[s],t=n.data[s];i.push({key:{status:"valid",value:s},value:e._parse(new fs(n,t,n.path,s)),alwaysSet:s in n.data})}if(this._def.catchall instanceof Js){const e=this._def.unknownKeys;if("passthrough"===e)for(const t of o)i.push({key:{status:"valid",value:t},value:{status:"valid",value:n.data[t]}});else if("strict"===e)o.length>0&&(rs(n,{code:Gi.unrecognized_keys,keys:o}),t.dirty());else if("strip"!==e)throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const e=this._def.catchall;for(const t of o){const r=n.data[t];i.push({key:{status:"valid",value:t},value:e._parse(new fs(n,r,n.path,t)),alwaysSet:t in n.data})}}return n.common.async?Promise.resolve().then((async()=>{const e=[];for(const t of i){const n=await t.key,r=await t.value;e.push({key:n,value:r,alwaysSet:t.alwaysSet})}return e})).then((e=>as.mergeObjectSync(t,e))):as.mergeObjectSync(t,i)}get shape(){return this._def.shape()}strict(e){return ps.errToObj,new el(c(c({},this._def),{},{unknownKeys:"strict"},void 0!==e?{errorMap:(t,n)=>{var r,a,o,i;const s=null!==(r=null===(a=(o=this._def).errorMap)||void 0===a?void 0:a.call(o,t,n).message)&&void 0!==r?r:n.defaultError;return"unrecognized_keys"===t.code?{message:null!==(i=ps.errToObj(e).message)&&void 0!==i?i:s}:{message:s}}}:{}))}strip(){return new el(c(c({},this._def),{},{unknownKeys:"strip"}))}passthrough(){return new el(c(c({},this._def),{},{unknownKeys:"passthrough"}))}extend(e){return new el(c(c({},this._def),{},{shape:()=>c(c({},this._def.shape()),e)}))}merge(e){return new el({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>c(c({},this._def.shape()),e._def.shape()),typeName:kl.ZodObject})}setKey(e,t){return this.augment({[e]:t})}catchall(e){return new el(c(c({},this._def),{},{catchall:e}))}pick(e){const t={};for(const n of Wi.objectKeys(e))e[n]&&this.shape[n]&&(t[n]=this.shape[n]);return new el(c(c({},this._def),{},{shape:()=>t}))}omit(e){const t={};for(const n of Wi.objectKeys(this.shape))e[n]||(t[n]=this.shape[n]);return new el(c(c({},this._def),{},{shape:()=>t}))}deepPartial(){return Xs(this)}partial(e){const t={};for(const n of Wi.objectKeys(this.shape)){const r=this.shape[n];e&&!e[n]?t[n]=r:t[n]=r.optional()}return new el(c(c({},this._def),{},{shape:()=>t}))}required(e){const t={};for(const n of Wi.objectKeys(this.shape))if(e&&!e[n])t[n]=this.shape[n];else{let e=this.shape[n];for(;e instanceof hl;)e=e._def.innerType;t[n]=e}return new el(c(c({},this._def),{},{shape:()=>t}))}keyof(){return ul(Wi.objectKeys(this.shape))}}el.create=(e,t)=>new el(c({shape:()=>e,unknownKeys:"strip",catchall:Js.create(),typeName:kl.ZodObject},ms(t))),el.strictCreate=(e,t)=>new el(c({shape:()=>e,unknownKeys:"strict",catchall:Js.create(),typeName:kl.ZodObject},ms(t))),el.lazycreate=(e,t)=>new el(c({shape:e,unknownKeys:"strip",catchall:Js.create(),typeName:kl.ZodObject},ms(t)));class tl extends gs{_parse(e){const{ctx:t}=this._processInputParams(e),n=this._def.options;if(t.common.async)return Promise.all(n.map((async e=>{const n=c(c({},t),{},{common:c(c({},t.common),{},{issues:[]}),parent:null});return{result:await e._parseAsync({data:t.data,path:t.path,parent:n}),ctx:n}}))).then((function(e){for(const t of e)if("valid"===t.result.status)return t.result;for(const r of e)if("dirty"===r.result.status)return t.common.issues.push(...r.ctx.common.issues),r.result;const n=e.map((e=>new Yi(e.ctx.common.issues)));return rs(t,{code:Gi.invalid_union,unionErrors:n}),os}));{let e;const r=[];for(const o of n){const n=c(c({},t),{},{common:c(c({},t.common),{},{issues:[]}),parent:null}),a=o._parseSync({data:t.data,path:t.path,parent:n});if("valid"===a.status)return a;"dirty"!==a.status||e||(e={result:a,ctx:n}),n.common.issues.length&&r.push(n.common.issues)}if(e)return t.common.issues.push(...e.ctx.common.issues),e.result;const a=r.map((e=>new Yi(e)));return rs(t,{code:Gi.invalid_union,unionErrors:a}),os}}get options(){return this._def.options}}tl.create=(e,t)=>new tl(c({options:e,typeName:kl.ZodUnion},ms(t)));function nl(e,t){const n=Ji(e),r=Ji(t);if(e===t)return{valid:!0,data:e};if(n===Ki.object&&r===Ki.object){const n=Wi.objectKeys(t),r=Wi.objectKeys(e).filter((e=>-1!==n.indexOf(e))),a=c(c({},e),t);for(const o of r){const n=nl(e[o],t[o]);if(!n.valid)return{valid:!1};a[o]=n.data}return{valid:!0,data:a}}if(n===Ki.array&&r===Ki.array){if(e.length!==t.length)return{valid:!1};const n=[];for(let r=0;r<e.length;r++){const a=nl(e[r],t[r]);if(!a.valid)return{valid:!1};n.push(a.data)}return{valid:!0,data:n}}return n===Ki.date&&r===Ki.date&&+e===+t?{valid:!0,data:e}:{valid:!1}}class rl extends gs{_parse(e){const{status:t,ctx:n}=this._processInputParams(e),r=(e,r)=>{if(ls(e)||ls(r))return os;const a=nl(e.value,r.value);return a.valid?((us(e)||us(r))&&t.dirty(),{status:t.value,value:a.data}):(rs(n,{code:Gi.invalid_intersection_types}),os)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then((e=>{let[t,n]=e;return r(t,n)})):r(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}rl.create=(e,t,n)=>new rl(c({left:e,right:t,typeName:kl.ZodIntersection},ms(n)));class al extends gs{_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==Ki.array)return rs(n,{code:Gi.invalid_type,expected:Ki.array,received:n.parsedType}),os;if(n.data.length<this._def.items.length)return rs(n,{code:Gi.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),os;!this._def.rest&&n.data.length>this._def.items.length&&(rs(n,{code:Gi.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),t.dirty());const r=[...n.data].map(((e,t)=>{const r=this._def.items[t]||this._def.rest;return r?r._parse(new fs(n,e,n.path,t)):null})).filter((e=>!!e));return n.common.async?Promise.all(r).then((e=>as.mergeArray(t,e))):as.mergeArray(t,r)}get items(){return this._def.items}rest(e){return new al(c(c({},this._def),{},{rest:e}))}}al.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new al(c({items:e,typeName:kl.ZodTuple,rest:null},ms(t)))};class ol extends gs{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==Ki.map)return rs(n,{code:Gi.invalid_type,expected:Ki.map,received:n.parsedType}),os;const r=this._def.keyType,a=this._def.valueType,o=[...n.data.entries()].map(((e,t)=>{let[o,i]=e;return{key:r._parse(new fs(n,o,n.path,[t,"key"])),value:a._parse(new fs(n,i,n.path,[t,"value"]))}}));if(n.common.async){const e=new Map;return Promise.resolve().then((async()=>{for(const n of o){const r=await n.key,a=await n.value;if("aborted"===r.status||"aborted"===a.status)return os;"dirty"!==r.status&&"dirty"!==a.status||t.dirty(),e.set(r.value,a.value)}return{status:t.value,value:e}}))}{const e=new Map;for(const n of o){const r=n.key,a=n.value;if("aborted"===r.status||"aborted"===a.status)return os;"dirty"!==r.status&&"dirty"!==a.status||t.dirty(),e.set(r.value,a.value)}return{status:t.value,value:e}}}}ol.create=(e,t,n)=>new ol(c({valueType:t,keyType:e,typeName:kl.ZodMap},ms(n)));class il extends gs{_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==Ki.set)return rs(n,{code:Gi.invalid_type,expected:Ki.set,received:n.parsedType}),os;const r=this._def;null!==r.minSize&&n.data.size<r.minSize.value&&(rs(n,{code:Gi.too_small,minimum:r.minSize.value,type:"set",inclusive:!0,exact:!1,message:r.minSize.message}),t.dirty()),null!==r.maxSize&&n.data.size>r.maxSize.value&&(rs(n,{code:Gi.too_big,maximum:r.maxSize.value,type:"set",inclusive:!0,exact:!1,message:r.maxSize.message}),t.dirty());const a=this._def.valueType;function o(e){const n=new Set;for(const r of e){if("aborted"===r.status)return os;"dirty"===r.status&&t.dirty(),n.add(r.value)}return{status:t.value,value:n}}const i=[...n.data.values()].map(((e,t)=>a._parse(new fs(n,e,n.path,t))));return n.common.async?Promise.all(i).then((e=>o(e))):o(i)}min(e,t){return new il(c(c({},this._def),{},{minSize:{value:e,message:ps.toString(t)}}))}max(e,t){return new il(c(c({},this._def),{},{maxSize:{value:e,message:ps.toString(t)}}))}size(e,t){return this.min(e,t).max(e,t)}nonempty(e){return this.min(1,e)}}il.create=(e,t)=>new il(c({valueType:e,minSize:null,maxSize:null,typeName:kl.ZodSet},ms(t)));class sl extends gs{get schema(){return this._def.getter()}_parse(e){const{ctx:t}=this._processInputParams(e);return this._def.getter()._parse({data:t.data,path:t.path,parent:t})}}sl.create=(e,t)=>new sl(c({getter:e,typeName:kl.ZodLazy},ms(t)));class ll extends gs{_parse(e){if(e.data!==this._def.value){const t=this._getOrReturnCtx(e);return rs(t,{received:t.data,code:Gi.invalid_literal,expected:this._def.value}),os}return{status:"valid",value:e.data}}get value(){return this._def.value}}function ul(e,t){return new cl(c({values:e,typeName:kl.ZodEnum},ms(t)))}ll.create=(e,t)=>new ll(c({value:e,typeName:kl.ZodLiteral},ms(t)));class cl extends gs{_parse(e){if("string"!==typeof e.data){const t=this._getOrReturnCtx(e),n=this._def.values;return rs(t,{expected:Wi.joinValues(n),received:t.parsedType,code:Gi.invalid_type}),os}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){const t=this._getOrReturnCtx(e),n=this._def.values;return rs(t,{received:t.data,code:Gi.invalid_enum_value,options:n}),os}return ss(e.data)}get options(){return this._def.values}get enum(){const e={};for(const t of this._def.values)e[t]=t;return e}get Values(){const e={};for(const t of this._def.values)e[t]=t;return e}get Enum(){const e={};for(const t of this._def.values)e[t]=t;return e}extract(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._def;return cl.create(e,c(c({},this._def),t))}exclude(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._def;return cl.create(this.options.filter((t=>!e.includes(t))),c(c({},this._def),t))}}cl.create=ul;class dl extends gs{_parse(e){const t=Wi.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(e);if(n.parsedType!==Ki.string&&n.parsedType!==Ki.number){const e=Wi.objectValues(t);return rs(n,{expected:Wi.joinValues(e),received:n.parsedType,code:Gi.invalid_type}),os}if(this._cache||(this._cache=new Set(Wi.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){const e=Wi.objectValues(t);return rs(n,{received:n.data,code:Gi.invalid_enum_value,options:e}),os}return ss(e.data)}get enum(){return this._def.values}}dl.create=(e,t)=>new dl(c({values:e,typeName:kl.ZodNativeEnum},ms(t)));class pl extends gs{unwrap(){return this._def.type}_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==Ki.promise&&!1===t.common.async)return rs(t,{code:Gi.invalid_type,expected:Ki.promise,received:t.parsedType}),os;const n=t.parsedType===Ki.promise?t.data:Promise.resolve(t.data);return ss(n.then((e=>this._def.type.parseAsync(e,{path:t.path,errorMap:t.common.contextualErrorMap}))))}}pl.create=(e,t)=>new pl(c({type:e,typeName:kl.ZodPromise},ms(t)));class fl extends gs{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===kl.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:t,ctx:n}=this._processInputParams(e),r=this._def.effect||null,a={addIssue:e=>{rs(n,e),e.fatal?t.abort():t.dirty()},get path(){return n.path}};if(a.addIssue=a.addIssue.bind(a),"preprocess"===r.type){const e=r.transform(n.data,a);if(n.common.async)return Promise.resolve(e).then((async e=>{if("aborted"===t.value)return os;const r=await this._def.schema._parseAsync({data:e,path:n.path,parent:n});return"aborted"===r.status?os:"dirty"===r.status||"dirty"===t.value?is(r.value):r}));{if("aborted"===t.value)return os;const r=this._def.schema._parseSync({data:e,path:n.path,parent:n});return"aborted"===r.status?os:"dirty"===r.status||"dirty"===t.value?is(r.value):r}}if("refinement"===r.type){const e=e=>{const t=r.refinement(e,a);if(n.common.async)return Promise.resolve(t);if(t instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return e};if(!1===n.common.async){const r=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return"aborted"===r.status?os:("dirty"===r.status&&t.dirty(),e(r.value),{status:t.value,value:r.value})}return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then((n=>"aborted"===n.status?os:("dirty"===n.status&&t.dirty(),e(n.value).then((()=>({status:t.value,value:n.value}))))))}if("transform"===r.type){if(!1===n.common.async){const e=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!cs(e))return os;const o=r.transform(e.value,a);if(o instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:t.value,value:o}}return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then((e=>cs(e)?Promise.resolve(r.transform(e.value,a)).then((e=>({status:t.value,value:e}))):os))}Wi.assertNever(r)}}fl.create=(e,t,n)=>new fl(c({schema:e,typeName:kl.ZodEffects,effect:t},ms(n))),fl.createWithPreprocess=(e,t,n)=>new fl(c({schema:t,effect:{type:"preprocess",transform:e},typeName:kl.ZodEffects},ms(n)));class hl extends gs{_parse(e){return this._getType(e)===Ki.undefined?ss(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}hl.create=(e,t)=>new hl(c({innerType:e,typeName:kl.ZodOptional},ms(t)));class ml extends gs{_parse(e){return this._getType(e)===Ki.null?ss(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}ml.create=(e,t)=>new ml(c({innerType:e,typeName:kl.ZodNullable},ms(t)));class gl extends gs{_parse(e){const{ctx:t}=this._processInputParams(e);let n=t.data;return t.parsedType===Ki.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:t.path,parent:t})}removeDefault(){return this._def.innerType}}gl.create=(e,t)=>new gl(c({innerType:e,typeName:kl.ZodDefault,defaultValue:"function"===typeof t.default?t.default:()=>t.default},ms(t)));class vl extends gs{_parse(e){const{ctx:t}=this._processInputParams(e),n=c(c({},t),{},{common:c(c({},t.common),{},{issues:[]})}),r=this._def.innerType._parse({data:n.data,path:n.path,parent:c({},n)});return ds(r)?r.then((e=>({status:"valid",value:"valid"===e.status?e.value:this._def.catchValue({get error(){return new Yi(n.common.issues)},input:n.data})}))):{status:"valid",value:"valid"===r.status?r.value:this._def.catchValue({get error(){return new Yi(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}vl.create=(e,t)=>new vl(c({innerType:e,typeName:kl.ZodCatch,catchValue:"function"===typeof t.catch?t.catch:()=>t.catch},ms(t)));class yl extends gs{_parse(e){if(this._getType(e)!==Ki.nan){const t=this._getOrReturnCtx(e);return rs(t,{code:Gi.invalid_type,expected:Ki.nan,received:t.parsedType}),os}return{status:"valid",value:e.data}}}yl.create=e=>new yl(c({typeName:kl.ZodNaN},ms(e)));Symbol("zod_brand");class bl extends gs{_parse(e){const{ctx:t}=this._processInputParams(e),n=t.data;return this._def.type._parse({data:n,path:t.path,parent:t})}unwrap(){return this._def.type}}class _l extends gs{_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.common.async){return(async()=>{const e=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return"aborted"===e.status?os:"dirty"===e.status?(t.dirty(),is(e.value)):this._def.out._parseAsync({data:e.value,path:n.path,parent:n})})()}{const e=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return"aborted"===e.status?os:"dirty"===e.status?(t.dirty(),{status:"dirty",value:e.value}):this._def.out._parseSync({data:e.value,path:n.path,parent:n})}}static create(e,t){return new _l({in:e,out:t,typeName:kl.ZodPipeline})}}class wl extends gs{_parse(e){const t=this._def.innerType._parse(e),n=e=>(cs(e)&&(e.value=Object.freeze(e.value)),e);return ds(t)?t.then((e=>n(e))):n(t)}unwrap(){return this._def.innerType}}wl.create=(e,t)=>new wl(c({innerType:e,typeName:kl.ZodReadonly},ms(t)));el.lazycreate;var kl;!function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"}(kl||(kl={}));Ds.create,Bs.create,yl.create,Zs.create,Vs.create,qs.create,$s.create,Hs.create,Ws.create,Qs.create,Ks.create,Js.create,Gs.create,Ys.create,el.create,el.strictCreate,tl.create,rl.create,al.create,ol.create,il.create,sl.create,ll.create,cl.create,dl.create,pl.create,fl.create,hl.create,ml.create,fl.createWithPreprocess,_l.create;const xl=["execute","outputSchema","toModelOutput","onInputStart","onInputDelta","onInputAvailable"],Sl=["execute","toModelOutput","onInputStart","onInputDelta","onInputAvailable"],Cl=["additionalProperties"],El=["type"],Il=["type"];function Al(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce(((e,t)=>c(c({},e),null!=t?t:{})),{})}function Tl(){return new DOMException("Delay was aborted","AbortError")}function Nl(e){return Object.fromEntries([...e.headers])}var Pl=function(){let{prefix:e,size:t=16,alphabet:n="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",separator:r="-"}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const a=()=>{const e=n.length,r=new Array(t);for(let a=0;a<t;a++)r[a]=n[Math.random()*e|0];return r.join("")};if(null==e)return a;if(n.includes(r))throw new L({argument:"separator",message:'The separator "'.concat(r,'" must not be part of the alphabet "').concat(n,'".')});return()=>"".concat(e).concat(r).concat(a())},Ol=Pl();function jl(e){return null==e?"unknown error":"string"===typeof e?e:e instanceof Error?e.message:JSON.stringify(e)}function zl(e){return(e instanceof Error||e instanceof DOMException)&&("AbortError"===e.name||"ResponseAborted"===e.name||"TimeoutError"===e.name)}var Rl=["fetch failed","failed to fetch"];function Ml(e){let{error:t,url:n,requestBodyValues:r}=e;if(zl(t))return t;if(t instanceof TypeError&&Rl.includes(t.message.toLowerCase())){const e=t.cause;if(null!=e)return new I({message:"Cannot connect to API: ".concat(e.message),cause:e,url:n,requestBodyValues:r,isRetryable:!0})}return t}function Fl(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:globalThis;var t,n,r;return e.window?"runtime/browser":(null==(t=e.navigator)?void 0:t.userAgent)?"runtime/".concat(e.navigator.userAgent.toLowerCase()):(null==(r=null==(n=e.process)?void 0:n.versions)?void 0:r.node)?"runtime/node.js/".concat(e.process.version.substring(0)):e.EdgeRuntime?"runtime/vercel-edge":"runtime/unknown"}function Ll(e){const t=function(e){return Object.fromEntries(Object.entries(e).filter((e=>{let[t,n]=e;return null!=n})))}(null!=e?e:{}),n=new Headers(t),r=n.get("user-agent")||"";for(var a=arguments.length,o=new Array(a>1?a-1:0),i=1;i<a;i++)o[i-1]=arguments[i];return n.set("user-agent",[r,...o].filter(Boolean).join(" ")),Object.fromEntries(n)}var Dl="3.0.12",Ul=()=>globalThis.fetch,Bl=async e=>{let{url:t,headers:n={},successfulResponseHandler:r,failedResponseHandler:a,abortSignal:o,fetch:i=Ul()}=e;try{const e=await i(t,{method:"GET",headers:Ll(n,"ai-sdk/provider-utils/".concat(Dl),Fl()),signal:o}),l=Nl(e);if(!e.ok){let n;try{n=await a({response:e,url:t,requestBodyValues:{}})}catch(s){if(zl(s)||I.isInstance(s))throw s;throw new I({message:"Failed to process error response",cause:s,statusCode:e.status,url:t,responseHeaders:l,requestBodyValues:{}})}throw n.value}try{return await r({response:e,url:t,requestBodyValues:{}})}catch(s){if(s instanceof Error&&(zl(s)||I.isInstance(s)))throw s;throw new I({message:"Failed to process successful response",cause:s,statusCode:e.status,url:t,responseHeaders:l,requestBodyValues:{}})}}catch(s){throw Ml({error:s,url:t,requestBodyValues:{}})}};function Zl(e){let{mediaType:t,url:n,supportedUrls:r}=e;return n=n.toLowerCase(),t=t.toLowerCase(),Object.entries(r).map((e=>{let[t,n]=e;const r=t.toLowerCase();return"*"===r||"*/*"===r?{mediaTypePrefix:"",regexes:n}:{mediaTypePrefix:r.replace(/\*/,""),regexes:n}})).filter((e=>{let{mediaTypePrefix:n}=e;return t.startsWith(n)})).flatMap((e=>{let{regexes:t}=e;return t})).some((e=>e.test(n)))}function Vl(e){let{apiKey:t,environmentVariableName:n,apiKeyParameterName:r="apiKey",description:a}=e;if("string"===typeof t)return t;if(null!=t)throw new ae({message:"".concat(a," API key must be a string.")});if("undefined"===typeof process)throw new ae({message:"".concat(a," API key is missing. Pass it using the '").concat(r,"' parameter. Environment variables is not supported in this environment.")});if(t={NODE_ENV:"production",PUBLIC_URL:"/dinner-debt",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}[n],null==t)throw new ae({message:"".concat(a," API key is missing. Pass it using the '").concat(r,"' parameter or the ").concat(n," environment variable.")});if("string"!==typeof t)throw new ae({message:"".concat(a," API key must be a string. The value of the ").concat(n," environment variable is not a string.")});return t}function ql(e){let{settingValue:t,environmentVariableName:n}=e;return"string"===typeof t||null==t&&"undefined"!==typeof process&&(t={NODE_ENV:"production",PUBLIC_URL:"/dinner-debt",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}[n],null!=t&&"string"===typeof t)?t:void 0}var $l=/"__proto__"\s*:/,Hl=/"constructor"\s*:/;function Wl(e){const t=JSON.parse(e);return null===t||"object"!==typeof t||!1===$l.test(e)&&!1===Hl.test(e)?t:function(e){let t=[e];for(;t.length;){const e=t;t=[];for(const n of e){if(Object.prototype.hasOwnProperty.call(n,"__proto__"))throw new SyntaxError("Object contains forbidden prototype property");if(Object.prototype.hasOwnProperty.call(n,"constructor")&&Object.prototype.hasOwnProperty.call(n.constructor,"prototype"))throw new SyntaxError("Object contains forbidden prototype property");for(const e in n){const r=n[e];r&&"object"===typeof r&&t.push(r)}}}return e}(t)}function Ql(e){const{stackTraceLimit:t}=Error;Error.stackTraceLimit=0;try{return Wl(e)}finally{Error.stackTraceLimit=t}}var Kl=Symbol.for("vercel.ai.validator");function Jl(e){let t;return()=>(null==t&&(t=e()),t)}function Gl(e){return function(e){return"object"===typeof e&&null!==e&&Kl in e&&!0===e[Kl]&&"validate"in e}(e)?e:"function"===typeof e?e():function(e){return t=async t=>{const n=await e["~standard"].validate(t);return null==n.issues?{success:!0,value:n.value}:{success:!1,error:new Ee({value:t,cause:n.issues})}},{[Kl]:!0,validate:t};var t}(e)}async function Yl(e){let{value:t,schema:n}=e;const r=await Xl({value:t,schema:n});if(!r.success)throw Ee.wrap({value:t,cause:r.error});return r.value}async function Xl(e){let{value:t,schema:n}=e;const r=Gl(n);try{if(null==r.validate)return{success:!0,value:t,rawValue:t};const e=await r.validate(t);return e.success?{success:!0,value:e.value,rawValue:t}:{success:!1,error:Ee.wrap({value:t,cause:e.error}),rawValue:t}}catch(a){return{success:!1,error:Ee.wrap({value:t,cause:a}),rawValue:t}}}async function eu(e){let{text:t,schema:n}=e;try{const e=Ql(t);return null==n?{success:!0,value:e,rawValue:e}:await Xl({value:e,schema:n})}catch(r){return{success:!1,error:X.isInstance(r)?r:new X({text:t,cause:r}),rawValue:void 0}}}function tu(e){try{return Ql(e),!0}catch(Xm){return!1}}function nu(e){let{stream:t,schema:n}=e;return t.pipeThrough(new TextDecoderStream).pipeThrough(new ze).pipeThrough(new TransformStream({async transform(e,t){let{data:r}=e;"[DONE]"!==r&&t.enqueue(await eu({text:r,schema:n}))}}))}async function ru(e){let{provider:t,providerOptions:n,schema:r}=e;if(null==(null==n?void 0:n[t]))return;const a=await Xl({value:n[t],schema:r});if(!a.success)throw new L({argument:"providerOptions",message:"invalid ".concat(t," provider options"),cause:a.error});return a.value}var au=()=>globalThis.fetch,ou=async e=>{let{url:t,headers:n,body:r,failedResponseHandler:a,successfulResponseHandler:o,abortSignal:i,fetch:s}=e;return iu({url:t,headers:c({"Content-Type":"application/json"},n),body:{content:JSON.stringify(r),values:r},failedResponseHandler:a,successfulResponseHandler:o,abortSignal:i,fetch:s})},iu=async e=>{let{url:t,headers:n={},body:r,successfulResponseHandler:a,failedResponseHandler:o,abortSignal:i,fetch:s=au()}=e;try{const e=await s(t,{method:"POST",headers:Ll(n,"ai-sdk/provider-utils/".concat(Dl),Fl()),body:r.content,signal:i}),u=Nl(e);if(!e.ok){let n;try{n=await o({response:e,url:t,requestBodyValues:r.values})}catch(l){if(zl(l)||I.isInstance(l))throw l;throw new I({message:"Failed to process error response",cause:l,statusCode:e.status,url:t,responseHeaders:u,requestBodyValues:r.values})}throw n.value}try{return await a({response:e,url:t,requestBodyValues:r.values})}catch(l){if(l instanceof Error&&(zl(l)||I.isInstance(l)))throw l;throw new I({message:"Failed to process successful response",cause:l,statusCode:e.status,url:t,responseHeaders:u,requestBodyValues:r.values})}}catch(l){throw Ml({error:l,url:t,requestBodyValues:r.values})}};function su(e){let{id:t,name:n,inputSchema:r}=e;return e=>{let{execute:a,outputSchema:o,toModelOutput:i,onInputStart:s,onInputDelta:l,onInputAvailable:u}=e,c=p(e,xl);return{type:"provider-defined",id:t,name:n,args:c,inputSchema:r,outputSchema:o,execute:a,toModelOutput:i,onInputStart:s,onInputDelta:l,onInputAvailable:u}}}function lu(e){let{id:t,name:n,inputSchema:r,outputSchema:a}=e;return e=>{let{execute:o,toModelOutput:i,onInputStart:s,onInputDelta:l,onInputAvailable:u}=e,c=p(e,Sl);return{type:"provider-defined",id:t,name:n,args:c,inputSchema:r,outputSchema:a,execute:o,toModelOutput:i,onInputStart:s,onInputDelta:l,onInputAvailable:u}}}async function uu(e){return"function"===typeof e&&(e=e()),Promise.resolve(e)}var cu=e=>{let{errorSchema:t,errorToMessage:n,isRetryable:r}=e;return async e=>{let{response:a,url:o,requestBodyValues:i}=e;const s=await a.text(),l=Nl(a);if(""===s.trim())return{responseHeaders:l,value:new I({message:a.statusText,url:o,requestBodyValues:i,statusCode:a.status,responseHeaders:l,responseBody:s,isRetryable:null==r?void 0:r(a)})};try{const e=await async function(e){let{text:t,schema:n}=e;try{const e=Ql(t);return null==n?e:Yl({value:e,schema:n})}catch(r){if(X.isInstance(r)||Ee.isInstance(r))throw r;throw new X({text:t,cause:r})}}({text:s,schema:t});return{responseHeaders:l,value:new I({message:n(e),url:o,requestBodyValues:i,statusCode:a.status,responseHeaders:l,responseBody:s,data:e,isRetryable:null==r?void 0:r(a,e)})}}catch(u){return{responseHeaders:l,value:new I({message:a.statusText,url:o,requestBodyValues:i,statusCode:a.status,responseHeaders:l,responseBody:s,isRetryable:null==r?void 0:r(a)})}}}},du=e=>async t=>{let{response:n}=t;const r=Nl(n);if(null==n.body)throw new O({});return{responseHeaders:r,value:nu({stream:n.body,schema:e})}},pu=e=>async t=>{let{response:n,url:r,requestBodyValues:a}=t;const o=await n.text(),i=await eu({text:o,schema:e}),s=Nl(n);if(!i.success)throw new I({message:"Invalid JSON response",cause:i.error,statusCode:n.status,responseHeaders:s,responseBody:o,url:r,requestBodyValues:a});return{responseHeaders:s,value:i.value,rawValue:i.rawValue}},fu=(e,t)=>{let n=0;for(;n<e.length&&n<t.length&&e[n]===t[n];n++);return[(e.length-n).toString(),...t.slice(n)].join("/")},hu=Symbol("Let zodToJsonSchema decide on which parser to use"),mu={name:void 0,$refStrategy:"root",basePath:["#"],effectStrategy:"input",pipeStrategy:"all",dateStrategy:"format:date-time",mapStrategy:"entries",removeAdditionalStrategy:"passthrough",allowedAdditionalProperties:!0,rejectedAdditionalProperties:!1,definitionPath:"definitions",strictUnions:!1,definitions:{},errorMessages:!1,patternStrategy:"escape",applyRegexFlags:!1,emailStrategy:"format:email",base64Strategy:"contentEncoding:base64",nameStrategy:"ref"};function gu(e,t){return ju(e.type._def,t)}function vu(e,t,n){const r=null!=n?n:t.dateStrategy;if(Array.isArray(r))return{anyOf:r.map(((n,r)=>vu(e,t,n)))};switch(r){case"string":case"format:date-time":return{type:"string",format:"date-time"};case"format:date":return{type:"string",format:"date"};case"integer":return yu(e)}}var yu=e=>{const t={type:"integer",format:"unix-time"};for(const n of e.checks)switch(n.kind){case"min":t.minimum=n.value;break;case"max":t.maximum=n.value}return t};var bu=void 0,_u={cuid:/^[cC][^\s-]{8,}$/,cuid2:/^[0-9a-z]+$/,ulid:/^[0-9A-HJKMNP-TV-Z]{26}$/,email:/^(?!\.)(?!.*\.\.)([a-zA-Z0-9_'+\-\.]*)[a-zA-Z0-9_+-]@([a-zA-Z0-9][a-zA-Z0-9\-]*\.)+[a-zA-Z]{2,}$/,emoji:()=>(void 0===bu&&(bu=RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),bu),uuid:/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/,ipv4:/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,ipv4Cidr:/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,ipv6:/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,ipv6Cidr:/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,base64:/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,base64url:/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,nanoid:/^[a-zA-Z0-9_-]{21}$/,jwt:/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/};function wu(e,t){const n={type:"string"};if(e.checks)for(const r of e.checks)switch(r.kind){case"min":n.minLength="number"===typeof n.minLength?Math.max(n.minLength,r.value):r.value;break;case"max":n.maxLength="number"===typeof n.maxLength?Math.min(n.maxLength,r.value):r.value;break;case"email":switch(t.emailStrategy){case"format:email":Su(n,"email",r.message,t);break;case"format:idn-email":Su(n,"idn-email",r.message,t);break;case"pattern:zod":Cu(n,_u.email,r.message,t)}break;case"url":Su(n,"uri",r.message,t);break;case"uuid":Su(n,"uuid",r.message,t);break;case"regex":Cu(n,r.regex,r.message,t);break;case"cuid":Cu(n,_u.cuid,r.message,t);break;case"cuid2":Cu(n,_u.cuid2,r.message,t);break;case"startsWith":Cu(n,RegExp("^".concat(ku(r.value,t))),r.message,t);break;case"endsWith":Cu(n,RegExp("".concat(ku(r.value,t),"$")),r.message,t);break;case"datetime":Su(n,"date-time",r.message,t);break;case"date":Su(n,"date",r.message,t);break;case"time":Su(n,"time",r.message,t);break;case"duration":Su(n,"duration",r.message,t);break;case"length":n.minLength="number"===typeof n.minLength?Math.max(n.minLength,r.value):r.value,n.maxLength="number"===typeof n.maxLength?Math.min(n.maxLength,r.value):r.value;break;case"includes":Cu(n,RegExp(ku(r.value,t)),r.message,t);break;case"ip":"v6"!==r.version&&Su(n,"ipv4",r.message,t),"v4"!==r.version&&Su(n,"ipv6",r.message,t);break;case"base64url":Cu(n,_u.base64url,r.message,t);break;case"jwt":Cu(n,_u.jwt,r.message,t);break;case"cidr":"v6"!==r.version&&Cu(n,_u.ipv4Cidr,r.message,t),"v4"!==r.version&&Cu(n,_u.ipv6Cidr,r.message,t);break;case"emoji":Cu(n,_u.emoji(),r.message,t);break;case"ulid":Cu(n,_u.ulid,r.message,t);break;case"base64":switch(t.base64Strategy){case"format:binary":Su(n,"binary",r.message,t);break;case"contentEncoding:base64":n.contentEncoding="base64";break;case"pattern:zod":Cu(n,_u.base64,r.message,t)}break;case"nanoid":Cu(n,_u.nanoid,r.message,t)}return n}function ku(e,t){return"escape"===t.patternStrategy?function(e){let t="";for(let n=0;n<e.length;n++)xu.has(e[n])||(t+="\\"),t+=e[n];return t}(e):e}var xu=new Set("ABCDEFGHIJKLMNOPQRSTUVXYZabcdefghijklmnopqrstuvxyz0123456789");function Su(e,t,n,r){var a;e.format||(null==(a=e.anyOf)?void 0:a.some((e=>e.format)))?(e.anyOf||(e.anyOf=[]),e.format&&(e.anyOf.push({format:e.format}),delete e.format),e.anyOf.push(c({format:t},n&&r.errorMessages&&{errorMessage:{format:n}}))):e.format=t}function Cu(e,t,n,r){var a;e.pattern||(null==(a=e.allOf)?void 0:a.some((e=>e.pattern)))?(e.allOf||(e.allOf=[]),e.pattern&&(e.allOf.push({pattern:e.pattern}),delete e.pattern),e.allOf.push(c({pattern:Eu(t,r)},n&&r.errorMessages&&{errorMessage:{pattern:n}}))):e.pattern=Eu(t,r)}function Eu(e,t){var n;if(!t.applyRegexFlags||!e.flags)return e.source;const r=e.flags.includes("i"),a=e.flags.includes("m"),o=e.flags.includes("s"),i=r?e.source.toLowerCase():e.source;let s="",l=!1,u=!1,c=!1;for(let d=0;d<i.length;d++)if(l)s+=i[d],l=!1;else{if(r)if(u){if(i[d].match(/[a-z]/)){c?(s+=i[d],s+="".concat(i[d-2],"-").concat(i[d]).toUpperCase(),c=!1):"-"===i[d+1]&&(null==(n=i[d+2])?void 0:n.match(/[a-z]/))?(s+=i[d],c=!0):s+="".concat(i[d]).concat(i[d].toUpperCase());continue}}else if(i[d].match(/[a-z]/)){s+="[".concat(i[d]).concat(i[d].toUpperCase(),"]");continue}if(a){if("^"===i[d]){s+="(^|(?<=[\r\n]))";continue}if("$"===i[d]){s+="($|(?=[\r\n]))";continue}}o&&"."===i[d]?s+=u?"".concat(i[d],"\r\n"):"[".concat(i[d],"\r\n]"):(s+=i[d],"\\"===i[d]?l=!0:u&&"]"===i[d]?u=!1:u||"["!==i[d]||(u=!0))}try{new RegExp(s)}catch(Xm){return console.warn("Could not convert regex pattern at ".concat(t.currentPath.join("/")," to a flag-independent form! Falling back to the flag-ignorant source")),e.source}return s}function Iu(e,t){var n,r,a,o,i,s;const l={type:"object",additionalProperties:null!=(n=ju(e.valueType._def,c(c({},t),{},{currentPath:[...t.currentPath,"additionalProperties"]})))?n:t.allowedAdditionalProperties};if((null==(r=e.keyType)?void 0:r._def.typeName)===kl.ZodString&&(null==(a=e.keyType._def.checks)?void 0:a.length)){const n=wu(e.keyType._def,t),{type:r}=n,a=p(n,El);return c(c({},l),{},{propertyNames:a})}if((null==(o=e.keyType)?void 0:o._def.typeName)===kl.ZodEnum)return c(c({},l),{},{propertyNames:{enum:e.keyType._def.values}});if((null==(i=e.keyType)?void 0:i._def.typeName)===kl.ZodBranded&&e.keyType._def.type._def.typeName===kl.ZodString&&(null==(s=e.keyType._def.type._def.checks)?void 0:s.length)){const n=gu(e.keyType._def,t),{type:r}=n,a=p(n,Il);return c(c({},l),{},{propertyNames:a})}return l}var Au={ZodString:"string",ZodNumber:"number",ZodBigInt:"integer",ZodBoolean:"boolean",ZodNull:"null"};var Tu=(e,t)=>{const n=(e.options instanceof Map?Array.from(e.options.values()):e.options).map(((e,n)=>ju(e._def,c(c({},t),{},{currentPath:[...t.currentPath,"anyOf","".concat(n)]})))).filter((e=>!!e&&(!t.strictUnions||"object"===typeof e&&Object.keys(e).length>0)));return n.length?{anyOf:n}:void 0};function Nu(e,t){const n={type:"object",properties:{}},r=[],a=e.shape();for(const i in a){let e=a[i];if(void 0===e||void 0===e._def)continue;const o=Pu(e),s=ju(e._def,c(c({},t),{},{currentPath:[...t.currentPath,"properties",i],propertyPath:[...t.currentPath,"properties",i]}));void 0!==s&&(n.properties[i]=s,o||r.push(i))}r.length&&(n.required=r);const o=function(e,t){if("ZodNever"!==e.catchall._def.typeName)return ju(e.catchall._def,c(c({},t),{},{currentPath:[...t.currentPath,"additionalProperties"]}));switch(e.unknownKeys){case"passthrough":return t.allowedAdditionalProperties;case"strict":return t.rejectedAdditionalProperties;case"strip":return"strict"===t.removeAdditionalStrategy?t.allowedAdditionalProperties:t.rejectedAdditionalProperties}}(e,t);return void 0!==o&&(n.additionalProperties=o),n}function Pu(e){try{return e.isOptional()}catch(Xm){return!0}}var Ou=(e,t,n)=>{switch(t){case kl.ZodString:return wu(e,n);case kl.ZodNumber:return function(e){const t={type:"number"};if(!e.checks)return t;for(const n of e.checks)switch(n.kind){case"int":t.type="integer";break;case"min":n.inclusive?t.minimum=n.value:t.exclusiveMinimum=n.value;break;case"max":n.inclusive?t.maximum=n.value:t.exclusiveMaximum=n.value;break;case"multipleOf":t.multipleOf=n.value}return t}(e);case kl.ZodObject:return Nu(e,n);case kl.ZodBigInt:return function(e){const t={type:"integer",format:"int64"};if(!e.checks)return t;for(const n of e.checks)switch(n.kind){case"min":n.inclusive?t.minimum=n.value:t.exclusiveMinimum=n.value;break;case"max":n.inclusive?t.maximum=n.value:t.exclusiveMaximum=n.value;break;case"multipleOf":t.multipleOf=n.value}return t}(e);case kl.ZodBoolean:return{type:"boolean"};case kl.ZodDate:return vu(e,n);case kl.ZodUndefined:return{not:{}};case kl.ZodNull:return{type:"null"};case kl.ZodArray:return function(e,t){var n,r,a;const o={type:"array"};return(null==(n=e.type)?void 0:n._def)&&(null==(a=null==(r=e.type)?void 0:r._def)?void 0:a.typeName)!==kl.ZodAny&&(o.items=ju(e.type._def,c(c({},t),{},{currentPath:[...t.currentPath,"items"]}))),e.minLength&&(o.minItems=e.minLength.value),e.maxLength&&(o.maxItems=e.maxLength.value),e.exactLength&&(o.minItems=e.exactLength.value,o.maxItems=e.exactLength.value),o}(e,n);case kl.ZodUnion:case kl.ZodDiscriminatedUnion:return function(e,t){const n=e.options instanceof Map?Array.from(e.options.values()):e.options;if(n.every((e=>e._def.typeName in Au&&(!e._def.checks||!e._def.checks.length)))){const e=n.reduce(((e,t)=>{const n=Au[t._def.typeName];return n&&!e.includes(n)?[...e,n]:e}),[]);return{type:e.length>1?e:e[0]}}if(n.every((e=>"ZodLiteral"===e._def.typeName&&!e.description))){const e=n.reduce(((e,t)=>{const n=typeof t._def.value;switch(n){case"string":case"number":case"boolean":return[...e,n];case"bigint":return[...e,"integer"];case"object":if(null===t._def.value)return[...e,"null"];default:return e}}),[]);if(e.length===n.length){const t=e.filter(((e,t,n)=>n.indexOf(e)===t));return{type:t.length>1?t:t[0],enum:n.reduce(((e,t)=>e.includes(t._def.value)?e:[...e,t._def.value]),[])}}}else if(n.every((e=>"ZodEnum"===e._def.typeName)))return{type:"string",enum:n.reduce(((e,t)=>[...e,...t._def.values.filter((t=>!e.includes(t)))]),[])};return Tu(e,t)}(e,n);case kl.ZodIntersection:return function(e,t){const n=[ju(e.left._def,c(c({},t),{},{currentPath:[...t.currentPath,"allOf","0"]})),ju(e.right._def,c(c({},t),{},{currentPath:[...t.currentPath,"allOf","1"]}))].filter((e=>!!e)),r=[];return n.forEach((e=>{if("type"in(t=e)&&"string"===t.type||!("allOf"in t)){let t=e;if("additionalProperties"in e&&!1===e.additionalProperties){const{additionalProperties:n}=e;t=p(e,Cl)}r.push(t)}else r.push(...e.allOf);var t})),r.length?{allOf:r}:void 0}(e,n);case kl.ZodTuple:return function(e,t){return e.rest?{type:"array",minItems:e.items.length,items:e.items.map(((e,n)=>ju(e._def,c(c({},t),{},{currentPath:[...t.currentPath,"items","".concat(n)]})))).reduce(((e,t)=>void 0===t?e:[...e,t]),[]),additionalItems:ju(e.rest._def,c(c({},t),{},{currentPath:[...t.currentPath,"additionalItems"]}))}:{type:"array",minItems:e.items.length,maxItems:e.items.length,items:e.items.map(((e,n)=>ju(e._def,c(c({},t),{},{currentPath:[...t.currentPath,"items","".concat(n)]})))).reduce(((e,t)=>void 0===t?e:[...e,t]),[])}}(e,n);case kl.ZodRecord:return Iu(e,n);case kl.ZodLiteral:return function(e){const t=typeof e.value;return"bigint"!==t&&"number"!==t&&"boolean"!==t&&"string"!==t?{type:Array.isArray(e.value)?"array":"object"}:{type:"bigint"===t?"integer":t,const:e.value}}(e);case kl.ZodEnum:return function(e){return{type:"string",enum:Array.from(e.values)}}(e);case kl.ZodNativeEnum:return function(e){const t=e.values,n=Object.keys(e.values).filter((e=>"number"!==typeof t[t[e]])).map((e=>t[e])),r=Array.from(new Set(n.map((e=>typeof e))));return{type:1===r.length?"string"===r[0]?"string":"number":["string","number"],enum:n}}(e);case kl.ZodNullable:return function(e,t){if(["ZodString","ZodNumber","ZodBigInt","ZodBoolean","ZodNull"].includes(e.innerType._def.typeName)&&(!e.innerType._def.checks||!e.innerType._def.checks.length))return{type:[Au[e.innerType._def.typeName],"null"]};const n=ju(e.innerType._def,c(c({},t),{},{currentPath:[...t.currentPath,"anyOf","0"]}));return n&&{anyOf:[n,{type:"null"}]}}(e,n);case kl.ZodOptional:return((e,t)=>{var n;if(t.currentPath.toString()===(null==(n=t.propertyPath)?void 0:n.toString()))return ju(e.innerType._def,t);const r=ju(e.innerType._def,c(c({},t),{},{currentPath:[...t.currentPath,"anyOf","1"]}));return r?{anyOf:[{not:{}},r]}:{}})(e,n);case kl.ZodMap:return function(e,t){return"record"===t.mapStrategy?Iu(e,t):{type:"array",maxItems:125,items:{type:"array",items:[ju(e.keyType._def,c(c({},t),{},{currentPath:[...t.currentPath,"items","items","0"]}))||{},ju(e.valueType._def,c(c({},t),{},{currentPath:[...t.currentPath,"items","items","1"]}))||{}],minItems:2,maxItems:2}}}(e,n);case kl.ZodSet:return function(e,t){const n={type:"array",uniqueItems:!0,items:ju(e.valueType._def,c(c({},t),{},{currentPath:[...t.currentPath,"items"]}))};return e.minSize&&(n.minItems=e.minSize.value),e.maxSize&&(n.maxItems=e.maxSize.value),n}(e,n);case kl.ZodLazy:return()=>e.getter()._def;case kl.ZodPromise:return function(e,t){return ju(e.type._def,t)}(e,n);case kl.ZodNaN:case kl.ZodNever:return{not:{}};case kl.ZodEffects:return function(e,t){return"input"===t.effectStrategy?ju(e.schema._def,t):{}}(e,n);case kl.ZodAny:case kl.ZodUnknown:return{};case kl.ZodDefault:return function(e,t){return c(c({},ju(e.innerType._def,t)),{},{default:e.defaultValue()})}(e,n);case kl.ZodBranded:return gu(e,n);case kl.ZodReadonly:case kl.ZodCatch:return((e,t)=>ju(e.innerType._def,t))(e,n);case kl.ZodPipeline:return((e,t)=>{if("input"===t.pipeStrategy)return ju(e.in._def,t);if("output"===t.pipeStrategy)return ju(e.out._def,t);const n=ju(e.in._def,c(c({},t),{},{currentPath:[...t.currentPath,"allOf","0"]}));return{allOf:[n,ju(e.out._def,c(c({},t),{},{currentPath:[...t.currentPath,"allOf",n?"1":"0"]}))].filter((e=>void 0!==e))}})(e,n);case kl.ZodFunction:case kl.ZodVoid:case kl.ZodSymbol:default:return}};function ju(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];var r;const a=t.seen.get(e);if(t.override){const o=null==(r=t.override)?void 0:r.call(t,e,t,a,n);if(o!==hu)return o}if(a&&!n){const e=zu(a,t);if(void 0!==e)return e}const o={def:e,path:t.currentPath,jsonSchema:void 0};t.seen.set(e,o);const i=Ou(e,e.typeName,t),s="function"===typeof i?ju(i(),t):i;if(s&&Ru(e,t,s),t.postProcess){const n=t.postProcess(s,e,t);return o.jsonSchema=s,n}return o.jsonSchema=s,s}var zu=(e,t)=>{switch(t.$refStrategy){case"root":return{$ref:e.path.join("/")};case"relative":return{$ref:fu(t.currentPath,e.path)};case"none":case"seen":return e.path.length<t.currentPath.length&&e.path.every(((e,n)=>t.currentPath[n]===e))?(console.warn("Recursive reference detected at ".concat(t.currentPath.join("/"),"! Defaulting to any")),{}):"seen"===t.$refStrategy?{}:void 0}},Ru=(e,t,n)=>(e.description&&(n.description=e.description),n),Mu=e=>{const t=(e=>"string"===typeof e?c(c({},mu),{},{name:e}):c(c({},mu),e))(e),n=void 0!==t.name?[...t.basePath,t.definitionPath,t.name]:t.basePath;return c(c({},t),{},{currentPath:n,propertyPath:void 0,seen:new Map(Object.entries(t.definitions).map((e=>{let[n,r]=e;return[r._def,{def:r._def,path:[...t.basePath,t.definitionPath,n],jsonSchema:void 0}]})))})},Fu=(e,t)=>{var n;const r=Mu(t);let a="object"===typeof t&&t.definitions?Object.entries(t.definitions).reduce(((e,t)=>{let[n,a]=t;var o;return c(c({},e),{},{[n]:null!=(o=ju(a._def,c(c({},r),{},{currentPath:[...r.basePath,r.definitionPath,n]}),!0))?o:{}})}),{}):void 0;const o="string"===typeof t?t:"title"===(null==t?void 0:t.nameStrategy)||null==t?void 0:t.name,i=null!=(n=ju(e._def,void 0===o?r:c(c({},r),{},{currentPath:[...r.basePath,r.definitionPath,o]}),!1))?n:{},s="object"===typeof t&&void 0!==t.name&&"title"===t.nameStrategy?t.name:void 0;void 0!==s&&(i.title=s);const l=void 0===o?a?c(c({},i),{},{[r.definitionPath]:a}):i:{$ref:[..."relative"===r.$refStrategy?[]:r.basePath,r.definitionPath,o].join("/"),[r.definitionPath]:c(c({},a),{},{[o]:i})};return l.$schema="http://json-schema.org/draft-07/schema#",l};function Lu(e,t){var n;const r=null!=(n=null==t?void 0:t.useReferences)&&n;return Zu((()=>function(e,t){if(e instanceof ba){const n=new eo(t),r={};for(const t of e._idmap.entries()){const[e,r]=t;n.process(r)}const a={},o={registry:e,uri:null===t||void 0===t?void 0:t.uri,defs:r};for(const i of e._idmap.entries()){const[e,r]=i;a[e]=n.emit(r,c(c({},t),{},{external:o}))}if(Object.keys(r).length>0){const e="draft-2020-12"===n.target?"$defs":"definitions";a.__shared={[e]:r}}return{schemas:a}}const n=new eo(t);return n.process(e),n.emit(e,t)}(e,{target:"draft-7",io:"output",reused:r?"ref":"inline"})),{validate:async t=>{const n=await go(e,t);return n.success?{success:!0,value:n.data}:{success:!1,error:n.error}}})}function Du(e,t){return function(e){return"_zod"in e}(e)?Lu(e,t):function(e,t){var n;const r=null!=(n=null==t?void 0:t.useReferences)&&n;return Zu((()=>Fu(e,{$refStrategy:r?"root":"none"})),{validate:async t=>{const n=await e.safeParseAsync(t);return n.success?{success:!0,value:n.data}:{success:!1,error:n.error}}})}(e,t)}var Uu=Symbol.for("vercel.ai.schema");function Bu(e){let t;return()=>(null==t&&(t=e()),t)}function Zu(e){let{validate:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return{[Uu]:!0,_type:void 0,[Kl]:!0,get jsonSchema(){return"function"===typeof e&&(e=e()),e},validate:t}}function Vu(e){return null==e?Zu({properties:{},additionalProperties:!1}):"object"===typeof(t=e)&&null!==t&&Uu in t&&!0===t[Uu]&&"jsonSchema"in t&&"validate"in t?e:"function"===typeof e?e():Du(e);var t}var{btoa:qu,atob:$u}=globalThis;function Hu(e){const t=e.replace(/-/g,"+").replace(/_/g,"/"),n=$u(t);return Uint8Array.from(n,(e=>e.codePointAt(0)))}function Wu(e){let t="";for(let n=0;n<e.length;n++)t+=String.fromCodePoint(e[n]);return qu(t)}function Qu(e){return e instanceof Uint8Array?Wu(e):e}function Ku(e){return null==e?void 0:e.replace(/\/$/,"")}function Ju(){return Ju=function(e){return function(){return new v(e.apply(this,arguments))}}((function(e){let{execute:t,input:n,options:r}=e;return function*(){const e=t(n,r);if(null!=(u=e)&&"function"===typeof u[Symbol.asyncIterator]){let t;var a,o=!1,i=!1;try{for(var s,l=f(e);o=!(s=yield g(l.next())).done;o=!1){const e=s.value;t=e,yield{type:"preliminary",output:e}}}catch(c){i=!0,a=c}finally{try{o&&null!=l.return&&(yield g(l.return()))}finally{if(i)throw a}}yield{type:"final",output:t}}else yield{type:"final",output:yield g(e)};var u}()})),Ju.apply(this,arguments)}var Gu=__webpack_require__(327);const Yu=["abortSignal"];var Xu,ec,tc,nc,rc,ac,oc,ic,sc,lc,uc,cc,dc,pc,fc=Symbol.for("vercel.ai.gateway.error"),hc=class e extends(ec=Error,Xu=fc,ec){constructor(e){let{message:t,statusCode:n=500,cause:r}=e;super(t),this[Xu]=!0,this.statusCode=n,this.cause=r}static isInstance(t){return e.hasMarker(t)}static hasMarker(e){return"object"===typeof e&&null!==e&&fc in e&&!0===e[fc]}},mc="GatewayAuthenticationError",gc="vercel.ai.gateway.error.".concat(mc),vc=Symbol.for(gc),yc=class e extends(nc=hc,tc=vc,nc){constructor(){let{message:e="Authentication failed",statusCode:t=401,cause:n}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super({message:e,statusCode:t,cause:n}),this[tc]=!0,this.name=mc,this.type="authentication_error"}static isInstance(e){return hc.hasMarker(e)&&vc in e}static createContextualError(t){let n,{apiKeyProvided:r,oidcTokenProvided:a,message:o="Authentication failed",statusCode:i=401,cause:s}=t;return n=r?"AI Gateway authentication failed: Invalid API key provided.\n\nThe token is expected to be provided via the 'apiKey' option or 'AI_GATEWAY_API_KEY' environment variable.":a?"AI Gateway authentication failed: Invalid OIDC token provided.\n\nThe token is expected to be provided via the 'VERCEL_OIDC_TOKEN' environment variable. It expires every 12 hours.\n- make sure your Vercel project settings have OIDC enabled\n- if running locally with 'vercel dev', the token is automatically obtained and refreshed\n- if running locally with your own dev server, run 'vercel env pull' to fetch the token\n- in production/preview, the token is automatically obtained and refreshed\n\nAlternative: Provide an API key via 'apiKey' option or 'AI_GATEWAY_API_KEY' environment variable.":"AI Gateway authentication failed: No authentication provided.\n\nProvide either an API key or OIDC token.\n\nAPI key instructions:\n\nThe token is expected to be provided via the 'apiKey' option or 'AI_GATEWAY_API_KEY' environment variable.\n\nOIDC token instructions:\n\nThe token is expected to be provided via the 'VERCEL_OIDC_TOKEN' environment variable. It expires every 12 hours.\n- make sure your Vercel project settings have OIDC enabled\n- if running locally with 'vercel dev', the token is automatically obtained and refreshed\n- if running locally with your own dev server, run 'vercel env pull' to fetch the token\n- in production/preview, the token is automatically obtained and refreshed",new e({message:n,statusCode:i,cause:s})}},bc="GatewayInvalidRequestError",_c="vercel.ai.gateway.error.".concat(bc),wc=Symbol.for(_c),kc=class extends(ac=hc,rc=wc,ac){constructor(){let{message:e="Invalid request",statusCode:t=400,cause:n}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super({message:e,statusCode:t,cause:n}),this[rc]=!0,this.name=bc,this.type="invalid_request_error"}static isInstance(e){return hc.hasMarker(e)&&wc in e}},xc="GatewayRateLimitError",Sc="vercel.ai.gateway.error.".concat(xc),Cc=Symbol.for(Sc),Ec=class extends(ic=hc,oc=Cc,ic){constructor(){let{message:e="Rate limit exceeded",statusCode:t=429,cause:n}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super({message:e,statusCode:t,cause:n}),this[oc]=!0,this.name=xc,this.type="rate_limit_exceeded"}static isInstance(e){return hc.hasMarker(e)&&Cc in e}},Ic="GatewayModelNotFoundError",Ac="vercel.ai.gateway.error.".concat(Ic),Tc=Symbol.for(Ac),Nc=Jl((()=>Du(fi({modelId:Ao()})))),Pc=class extends(lc=hc,sc=Tc,lc){constructor(){let{message:e="Model not found",statusCode:t=404,modelId:n,cause:r}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super({message:e,statusCode:t,cause:r}),this[sc]=!0,this.name=Ic,this.type="model_not_found",this.modelId=n}static isInstance(e){return hc.hasMarker(e)&&Tc in e}},Oc="GatewayInternalServerError",jc="vercel.ai.gateway.error.".concat(Oc),zc=Symbol.for(jc),Rc=class extends(cc=hc,uc=zc,cc){constructor(){let{message:e="Internal server error",statusCode:t=500,cause:n}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super({message:e,statusCode:t,cause:n}),this[uc]=!0,this.name=Oc,this.type="internal_server_error"}static isInstance(e){return hc.hasMarker(e)&&zc in e}},Mc="GatewayResponseError",Fc="vercel.ai.gateway.error.".concat(Mc),Lc=Symbol.for(Fc),Dc=class extends(pc=hc,dc=Lc,pc){constructor(){let{message:e="Invalid response from Gateway",statusCode:t=502,response:n,validationError:r,cause:a}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super({message:e,statusCode:t,cause:a}),this[dc]=!0,this.name=Mc,this.type="response_error",this.response=n,this.validationError=r}static isInstance(e){return hc.hasMarker(e)&&Lc in e}};async function Uc(e){let{response:t,statusCode:n,defaultMessage:r="Gateway request failed",cause:a,authMethod:o}=e;const i=await Xl({value:t,schema:Bc});if(!i.success)return new Dc({message:"Invalid error response format: ".concat(r),statusCode:n,response:t,validationError:i.error,cause:a});const s=i.value,l=s.error.type,u=s.error.message;switch(l){case"authentication_error":return yc.createContextualError({apiKeyProvided:"api-key"===o,oidcTokenProvided:"oidc"===o,statusCode:n,cause:a});case"invalid_request_error":return new kc({message:u,statusCode:n,cause:a});case"rate_limit_exceeded":return new Ec({message:u,statusCode:n,cause:a});case"model_not_found":{const e=await Xl({value:s.error.param,schema:Nc});return new Pc({message:u,statusCode:n,modelId:e.success?e.value.modelId:void 0,cause:a})}default:return new Rc({message:u,statusCode:n,cause:a})}}var Bc=Jl((()=>Du(fi({error:fi({message:Ao(),type:Ao().nullish(),param:si().nullish(),code:vi([Ao(),Go()]).nullish()})}))));function Zc(e,t){var n;return hc.isInstance(e)?e:I.isInstance(e)?Uc({response:Vc(e),statusCode:null!=(n=e.statusCode)?n:500,defaultMessage:"Gateway request failed",cause:e,authMethod:t}):Uc({response:{},statusCode:500,defaultMessage:e instanceof Error?"Gateway request failed: ".concat(e.message):"Unknown Gateway error",cause:e,authMethod:t})}function Vc(e){if(void 0!==e.data)return e.data;if(null!=e.responseBody)try{return JSON.parse(e.responseBody)}catch(Xm){return e.responseBody}return{}}var qc="ai-gateway-auth-method";async function $c(e){const t=await Xl({value:e[qc],schema:Hc});return t.success?t.value:void 0}var Hc=Jl((()=>Du(vi([Ei("api-key"),Ei("oidc")])))),Wc=class{constructor(e){this.config=e}async getAvailableModels(){try{const{value:e}=await Bl({url:"".concat(this.config.baseURL,"/config"),headers:await uu(this.config.headers()),successfulResponseHandler:pu(Qc),failedResponseHandler:cu({errorSchema:oi(),errorToMessage:e=>e}),fetch:this.config.fetch});return e}catch(e){throw await Zc(e)}}async getCredits(){try{const e=new URL(this.config.baseURL),{value:t}=await Bl({url:"".concat(e.origin,"/v1/credits"),headers:await uu(this.config.headers()),successfulResponseHandler:pu(Kc),failedResponseHandler:cu({errorSchema:oi(),errorToMessage:e=>e}),fetch:this.config.fetch});return t}catch(e){throw await Zc(e)}}},Qc=Jl((()=>Du(fi({models:di(fi({id:Ao(),name:Ao(),description:Ao().nullish(),pricing:fi({input:Ao(),output:Ao(),input_cache_read:Ao().nullish(),input_cache_write:Ao().nullish()}).transform((e=>{let{input:t,output:n,input_cache_read:r,input_cache_write:a}=e;return c(c({input:t,output:n},r?{cachedInputTokens:r}:{}),a?{cacheCreationInputTokens:a}:{})})).nullish(),specification:fi({specificationVersion:Ei("v2"),provider:Ao(),modelId:Ao()}),modelType:Si(["language","embedding","image"]).nullish()}))})))),Kc=Jl((()=>Du(fi({balance:Ao(),total_used:Ao()}).transform((e=>{let{balance:t,total_used:n}=e;return{balance:t,totalUsed:n}}))))),Jc=class{constructor(e,t){this.modelId=e,this.config=t,this.specificationVersion="v2",this.supportedUrls={"*/*":[/.*/]}}get provider(){return this.config.provider}async getArgs(e){const{abortSignal:t}=e,n=p(e,Yu);return{args:this.maybeEncodeFileParts(n),warnings:[]}}async doGenerate(e){const{args:t,warnings:n}=await this.getArgs(e),{abortSignal:r}=e,a=await uu(this.config.headers());try{const{responseHeaders:o,value:i,rawValue:s}=await ou(c(c({url:this.getUrl(),headers:Al(a,e.headers,this.getModelConfigHeaders(this.modelId,!1),await uu(this.config.o11yHeaders)),body:t,successfulResponseHandler:pu(oi()),failedResponseHandler:cu({errorSchema:oi(),errorToMessage:e=>e})},r&&{abortSignal:r}),{},{fetch:this.config.fetch}));return c(c({},i),{},{request:{body:t},response:{headers:o,body:s},warnings:n})}catch(o){throw await Zc(o,await $c(a))}}async doStream(e){const{args:t,warnings:n}=await this.getArgs(e),{abortSignal:r}=e,a=await uu(this.config.headers());try{const{value:o,responseHeaders:i}=await ou(c(c({url:this.getUrl(),headers:Al(a,e.headers,this.getModelConfigHeaders(this.modelId,!0),await uu(this.config.o11yHeaders)),body:t,successfulResponseHandler:du(oi()),failedResponseHandler:cu({errorSchema:oi(),errorToMessage:e=>e})},r&&{abortSignal:r}),{},{fetch:this.config.fetch}));return{stream:o.pipeThrough(new TransformStream({start(e){n.length>0&&e.enqueue({type:"stream-start",warnings:n})},transform(t,n){if(t.success){const r=t.value;if("raw"===r.type&&!e.includeRawChunks)return;"response-metadata"===r.type&&r.timestamp&&"string"===typeof r.timestamp&&(r.timestamp=new Date(r.timestamp)),n.enqueue(r)}else n.error(t.error)}})),request:{body:t},response:{headers:i}}}catch(o){throw await Zc(o,await $c(a))}}isFilePart(e){return e&&"object"===typeof e&&"type"in e&&"file"===e.type}maybeEncodeFileParts(e){for(const t of e.prompt)for(const e of t.content)if(this.isFilePart(e)){const t=e;if(t.data instanceof Uint8Array){const e=Uint8Array.from(t.data),n=Buffer.from(e).toString("base64");t.data=new URL("data:".concat(t.mediaType||"application/octet-stream",";base64,").concat(n))}}return e}getUrl(){return"".concat(this.config.baseURL,"/language-model")}getModelConfigHeaders(e,t){return{"ai-language-model-specification-version":"2","ai-language-model-id":e,"ai-language-model-streaming":String(t)}}},Gc=class{constructor(e,t){this.modelId=e,this.config=t,this.specificationVersion="v2",this.maxEmbeddingsPerCall=2048,this.supportsParallelCalls=!0}get provider(){return this.config.provider}async doEmbed(e){let{values:t,headers:n,abortSignal:r,providerOptions:a}=e;var o;const i=await uu(this.config.headers());try{const{responseHeaders:e,value:s,rawValue:l}=await ou(c(c({url:this.getUrl(),headers:Al(i,null!=n?n:{},this.getModelConfigHeaders(),await uu(this.config.o11yHeaders)),body:c({input:1===t.length?t[0]:t},a?{providerOptions:a}:{}),successfulResponseHandler:pu(Yc),failedResponseHandler:cu({errorSchema:oi(),errorToMessage:e=>e})},r&&{abortSignal:r}),{},{fetch:this.config.fetch}));return{embeddings:s.embeddings,usage:null!=(o=s.usage)?o:void 0,providerMetadata:s.providerMetadata,response:{headers:e,body:l}}}catch(s){throw await Zc(s,await $c(i))}}getUrl(){return"".concat(this.config.baseURL,"/embedding-model")}getModelConfigHeaders(){return{"ai-embedding-model-specification-version":"2","ai-model-id":this.modelId}}},Yc=Jl((()=>Du(fi({embeddings:di(di(Go())),usage:fi({tokens:Go()}).nullish(),providerMetadata:ki(Ao(),ki(Ao(),si())).optional()}))));var Xc=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var t,n;let r=null,a=null;const o=null!=(t=e.metadataCacheRefreshMillis)?t:3e5;let i=0;const s=null!=(n=Ku(e.baseURL))?n:"https://ai-gateway.vercel.sh/v1/ai",l=async()=>{const t=await async function(e){const t=ql({settingValue:e.apiKey,environmentVariableName:"AI_GATEWAY_API_KEY"});if(t)return{token:t,authMethod:"api-key"};try{return{token:await(0,Gu.getVercelOidcToken)(),authMethod:"oidc"}}catch(Xm){return null}}(e);if(t)return Ll(c({Authorization:"Bearer ".concat(t.token),"ai-gateway-protocol-version":"0.0.1",[qc]:t.authMethod},e.headers),"ai-sdk/gateway/".concat("1.0.39"));throw yc.createContextualError({apiKeyProvided:!1,oidcTokenProvided:!1,statusCode:401})},u=()=>{const e=ql({settingValue:void 0,environmentVariableName:"VERCEL_DEPLOYMENT_ID"}),t=ql({settingValue:void 0,environmentVariableName:"VERCEL_ENV"}),n=ql({settingValue:void 0,environmentVariableName:"VERCEL_REGION"});return async()=>{const r=await async function(){var e;return null==(e=(0,Gu.getContext)().headers)?void 0:e["x-vercel-id"]}();return c(c(c(c({},e&&{"ai-o11y-deployment-id":e}),t&&{"ai-o11y-environment":t}),n&&{"ai-o11y-region":n}),r&&{"ai-o11y-request-id":r})}},d=t=>new Jc(t,{provider:"gateway",baseURL:s,headers:l,fetch:e.fetch,o11yHeaders:u()}),p=function(e){if(new.target)throw new Error("The Gateway Provider model function cannot be called with the new keyword.");return d(e)};return p.getAvailableModels=async()=>{var t,n,u;const c=null!=(u=null==(n=null==(t=e._internal)?void 0:t.currentDate)?void 0:n.call(t).getTime())?u:Date.now();return(!r||c-i>o)&&(i=c,r=new Wc({baseURL:s,headers:l,fetch:e.fetch}).getAvailableModels().then((e=>(a=e,e))).catch((async e=>{throw await Zc(e,await $c(await l()))}))),a?Promise.resolve(a):r},p.getCredits=async()=>new Wc({baseURL:s,headers:l,fetch:e.fetch}).getCredits().catch((async e=>{throw await Zc(e,await $c(await l()))})),p.imageModel=e=>{throw new me({modelId:e,modelType:"imageModel"})},p.languageModel=d,p.textEmbeddingModel=t=>new Gc(t,{provider:"gateway",baseURL:s,headers:l,fetch:e.fetch,o11yHeaders:u()}),p}();var ed="object"===typeof globalThis?globalThis:"object"===typeof self?self:"object"===typeof window?window:"object"===typeof __webpack_require__.g?__webpack_require__.g:{},td="1.9.0",nd=/^(\d+)\.(\d+)\.(\d+)(-(.+))?$/;var rd=function(e){var t=new Set([e]),n=new Set,r=e.match(nd);if(!r)return function(){return!1};var a=+r[1],o=+r[2],i=+r[3];if(null!=r[4])return function(t){return t===e};function s(e){return n.add(e),!1}function l(e){return t.add(e),!0}return function(e){if(t.has(e))return!0;if(n.has(e))return!1;var r=e.match(nd);if(!r)return s(e);var u=+r[1],c=+r[2],d=+r[3];return null!=r[4]||a!==u?s(e):0===a?o===c&&i<=d?l(e):s(e):o<=c?l(e):s(e)}}(td),ad=td.split(".")[0],od=Symbol.for("opentelemetry.js.api."+ad),id=ed;function sd(e,t,n,r){var a;void 0===r&&(r=!1);var o=id[od]=null!==(a=id[od])&&void 0!==a?a:{version:td};if(!r&&o[e]){var i=new Error("@opentelemetry/api: Attempted duplicate registration of API: "+e);return n.error(i.stack||i.message),!1}if(o.version!==td){i=new Error("@opentelemetry/api: Registration of version v"+o.version+" for "+e+" does not match previously registered API v"+td);return n.error(i.stack||i.message),!1}return o[e]=t,n.debug("@opentelemetry/api: Registered a global for "+e+" v"+td+"."),!0}function ld(e){var t,n,r=null===(t=id[od])||void 0===t?void 0:t.version;if(r&&rd(r))return null===(n=id[od])||void 0===n?void 0:n[e]}function ud(e,t){t.debug("@opentelemetry/api: Unregistering a global for "+e+" v"+td+".");var n=id[od];n&&delete n[e]}var cd,dd=new function e(t){var n=this;n._currentContext=t?new Map(t):new Map,n.getValue=function(e){return n._currentContext.get(e)},n.setValue=function(t,r){var a=new e(n._currentContext);return a._currentContext.set(t,r),a},n.deleteValue=function(t){var r=new e(n._currentContext);return r._currentContext.delete(t),r}},pd=function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,a,o=n.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)i.push(r.value)}catch(s){a={error:s}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(a)throw a.error}}return i},fd=function(e,t,n){if(n||2===arguments.length)for(var r,a=0,o=t.length;a<o;a++)!r&&a in t||(r||(r=Array.prototype.slice.call(t,0,a)),r[a]=t[a]);return e.concat(r||Array.prototype.slice.call(t))},hd=function(){function e(){}return e.prototype.active=function(){return dd},e.prototype.with=function(e,t,n){for(var r=[],a=3;a<arguments.length;a++)r[a-3]=arguments[a];return t.call.apply(t,fd([n],pd(r),!1))},e.prototype.bind=function(e,t){return t},e.prototype.enable=function(){return this},e.prototype.disable=function(){return this},e}(),md=function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,a,o=n.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)i.push(r.value)}catch(s){a={error:s}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(a)throw a.error}}return i},gd=function(e,t,n){if(n||2===arguments.length)for(var r,a=0,o=t.length;a<o;a++)!r&&a in t||(r||(r=Array.prototype.slice.call(t,0,a)),r[a]=t[a]);return e.concat(r||Array.prototype.slice.call(t))},vd=function(){function e(e){this._namespace=e.namespace||"DiagComponentLogger"}return e.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return yd("debug",this._namespace,e)},e.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return yd("error",this._namespace,e)},e.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return yd("info",this._namespace,e)},e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return yd("warn",this._namespace,e)},e.prototype.verbose=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return yd("verbose",this._namespace,e)},e}();function yd(e,t,n){var r=ld("diag");if(r)return n.unshift(t),r[e].apply(r,gd([],md(n),!1))}!function(e){e[e.NONE=0]="NONE",e[e.ERROR=30]="ERROR",e[e.WARN=50]="WARN",e[e.INFO=60]="INFO",e[e.DEBUG=70]="DEBUG",e[e.VERBOSE=80]="VERBOSE",e[e.ALL=9999]="ALL"}(cd||(cd={}));var bd,_d=function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,a,o=n.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)i.push(r.value)}catch(s){a={error:s}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(a)throw a.error}}return i},wd=function(e,t,n){if(n||2===arguments.length)for(var r,a=0,o=t.length;a<o;a++)!r&&a in t||(r||(r=Array.prototype.slice.call(t,0,a)),r[a]=t[a]);return e.concat(r||Array.prototype.slice.call(t))},kd=function(){function e(){function e(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=ld("diag");if(r)return r[e].apply(r,wd([],_d(t),!1))}}var t=this;t.setLogger=function(e,n){var r,a,o;if(void 0===n&&(n={logLevel:cd.INFO}),e===t){var i=new Error("Cannot use diag as the logger for itself. Please use a DiagLogger implementation like ConsoleDiagLogger or a custom implementation");return t.error(null!==(r=i.stack)&&void 0!==r?r:i.message),!1}"number"===typeof n&&(n={logLevel:n});var s=ld("diag"),l=function(e,t){function n(n,r){var a=t[n];return"function"===typeof a&&e>=r?a.bind(t):function(){}}return e<cd.NONE?e=cd.NONE:e>cd.ALL&&(e=cd.ALL),t=t||{},{error:n("error",cd.ERROR),warn:n("warn",cd.WARN),info:n("info",cd.INFO),debug:n("debug",cd.DEBUG),verbose:n("verbose",cd.VERBOSE)}}(null!==(a=n.logLevel)&&void 0!==a?a:cd.INFO,e);if(s&&!n.suppressOverrideMessage){var u=null!==(o=(new Error).stack)&&void 0!==o?o:"<failed to generate stacktrace>";s.warn("Current logger will be overwritten from "+u),l.warn("Current logger will overwrite one already registered from "+u)}return sd("diag",l,t,!0)},t.disable=function(){ud("diag",t)},t.createComponentLogger=function(e){return new vd(e)},t.verbose=e("verbose"),t.debug=e("debug"),t.info=e("info"),t.warn=e("warn"),t.error=e("error")}return e.instance=function(){return this._instance||(this._instance=new e),this._instance},e}(),xd=function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,a,o=n.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)i.push(r.value)}catch(s){a={error:s}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(a)throw a.error}}return i},Sd=function(e,t,n){if(n||2===arguments.length)for(var r,a=0,o=t.length;a<o;a++)!r&&a in t||(r||(r=Array.prototype.slice.call(t,0,a)),r[a]=t[a]);return e.concat(r||Array.prototype.slice.call(t))},Cd="context",Ed=new hd,Id=function(){function e(){}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.setGlobalContextManager=function(e){return sd(Cd,e,kd.instance())},e.prototype.active=function(){return this._getContextManager().active()},e.prototype.with=function(e,t,n){for(var r,a=[],o=3;o<arguments.length;o++)a[o-3]=arguments[o];return(r=this._getContextManager()).with.apply(r,Sd([e,t,n],xd(a),!1))},e.prototype.bind=function(e,t){return this._getContextManager().bind(e,t)},e.prototype._getContextManager=function(){return ld(Cd)||Ed},e.prototype.disable=function(){this._getContextManager().disable(),ud(Cd,kd.instance())},e}();!function(e){e[e.NONE=0]="NONE",e[e.SAMPLED=1]="SAMPLED"}(bd||(bd={}));var Ad,Td="0000000000000000",Nd="00000000000000000000000000000000",Pd={traceId:Nd,spanId:Td,traceFlags:bd.NONE},Od=function(){function e(e){void 0===e&&(e=Pd),this._spanContext=e}return e.prototype.spanContext=function(){return this._spanContext},e.prototype.setAttribute=function(e,t){return this},e.prototype.setAttributes=function(e){return this},e.prototype.addEvent=function(e,t){return this},e.prototype.addLink=function(e){return this},e.prototype.addLinks=function(e){return this},e.prototype.setStatus=function(e){return this},e.prototype.updateName=function(e){return this},e.prototype.end=function(e){},e.prototype.isRecording=function(){return!1},e.prototype.recordException=function(e,t){},e}(),jd=(Ad="OpenTelemetry Context Key SPAN",Symbol.for(Ad));function zd(e){return e.getValue(jd)||void 0}function Rd(){return zd(Id.getInstance().active())}function Md(e,t){return e.setValue(jd,t)}function Fd(e){return e.deleteValue(jd)}function Ld(e,t){return Md(e,new Od(t))}function Dd(e){var t;return null===(t=zd(e))||void 0===t?void 0:t.spanContext()}var Ud=/^([0-9a-f]{32})$/i,Bd=/^[0-9a-f]{16}$/i;function Zd(e){return n=e.traceId,Ud.test(n)&&n!==Nd&&(t=e.spanId,Bd.test(t)&&t!==Td);var t,n}function Vd(e){return new Od(e)}var qd=Id.getInstance(),$d=function(){function e(){}return e.prototype.startSpan=function(e,t,n){if(void 0===n&&(n=qd.active()),Boolean(null===t||void 0===t?void 0:t.root))return new Od;var r,a=n&&Dd(n);return"object"===typeof(r=a)&&"string"===typeof r.spanId&&"string"===typeof r.traceId&&"number"===typeof r.traceFlags&&Zd(a)?new Od(a):new Od},e.prototype.startActiveSpan=function(e,t,n,r){var a,o,i;if(!(arguments.length<2)){2===arguments.length?i=t:3===arguments.length?(a=t,i=n):(a=t,o=n,i=r);var s=null!==o&&void 0!==o?o:qd.active(),l=this.startSpan(e,a,s),u=Md(s,l);return qd.with(u,i,void 0,l)}},e}();var Hd,Wd=new $d,Qd=function(){function e(e,t,n,r){this._provider=e,this.name=t,this.version=n,this.options=r}return e.prototype.startSpan=function(e,t,n){return this._getTracer().startSpan(e,t,n)},e.prototype.startActiveSpan=function(e,t,n,r){var a=this._getTracer();return Reflect.apply(a.startActiveSpan,a,arguments)},e.prototype._getTracer=function(){if(this._delegate)return this._delegate;var e=this._provider.getDelegateTracer(this.name,this.version,this.options);return e?(this._delegate=e,this._delegate):Wd},e}(),Kd=new(function(){function e(){}return e.prototype.getTracer=function(e,t,n){return new $d},e}()),Jd=function(){function e(){}return e.prototype.getTracer=function(e,t,n){var r;return null!==(r=this.getDelegateTracer(e,t,n))&&void 0!==r?r:new Qd(this,e,t,n)},e.prototype.getDelegate=function(){var e;return null!==(e=this._delegate)&&void 0!==e?e:Kd},e.prototype.setDelegate=function(e){this._delegate=e},e.prototype.getDelegateTracer=function(e,t,n){var r;return null===(r=this._delegate)||void 0===r?void 0:r.getTracer(e,t,n)},e}(),Gd="trace",Yd=function(){function e(){this._proxyTracerProvider=new Jd,this.wrapSpanContext=Vd,this.isSpanContextValid=Zd,this.deleteSpan=Fd,this.getSpan=zd,this.getActiveSpan=Rd,this.getSpanContext=Dd,this.setSpan=Md,this.setSpanContext=Ld}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.setGlobalTracerProvider=function(e){var t=sd(Gd,this._proxyTracerProvider,kd.instance());return t&&this._proxyTracerProvider.setDelegate(e),t},e.prototype.getTracerProvider=function(){return ld(Gd)||this._proxyTracerProvider},e.prototype.getTracer=function(e,t){return this.getTracerProvider().getTracer(e,t)},e.prototype.disable=function(){ud(Gd,kd.instance()),this._proxyTracerProvider=new Jd},e}(),Xd=Yd.getInstance();!function(e){e[e.UNSET=0]="UNSET",e[e.OK=1]="OK",e[e.ERROR=2]="ERROR"}(Hd||(Hd={}));const ep=["model","tools","toolChoice","system","prompt","messages","maxRetries","abortSignal","headers","stopWhen","experimental_output","experimental_telemetry","providerOptions","experimental_activeTools","activeTools","experimental_prepareStep","prepareStep","experimental_repairToolCall","experimental_download","experimental_context","_internal","onStepFinish"];var tp,np=Object.defineProperty,rp="AI_NoOutputSpecifiedError",ap="vercel.ai.error.".concat(rp),op=Symbol.for(ap),ip=class extends x{constructor(){let{message:e="No output specified."}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super({name:rp,message:e}),this[tp]=!0}static isInstance(e){return x.hasMarker(e,ap)}};function sp(e){const t="AI SDK Warning:";switch(e.type){case"unsupported-setting":{let n="".concat(t,' The "').concat(e.setting,'" setting is not supported by this model');return e.details&&(n+=" - ".concat(e.details)),n}case"unsupported-tool":{const n="name"in e.tool?e.tool.name:"unknown tool";let r="".concat(t,' The tool "').concat(n,'" is not supported by this model');return e.details&&(r+=" - ".concat(e.details)),r}case"other":return"".concat(t," ").concat(e.message);default:return"".concat(t," ").concat(JSON.stringify(e,null,2))}}tp=op;var lp,up=!1,cp=e=>{if(0===e.length)return;const t=globalThis.AI_SDK_LOG_WARNINGS;if(!1!==t)if("function"!==typeof t){up||(up=!0,console.info("AI SDK Warning System: To turn off warning logging, set the AI_SDK_LOG_WARNINGS global to false."));for(const t of e)console.warn(sp(t))}else t(e)},dp="AI_InvalidArgumentError",pp="vercel.ai.error.".concat(dp),fp=Symbol.for(pp),hp=class extends x{constructor(e){let{parameter:t,value:n,message:r}=e;super({name:dp,message:"Invalid argument for parameter ".concat(t,": ").concat(r)}),this[lp]=!0,this.parameter=t,this.value=n}static isInstance(e){return x.hasMarker(e,pp)}};lp=fp;var mp="AI_InvalidStreamPartError",gp="vercel.ai.error.".concat(mp),vp=Symbol.for(gp);var yp,bp="AI_InvalidToolInputError",_p="vercel.ai.error.".concat(bp),wp=Symbol.for(_p),kp=class extends x{constructor(e){let{toolInput:t,toolName:n,cause:r,message:a="Invalid input for tool ".concat(n,": ").concat(j(r))}=e;super({name:bp,message:a,cause:r}),this[yp]=!0,this.toolInput=t,this.toolName=n}static isInstance(e){return x.hasMarker(e,_p)}};yp=wp;var xp="vercel.ai.error.".concat("AI_MCPClientError"),Sp=Symbol.for(xp);var Cp="AI_NoImageGeneratedError",Ep="vercel.ai.error.".concat(Cp),Ip=Symbol.for(Ep);var Ap,Tp="AI_NoObjectGeneratedError",Np="vercel.ai.error.".concat(Tp),Pp=Symbol.for(Np),Op=class extends x{constructor(e){let{message:t="No object generated.",cause:n,text:r,response:a,usage:o,finishReason:i}=e;super({name:Tp,message:t,cause:n}),this[Ap]=!0,this.text=r,this.response=a,this.usage=o,this.finishReason=i}static isInstance(e){return x.hasMarker(e,Np)}};Ap=Pp;var jp="AI_NoOutputGeneratedError",zp="vercel.ai.error.".concat(jp),Rp=Symbol.for(zp);var Mp,Fp="AI_NoSuchToolError",Lp="vercel.ai.error.".concat(Fp),Dp=Symbol.for(Lp),Up=class extends x{constructor(e){let{toolName:t,availableTools:n,message:r="Model tried to call unavailable tool '".concat(t,"'. ").concat(void 0===n?"No tools are available.":"Available tools: ".concat(n.join(", "),"."))}=e;super({name:Fp,message:r}),this[Mp]=!0,this.toolName=t,this.availableTools=n}static isInstance(e){return x.hasMarker(e,Lp)}};Mp=Dp;var Bp,Zp="AI_ToolCallRepairError",Vp="vercel.ai.error.".concat(Zp),qp=Symbol.for(Vp),$p=class extends x{constructor(e){let{cause:t,originalError:n,message:r="Error repairing tool call: ".concat(j(t))}=e;super({name:Zp,message:r,cause:t}),this[Bp]=!0,this.originalError=n}static isInstance(e){return x.hasMarker(e,Vp)}};Bp=qp;var Hp=class extends x{constructor(e){super({name:"AI_UnsupportedModelVersionError",message:"Unsupported model version ".concat(e.version,' for provider "').concat(e.provider,'" and model "').concat(e.modelId,'". AI SDK 5 only supports models that implement specification version "v2".')}),this.version=e.version,this.provider=e.provider,this.modelId=e.modelId}},Wp="AI_InvalidDataContentError",Qp="vercel.ai.error.".concat(Wp),Kp=Symbol.for(Qp);var Jp,Gp="AI_InvalidMessageRoleError",Yp="vercel.ai.error.".concat(Gp),Xp=Symbol.for(Yp),ef=class extends x{constructor(e){let{role:t,message:n="Invalid message role: '".concat(t,'\'. Must be one of: "system", "user", "assistant", "tool".')}=e;super({name:Gp,message:n}),this[Jp]=!0,this.role=t}static isInstance(e){return x.hasMarker(e,Yp)}};Jp=Xp;var tf="AI_MessageConversionError",nf="vercel.ai.error.".concat(tf),rf=Symbol.for(nf);var af,of="AI_DownloadError",sf="vercel.ai.error.".concat(of),lf=Symbol.for(sf),uf=class extends x{constructor(e){let{url:t,statusCode:n,statusText:r,cause:a,message:o=(null==a?"Failed to download ".concat(t,": ").concat(n," ").concat(r):"Failed to download ".concat(t,": ").concat(a))}=e;super({name:of,message:o,cause:a}),this[af]=!0,this.url=t,this.statusCode=n,this.statusText=r}static isInstance(e){return x.hasMarker(e,sf)}};af=lf;var cf,df="AI_RetryError",pf="vercel.ai.error.".concat(df),ff=Symbol.for(pf),hf=class extends x{constructor(e){let{message:t,reason:n,errors:r}=e;super({name:df,message:t}),this[cf]=!0,this.reason=n,this.errors=r,this.lastError=r[r.length-1]}static isInstance(e){return x.hasMarker(e,pf)}};function mf(e){if("string"!==typeof e){if("v2"!==e.specificationVersion)throw new Hp({version:e.specificationVersion,provider:e.provider,modelId:e.modelId});return e}return gf().languageModel(e)}function gf(){var e;return null!=(e=globalThis.AI_SDK_DEFAULT_PROVIDER)?e:Xc}cf=ff;var vf=[{mediaType:"image/gif",bytesPrefix:[71,73,70]},{mediaType:"image/png",bytesPrefix:[137,80,78,71]},{mediaType:"image/jpeg",bytesPrefix:[255,216]},{mediaType:"image/webp",bytesPrefix:[82,73,70,70,null,null,null,null,87,69,66,80]},{mediaType:"image/bmp",bytesPrefix:[66,77]},{mediaType:"image/tiff",bytesPrefix:[73,73,42,0]},{mediaType:"image/tiff",bytesPrefix:[77,77,0,42]},{mediaType:"image/avif",bytesPrefix:[0,0,0,32,102,116,121,112,97,118,105,102]},{mediaType:"image/heic",bytesPrefix:[0,0,0,32,102,116,121,112,104,101,105,99]}],yf=e=>{const t="string"===typeof e?Hu(e):e,n=(127&t[6])<<21|(127&t[7])<<14|(127&t[8])<<7|127&t[9];return t.slice(n+10)};function bf(e){let{data:t,signatures:n}=e;const r=function(e){return"string"===typeof e&&e.startsWith("SUQz")||"string"!==typeof e&&e.length>10&&73===e[0]&&68===e[1]&&51===e[2]?yf(e):e}(t),a="string"===typeof r?Hu(r.substring(0,Math.min(r.length,24))):r;for(const o of n)if(a.length>=o.bytesPrefix.length&&o.bytesPrefix.every(((e,t)=>null===e||a[t]===e)))return o.mediaType}var _f="5.0.68",wf=async e=>{let{url:t}=e;var n;const r=t.toString();try{const e=await fetch(r,{headers:Ll({},"ai-sdk/".concat(_f),Fl())});if(!e.ok)throw new uf({url:r,statusCode:e.status,statusText:e.statusText});return{data:new Uint8Array(await e.arrayBuffer()),mediaType:null!=(n=e.headers.get("content-type"))?n:void 0}}catch(a){if(uf.isInstance(a))throw a;throw new uf({url:r,cause:a})}},kf=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:wf;return t=>Promise.all(t.map((async t=>t.isUrlSupportedByModel?null:e(t))))};var xf=vi([Ao(),qi(Uint8Array),qi(ArrayBuffer),Vi((e=>{var t,n;return null!=(n=null==(t=globalThis.Buffer)?void 0:t.isBuffer(e))&&n}),{message:"Must be a Buffer"})]);function Sf(e){if(e instanceof Uint8Array)return{data:e,mediaType:void 0};if(e instanceof ArrayBuffer)return{data:new Uint8Array(e),mediaType:void 0};if("string"===typeof e)try{e=new URL(e)}catch(t){}if(e instanceof URL&&"data:"===e.protocol){const{mediaType:n,base64Content:r}=function(e){try{const[t,n]=e.split(",");return{mediaType:t.split(";")[0].split(":")[1],base64Content:n}}catch(t){return{mediaType:void 0,base64Content:void 0}}}(e.toString());if(null==n||null==r)throw new x({name:"InvalidDataContentError",message:"Invalid data URL format in content ".concat(e.toString())});return{data:r,mediaType:n}}return{data:e,mediaType:void 0}}async function Cf(e){let{prompt:t,supportedUrls:n,download:r=kf()}=e;const a=await async function(e,t,n){const r=e.filter((e=>"user"===e.role)).map((e=>e.content)).filter((e=>Array.isArray(e))).flat().filter((e=>"image"===e.type||"file"===e.type)).map((e=>{var t;const n=null!=(t=e.mediaType)?t:"image"===e.type?"image/*":void 0;let r="image"===e.type?e.image:e.data;if("string"===typeof r)try{r=new URL(r)}catch(a){}return{mediaType:n,data:r}})).filter((e=>e.data instanceof URL)).map((e=>({url:e.data,isUrlSupportedByModel:null!=e.mediaType&&Zl({url:e.data.toString(),mediaType:e.mediaType,supportedUrls:n})}))),a=await t(r);return Object.fromEntries(a.map(((e,t)=>null==e?null:[r[t].url.toString(),{data:e.data,mediaType:e.mediaType}])).filter((e=>null!=e)))}(t.messages,r,n);return[...null!=t.system?[{role:"system",content:t.system}]:[],...t.messages.map((e=>function(e){let{message:t,downloadedAssets:n}=e;const r=t.role;switch(r){case"system":return{role:"system",content:t.content,providerOptions:t.providerOptions};case"user":return"string"===typeof t.content?{role:"user",content:[{type:"text",text:t.content}],providerOptions:t.providerOptions}:{role:"user",content:t.content.map((e=>function(e,t){var n;if("text"===e.type)return{type:"text",text:e.text,providerOptions:e.providerOptions};let r;const a=e.type;switch(a){case"image":r=e.image;break;case"file":r=e.data;break;default:throw new Error("Unsupported part type: ".concat(a))}const{data:o,mediaType:i}=Sf(r);let s=null!=i?i:e.mediaType,l=o;if(l instanceof URL){const e=t[l.toString()];e&&(l=e.data,null!=s||(s=e.mediaType))}switch(a){case"image":return(l instanceof Uint8Array||"string"===typeof l)&&(s=null!=(n=bf({data:l,signatures:vf}))?n:s),{type:"file",mediaType:null!=s?s:"image/*",filename:void 0,data:l,providerOptions:e.providerOptions};case"file":if(null==s)throw new Error("Media type is missing for file part");return{type:"file",mediaType:s,filename:e.filename,data:l,providerOptions:e.providerOptions}}}(e,n))).filter((e=>"text"!==e.type||""!==e.text)),providerOptions:t.providerOptions};case"assistant":return"string"===typeof t.content?{role:"assistant",content:[{type:"text",text:t.content}],providerOptions:t.providerOptions}:{role:"assistant",content:t.content.filter((e=>"text"!==e.type||""!==e.text||null!=e.providerOptions)).map((e=>{const t=e.providerOptions;switch(e.type){case"file":{const{data:n,mediaType:r}=Sf(e.data);return{type:"file",data:n,filename:e.filename,mediaType:null!=r?r:e.mediaType,providerOptions:t}}case"reasoning":return{type:"reasoning",text:e.text,providerOptions:t};case"text":return{type:"text",text:e.text,providerOptions:t};case"tool-call":return{type:"tool-call",toolCallId:e.toolCallId,toolName:e.toolName,input:e.input,providerExecuted:e.providerExecuted,providerOptions:t};case"tool-result":return{type:"tool-result",toolCallId:e.toolCallId,toolName:e.toolName,output:e.output,providerOptions:t}}})),providerOptions:t.providerOptions};case"tool":return{role:"tool",content:t.content.map((e=>({type:"tool-result",toolCallId:e.toolCallId,toolName:e.toolName,output:e.output,providerOptions:e.providerOptions}))),providerOptions:t.providerOptions};default:throw new ef({role:r})}}({message:e,downloadedAssets:a})))]}function Ef(e){let{maxOutputTokens:t,temperature:n,topP:r,topK:a,presencePenalty:o,frequencyPenalty:i,seed:s,stopSequences:l}=e;if(null!=t){if(!Number.isInteger(t))throw new hp({parameter:"maxOutputTokens",value:t,message:"maxOutputTokens must be an integer"});if(t<1)throw new hp({parameter:"maxOutputTokens",value:t,message:"maxOutputTokens must be >= 1"})}if(null!=n&&"number"!==typeof n)throw new hp({parameter:"temperature",value:n,message:"temperature must be a number"});if(null!=r&&"number"!==typeof r)throw new hp({parameter:"topP",value:r,message:"topP must be a number"});if(null!=a&&"number"!==typeof a)throw new hp({parameter:"topK",value:a,message:"topK must be a number"});if(null!=o&&"number"!==typeof o)throw new hp({parameter:"presencePenalty",value:o,message:"presencePenalty must be a number"});if(null!=i&&"number"!==typeof i)throw new hp({parameter:"frequencyPenalty",value:i,message:"frequencyPenalty must be a number"});if(null!=s&&!Number.isInteger(s))throw new hp({parameter:"seed",value:s,message:"seed must be an integer"});return{maxOutputTokens:t,temperature:n,topP:r,topK:a,presencePenalty:o,frequencyPenalty:i,stopSequences:l,seed:s}}function If(e){let{tools:t,toolChoice:n,activeTools:r}=e;if(!(null!=(a=t)&&Object.keys(a).length>0))return{tools:void 0,toolChoice:void 0};var a;return{tools:(null!=r?Object.entries(t).filter((e=>{let[t]=e;return r.includes(t)})):Object.entries(t)).map((e=>{let[t,n]=e;const r=n.type;switch(r){case void 0:case"dynamic":case"function":return{type:"function",name:t,description:n.description,inputSchema:Vu(n.inputSchema).jsonSchema,providerOptions:n.providerOptions};case"provider-defined":return{type:"provider-defined",name:t,id:n.id,args:n.args};default:throw new Error("Unsupported tool type: ".concat(r))}})),toolChoice:null==n?{type:"auto"}:"string"===typeof n?{type:n}:{type:"tool",toolName:n.toolName}}}var Af=Bi((()=>vi([ri(),Ao(),Go(),ti(),ki(Ao(),Af),di(Af)]))),Tf=ki(Ao(),ki(Ao(),Af)),Nf=fi({type:Ei("text"),text:Ao(),providerOptions:Tf.optional()}),Pf=fi({type:Ei("image"),image:vi([xf,qi(URL)]),mediaType:Ao().optional(),providerOptions:Tf.optional()}),Of=fi({type:Ei("file"),data:vi([xf,qi(URL)]),filename:Ao().optional(),mediaType:Ao(),providerOptions:Tf.optional()}),jf=fi({type:Ei("reasoning"),text:Ao(),providerOptions:Tf.optional()}),zf=fi({type:Ei("tool-call"),toolCallId:Ao(),toolName:Ao(),input:si(),providerOptions:Tf.optional(),providerExecuted:ti().optional()}),Rf=bi("type",[fi({type:Ei("text"),value:Ao()}),fi({type:Ei("json"),value:Af}),fi({type:Ei("error-text"),value:Ao()}),fi({type:Ei("error-json"),value:Af}),fi({type:Ei("content"),value:di(vi([fi({type:Ei("text"),text:Ao()}),fi({type:Ei("media"),data:Ao(),mediaType:Ao()})]))})]),Mf=fi({type:Ei("tool-result"),toolCallId:Ao(),toolName:Ao(),output:Rf,providerOptions:Tf.optional()}),Ff=fi({role:Ei("system"),content:Ao(),providerOptions:Tf.optional()}),Lf=fi({role:Ei("user"),content:vi([Ao(),di(vi([Nf,Pf,Of]))]),providerOptions:Tf.optional()}),Df=fi({role:Ei("assistant"),content:vi([Ao(),di(vi([Nf,Of,jf,zf,Mf]))]),providerOptions:Tf.optional()}),Uf=fi({role:Ei("tool"),content:di(Mf),providerOptions:Tf.optional()}),Bf=vi([Ff,Lf,Df,Uf]);async function Zf(e){if(null==e.prompt&&null==e.messages)throw new V({prompt:e,message:"prompt or messages must be defined"});if(null!=e.prompt&&null!=e.messages)throw new V({prompt:e,message:"prompt and messages cannot be defined at the same time"});if(null!=e.system&&"string"!==typeof e.system)throw new V({prompt:e,message:"system must be a string"});let t;if(null!=e.prompt&&"string"===typeof e.prompt)t=[{role:"user",content:e.prompt}];else if(null!=e.prompt&&Array.isArray(e.prompt))t=e.prompt;else{if(null==e.messages)throw new V({prompt:e,message:"prompt or messages must be defined"});t=e.messages}if(0===t.length)throw new V({prompt:e,message:"messages must not be empty"});const n=await Xl({value:t,schema:di(Bf)});if(!n.success)throw new V({prompt:e,message:"The messages must be a ModelMessage[]. If you have passed a UIMessage[], you can use convertToModelMessages to convert them.",cause:n.error});return{messages:t,system:e.system}}function Vf(e){return yc.isInstance(e)||Pc.isInstance(e)?new x({name:"GatewayError",message:"Vercel AI Gateway access failed. If you want to use AI SDK providers directly, use the providers, e.g. @ai-sdk/openai, or register a different global default provider.",cause:e}):e}function qf(e){let{operationId:t,telemetry:n}=e;return{"operation.name":"".concat(t).concat(null!=(null==n?void 0:n.functionId)?" ".concat(n.functionId):""),"resource.name":null==n?void 0:n.functionId,"ai.operationId":t,"ai.telemetry.functionId":null==n?void 0:n.functionId}}function $f(e){let{model:t,settings:n,telemetry:r,headers:a}=e;var o;return c(c(c({"ai.model.provider":t.provider,"ai.model.id":t.modelId},Object.entries(n).reduce(((e,t)=>{let[n,r]=t;return e["ai.settings.".concat(n)]=r,e}),{})),Object.entries(null!=(o=null==r?void 0:r.metadata)?o:{}).reduce(((e,t)=>{let[n,r]=t;return e["ai.telemetry.metadata.".concat(n)]=r,e}),{})),Object.entries(null!=a?a:{}).reduce(((e,t)=>{let[n,r]=t;return void 0!==r&&(e["ai.request.headers.".concat(n)]=r),e}),{}))}var Hf={startSpan:()=>Wf,startActiveSpan:(e,t,n,r)=>"function"===typeof t?t(Wf):"function"===typeof n?n(Wf):"function"===typeof r?r(Wf):void 0},Wf={spanContext:()=>Qf,setAttribute(){return this},setAttributes(){return this},addEvent(){return this},addLink(){return this},addLinks(){return this},setStatus(){return this},updateName(){return this},end(){return this},isRecording:()=>!1,recordException(){return this}},Qf={traceId:"",spanId:"",traceFlags:0};function Kf(){let{isEnabled:e=!1,tracer:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e?t||Xd.getTracer("ai"):Hf}function Jf(e){let{name:t,tracer:n,attributes:r,fn:a,endWhenDone:o=!0}=e;return n.startActiveSpan(t,{attributes:r},(async e=>{try{const t=await a(e);return o&&e.end(),t}catch(t){try{Gf(e,t)}finally{e.end()}throw t}}))}function Gf(e,t){t instanceof Error?(e.recordException({name:t.name,message:t.message,stack:t.stack}),e.setStatus({code:Hd.ERROR,message:t.message})):e.setStatus({code:Hd.ERROR})}function Yf(e){let{telemetry:t,attributes:n}=e;return!0!==(null==t?void 0:t.isEnabled)?{}:Object.entries(n).reduce(((e,n)=>{let[r,a]=n;if(null==a)return e;if("object"===typeof a&&"input"in a&&"function"===typeof a.input){if(!1===(null==t?void 0:t.recordInputs))return e;const n=a.input();return null==n?e:c(c({},e),{},{[r]:n})}if("object"===typeof a&&"output"in a&&"function"===typeof a.output){if(!1===(null==t?void 0:t.recordOutputs))return e;const n=a.output();return null==n?e:c(c({},e),{},{[r]:n})}return c(c({},e),{},{[r]:a})}),{})}function Xf(e){return JSON.stringify(e.map((e=>c(c({},e),{},{content:"string"===typeof e.content?e.content:e.content.map((e=>{return"file"===e.type?c(c({},e),{},{data:e.data instanceof Uint8Array?(t=e.data,"string"===typeof t?t:t instanceof ArrayBuffer?Wu(new Uint8Array(t)):Wu(t)):e.data}):e;var t}))}))))}function eh(e,t){return{inputTokens:th(e.inputTokens,t.inputTokens),outputTokens:th(e.outputTokens,t.outputTokens),totalTokens:th(e.totalTokens,t.totalTokens),reasoningTokens:th(e.reasoningTokens,t.reasoningTokens),cachedInputTokens:th(e.cachedInputTokens,t.cachedInputTokens)}}function th(e,t){return null==e&&null==t?void 0:(null!=e?e:0)+(null!=t?t:0)}function nh(e){return void 0===e?[]:Array.isArray(e)?e:[e]}var rh=function(){let{maxRetries:e=2,initialDelayInMs:t=2e3,backoffFactor:n=2,abortSignal:r}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return async a=>ah(a,{maxRetries:e,delayInMs:t,backoffFactor:n,abortSignal:r})};async function ah(e,t){let{maxRetries:n,delayInMs:r,backoffFactor:a,abortSignal:o}=t,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];try{return await e()}catch(s){if(zl(s))throw s;if(0===n)throw s;const t=jl(s),l=[...i,s],u=l.length;if(u>n)throw new hf({message:"Failed after ".concat(u," attempts. Last error: ").concat(t),reason:"maxRetriesExceeded",errors:l});if(s instanceof Error&&I.isInstance(s)&&!0===s.isRetryable&&u<=n)return await async function(e,t){if(null==e)return Promise.resolve();const n=null==t?void 0:t.abortSignal;return new Promise(((t,r)=>{if(null==n?void 0:n.aborted)return void r(Tl());const a=setTimeout((()=>{o(),t()}),e),o=()=>{clearTimeout(a),null==n||n.removeEventListener("abort",i)},i=()=>{o(),r(Tl())};null==n||n.addEventListener("abort",i)}))}(function(e){let{error:t,exponentialBackoffDelay:n}=e;const r=t.responseHeaders;if(!r)return n;let a;const o=r["retry-after-ms"];if(o){const e=parseFloat(o);Number.isNaN(e)||(a=e)}const i=r["retry-after"];if(i&&void 0===a){const e=parseFloat(i);a=Number.isNaN(e)?Date.parse(i)-Date.now():1e3*e}return null!=a&&!Number.isNaN(a)&&0<=a&&(a<6e4||a<n)?a:n}({error:s,exponentialBackoffDelay:r}),{abortSignal:o}),ah(e,{maxRetries:n,delayInMs:a*r,backoffFactor:a,abortSignal:o},l);if(1===u)throw s;throw new hf({message:"Failed after ".concat(u," attempts with non-retryable error: '").concat(t,"'"),reason:"errorNotRetryable",errors:l})}}function oh(e){let{maxRetries:t,abortSignal:n}=e;if(null!=t){if(!Number.isInteger(t))throw new hp({parameter:"maxRetries",value:t,message:"maxRetries must be an integer"});if(t<0)throw new hp({parameter:"maxRetries",value:t,message:"maxRetries must be >= 0"})}const r=null!=t?t:2;return{maxRetries:r,retry:rh({maxRetries:r,abortSignal:n})}}function ih(e){const t=e.filter((e=>"text"===e.type));if(0!==t.length)return t.map((e=>e.text)).join("")}var sh=class{constructor(e){let{data:t,mediaType:n}=e;const r=t instanceof Uint8Array;this.base64Data=r?void 0:t,this.uint8ArrayData=r?t:void 0,this.mediaType=n}get base64(){return null==this.base64Data&&(this.base64Data=Wu(this.uint8ArrayData)),this.base64Data}get uint8Array(){return null==this.uint8ArrayData&&(this.uint8ArrayData=Hu(this.base64Data)),this.uint8ArrayData}};async function lh(e){let{toolCall:t,tools:n,repairToolCall:r,system:a,messages:o}=e;try{if(null==n)throw new Up({toolName:t.toolName});try{return await uh({toolCall:t,tools:n})}catch(i){if(null==r||!Up.isInstance(i)&&!kp.isInstance(i))throw i;let e=null;try{e=await r({toolCall:t,tools:n,inputSchema:e=>{let{toolName:t}=e;const{inputSchema:r}=n[t];return Vu(r).jsonSchema},system:a,messages:o,error:i})}catch(s){throw new $p({cause:s,originalError:i})}if(null==e)throw i;return await uh({toolCall:e,tools:n})}}catch(i){const e=await eu({text:t.input}),n=e.success?e.value:t.input;return{type:"tool-call",toolCallId:t.toolCallId,toolName:t.toolName,input:n,dynamic:!0,invalid:!0,error:i}}}async function uh(e){let{toolCall:t,tools:n}=e;const r=t.toolName,a=n[r];if(null==a)throw new Up({toolName:t.toolName,availableTools:Object.keys(n)});const o=Vu(a.inputSchema),i=""===t.input.trim()?await Xl({value:{},schema:o}):await eu({text:t.input,schema:o});if(!1===i.success)throw new kp({toolName:r,toolInput:t.input,cause:i.error});return"dynamic"===a.type?{type:"tool-call",toolCallId:t.toolCallId,toolName:t.toolName,input:i.value,providerExecuted:t.providerExecuted,providerMetadata:t.providerMetadata,dynamic:!0}:{type:"tool-call",toolCallId:t.toolCallId,toolName:r,input:i.value,providerExecuted:t.providerExecuted,providerMetadata:t.providerMetadata}}var ch=class{constructor(e){let{content:t,finishReason:n,usage:r,warnings:a,request:o,response:i,providerMetadata:s}=e;this.content=t,this.finishReason=n,this.usage=r,this.warnings=a,this.request=o,this.response=i,this.providerMetadata=s}get text(){return this.content.filter((e=>"text"===e.type)).map((e=>e.text)).join("")}get reasoning(){return this.content.filter((e=>"reasoning"===e.type))}get reasoningText(){return 0===this.reasoning.length?void 0:this.reasoning.map((e=>e.text)).join("")}get files(){return this.content.filter((e=>"file"===e.type)).map((e=>e.file))}get sources(){return this.content.filter((e=>"source"===e.type))}get toolCalls(){return this.content.filter((e=>"tool-call"===e.type))}get staticToolCalls(){return this.toolCalls.filter((e=>!0!==e.dynamic))}get dynamicToolCalls(){return this.toolCalls.filter((e=>!0===e.dynamic))}get toolResults(){return this.content.filter((e=>"tool-result"===e.type))}get staticToolResults(){return this.toolResults.filter((e=>!0!==e.dynamic))}get dynamicToolResults(){return this.toolResults.filter((e=>!0===e.dynamic))}};function dh(e){return t=>{let{steps:n}=t;return n.length===e}}async function ph(e){let{stopConditions:t,steps:n}=e;return(await Promise.all(t.map((e=>e({steps:n}))))).some((e=>e))}function fh(e){let{output:t,tool:n,errorMode:r}=e;return"text"===r?{type:"error-text",value:j(t)}:"json"===r?{type:"error-json",value:hh(t)}:(null==n?void 0:n.toModelOutput)?n.toModelOutput(t):"string"===typeof t?{type:"text",value:t}:{type:"json",value:hh(t)}}function hh(e){return void 0===e?null:e}function mh(e){let{content:t,tools:n}=e;const r=[],a=t.filter((e=>"source"!==e.type)).filter((e=>("tool-result"!==e.type||e.providerExecuted)&&("tool-error"!==e.type||e.providerExecuted))).filter((e=>"text"!==e.type||e.text.length>0)).map((e=>{switch(e.type){case"text":return{type:"text",text:e.text,providerOptions:e.providerMetadata};case"reasoning":return{type:"reasoning",text:e.text,providerOptions:e.providerMetadata};case"file":return{type:"file",data:e.file.base64,mediaType:e.file.mediaType,providerOptions:e.providerMetadata};case"tool-call":return{type:"tool-call",toolCallId:e.toolCallId,toolName:e.toolName,input:e.input,providerExecuted:e.providerExecuted,providerOptions:e.providerMetadata};case"tool-result":return{type:"tool-result",toolCallId:e.toolCallId,toolName:e.toolName,output:fh({tool:null==n?void 0:n[e.toolName],output:e.output,errorMode:"none"}),providerExecuted:!0,providerOptions:e.providerMetadata};case"tool-error":return{type:"tool-result",toolCallId:e.toolCallId,toolName:e.toolName,output:fh({tool:null==n?void 0:n[e.toolName],output:e.error,errorMode:"json"}),providerOptions:e.providerMetadata}}}));a.length>0&&r.push({role:"assistant",content:a});const o=t.filter((e=>"tool-result"===e.type||"tool-error"===e.type)).filter((e=>!e.providerExecuted)).map((e=>({type:"tool-result",toolCallId:e.toolCallId,toolName:e.toolName,output:fh({tool:null==n?void 0:n[e.toolName],output:"tool-result"===e.type?e.output:e.error,errorMode:"tool-error"===e.type?"text":"none"})})));return o.length>0&&r.push({role:"tool",content:o}),r}var gh=Pl({prefix:"aitxt",size:24});async function vh(e){let{model:t,tools:n,toolChoice:r,system:a,prompt:o,messages:i,maxRetries:s,abortSignal:l,headers:u,stopWhen:d=dh(1),experimental_output:f,experimental_telemetry:h,providerOptions:m,experimental_activeTools:g,activeTools:v=g,experimental_prepareStep:y,prepareStep:b=y,experimental_repairToolCall:_,experimental_download:w,experimental_context:k,_internal:{generateId:x=gh,currentDate:S=(()=>new Date)}={},onStepFinish:C}=e,E=p(e,ep);const I=mf(t),A=nh(d),{maxRetries:T,retry:N}=oh({maxRetries:s,abortSignal:l}),P=Ef(E),O=Ll(null!=u?u:{},"ai/".concat(_f)),j=$f({model:I,telemetry:h,headers:O,settings:c(c({},P),{},{maxRetries:T})}),z=await Zf({system:a,prompt:o,messages:i}),R=Kf(h);try{return await Jf({name:"ai.generateText",attributes:Yf({telemetry:h,attributes:c(c(c({},qf({operationId:"ai.generateText",telemetry:h})),j),{},{"ai.model.provider":I.provider,"ai.model.id":I.modelId,"ai.prompt":{input:()=>JSON.stringify({system:a,prompt:o,messages:i})}})}),tracer:R,fn:async e=>{var t,o,i,s,u,d,p;const g=Ef(E);let y,T=[],P=[];const M=[],F=[];do{const e=[...z.messages,...M],A=await(null==b?void 0:b({model:I,steps:F,stepNumber:F.length,messages:e})),L=mf(null!=(t=null==A?void 0:A.model)?t:I),D=await Cf({prompt:{system:null!=(o=null==A?void 0:A.system)?o:z.system,messages:null!=(i=null==A?void 0:A.messages)?i:e},supportedUrls:await L.supportedUrls,download:w}),{toolChoice:U,tools:B}=If({tools:n,toolChoice:null!=(s=null==A?void 0:A.toolChoice)?s:r,activeTools:null!=(u=null==A?void 0:A.activeTools)?u:v});y=await N((()=>{var e;return Jf({name:"ai.generateText.doGenerate",attributes:Yf({telemetry:h,attributes:c(c(c({},qf({operationId:"ai.generateText.doGenerate",telemetry:h})),j),{},{"ai.model.provider":L.provider,"ai.model.id":L.modelId,"ai.prompt.messages":{input:()=>Xf(D)},"ai.prompt.tools":{input:()=>null==B?void 0:B.map((e=>JSON.stringify(e)))},"ai.prompt.toolChoice":{input:()=>null!=U?JSON.stringify(U):void 0},"gen_ai.system":L.provider,"gen_ai.request.model":L.modelId,"gen_ai.request.frequency_penalty":E.frequencyPenalty,"gen_ai.request.max_tokens":E.maxOutputTokens,"gen_ai.request.presence_penalty":E.presencePenalty,"gen_ai.request.stop_sequences":E.stopSequences,"gen_ai.request.temperature":null!=(e=E.temperature)?e:void 0,"gen_ai.request.top_k":E.topK,"gen_ai.request.top_p":E.topP})}),tracer:R,fn:async e=>{var t,n,r,a,o,i,s,u;const d=await L.doGenerate(c(c({},g),{},{tools:B,toolChoice:U,responseFormat:null==f?void 0:f.responseFormat,prompt:D,providerOptions:m,abortSignal:l,headers:O})),p={id:null!=(n=null==(t=d.response)?void 0:t.id)?n:x(),timestamp:null!=(a=null==(r=d.response)?void 0:r.timestamp)?a:S(),modelId:null!=(i=null==(o=d.response)?void 0:o.modelId)?i:L.modelId,headers:null==(s=d.response)?void 0:s.headers,body:null==(u=d.response)?void 0:u.body};return e.setAttributes(Yf({telemetry:h,attributes:{"ai.response.finishReason":d.finishReason,"ai.response.text":{output:()=>ih(d.content)},"ai.response.toolCalls":{output:()=>{const e=_h(d.content);return null==e?void 0:JSON.stringify(e)}},"ai.response.id":p.id,"ai.response.model":p.modelId,"ai.response.timestamp":p.timestamp.toISOString(),"ai.response.providerMetadata":JSON.stringify(d.providerMetadata),"ai.usage.promptTokens":d.usage.inputTokens,"ai.usage.completionTokens":d.usage.outputTokens,"gen_ai.response.finish_reasons":[d.finishReason],"gen_ai.response.id":p.id,"gen_ai.response.model":p.modelId,"gen_ai.usage.input_tokens":d.usage.inputTokens,"gen_ai.usage.output_tokens":d.usage.outputTokens}})),c(c({},d),{},{response:p})}})}));const Z=await Promise.all(y.content.filter((e=>"tool-call"===e.type)).map((t=>lh({toolCall:t,tools:n,repairToolCall:_,system:a,messages:e}))));for(const t of Z){if(t.invalid)continue;const r=n[t.toolName];null!=(null==r?void 0:r.onInputAvailable)&&await r.onInputAvailable({input:t.input,toolCallId:t.toolCallId,messages:e,abortSignal:l,experimental_context:k})}const V=Z.filter((e=>e.invalid&&e.dynamic));P=[];for(const t of V)P.push({type:"tool-error",toolCallId:t.toolCallId,toolName:t.toolName,input:t.input,error:jl(t.error),dynamic:!0});T=Z.filter((e=>!e.providerExecuted)),null!=n&&P.push(...await yh({toolCalls:T.filter((e=>!e.invalid)),tools:n,tracer:R,telemetry:h,messages:e,abortSignal:l,experimental_context:k}));const q=wh({content:y.content,toolCalls:Z,toolOutputs:P});M.push(...mh({content:q,tools:n}));const $=new ch({content:q,finishReason:y.finishReason,usage:y.usage,warnings:y.warnings,providerMetadata:y.providerMetadata,request:null!=(d=y.request)?d:{},response:c(c({},y.response),{},{messages:structuredClone(M)})});cp(null!=(p=y.warnings)?p:[]),F.push($),await(null==C?void 0:C($))}while(T.length>0&&P.length===T.length&&!await ph({stopConditions:A,steps:F}));e.setAttributes(Yf({telemetry:h,attributes:{"ai.response.finishReason":y.finishReason,"ai.response.text":{output:()=>ih(y.content)},"ai.response.toolCalls":{output:()=>{const e=_h(y.content);return null==e?void 0:JSON.stringify(e)}},"ai.response.providerMetadata":JSON.stringify(y.providerMetadata),"ai.usage.promptTokens":y.usage.inputTokens,"ai.usage.completionTokens":y.usage.outputTokens}}));const L=F[F.length-1];let D;return"stop"===L.finishReason&&(D=await(null==f?void 0:f.parseOutput({text:L.text},{response:L.response,usage:L.usage,finishReason:L.finishReason}))),new bh({steps:F,resolvedOutput:D})}})}catch(M){throw Vf(M)}}async function yh(e){let{toolCalls:t,tools:n,tracer:r,telemetry:a,messages:o,abortSignal:i,experimental_context:s}=e;const l=await Promise.all(t.map((async e=>{let{toolCallId:t,toolName:l,input:u}=e;const d=n[l];if(null!=(null==d?void 0:d.execute))return Jf({name:"ai.toolCall",attributes:Yf({telemetry:a,attributes:c(c({},qf({operationId:"ai.toolCall",telemetry:a})),{},{"ai.toolCall.name":l,"ai.toolCall.id":t,"ai.toolCall.args":{output:()=>JSON.stringify(u)}})}),tracer:r,fn:async e=>{try{const v=function(e){return Ju.apply(this,arguments)}({execute:d.execute.bind(d),input:u,options:{toolCallId:t,messages:o,abortSignal:i,experimental_context:s}});let y;var n,r=!1,c=!1;try{for(var p,h=f(v);r=!(p=await h.next()).done;r=!1){const e=p.value;"final"===e.type&&(y=e.output)}}catch(m){c=!0,n=m}finally{try{r&&null!=h.return&&await h.return()}finally{if(c)throw n}}try{e.setAttributes(Yf({telemetry:a,attributes:{"ai.toolCall.result":{output:()=>JSON.stringify(y)}}}))}catch(g){}return{type:"tool-result",toolCallId:t,toolName:l,input:u,output:y,dynamic:"dynamic"===d.type}}catch(v){return Gf(e,v),{type:"tool-error",toolCallId:t,toolName:l,input:u,error:v,dynamic:"dynamic"===d.type}}}})})));return l.filter((e=>null!=e))}var bh=class{constructor(e){this.steps=e.steps,this.resolvedOutput=e.resolvedOutput}get finalStep(){return this.steps[this.steps.length-1]}get content(){return this.finalStep.content}get text(){return this.finalStep.text}get files(){return this.finalStep.files}get reasoningText(){return this.finalStep.reasoningText}get reasoning(){return this.finalStep.reasoning}get toolCalls(){return this.finalStep.toolCalls}get staticToolCalls(){return this.finalStep.staticToolCalls}get dynamicToolCalls(){return this.finalStep.dynamicToolCalls}get toolResults(){return this.finalStep.toolResults}get staticToolResults(){return this.finalStep.staticToolResults}get dynamicToolResults(){return this.finalStep.dynamicToolResults}get sources(){return this.finalStep.sources}get finishReason(){return this.finalStep.finishReason}get warnings(){return this.finalStep.warnings}get providerMetadata(){return this.finalStep.providerMetadata}get response(){return this.finalStep.response}get request(){return this.finalStep.request}get usage(){return this.finalStep.usage}get totalUsage(){return this.steps.reduce(((e,t)=>eh(e,t.usage)),{inputTokens:void 0,outputTokens:void 0,totalTokens:void 0,reasoningTokens:void 0,cachedInputTokens:void 0})}get experimental_output(){if(null==this.resolvedOutput)throw new ip;return this.resolvedOutput}};function _h(e){const t=e.filter((e=>"tool-call"===e.type));if(0!==t.length)return t.map((e=>({toolCallId:e.toolCallId,toolName:e.toolName,input:e.input})))}function wh(e){let{content:t,toolCalls:n,toolOutputs:r}=e;return[...t.map((e=>{switch(e.type){case"text":case"reasoning":case"source":return e;case"file":return{type:"file",file:new sh(e)};case"tool-call":return n.find((t=>t.toolCallId===e.toolCallId));case"tool-result":{const t=n.find((t=>t.toolCallId===e.toolCallId));if(null==t)throw new Error("Tool call ".concat(e.toolCallId," not found."));return e.isError?{type:"tool-error",toolCallId:e.toolCallId,toolName:e.toolName,input:t.input,error:e.result,providerExecuted:!0,dynamic:t.dynamic}:{type:"tool-result",toolCallId:e.toolCallId,toolName:e.toolName,input:t.input,output:e.result,providerExecuted:!0,dynamic:t.dynamic}}}})),...r]}TransformStream;Jl((()=>Du(vi([hi({type:Ei("text-start"),id:Ao(),providerMetadata:Tf.optional()}),hi({type:Ei("text-delta"),id:Ao(),delta:Ao(),providerMetadata:Tf.optional()}),hi({type:Ei("text-end"),id:Ao(),providerMetadata:Tf.optional()}),hi({type:Ei("error"),errorText:Ao()}),hi({type:Ei("tool-input-start"),toolCallId:Ao(),toolName:Ao(),providerExecuted:ti().optional(),dynamic:ti().optional()}),hi({type:Ei("tool-input-delta"),toolCallId:Ao(),inputTextDelta:Ao()}),hi({type:Ei("tool-input-available"),toolCallId:Ao(),toolName:Ao(),input:si(),providerExecuted:ti().optional(),providerMetadata:Tf.optional(),dynamic:ti().optional()}),hi({type:Ei("tool-input-error"),toolCallId:Ao(),toolName:Ao(),input:si(),providerExecuted:ti().optional(),providerMetadata:Tf.optional(),dynamic:ti().optional(),errorText:Ao()}),hi({type:Ei("tool-output-available"),toolCallId:Ao(),output:si(),providerExecuted:ti().optional(),dynamic:ti().optional(),preliminary:ti().optional()}),hi({type:Ei("tool-output-error"),toolCallId:Ao(),errorText:Ao(),providerExecuted:ti().optional(),dynamic:ti().optional()}),hi({type:Ei("reasoning-start"),id:Ao(),providerMetadata:Tf.optional()}),hi({type:Ei("reasoning-delta"),id:Ao(),delta:Ao(),providerMetadata:Tf.optional()}),hi({type:Ei("reasoning-end"),id:Ao(),providerMetadata:Tf.optional()}),hi({type:Ei("source-url"),sourceId:Ao(),url:Ao(),title:Ao().optional(),providerMetadata:Tf.optional()}),hi({type:Ei("source-document"),sourceId:Ao(),mediaType:Ao(),title:Ao(),filename:Ao().optional(),providerMetadata:Tf.optional()}),hi({type:Ei("file"),url:Ao(),mediaType:Ao(),providerMetadata:Tf.optional()}),hi({type:Vi((e=>"string"===typeof e&&e.startsWith("data-")),{message:'Type must start with "data-"'}),id:Ao().optional(),data:si(),transient:ti().optional()}),hi({type:Ei("start-step")}),hi({type:Ei("finish-step")}),hi({type:Ei("start"),messageId:Ao().optional(),messageMetadata:si().optional()}),hi({type:Ei("finish"),messageMetadata:si().optional()}),hi({type:Ei("abort")}),hi({type:Ei("message-metadata"),messageMetadata:si()})]))));function kh(e){const t=["ROOT"];let n=-1,r=null;function a(e,a,o){switch(e){case'"':n=a,t.pop(),t.push(o),t.push("INSIDE_STRING");break;case"f":case"t":case"n":n=a,r=a,t.pop(),t.push(o),t.push("INSIDE_LITERAL");break;case"-":t.pop(),t.push(o),t.push("INSIDE_NUMBER");break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":n=a,t.pop(),t.push(o),t.push("INSIDE_NUMBER");break;case"{":n=a,t.pop(),t.push(o),t.push("INSIDE_OBJECT_START");break;case"[":n=a,t.pop(),t.push(o),t.push("INSIDE_ARRAY_START")}}function o(e,r){switch(e){case",":t.pop(),t.push("INSIDE_OBJECT_AFTER_COMMA");break;case"}":n=r,t.pop()}}function i(e,r){switch(e){case",":t.pop(),t.push("INSIDE_ARRAY_AFTER_COMMA");break;case"]":n=r,t.pop()}}for(let l=0;l<e.length;l++){const s=e[l];switch(t[t.length-1]){case"ROOT":a(s,l,"FINISH");break;case"INSIDE_OBJECT_START":switch(s){case'"':t.pop(),t.push("INSIDE_OBJECT_KEY");break;case"}":n=l,t.pop()}break;case"INSIDE_OBJECT_AFTER_COMMA":if('"'===s)t.pop(),t.push("INSIDE_OBJECT_KEY");break;case"INSIDE_OBJECT_KEY":if('"'===s)t.pop(),t.push("INSIDE_OBJECT_AFTER_KEY");break;case"INSIDE_OBJECT_AFTER_KEY":if(":"===s)t.pop(),t.push("INSIDE_OBJECT_BEFORE_VALUE");break;case"INSIDE_OBJECT_BEFORE_VALUE":a(s,l,"INSIDE_OBJECT_AFTER_VALUE");break;case"INSIDE_OBJECT_AFTER_VALUE":o(s,l);break;case"INSIDE_STRING":switch(s){case'"':t.pop(),n=l;break;case"\\":t.push("INSIDE_STRING_ESCAPE");break;default:n=l}break;case"INSIDE_ARRAY_START":if("]"===s)n=l,t.pop();else n=l,a(s,l,"INSIDE_ARRAY_AFTER_VALUE");break;case"INSIDE_ARRAY_AFTER_VALUE":switch(s){case",":t.pop(),t.push("INSIDE_ARRAY_AFTER_COMMA");break;case"]":n=l,t.pop();break;default:n=l}break;case"INSIDE_ARRAY_AFTER_COMMA":a(s,l,"INSIDE_ARRAY_AFTER_VALUE");break;case"INSIDE_STRING_ESCAPE":t.pop(),n=l;break;case"INSIDE_NUMBER":switch(s){case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":n=l;break;case"e":case"E":case"-":case".":break;case",":t.pop(),"INSIDE_ARRAY_AFTER_VALUE"===t[t.length-1]&&i(s,l),"INSIDE_OBJECT_AFTER_VALUE"===t[t.length-1]&&o(s,l);break;case"}":t.pop(),"INSIDE_OBJECT_AFTER_VALUE"===t[t.length-1]&&o(s,l);break;case"]":t.pop(),"INSIDE_ARRAY_AFTER_VALUE"===t[t.length-1]&&i(s,l);break;default:t.pop()}break;case"INSIDE_LITERAL":{const a=e.substring(r,l+1);"false".startsWith(a)||"true".startsWith(a)||"null".startsWith(a)?n=l:(t.pop(),"INSIDE_OBJECT_AFTER_VALUE"===t[t.length-1]?o(s,l):"INSIDE_ARRAY_AFTER_VALUE"===t[t.length-1]&&i(s,l));break}}}let s=e.slice(0,n+1);for(let l=t.length-1;l>=0;l--){switch(t[l]){case"INSIDE_STRING":s+='"';break;case"INSIDE_OBJECT_KEY":case"INSIDE_OBJECT_AFTER_KEY":case"INSIDE_OBJECT_AFTER_COMMA":case"INSIDE_OBJECT_START":case"INSIDE_OBJECT_BEFORE_VALUE":case"INSIDE_OBJECT_AFTER_VALUE":s+="}";break;case"INSIDE_ARRAY_START":case"INSIDE_ARRAY_AFTER_COMMA":case"INSIDE_ARRAY_AFTER_VALUE":s+="]";break;case"INSIDE_LITERAL":{const t=e.substring(r,e.length);"true".startsWith(t)?s+="true".slice(t.length):"false".startsWith(t)?s+="false".slice(t.length):"null".startsWith(t)&&(s+="null".slice(t.length))}}}return s}async function xh(e){if(void 0===e)return{value:void 0,state:"undefined-input"};let t=await eu({text:e});return t.success?{value:t.value,state:"successful-parse"}:(t=await eu({text:kh(e)}),t.success?{value:t.value,state:"repaired-parse"}:{value:void 0,state:"failed-parse"})}Pl({prefix:"aitxt",size:24});Pl({prefix:"aiobj",size:24});Pl({prefix:"aiobj",size:24});((e,t)=>{for(var n in t)np(e,n,{get:t[n],enumerable:!0})})({},{object:()=>Ch,text:()=>Sh});var Sh=()=>({type:"text",responseFormat:{type:"text"},async parsePartial(e){let{text:t}=e;return{partial:t}},async parseOutput(e){let{text:t}=e;return t}}),Ch=e=>{let{schema:t}=e;const n=Vu(t);return{type:"object",responseFormat:{type:"json",schema:n.jsonSchema},async parsePartial(e){let{text:t}=e;const n=await xh(t);switch(n.state){case"failed-parse":case"undefined-input":return;case"repaired-parse":case"successful-parse":return{partial:n.value};default:{const e=n.state;throw new Error("Unsupported parse state: ".concat(e))}}},async parseOutput(e,t){let{text:r}=e;const a=await eu({text:r});if(!a.success)throw new Op({message:"No object generated: could not parse the response.",cause:a.error,text:r,response:t.response,usage:t.usage,finishReason:t.finishReason});const o=await Xl({value:a.value,schema:n});if(!o.success)throw new Op({message:"No object generated: response did not match schema.",cause:o.error,text:r,response:t.response,usage:t.usage,finishReason:t.finishReason});return o.value}}};var Eh="AI_NoSuchProviderError",Ih="vercel.ai.error.".concat(Eh),Ah=Symbol.for(Ih);var Th=mi({name:Ao(),version:Ao()}),Nh=mi({_meta:Ni(fi({}).loose())}),Ph=Nh,Oh=fi({method:Ao(),params:Ni(Nh)}),jh=mi({experimental:Ni(fi({}).loose()),logging:Ni(fi({}).loose()),prompts:Ni(mi({listChanged:Ni(ti())})),resources:Ni(mi({subscribe:Ni(ti()),listChanged:Ni(ti())})),tools:Ni(mi({listChanged:Ni(ti())}))}),zh=(Ph.extend({protocolVersion:Ao(),capabilities:jh,serverInfo:Th,instructions:Ni(Ao())}),Ph.extend({nextCursor:Ni(Ao())})),Rh=fi({name:Ao(),description:Ni(Ao()),inputSchema:fi({type:Ei("object"),properties:Ni(fi({}).loose())}).loose()}).loose(),Mh=(zh.extend({tools:di(Rh)}),fi({type:Ei("text"),text:Ao()}).loose()),Fh=fi({type:Ei("image"),data:Ho(),mimeType:Ao()}).loose(),Lh=fi({uri:Ao(),mimeType:Ni(Ao())}).loose(),Dh=Lh.extend({text:Ao()}),Uh=Lh.extend({blob:Ho()}),Bh=fi({type:Ei("resource"),resource:vi([Dh,Uh])}).loose(),Zh=(Ph.extend({content:di(vi([Mh,Fh,Bh])),isError:ti().default(!1).optional()}).or(Ph.extend({toolResult:si()})),"2.0"),Vh=fi({jsonrpc:Ei(Zh),id:vi([Ao(),Go().int()])}).merge(Oh).strict(),qh=fi({jsonrpc:Ei(Zh),id:vi([Ao(),Go().int()]),result:Ph}).strict(),$h=fi({jsonrpc:Ei(Zh),id:vi([Ao(),Go().int()]),error:fi({code:Go().int(),message:Ao(),data:Ni(si())})}).strict();vi([Vh,fi({jsonrpc:Ei(Zh)}).merge(fi({method:Ao(),params:Ni(Nh)})).strict(),qh,$h]);Jl((()=>Du(di(fi({id:Ao(),role:Si(["system","user","assistant"]),metadata:si().optional(),parts:di(vi([fi({type:Ei("text"),text:Ao(),state:Si(["streaming","done"]).optional(),providerMetadata:Tf.optional()}),fi({type:Ei("reasoning"),text:Ao(),state:Si(["streaming","done"]).optional(),providerMetadata:Tf.optional()}),fi({type:Ei("source-url"),sourceId:Ao(),url:Ao(),title:Ao().optional(),providerMetadata:Tf.optional()}),fi({type:Ei("source-document"),sourceId:Ao(),mediaType:Ao(),title:Ao(),filename:Ao().optional(),providerMetadata:Tf.optional()}),fi({type:Ei("file"),mediaType:Ao(),filename:Ao().optional(),url:Ao(),providerMetadata:Tf.optional()}),fi({type:Ei("step-start")}),fi({type:Ao().startsWith("data-"),id:Ao().optional(),data:si()}),fi({type:Ei("dynamic-tool"),toolName:Ao(),toolCallId:Ao(),state:Ei("input-streaming"),input:si().optional(),output:ui().optional(),errorText:ui().optional()}),fi({type:Ei("dynamic-tool"),toolName:Ao(),toolCallId:Ao(),state:Ei("input-available"),input:si(),output:ui().optional(),errorText:ui().optional(),callProviderMetadata:Tf.optional()}),fi({type:Ei("dynamic-tool"),toolName:Ao(),toolCallId:Ao(),state:Ei("output-available"),input:si(),output:si(),errorText:ui().optional(),callProviderMetadata:Tf.optional(),preliminary:ti().optional()}),fi({type:Ei("dynamic-tool"),toolName:Ao(),toolCallId:Ao(),state:Ei("output-error"),input:si(),output:ui().optional(),errorText:Ao(),callProviderMetadata:Tf.optional()}),fi({type:Ao().startsWith("tool-"),toolCallId:Ao(),state:Ei("input-streaming"),providerExecuted:ti().optional(),input:si().optional(),output:ui().optional(),errorText:ui().optional(),approval:ui().optional()}),fi({type:Ao().startsWith("tool-"),toolCallId:Ao(),state:Ei("input-available"),providerExecuted:ti().optional(),input:si(),output:ui().optional(),errorText:ui().optional(),callProviderMetadata:Tf.optional(),approval:ui().optional()}),fi({type:Ao().startsWith("tool-"),toolCallId:Ao(),state:Ei("approval-requested"),input:si(),providerExecuted:ti().optional(),output:ui().optional(),errorText:ui().optional(),callProviderMetadata:Tf.optional(),approval:fi({id:Ao(),approved:ui().optional(),reason:ui().optional()})}),fi({type:Ao().startsWith("tool-"),toolCallId:Ao(),state:Ei("approval-responded"),input:si(),providerExecuted:ti().optional(),output:ui().optional(),errorText:ui().optional(),callProviderMetadata:Tf.optional(),approval:fi({id:Ao(),approved:ti(),reason:Ao().optional()})}),fi({type:Ao().startsWith("tool-"),toolCallId:Ao(),state:Ei("output-available"),providerExecuted:ti().optional(),input:si(),output:si(),errorText:ui().optional(),callProviderMetadata:Tf.optional(),preliminary:ti().optional(),approval:fi({id:Ao(),approved:Ei(!0),reason:Ao().optional()}).optional()}),fi({type:Ao().startsWith("tool-"),toolCallId:Ao(),state:Ei("output-error"),providerExecuted:ti().optional(),input:si(),output:ui().optional(),errorText:Ao(),callProviderMetadata:Tf.optional(),approval:fi({id:Ao(),approved:Ei(!0),reason:Ao().optional()}).optional()}),fi({type:Ao().startsWith("tool-"),toolCallId:Ao(),state:Ei("output-denied"),providerExecuted:ti().optional(),input:si(),output:ui().optional(),errorText:ui().optional(),callProviderMetadata:Tf.optional(),approval:fi({id:Ao(),approved:Ei(!1),reason:Ao().optional()})})]))})))));var Hh=fi({error:fi({message:Ao(),type:Ao().nullish(),param:oi().nullish(),code:vi([Ao(),Go()]).nullish()})}),Wh=cu({errorSchema:Hh,errorToMessage:e=>e.error.message});function Qh(e){let{id:t,model:n,created:r}=e;return{id:null!=t?t:void 0,modelId:null!=n?n:void 0,timestamp:null!=r?new Date(1e3*r):void 0}}function Kh(e){switch(e){case"stop":return"stop";case"length":return"length";case"content_filter":return"content-filter";case"function_call":case"tool_calls":return"tool-calls";default:return"unknown"}}var Jh=Jl((()=>Du(fi({id:Ao().nullish(),created:Go().nullish(),model:Ao().nullish(),choices:di(fi({message:fi({role:Ei("assistant").nullish(),content:Ao().nullish(),tool_calls:di(fi({id:Ao().nullish(),type:Ei("function"),function:fi({name:Ao(),arguments:Ao()})})).nullish(),annotations:di(fi({type:Ei("url_citation"),start_index:Go(),end_index:Go(),url:Ao(),title:Ao()})).nullish()}),index:Go(),logprobs:fi({content:di(fi({token:Ao(),logprob:Go(),top_logprobs:di(fi({token:Ao(),logprob:Go()}))})).nullish()}).nullish(),finish_reason:Ao().nullish()})),usage:fi({prompt_tokens:Go().nullish(),completion_tokens:Go().nullish(),total_tokens:Go().nullish(),prompt_tokens_details:fi({cached_tokens:Go().nullish()}).nullish(),completion_tokens_details:fi({reasoning_tokens:Go().nullish(),accepted_prediction_tokens:Go().nullish(),rejected_prediction_tokens:Go().nullish()}).nullish()}).nullish()})))),Gh=Jl((()=>Du(vi([fi({id:Ao().nullish(),created:Go().nullish(),model:Ao().nullish(),choices:di(fi({delta:fi({role:Si(["assistant"]).nullish(),content:Ao().nullish(),tool_calls:di(fi({index:Go(),id:Ao().nullish(),type:Ei("function").nullish(),function:fi({name:Ao().nullish(),arguments:Ao().nullish()})})).nullish(),annotations:di(fi({type:Ei("url_citation"),start_index:Go(),end_index:Go(),url:Ao(),title:Ao()})).nullish()}).nullish(),logprobs:fi({content:di(fi({token:Ao(),logprob:Go(),top_logprobs:di(fi({token:Ao(),logprob:Go()}))})).nullish()}).nullish(),finish_reason:Ao().nullish(),index:Go()})),usage:fi({prompt_tokens:Go().nullish(),completion_tokens:Go().nullish(),total_tokens:Go().nullish(),prompt_tokens_details:fi({cached_tokens:Go().nullish()}).nullish(),completion_tokens_details:fi({reasoning_tokens:Go().nullish(),accepted_prediction_tokens:Go().nullish(),rejected_prediction_tokens:Go().nullish()}).nullish()}).nullish()}),Hh])))),Yh=Jl((()=>Du(fi({logitBias:ki(Hi(),Go()).optional(),logprobs:vi([ti(),Go()]).optional(),parallelToolCalls:ti().optional(),user:Ao().optional(),reasoningEffort:Si(["minimal","low","medium","high"]).optional(),maxCompletionTokens:Go().optional(),store:ti().optional(),metadata:ki(Ao().max(64),Ao().max(512)).optional(),prediction:ki(Ao(),oi()).optional(),structuredOutputs:ti().optional(),serviceTier:Si(["auto","flex","priority","default"]).optional(),strictJsonSchema:ti().optional(),textVerbosity:Si(["low","medium","high"]).optional(),promptCacheKey:Ao().optional(),safetyIdentifier:Ao().optional()}))));var Xh=class{constructor(e,t){this.specificationVersion="v2",this.supportedUrls={"image/*":[/^https?:\/\/.*$/]},this.modelId=e,this.config=t}get provider(){return this.config.provider}async getArgs(e){let{prompt:t,maxOutputTokens:n,temperature:r,topP:a,topK:o,frequencyPenalty:i,presencePenalty:s,stopSequences:l,responseFormat:u,seed:d,tools:p,toolChoice:f,providerOptions:h}=e;var m,g,v,y;const b=[],_=null!=(m=await ru({provider:"openai",providerOptions:h,schema:Yh}))?m:{},w=null==(g=_.structuredOutputs)||g;null!=o&&b.push({type:"unsupported-setting",setting:"topK"}),"json"!==(null==u?void 0:u.type)||null==u.schema||w||b.push({type:"unsupported-setting",setting:"responseFormat",details:"JSON response format schema is only supported with structuredOutputs"});const{messages:k,warnings:x}=function(e){let{prompt:t,systemMessageMode:n="system"}=e;const r=[],a=[];for(const{role:o,content:i}of t)switch(o){case"system":switch(n){case"system":r.push({role:"system",content:i});break;case"developer":r.push({role:"developer",content:i});break;case"remove":a.push({type:"other",message:"system messages are removed for this model"});break;default:throw new Error("Unsupported system message mode: ".concat(n))}break;case"user":if(1===i.length&&"text"===i[0].type){r.push({role:"user",content:i[0].text});break}r.push({role:"user",content:i.map(((e,t)=>{var n,r,a;switch(e.type){case"text":return{type:"text",text:e.text};case"file":if(e.mediaType.startsWith("image/")){const t="image/*"===e.mediaType?"image/jpeg":e.mediaType;return{type:"image_url",image_url:{url:e.data instanceof URL?e.data.toString():"data:".concat(t,";base64,").concat(Qu(e.data)),detail:null==(r=null==(n=e.providerOptions)?void 0:n.openai)?void 0:r.imageDetail}}}if(!e.mediaType.startsWith("audio/")){if("application/pdf"===e.mediaType){if(e.data instanceof URL)throw new Ne({functionality:"PDF file parts with URLs"});return{type:"file",file:"string"===typeof e.data&&e.data.startsWith("file-")?{file_id:e.data}:{filename:null!=(a=e.filename)?a:"part-".concat(t,".pdf"),file_data:"data:application/pdf;base64,".concat(Qu(e.data))}}}throw new Ne({functionality:"file part media type ".concat(e.mediaType)})}if(e.data instanceof URL)throw new Ne({functionality:"audio file parts with URLs"});switch(e.mediaType){case"audio/wav":return{type:"input_audio",input_audio:{data:Qu(e.data),format:"wav"}};case"audio/mp3":case"audio/mpeg":return{type:"input_audio",input_audio:{data:Qu(e.data),format:"mp3"}};default:throw new Ne({functionality:"audio content parts with media type ".concat(e.mediaType)})}}}))});break;case"assistant":{let e="";const t=[];for(const n of i)switch(n.type){case"text":e+=n.text;break;case"tool-call":t.push({id:n.toolCallId,type:"function",function:{name:n.toolName,arguments:JSON.stringify(n.input)}})}r.push({role:"assistant",content:e,tool_calls:t.length>0?t:void 0});break}case"tool":for(const e of i){const t=e.output;let n;switch(t.type){case"text":case"error-text":n=t.value;break;case"content":case"json":case"error-json":n=JSON.stringify(t.value)}r.push({role:"tool",tool_call_id:e.toolCallId,content:n})}break;default:throw new Error("Unsupported role: ".concat(o))}return{messages:r,warnings:a}}({prompt:t,systemMessageMode:tm(this.modelId)});b.push(...x);const S=null!=(v=_.strictJsonSchema)&&v,C={model:this.modelId,logit_bias:_.logitBias,logprobs:!0===_.logprobs||"number"===typeof _.logprobs||void 0,top_logprobs:"number"===typeof _.logprobs?_.logprobs:"boolean"===typeof _.logprobs&&_.logprobs?0:void 0,user:_.user,parallel_tool_calls:_.parallelToolCalls,max_tokens:n,temperature:r,top_p:a,frequency_penalty:i,presence_penalty:s,response_format:"json"===(null==u?void 0:u.type)?w&&null!=u.schema?{type:"json_schema",json_schema:{schema:u.schema,strict:S,name:null!=(y=u.name)?y:"response",description:u.description}}:{type:"json_object"}:void 0,stop:l,seed:d,verbosity:_.textVerbosity,max_completion_tokens:_.maxCompletionTokens,store:_.store,metadata:_.metadata,prediction:_.prediction,reasoning_effort:_.reasoningEffort,service_tier:_.serviceTier,prompt_cache_key:_.promptCacheKey,safety_identifier:_.safetyIdentifier,messages:k};var E;em(this.modelId)?(null!=C.temperature&&(C.temperature=void 0,b.push({type:"unsupported-setting",setting:"temperature",details:"temperature is not supported for reasoning models"})),null!=C.top_p&&(C.top_p=void 0,b.push({type:"unsupported-setting",setting:"topP",details:"topP is not supported for reasoning models"})),null!=C.frequency_penalty&&(C.frequency_penalty=void 0,b.push({type:"unsupported-setting",setting:"frequencyPenalty",details:"frequencyPenalty is not supported for reasoning models"})),null!=C.presence_penalty&&(C.presence_penalty=void 0,b.push({type:"unsupported-setting",setting:"presencePenalty",details:"presencePenalty is not supported for reasoning models"})),null!=C.logit_bias&&(C.logit_bias=void 0,b.push({type:"other",message:"logitBias is not supported for reasoning models"})),null!=C.logprobs&&(C.logprobs=void 0,b.push({type:"other",message:"logprobs is not supported for reasoning models"})),null!=C.top_logprobs&&(C.top_logprobs=void 0,b.push({type:"other",message:"topLogprobs is not supported for reasoning models"})),null!=C.max_tokens&&(null==C.max_completion_tokens&&(C.max_completion_tokens=C.max_tokens),C.max_tokens=void 0)):(this.modelId.startsWith("gpt-4o-search-preview")||this.modelId.startsWith("gpt-4o-mini-search-preview"))&&null!=C.temperature&&(C.temperature=void 0,b.push({type:"unsupported-setting",setting:"temperature",details:"temperature is not supported for the search preview models and has been removed."})),"flex"!==_.serviceTier||((E=this.modelId).startsWith("o3")||E.startsWith("o4-mini")||E.startsWith("gpt-5")&&!E.startsWith("gpt-5-chat"))||(b.push({type:"unsupported-setting",setting:"serviceTier",details:"flex processing is only available for o3, o4-mini, and gpt-5 models"}),C.service_tier=void 0),"priority"!==_.serviceTier||function(e){return e.startsWith("gpt-4")||e.startsWith("gpt-5-mini")||e.startsWith("gpt-5")&&!e.startsWith("gpt-5-nano")&&!e.startsWith("gpt-5-chat")||e.startsWith("o3")||e.startsWith("o4-mini")}(this.modelId)||(b.push({type:"unsupported-setting",setting:"serviceTier",details:"priority processing is only available for supported models (gpt-4, gpt-5, gpt-5-mini, o3, o4-mini) and requires Enterprise access. gpt-5-nano is not supported"}),C.service_tier=void 0);const{tools:I,toolChoice:A,toolWarnings:T}=function(e){let{tools:t,toolChoice:n,structuredOutputs:r,strictJsonSchema:a}=e;t=(null==t?void 0:t.length)?t:void 0;const o=[];if(null==t)return{tools:void 0,toolChoice:void 0,toolWarnings:o};const i=[];for(const l of t)"function"===l.type?i.push({type:"function",function:{name:l.name,description:l.description,parameters:l.inputSchema,strict:r?a:void 0}}):o.push({type:"unsupported-tool",tool:l});if(null==n)return{tools:i,toolChoice:void 0,toolWarnings:o};const s=n.type;switch(s){case"auto":case"none":case"required":return{tools:i,toolChoice:s,toolWarnings:o};case"tool":return{tools:i,toolChoice:{type:"function",function:{name:n.toolName}},toolWarnings:o};default:throw new Ne({functionality:"tool choice type: ".concat(s)})}}({tools:p,toolChoice:f,structuredOutputs:w,strictJsonSchema:S});return{args:c(c({},C),{},{tools:I,tool_choice:A}),warnings:[...b,...T]}}async doGenerate(e){var t,n,r,a,o,i,s,l,u,d,p,f,h,m;const{args:g,warnings:v}=await this.getArgs(e),{responseHeaders:y,value:b,rawValue:_}=await ou({url:this.config.url({path:"/chat/completions",modelId:this.modelId}),headers:Al(this.config.headers(),e.headers),body:g,failedResponseHandler:Wh,successfulResponseHandler:pu(Jh),abortSignal:e.abortSignal,fetch:this.config.fetch}),w=b.choices[0],k=[],x=w.message.content;null!=x&&x.length>0&&k.push({type:"text",text:x});for(const c of null!=(t=w.message.tool_calls)?t:[])k.push({type:"tool-call",toolCallId:null!=(n=c.id)?n:Ol(),toolName:c.function.name,input:c.function.arguments});for(const c of null!=(r=w.message.annotations)?r:[])k.push({type:"source",sourceType:"url",id:Ol(),url:c.url,title:c.title});const S=null==(a=b.usage)?void 0:a.completion_tokens_details,C=null==(o=b.usage)?void 0:o.prompt_tokens_details,E={openai:{}};return null!=(null==S?void 0:S.accepted_prediction_tokens)&&(E.openai.acceptedPredictionTokens=null==S?void 0:S.accepted_prediction_tokens),null!=(null==S?void 0:S.rejected_prediction_tokens)&&(E.openai.rejectedPredictionTokens=null==S?void 0:S.rejected_prediction_tokens),null!=(null==(i=w.logprobs)?void 0:i.content)&&(E.openai.logprobs=w.logprobs.content),{content:k,finishReason:Kh(w.finish_reason),usage:{inputTokens:null!=(l=null==(s=b.usage)?void 0:s.prompt_tokens)?l:void 0,outputTokens:null!=(d=null==(u=b.usage)?void 0:u.completion_tokens)?d:void 0,totalTokens:null!=(f=null==(p=b.usage)?void 0:p.total_tokens)?f:void 0,reasoningTokens:null!=(h=null==S?void 0:S.reasoning_tokens)?h:void 0,cachedInputTokens:null!=(m=null==C?void 0:C.cached_tokens)?m:void 0},request:{body:g},response:c(c({},Qh(b)),{},{headers:y,body:_}),warnings:v,providerMetadata:E}}async doStream(e){const{args:t,warnings:n}=await this.getArgs(e),r=c(c({},t),{},{stream:!0,stream_options:{include_usage:!0}}),{responseHeaders:a,value:o}=await ou({url:this.config.url({path:"/chat/completions",modelId:this.modelId}),headers:Al(this.config.headers(),e.headers),body:r,failedResponseHandler:Wh,successfulResponseHandler:du(Gh),abortSignal:e.abortSignal,fetch:this.config.fetch}),i=[];let s="unknown";const l={inputTokens:void 0,outputTokens:void 0,totalTokens:void 0};let u=!0,d=!1;const p={openai:{}};return{stream:o.pipeThrough(new TransformStream({start(e){e.enqueue({type:"stream-start",warnings:n})},transform(t,n){var r,a,o,f,h,m,g,v,y,b,_,w,k,x,S,C,E,I,A,T,N,P,O,j;if(e.includeRawChunks&&n.enqueue({type:"raw",rawValue:t.rawValue}),!t.success)return s="error",void n.enqueue({type:"error",error:t.error});const z=t.value;if("error"in z)return s="error",void n.enqueue({type:"error",error:z.error});u&&(u=!1,n.enqueue(c({type:"response-metadata"},Qh(z)))),null!=z.usage&&(l.inputTokens=null!=(r=z.usage.prompt_tokens)?r:void 0,l.outputTokens=null!=(a=z.usage.completion_tokens)?a:void 0,l.totalTokens=null!=(o=z.usage.total_tokens)?o:void 0,l.reasoningTokens=null!=(h=null==(f=z.usage.completion_tokens_details)?void 0:f.reasoning_tokens)?h:void 0,l.cachedInputTokens=null!=(g=null==(m=z.usage.prompt_tokens_details)?void 0:m.cached_tokens)?g:void 0,null!=(null==(v=z.usage.completion_tokens_details)?void 0:v.accepted_prediction_tokens)&&(p.openai.acceptedPredictionTokens=null==(y=z.usage.completion_tokens_details)?void 0:y.accepted_prediction_tokens),null!=(null==(b=z.usage.completion_tokens_details)?void 0:b.rejected_prediction_tokens)&&(p.openai.rejectedPredictionTokens=null==(_=z.usage.completion_tokens_details)?void 0:_.rejected_prediction_tokens));const R=z.choices[0];if(null!=(null==R?void 0:R.finish_reason)&&(s=Kh(R.finish_reason)),null!=(null==(w=null==R?void 0:R.logprobs)?void 0:w.content)&&(p.openai.logprobs=R.logprobs.content),null==(null==R?void 0:R.delta))return;const M=R.delta;if(null!=M.content&&(d||(n.enqueue({type:"text-start",id:"0"}),d=!0),n.enqueue({type:"text-delta",id:"0",delta:M.content})),null!=M.tool_calls)for(const e of M.tool_calls){const t=e.index;if(null==i[t]){if("function"!==e.type)throw new Q({data:e,message:"Expected 'function' type."});if(null==e.id)throw new Q({data:e,message:"Expected 'id' to be a string."});if(null==(null==(k=e.function)?void 0:k.name))throw new Q({data:e,message:"Expected 'function.name' to be a string."});n.enqueue({type:"tool-input-start",id:e.id,toolName:e.function.name}),i[t]={id:e.id,type:"function",function:{name:e.function.name,arguments:null!=(x=e.function.arguments)?x:""},hasFinished:!1};const r=i[t];null!=(null==(S=r.function)?void 0:S.name)&&null!=(null==(C=r.function)?void 0:C.arguments)&&(r.function.arguments.length>0&&n.enqueue({type:"tool-input-delta",id:r.id,delta:r.function.arguments}),tu(r.function.arguments)&&(n.enqueue({type:"tool-input-end",id:r.id}),n.enqueue({type:"tool-call",toolCallId:null!=(E=r.id)?E:Ol(),toolName:r.function.name,input:r.function.arguments}),r.hasFinished=!0));continue}const r=i[t];r.hasFinished||(null!=(null==(I=e.function)?void 0:I.arguments)&&(r.function.arguments+=null!=(T=null==(A=e.function)?void 0:A.arguments)?T:""),n.enqueue({type:"tool-input-delta",id:r.id,delta:null!=(N=e.function.arguments)?N:""}),null!=(null==(P=r.function)?void 0:P.name)&&null!=(null==(O=r.function)?void 0:O.arguments)&&tu(r.function.arguments)&&(n.enqueue({type:"tool-input-end",id:r.id}),n.enqueue({type:"tool-call",toolCallId:null!=(j=r.id)?j:Ol(),toolName:r.function.name,input:r.function.arguments}),r.hasFinished=!0))}if(null!=M.annotations)for(const e of M.annotations)n.enqueue({type:"source",sourceType:"url",id:Ol(),url:e.url,title:e.title})},flush(e){d&&e.enqueue({type:"text-end",id:"0"}),e.enqueue(c({type:"finish",finishReason:s,usage:l},null!=p?{providerMetadata:p}:{}))}})),request:{body:r},response:{headers:a}}}};function em(e){return(e.startsWith("o")||e.startsWith("gpt-5"))&&!e.startsWith("gpt-5-chat")}function tm(e){var t,n;return em(e)?null!=(n=null==(t=nm[e])?void 0:t.systemMessageMode)?n:"developer":"system"}var nm={"o1-mini":{systemMessageMode:"remove"},"o1-mini-2024-09-12":{systemMessageMode:"remove"},"o1-preview":{systemMessageMode:"remove"},"o1-preview-2024-09-12":{systemMessageMode:"remove"},o3:{systemMessageMode:"developer"},"o3-2025-04-16":{systemMessageMode:"developer"},"o3-mini":{systemMessageMode:"developer"},"o3-mini-2025-01-31":{systemMessageMode:"developer"},"o4-mini":{systemMessageMode:"developer"},"o4-mini-2025-04-16":{systemMessageMode:"developer"}};function rm(e){let{id:t,model:n,created:r}=e;return{id:null!=t?t:void 0,modelId:null!=n?n:void 0,timestamp:null!=r?new Date(1e3*r):void 0}}function am(e){switch(e){case"stop":return"stop";case"length":return"length";case"content_filter":return"content-filter";case"function_call":case"tool_calls":return"tool-calls";default:return"unknown"}}var om=Jl((()=>Du(fi({id:Ao().nullish(),created:Go().nullish(),model:Ao().nullish(),choices:di(fi({text:Ao(),finish_reason:Ao(),logprobs:fi({tokens:di(Ao()),token_logprobs:di(Go()),top_logprobs:di(ki(Ao(),Go())).nullish()}).nullish()})),usage:fi({prompt_tokens:Go(),completion_tokens:Go(),total_tokens:Go()}).nullish()})))),im=Jl((()=>Du(vi([fi({id:Ao().nullish(),created:Go().nullish(),model:Ao().nullish(),choices:di(fi({text:Ao(),finish_reason:Ao().nullish(),index:Go(),logprobs:fi({tokens:di(Ao()),token_logprobs:di(Go()),top_logprobs:di(ki(Ao(),Go())).nullish()}).nullish()})),usage:fi({prompt_tokens:Go(),completion_tokens:Go(),total_tokens:Go()}).nullish()}),Hh])))),sm=Jl((()=>Du(fi({echo:ti().optional(),logitBias:ki(Ao(),Go()).optional(),suffix:Ao().optional(),user:Ao().optional(),logprobs:vi([ti(),Go()]).optional()})))),lm=class{constructor(e,t){this.specificationVersion="v2",this.supportedUrls={},this.modelId=e,this.config=t}get providerOptionsName(){return this.config.provider.split(".")[0].trim()}get provider(){return this.config.provider}async getArgs(e){let{prompt:t,maxOutputTokens:n,temperature:r,topP:a,topK:o,frequencyPenalty:i,presencePenalty:s,stopSequences:l,responseFormat:u,tools:d,toolChoice:p,seed:f,providerOptions:h}=e;const m=[],g=c(c({},await ru({provider:"openai",providerOptions:h,schema:sm})),await ru({provider:this.providerOptionsName,providerOptions:h,schema:sm}));null!=o&&m.push({type:"unsupported-setting",setting:"topK"}),(null==d?void 0:d.length)&&m.push({type:"unsupported-setting",setting:"tools"}),null!=p&&m.push({type:"unsupported-setting",setting:"toolChoice"}),null!=u&&"text"!==u.type&&m.push({type:"unsupported-setting",setting:"responseFormat",details:"JSON response format is not supported."});const{prompt:v,stopSequences:y}=function(e){let{prompt:t,user:n="user",assistant:r="assistant"}=e,a="";"system"===t[0].role&&(a+="".concat(t[0].content,"\n\n"),t=t.slice(1));for(const{role:o,content:i}of t)switch(o){case"system":throw new V({message:"Unexpected system message in prompt: ${content}",prompt:t});case"user":{const e=i.map((e=>{if("text"===e.type)return e.text})).filter(Boolean).join("");a+="".concat(n,":\n").concat(e,"\n\n");break}case"assistant":{const e=i.map((e=>{switch(e.type){case"text":return e.text;case"tool-call":throw new Ne({functionality:"tool-call messages"})}})).join("");a+="".concat(r,":\n").concat(e,"\n\n");break}case"tool":throw new Ne({functionality:"tool messages"});default:throw new Error("Unsupported role: ".concat(o))}return a+="".concat(r,":\n"),{prompt:a,stopSequences:["\n".concat(n,":")]}}({prompt:t}),b=[...null!=y?y:[],...null!=l?l:[]];return{args:{model:this.modelId,echo:g.echo,logit_bias:g.logitBias,logprobs:!0===(null==g?void 0:g.logprobs)?0:!1===(null==g?void 0:g.logprobs)||null==g?void 0:g.logprobs,suffix:g.suffix,user:g.user,max_tokens:n,temperature:r,top_p:a,frequency_penalty:i,presence_penalty:s,seed:f,prompt:v,stop:b.length>0?b:void 0},warnings:m}}async doGenerate(e){var t,n,r;const{args:a,warnings:o}=await this.getArgs(e),{responseHeaders:i,value:s,rawValue:l}=await ou({url:this.config.url({path:"/completions",modelId:this.modelId}),headers:Al(this.config.headers(),e.headers),body:a,failedResponseHandler:Wh,successfulResponseHandler:pu(om),abortSignal:e.abortSignal,fetch:this.config.fetch}),u=s.choices[0],d={openai:{}};return null!=u.logprobs&&(d.openai.logprobs=u.logprobs),{content:[{type:"text",text:u.text}],usage:{inputTokens:null==(t=s.usage)?void 0:t.prompt_tokens,outputTokens:null==(n=s.usage)?void 0:n.completion_tokens,totalTokens:null==(r=s.usage)?void 0:r.total_tokens},finishReason:am(u.finish_reason),request:{body:a},response:c(c({},rm(s)),{},{headers:i,body:l}),providerMetadata:d,warnings:o}}async doStream(e){const{args:t,warnings:n}=await this.getArgs(e),r=c(c({},t),{},{stream:!0,stream_options:{include_usage:!0}}),{responseHeaders:a,value:o}=await ou({url:this.config.url({path:"/completions",modelId:this.modelId}),headers:Al(this.config.headers(),e.headers),body:r,failedResponseHandler:Wh,successfulResponseHandler:du(im),abortSignal:e.abortSignal,fetch:this.config.fetch});let i="unknown";const s={openai:{}},l={inputTokens:void 0,outputTokens:void 0,totalTokens:void 0};let u=!0;return{stream:o.pipeThrough(new TransformStream({start(e){e.enqueue({type:"stream-start",warnings:n})},transform(t,n){if(e.includeRawChunks&&n.enqueue({type:"raw",rawValue:t.rawValue}),!t.success)return i="error",void n.enqueue({type:"error",error:t.error});const r=t.value;if("error"in r)return i="error",void n.enqueue({type:"error",error:r.error});u&&(u=!1,n.enqueue(c({type:"response-metadata"},rm(r))),n.enqueue({type:"text-start",id:"0"})),null!=r.usage&&(l.inputTokens=r.usage.prompt_tokens,l.outputTokens=r.usage.completion_tokens,l.totalTokens=r.usage.total_tokens);const a=r.choices[0];null!=(null==a?void 0:a.finish_reason)&&(i=am(a.finish_reason)),null!=(null==a?void 0:a.logprobs)&&(s.openai.logprobs=a.logprobs),null!=(null==a?void 0:a.text)&&a.text.length>0&&n.enqueue({type:"text-delta",id:"0",delta:a.text})},flush(e){u||e.enqueue({type:"text-end",id:"0"}),e.enqueue({type:"finish",finishReason:i,providerMetadata:s,usage:l})}})),request:{body:r},response:{headers:a}}}},um=Jl((()=>Du(fi({dimensions:Go().optional(),user:Ao().optional()})))),cm=Jl((()=>Du(fi({data:di(fi({embedding:di(Go())})),usage:fi({prompt_tokens:Go()}).nullish()})))),dm=class{constructor(e,t){this.specificationVersion="v2",this.maxEmbeddingsPerCall=2048,this.supportsParallelCalls=!0,this.modelId=e,this.config=t}get provider(){return this.config.provider}async doEmbed(e){let{values:t,headers:n,abortSignal:r,providerOptions:a}=e;var o;if(t.length>this.maxEmbeddingsPerCall)throw new _e({provider:this.provider,modelId:this.modelId,maxEmbeddingsPerCall:this.maxEmbeddingsPerCall,values:t});const i=null!=(o=await ru({provider:"openai",providerOptions:a,schema:um}))?o:{},{responseHeaders:s,value:l,rawValue:u}=await ou({url:this.config.url({path:"/embeddings",modelId:this.modelId}),headers:Al(this.config.headers(),n),body:{model:this.modelId,input:t,encoding_format:"float",dimensions:i.dimensions,user:i.user},failedResponseHandler:Wh,successfulResponseHandler:pu(cm),abortSignal:r,fetch:this.config.fetch});return{embeddings:l.data.map((e=>e.embedding)),usage:l.usage?{tokens:l.usage.prompt_tokens}:void 0,response:{headers:s,body:u}}}},pm=Jl((()=>Du(fi({data:di(fi({b64_json:Ao(),revised_prompt:Ao().optional()}))})))),fm={"dall-e-3":1,"dall-e-2":10,"gpt-image-1":10,"gpt-image-1-mini":10},hm=new Set(["gpt-image-1","gpt-image-1-mini"]),mm=class{constructor(e,t){this.modelId=e,this.config=t,this.specificationVersion="v2"}get maxImagesPerCall(){var e;return null!=(e=fm[this.modelId])?e:1}get provider(){return this.config.provider}async doGenerate(e){let{prompt:t,n:n,size:r,aspectRatio:a,seed:o,providerOptions:i,headers:s,abortSignal:l}=e;var u,d,p,f;const h=[];null!=a&&h.push({type:"unsupported-setting",setting:"aspectRatio",details:"This model does not support aspect ratio. Use `size` instead."}),null!=o&&h.push({type:"unsupported-setting",setting:"seed"});const m=null!=(p=null==(d=null==(u=this.config._internal)?void 0:u.currentDate)?void 0:d.call(u))?p:new Date,{value:g,responseHeaders:v}=await ou({url:this.config.url({path:"/images/generations",modelId:this.modelId}),headers:Al(this.config.headers(),s),body:c(c({model:this.modelId,prompt:t,n:n,size:r},null!=(f=i.openai)?f:{}),hm.has(this.modelId)?{}:{response_format:"b64_json"}),failedResponseHandler:Wh,successfulResponseHandler:pu(pm),abortSignal:l,fetch:this.config.fetch});return{images:g.data.map((e=>e.b64_json)),warnings:h,response:{timestamp:m,modelId:this.modelId,headers:v},providerMetadata:{openai:{images:g.data.map((e=>e.revised_prompt?{revisedPrompt:e.revised_prompt}:null))}}}}},gm=Bu((()=>Du(fi({code:Ao().nullish(),containerId:Ao()})))),vm=Bu((()=>Du(fi({outputs:di(bi("type",[fi({type:Ei("logs"),logs:Ao()}),fi({type:Ei("image"),url:Ao()})])).nullish()})))),ym=Bu((()=>Du(fi({container:vi([Ao(),fi({fileIds:di(Ao()).optional()})]).optional()})))),bm=lu({id:"openai.code_interpreter",name:"code_interpreter",inputSchema:gm,outputSchema:vm}),_m=fi({key:Ao(),type:Si(["eq","ne","gt","gte","lt","lte"]),value:vi([Ao(),Go(),ti()])}),wm=fi({type:Si(["and","or"]),filters:di(vi([_m,Bi((()=>wm))]))}),km=Bu((()=>Du(fi({vectorStoreIds:di(Ao()),maxNumResults:Go().optional(),ranking:fi({ranker:Ao().optional(),scoreThreshold:Go().optional()}).optional(),filters:vi([_m,wm]).optional()})))),xm=Bu((()=>Du(fi({queries:di(Ao()),results:di(fi({attributes:ki(Ao(),si()),fileId:Ao(),filename:Ao(),score:Go(),text:Ao()})).nullable()})))),Sm=lu({id:"openai.file_search",name:"file_search",inputSchema:fi({}),outputSchema:xm}),Cm=Bu((()=>Du(fi({background:Si(["auto","opaque","transparent"]).optional(),inputFidelity:Si(["low","high"]).optional(),inputImageMask:fi({fileId:Ao().optional(),imageUrl:Ao().optional()}).optional(),model:Ao().optional(),moderation:Si(["auto"]).optional(),outputCompression:Go().int().min(0).max(100).optional(),outputFormat:Si(["png","jpeg","webp"]).optional(),partialImages:Go().int().min(0).max(3).optional(),quality:Si(["auto","low","medium","high"]).optional(),size:Si(["1024x1024","1024x1536","1536x1024","auto"]).optional()}).strict()))),Em=lu({id:"openai.image_generation",name:"image_generation",inputSchema:Bu((()=>Du(fi({})))),outputSchema:Bu((()=>Du(fi({result:Ao()}))))}),Im=Bu((()=>Du(fi({action:fi({type:Ei("exec"),command:di(Ao()),timeoutMs:Go().optional(),user:Ao().optional(),workingDirectory:Ao().optional(),env:ki(Ao(),Ao()).optional()})})))),Am=Bu((()=>Du(fi({output:Ao()})))),Tm=lu({id:"openai.local_shell",name:"local_shell",inputSchema:Im,outputSchema:Am}),Nm=Bu((()=>Du(fi({filters:fi({allowedDomains:di(Ao()).optional()}).optional(),searchContextSize:Si(["low","medium","high"]).optional(),userLocation:fi({type:Ei("approximate"),country:Ao().optional(),city:Ao().optional(),region:Ao().optional(),timezone:Ao().optional()}).optional()})))),Pm=su({id:"openai.web_search",name:"web_search",inputSchema:Bu((()=>Du(fi({action:bi("type",[fi({type:Ei("search"),query:Ao().nullish()}),fi({type:Ei("open_page"),url:Ao()}),fi({type:Ei("find"),url:Ao(),pattern:Ao()})]).nullish()}))))}),Om=Bu((()=>Du(fi({searchContextSize:Si(["low","medium","high"]).optional(),userLocation:fi({type:Ei("approximate"),country:Ao().optional(),city:Ao().optional(),region:Ao().optional(),timezone:Ao().optional()}).optional()})))),jm={codeInterpreter:function(){return bm(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})},fileSearch:Sm,imageGeneration:function(){return Em(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})},localShell:Tm,webSearchPreview:su({id:"openai.web_search_preview",name:"web_search_preview",inputSchema:Bu((()=>Du(fi({action:bi("type",[fi({type:Ei("search"),query:Ao().nullish()}),fi({type:Ei("open_page"),url:Ao()}),fi({type:Ei("find"),url:Ao(),pattern:Ao()})]).nullish()}))))}),webSearch:function(){return Pm(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})}};function zm(e,t){return!!t&&t.some((t=>e.startsWith(t)))}var Rm=fi({itemId:Ao().nullish(),reasoningEncryptedContent:Ao().nullish()});function Mm(e){let{finishReason:t,hasFunctionCall:n}=e;switch(t){case void 0:case null:return n?"tool-calls":"stop";case"max_output_tokens":return"length";case"content_filter":return"content-filter";default:return n?"tool-calls":"unknown"}}var Fm=Jl((()=>Du(vi([fi({type:Ei("response.output_text.delta"),item_id:Ao(),delta:Ao(),logprobs:di(fi({token:Ao(),logprob:Go(),top_logprobs:di(fi({token:Ao(),logprob:Go()}))})).nullish()}),fi({type:Si(["response.completed","response.incomplete"]),response:fi({incomplete_details:fi({reason:Ao()}).nullish(),usage:fi({input_tokens:Go(),input_tokens_details:fi({cached_tokens:Go().nullish()}).nullish(),output_tokens:Go(),output_tokens_details:fi({reasoning_tokens:Go().nullish()}).nullish()}),service_tier:Ao().nullish()})}),fi({type:Ei("response.created"),response:fi({id:Ao(),created_at:Go(),model:Ao(),service_tier:Ao().nullish()})}),fi({type:Ei("response.output_item.added"),output_index:Go(),item:bi("type",[fi({type:Ei("message"),id:Ao()}),fi({type:Ei("reasoning"),id:Ao(),encrypted_content:Ao().nullish()}),fi({type:Ei("function_call"),id:Ao(),call_id:Ao(),name:Ao(),arguments:Ao()}),fi({type:Ei("web_search_call"),id:Ao(),status:Ao(),action:fi({type:Ei("search"),query:Ao().optional()}).nullish()}),fi({type:Ei("computer_call"),id:Ao(),status:Ao()}),fi({type:Ei("file_search_call"),id:Ao()}),fi({type:Ei("image_generation_call"),id:Ao()}),fi({type:Ei("code_interpreter_call"),id:Ao(),container_id:Ao(),code:Ao().nullable(),outputs:di(bi("type",[fi({type:Ei("logs"),logs:Ao()}),fi({type:Ei("image"),url:Ao()})])).nullable(),status:Ao()})])}),fi({type:Ei("response.output_item.done"),output_index:Go(),item:bi("type",[fi({type:Ei("message"),id:Ao()}),fi({type:Ei("reasoning"),id:Ao(),encrypted_content:Ao().nullish()}),fi({type:Ei("function_call"),id:Ao(),call_id:Ao(),name:Ao(),arguments:Ao(),status:Ei("completed")}),fi({type:Ei("code_interpreter_call"),id:Ao(),code:Ao().nullable(),container_id:Ao(),outputs:di(bi("type",[fi({type:Ei("logs"),logs:Ao()}),fi({type:Ei("image"),url:Ao()})])).nullable()}),fi({type:Ei("image_generation_call"),id:Ao(),result:Ao()}),fi({type:Ei("web_search_call"),id:Ao(),status:Ao(),action:bi("type",[fi({type:Ei("search"),query:Ao().nullish()}),fi({type:Ei("open_page"),url:Ao()}),fi({type:Ei("find"),url:Ao(),pattern:Ao()})]).nullish()}),fi({type:Ei("file_search_call"),id:Ao(),queries:di(Ao()),results:di(fi({attributes:ki(Ao(),si()),file_id:Ao(),filename:Ao(),score:Go(),text:Ao()})).nullish()}),fi({type:Ei("local_shell_call"),id:Ao(),call_id:Ao(),action:fi({type:Ei("exec"),command:di(Ao()),timeout_ms:Go().optional(),user:Ao().optional(),working_directory:Ao().optional(),env:ki(Ao(),Ao()).optional()})}),fi({type:Ei("computer_call"),id:Ao(),status:Ei("completed")})])}),fi({type:Ei("response.function_call_arguments.delta"),item_id:Ao(),output_index:Go(),delta:Ao()}),fi({type:Ei("response.image_generation_call.partial_image"),item_id:Ao(),output_index:Go(),partial_image_b64:Ao()}),fi({type:Ei("response.code_interpreter_call_code.delta"),item_id:Ao(),output_index:Go(),delta:Ao()}),fi({type:Ei("response.code_interpreter_call_code.done"),item_id:Ao(),output_index:Go(),code:Ao()}),fi({type:Ei("response.output_text.annotation.added"),annotation:bi("type",[fi({type:Ei("url_citation"),url:Ao(),title:Ao()}),fi({type:Ei("file_citation"),file_id:Ao(),filename:Ao().nullish(),index:Go().nullish(),start_index:Go().nullish(),end_index:Go().nullish(),quote:Ao().nullish()})])}),fi({type:Ei("response.reasoning_summary_part.added"),item_id:Ao(),summary_index:Go()}),fi({type:Ei("response.reasoning_summary_text.delta"),item_id:Ao(),summary_index:Go(),delta:Ao()}),fi({type:Ei("error"),code:Ao(),message:Ao(),param:Ao().nullish(),sequence_number:Go()}),fi({type:Ao()}).loose().transform((e=>({type:"unknown_chunk",message:e.type})))])))),Lm=Jl((()=>Du(fi({id:Ao(),created_at:Go(),error:fi({code:Ao(),message:Ao()}).nullish(),model:Ao(),output:di(bi("type",[fi({type:Ei("message"),role:Ei("assistant"),id:Ao(),content:di(fi({type:Ei("output_text"),text:Ao(),logprobs:di(fi({token:Ao(),logprob:Go(),top_logprobs:di(fi({token:Ao(),logprob:Go()}))})).nullish(),annotations:di(bi("type",[fi({type:Ei("url_citation"),start_index:Go(),end_index:Go(),url:Ao(),title:Ao()}),fi({type:Ei("file_citation"),file_id:Ao(),filename:Ao().nullish(),index:Go().nullish(),start_index:Go().nullish(),end_index:Go().nullish(),quote:Ao().nullish()}),fi({type:Ei("container_file_citation")})]))}))}),fi({type:Ei("web_search_call"),id:Ao(),status:Ao(),action:bi("type",[fi({type:Ei("search"),query:Ao().nullish()}),fi({type:Ei("open_page"),url:Ao()}),fi({type:Ei("find"),url:Ao(),pattern:Ao()})]).nullish()}),fi({type:Ei("file_search_call"),id:Ao(),queries:di(Ao()),results:di(fi({attributes:ki(Ao(),si()),file_id:Ao(),filename:Ao(),score:Go(),text:Ao()})).nullish()}),fi({type:Ei("code_interpreter_call"),id:Ao(),code:Ao().nullable(),container_id:Ao(),outputs:di(bi("type",[fi({type:Ei("logs"),logs:Ao()}),fi({type:Ei("image"),url:Ao()})])).nullable()}),fi({type:Ei("image_generation_call"),id:Ao(),result:Ao()}),fi({type:Ei("local_shell_call"),id:Ao(),call_id:Ao(),action:fi({type:Ei("exec"),command:di(Ao()),timeout_ms:Go().optional(),user:Ao().optional(),working_directory:Ao().optional(),env:ki(Ao(),Ao()).optional()})}),fi({type:Ei("function_call"),call_id:Ao(),name:Ao(),arguments:Ao(),id:Ao()}),fi({type:Ei("computer_call"),id:Ao(),status:Ao().optional()}),fi({type:Ei("reasoning"),id:Ao(),encrypted_content:Ao().nullish(),summary:di(fi({type:Ei("summary_text"),text:Ao()}))})])),service_tier:Ao().nullish(),incomplete_details:fi({reason:Ao()}).nullish(),usage:fi({input_tokens:Go(),input_tokens_details:fi({cached_tokens:Go().nullish()}).nullish(),output_tokens:Go(),output_tokens_details:fi({reasoning_tokens:Go().nullish()}).nullish()})})))),Dm=Jl((()=>Du(fi({include:di(Si(["reasoning.encrypted_content","file_search_call.results","message.output_text.logprobs"])).nullish(),instructions:Ao().nullish(),logprobs:vi([ti(),Go().min(1).max(20)]).optional(),maxToolCalls:Go().nullish(),metadata:oi().nullish(),parallelToolCalls:ti().nullish(),previousResponseId:Ao().nullish(),promptCacheKey:Ao().nullish(),reasoningEffort:Ao().nullish(),reasoningSummary:Ao().nullish(),safetyIdentifier:Ao().nullish(),serviceTier:Si(["auto","flex","priority","default"]).nullish(),store:ti().nullish(),strictJsonSchema:ti().nullish(),textVerbosity:Si(["low","medium","high"]).nullish(),user:Ao().nullish()}))));var Um=class{constructor(e,t){this.specificationVersion="v2",this.supportedUrls={"image/*":[/^https?:\/\/.*$/],"application/pdf":[/^https?:\/\/.*$/]},this.modelId=e,this.config=t}get provider(){return this.config.provider}async getArgs(e){let{maxOutputTokens:t,temperature:n,stopSequences:r,topP:a,topK:o,presencePenalty:i,frequencyPenalty:s,seed:l,prompt:u,providerOptions:d,tools:p,toolChoice:f,responseFormat:h}=e;var m,g,v,y;const b=[],_=function(e){const t=e.startsWith("o3")||e.startsWith("o4-mini")||e.startsWith("gpt-5")&&!e.startsWith("gpt-5-chat"),n=e.startsWith("gpt-4")||e.startsWith("gpt-5-mini")||e.startsWith("gpt-5")&&!e.startsWith("gpt-5-nano")&&!e.startsWith("gpt-5-chat")||e.startsWith("o3")||e.startsWith("o4-mini"),r={requiredAutoTruncation:!1,systemMessageMode:"system",supportsFlexProcessing:t,supportsPriorityProcessing:n};if(e.startsWith("gpt-5-chat"))return c(c({},r),{},{isReasoningModel:!1});if(e.startsWith("o")||e.startsWith("gpt-5")||e.startsWith("codex-")||e.startsWith("computer-use"))return e.startsWith("o1-mini")||e.startsWith("o1-preview")?c(c({},r),{},{isReasoningModel:!0,systemMessageMode:"remove"}):c(c({},r),{},{isReasoningModel:!0,systemMessageMode:"developer"});return c(c({},r),{},{isReasoningModel:!1})}(this.modelId);null!=o&&b.push({type:"unsupported-setting",setting:"topK"}),null!=l&&b.push({type:"unsupported-setting",setting:"seed"}),null!=i&&b.push({type:"unsupported-setting",setting:"presencePenalty"}),null!=s&&b.push({type:"unsupported-setting",setting:"frequencyPenalty"}),null!=r&&b.push({type:"unsupported-setting",setting:"stopSequences"});const w=await ru({provider:"openai",providerOptions:d,schema:Dm}),{input:k,warnings:x}=await async function(e){let{prompt:t,systemMessageMode:n,fileIdPrefixes:r,store:a,hasLocalShellTool:o=!1}=e;var i,s,l,u,d,p,f,h,m;const g=[],v=[];for(const{role:y,content:b}of t)switch(y){case"system":switch(n){case"system":g.push({role:"system",content:b});break;case"developer":g.push({role:"developer",content:b});break;case"remove":v.push({type:"other",message:"system messages are removed for this model"});break;default:throw new Error("Unsupported system message mode: ".concat(n))}break;case"user":g.push({role:"user",content:b.map(((e,t)=>{var n,a,o;switch(e.type){case"text":return{type:"input_text",text:e.text};case"file":if(e.mediaType.startsWith("image/")){const t="image/*"===e.mediaType?"image/jpeg":e.mediaType;return c(c({type:"input_image"},e.data instanceof URL?{image_url:e.data.toString()}:"string"===typeof e.data&&zm(e.data,r)?{file_id:e.data}:{image_url:"data:".concat(t,";base64,").concat(Qu(e.data))}),{},{detail:null==(a=null==(n=e.providerOptions)?void 0:n.openai)?void 0:a.imageDetail})}if("application/pdf"===e.mediaType)return e.data instanceof URL?{type:"input_file",file_url:e.data.toString()}:c({type:"input_file"},"string"===typeof e.data&&zm(e.data,r)?{file_id:e.data}:{filename:null!=(o=e.filename)?o:"part-".concat(t,".pdf"),file_data:"data:application/pdf;base64,".concat(Qu(e.data))});throw new Ne({functionality:"file part media type ".concat(e.mediaType)})}}))});break;case"assistant":{const e={},t={};for(const n of b)switch(n.type){case"text":g.push({role:"assistant",content:[{type:"output_text",text:n.text}],id:null!=(l=null==(s=null==(i=n.providerOptions)?void 0:i.openai)?void 0:s.itemId)?l:void 0});break;case"tool-call":if(t[n.toolCallId]=n,n.providerExecuted)break;if(o&&"local_shell"===n.toolName){const e=await Yl({value:n.input,schema:Im});g.push({type:"local_shell_call",call_id:n.toolCallId,id:null!=(p=null==(d=null==(u=n.providerOptions)?void 0:u.openai)?void 0:d.itemId)?p:void 0,action:{type:"exec",command:e.action.command,timeout_ms:e.action.timeoutMs,user:e.action.user,working_directory:e.action.workingDirectory,env:e.action.env}});break}g.push({type:"function_call",call_id:n.toolCallId,name:n.toolName,arguments:JSON.stringify(n.input),id:null!=(m=null==(h=null==(f=n.providerOptions)?void 0:f.openai)?void 0:h.itemId)?m:void 0});break;case"tool-result":a?g.push({type:"item_reference",id:n.toolCallId}):v.push({type:"other",message:"Results for OpenAI tool ".concat(n.toolName," are not sent to the API when store is false")});break;case"reasoning":{const t=await ru({provider:"openai",providerOptions:n.providerOptions,schema:Rm}),r=null==t?void 0:t.itemId;if(null!=r){const o=e[r];if(a)void 0===o&&(g.push({type:"item_reference",id:r}),e[r]={type:"reasoning",id:r,summary:[]});else{const a=[];n.text.length>0?a.push({type:"summary_text",text:n.text}):void 0!==o&&v.push({type:"other",message:"Cannot append empty reasoning part to existing reasoning sequence. Skipping reasoning part: ".concat(JSON.stringify(n),".")}),void 0===o?(e[r]={type:"reasoning",id:r,encrypted_content:null==t?void 0:t.reasoningEncryptedContent,summary:a},g.push(e[r])):o.summary.push(...a)}}else v.push({type:"other",message:"Non-OpenAI reasoning parts are not supported. Skipping reasoning part: ".concat(JSON.stringify(n),".")});break}}break}case"tool":for(const e of b){const t=e.output;if(o&&"local_shell"===e.toolName&&"json"===t.type){const n=await Yl({value:t.value,schema:Am});g.push({type:"local_shell_call_output",call_id:e.toolCallId,output:n.output});break}let n;switch(t.type){case"text":case"error-text":n=t.value;break;case"json":case"error-json":n=JSON.stringify(t.value);break;case"content":n=t.value.map((e=>{switch(e.type){case"text":return{type:"input_text",text:e.text};case"media":return e.mediaType.startsWith("image/")?{type:"input_image",image_url:"data:".concat(e.mediaType,";base64,").concat(e.data)}:{type:"input_file",filename:"data",file_data:"data:".concat(e.mediaType,";base64,").concat(e.data)}}}))}g.push({type:"function_call_output",call_id:e.toolCallId,output:n})}break;default:throw new Error("Unsupported role: ".concat(y))}return{input:g,warnings:v}}({prompt:u,systemMessageMode:_.systemMessageMode,fileIdPrefixes:this.config.fileIdPrefixes,store:null==(m=null==w?void 0:w.store)||m,hasLocalShellTool:I("openai.local_shell")});b.push(...x);const S=null!=(g=null==w?void 0:w.strictJsonSchema)&&g;let C=null==w?void 0:w.include;function E(e){null==C?C=[e]:C.includes(e)||(C=[...C,e])}function I(e){return null!=(null==p?void 0:p.find((t=>"provider-defined"===t.type&&t.id===e)))}const A="number"===typeof(null==w?void 0:w.logprobs)?null==w?void 0:w.logprobs:!0===(null==w?void 0:w.logprobs)?20:void 0;A&&E("message.output_text.logprobs");const T=null==(v=null==p?void 0:p.find((e=>"provider-defined"===e.type&&("openai.web_search"===e.id||"openai.web_search_preview"===e.id))))?void 0:v.name;T&&E("web_search_call.action.sources"),I("openai.code_interpreter")&&E("code_interpreter_call.outputs");const N=null==w?void 0:w.store;!1===N&&_.isReasoningModel&&E("reasoning.encrypted_content");const P=c(c(c({model:this.modelId,input:k,temperature:n,top_p:a,max_output_tokens:t},("json"===(null==h?void 0:h.type)||(null==w?void 0:w.textVerbosity))&&{text:c(c({},"json"===(null==h?void 0:h.type)&&{format:null!=h.schema?{type:"json_schema",strict:S,name:null!=(y=h.name)?y:"response",description:h.description,schema:h.schema}:{type:"json_object"}}),(null==w?void 0:w.textVerbosity)&&{verbosity:w.textVerbosity})}),{},{max_tool_calls:null==w?void 0:w.maxToolCalls,metadata:null==w?void 0:w.metadata,parallel_tool_calls:null==w?void 0:w.parallelToolCalls,previous_response_id:null==w?void 0:w.previousResponseId,store:N,user:null==w?void 0:w.user,instructions:null==w?void 0:w.instructions,service_tier:null==w?void 0:w.serviceTier,include:C,prompt_cache_key:null==w?void 0:w.promptCacheKey,safety_identifier:null==w?void 0:w.safetyIdentifier,top_logprobs:A},_.isReasoningModel&&(null!=(null==w?void 0:w.reasoningEffort)||null!=(null==w?void 0:w.reasoningSummary))&&{reasoning:c(c({},null!=(null==w?void 0:w.reasoningEffort)&&{effort:w.reasoningEffort}),null!=(null==w?void 0:w.reasoningSummary)&&{summary:w.reasoningSummary})}),_.requiredAutoTruncation&&{truncation:"auto"});_.isReasoningModel?(null!=P.temperature&&(P.temperature=void 0,b.push({type:"unsupported-setting",setting:"temperature",details:"temperature is not supported for reasoning models"})),null!=P.top_p&&(P.top_p=void 0,b.push({type:"unsupported-setting",setting:"topP",details:"topP is not supported for reasoning models"}))):(null!=(null==w?void 0:w.reasoningEffort)&&b.push({type:"unsupported-setting",setting:"reasoningEffort",details:"reasoningEffort is not supported for non-reasoning models"}),null!=(null==w?void 0:w.reasoningSummary)&&b.push({type:"unsupported-setting",setting:"reasoningSummary",details:"reasoningSummary is not supported for non-reasoning models"})),"flex"!==(null==w?void 0:w.serviceTier)||_.supportsFlexProcessing||(b.push({type:"unsupported-setting",setting:"serviceTier",details:"flex processing is only available for o3, o4-mini, and gpt-5 models"}),delete P.service_tier),"priority"!==(null==w?void 0:w.serviceTier)||_.supportsPriorityProcessing||(b.push({type:"unsupported-setting",setting:"serviceTier",details:"priority processing is only available for supported models (gpt-4, gpt-5, gpt-5-mini, o3, o4-mini) and requires Enterprise access. gpt-5-nano is not supported"}),delete P.service_tier);const{tools:O,toolChoice:j,toolWarnings:z}=await async function(e){let{tools:t,toolChoice:n,strictJsonSchema:r}=e;t=(null==t?void 0:t.length)?t:void 0;const a=[];if(null==t)return{tools:void 0,toolChoice:void 0,toolWarnings:a};const o=[];for(const s of t)switch(s.type){case"function":o.push({type:"function",name:s.name,description:s.description,parameters:s.inputSchema,strict:r});break;case"provider-defined":switch(s.id){case"openai.file_search":{const e=await Yl({value:s.args,schema:km});o.push({type:"file_search",vector_store_ids:e.vectorStoreIds,max_num_results:e.maxNumResults,ranking_options:e.ranking?{ranker:e.ranking.ranker,score_threshold:e.ranking.scoreThreshold}:void 0,filters:e.filters});break}case"openai.local_shell":o.push({type:"local_shell"});break;case"openai.web_search_preview":{const e=await Yl({value:s.args,schema:Om});o.push({type:"web_search_preview",search_context_size:e.searchContextSize,user_location:e.userLocation});break}case"openai.web_search":{const e=await Yl({value:s.args,schema:Nm});o.push({type:"web_search",filters:null!=e.filters?{allowed_domains:e.filters.allowedDomains}:void 0,search_context_size:e.searchContextSize,user_location:e.userLocation});break}case"openai.code_interpreter":{const e=await Yl({value:s.args,schema:ym});o.push({type:"code_interpreter",container:null==e.container?{type:"auto",file_ids:void 0}:"string"===typeof e.container?e.container:{type:"auto",file_ids:e.container.fileIds}});break}case"openai.image_generation":{const e=await Yl({value:s.args,schema:Cm});o.push({type:"image_generation",background:e.background,input_fidelity:e.inputFidelity,input_image_mask:e.inputImageMask?{file_id:e.inputImageMask.fileId,image_url:e.inputImageMask.imageUrl}:void 0,model:e.model,size:e.size,quality:e.quality,moderation:e.moderation,output_format:e.outputFormat,output_compression:e.outputCompression});break}}break;default:a.push({type:"unsupported-tool",tool:s})}if(null==n)return{tools:o,toolChoice:void 0,toolWarnings:a};const i=n.type;switch(i){case"auto":case"none":case"required":return{tools:o,toolChoice:i,toolWarnings:a};case"tool":return{tools:o,toolChoice:"code_interpreter"===n.toolName||"file_search"===n.toolName||"image_generation"===n.toolName||"web_search_preview"===n.toolName||"web_search"===n.toolName?{type:n.toolName}:{type:"function",name:n.toolName},toolWarnings:a};default:throw new Ne({functionality:"tool choice type: ".concat(i)})}}({tools:p,toolChoice:f,strictJsonSchema:S});return{webSearchToolName:T,args:c(c({},P),{},{tools:O,tool_choice:j}),warnings:[...b,...z]}}async doGenerate(e){var t,n,r,a,o,i,s,l,u,c,d,p,f,h,m,g,v,y,b;const{args:_,warnings:w,webSearchToolName:k}=await this.getArgs(e),x=this.config.url({path:"/responses",modelId:this.modelId}),{responseHeaders:S,value:C,rawValue:E}=await ou({url:x,headers:Al(this.config.headers(),e.headers),body:_,failedResponseHandler:Wh,successfulResponseHandler:pu(Lm),abortSignal:e.abortSignal,fetch:this.config.fetch});if(C.error)throw new I({message:C.error.message,url:x,requestBodyValues:_,statusCode:400,responseHeaders:S,responseBody:E,isRetryable:!1});const A=[],T=[];let N=!1;for(const I of C.output)switch(I.type){case"reasoning":0===I.summary.length&&I.summary.push({type:"summary_text",text:""});for(const e of I.summary)A.push({type:"reasoning",text:e.text,providerMetadata:{openai:{itemId:I.id,reasoningEncryptedContent:null!=(t=I.encrypted_content)?t:null}}});break;case"image_generation_call":A.push({type:"tool-call",toolCallId:I.id,toolName:"image_generation",input:"{}",providerExecuted:!0}),A.push({type:"tool-result",toolCallId:I.id,toolName:"image_generation",result:{result:I.result},providerExecuted:!0});break;case"local_shell_call":A.push({type:"tool-call",toolCallId:I.call_id,toolName:"local_shell",input:JSON.stringify({action:I.action}),providerMetadata:{openai:{itemId:I.id}}});break;case"message":for(const t of I.content){(null==(r=null==(n=e.providerOptions)?void 0:n.openai)?void 0:r.logprobs)&&t.logprobs&&T.push(t.logprobs),A.push({type:"text",text:t.text,providerMetadata:{openai:{itemId:I.id}}});for(const e of t.annotations)"url_citation"===e.type?A.push({type:"source",sourceType:"url",id:null!=(i=null==(o=(a=this.config).generateId)?void 0:o.call(a))?i:Ol(),url:e.url,title:e.title}):"file_citation"===e.type&&A.push({type:"source",sourceType:"document",id:null!=(u=null==(l=(s=this.config).generateId)?void 0:l.call(s))?u:Ol(),mediaType:"text/plain",title:null!=(d=null!=(c=e.quote)?c:e.filename)?d:"Document",filename:null!=(p=e.filename)?p:e.file_id})}break;case"function_call":N=!0,A.push({type:"tool-call",toolCallId:I.call_id,toolName:I.name,input:I.arguments,providerMetadata:{openai:{itemId:I.id}}});break;case"web_search_call":A.push({type:"tool-call",toolCallId:I.id,toolName:null!=k?k:"web_search",input:JSON.stringify({action:I.action}),providerExecuted:!0}),A.push({type:"tool-result",toolCallId:I.id,toolName:null!=k?k:"web_search",result:{status:I.status},providerExecuted:!0});break;case"computer_call":A.push({type:"tool-call",toolCallId:I.id,toolName:"computer_use",input:"",providerExecuted:!0}),A.push({type:"tool-result",toolCallId:I.id,toolName:"computer_use",result:{type:"computer_use_tool_result",status:I.status||"completed"},providerExecuted:!0});break;case"file_search_call":A.push({type:"tool-call",toolCallId:I.id,toolName:"file_search",input:"{}",providerExecuted:!0}),A.push({type:"tool-result",toolCallId:I.id,toolName:"file_search",result:{queries:I.queries,results:null!=(h=null==(f=I.results)?void 0:f.map((e=>({attributes:e.attributes,fileId:e.file_id,filename:e.filename,score:e.score,text:e.text}))))?h:null},providerExecuted:!0});break;case"code_interpreter_call":A.push({type:"tool-call",toolCallId:I.id,toolName:"code_interpreter",input:JSON.stringify({code:I.code,containerId:I.container_id}),providerExecuted:!0}),A.push({type:"tool-result",toolCallId:I.id,toolName:"code_interpreter",result:{outputs:I.outputs},providerExecuted:!0})}const P={openai:{responseId:C.id}};return T.length>0&&(P.openai.logprobs=T),"string"===typeof C.service_tier&&(P.openai.serviceTier=C.service_tier),{content:A,finishReason:Mm({finishReason:null==(m=C.incomplete_details)?void 0:m.reason,hasFunctionCall:N}),usage:{inputTokens:C.usage.input_tokens,outputTokens:C.usage.output_tokens,totalTokens:C.usage.input_tokens+C.usage.output_tokens,reasoningTokens:null!=(v=null==(g=C.usage.output_tokens_details)?void 0:g.reasoning_tokens)?v:void 0,cachedInputTokens:null!=(b=null==(y=C.usage.input_tokens_details)?void 0:y.cached_tokens)?b:void 0},request:{body:_},response:{id:C.id,timestamp:new Date(1e3*C.created_at),modelId:C.model,headers:S,body:E},providerMetadata:P,warnings:w}}async doStream(e){const{args:t,warnings:n,webSearchToolName:r}=await this.getArgs(e),{responseHeaders:a,value:o}=await ou({url:this.config.url({path:"/responses",modelId:this.modelId}),headers:Al(this.config.headers(),e.headers),body:c(c({},t),{},{stream:!0}),failedResponseHandler:Wh,successfulResponseHandler:du(Fm),abortSignal:e.abortSignal,fetch:this.config.fetch}),i=this;let s="unknown";const l={inputTokens:void 0,outputTokens:void 0,totalTokens:void 0},u=[];let d=null;const p={};let f=!1;const h={};let m;return{stream:o.pipeThrough(new TransformStream({start(e){e.enqueue({type:"stream-start",warnings:n})},transform(t,n){var a,o,c,g,v,y,b,_,w,k,x,S,C,E,I,A,T,N,P,O,j,z,R;if(e.includeRawChunks&&n.enqueue({type:"raw",rawValue:t.rawValue}),!t.success)return s="error",void n.enqueue({type:"error",error:t.error});const M=t.value;if(Zm(M))"function_call"===M.item.type?(p[M.output_index]={toolName:M.item.name,toolCallId:M.item.call_id},n.enqueue({type:"tool-input-start",id:M.item.call_id,toolName:M.item.name})):"web_search_call"===M.item.type?(p[M.output_index]={toolName:null!=r?r:"web_search",toolCallId:M.item.id},n.enqueue({type:"tool-input-start",id:M.item.id,toolName:null!=r?r:"web_search",providerExecuted:!0})):"computer_call"===M.item.type?(p[M.output_index]={toolName:"computer_use",toolCallId:M.item.id},n.enqueue({type:"tool-input-start",id:M.item.id,toolName:"computer_use",providerExecuted:!0})):"code_interpreter_call"===M.item.type?(p[M.output_index]={toolName:"code_interpreter",toolCallId:M.item.id,codeInterpreter:{containerId:M.item.container_id}},n.enqueue({type:"tool-input-start",id:M.item.id,toolName:"code_interpreter",providerExecuted:!0}),n.enqueue({type:"tool-input-delta",id:M.item.id,delta:'{"containerId":"'.concat(M.item.container_id,'","code":"')})):"file_search_call"===M.item.type?n.enqueue({type:"tool-call",toolCallId:M.item.id,toolName:"file_search",input:"{}",providerExecuted:!0}):"image_generation_call"===M.item.type?n.enqueue({type:"tool-call",toolCallId:M.item.id,toolName:"image_generation",input:"{}",providerExecuted:!0}):"message"===M.item.type?n.enqueue({type:"text-start",id:M.item.id,providerMetadata:{openai:{itemId:M.item.id}}}):function(e){return Zm(e)&&"reasoning"===e.item.type}(M)&&(h[M.item.id]={encryptedContent:M.item.encrypted_content,summaryParts:[0]},n.enqueue({type:"reasoning-start",id:"".concat(M.item.id,":0"),providerMetadata:{openai:{itemId:M.item.id,reasoningEncryptedContent:null!=(a=M.item.encrypted_content)?a:null}}}));else if(Bm(M)){if("function_call"===M.item.type)p[M.output_index]=void 0,f=!0,n.enqueue({type:"tool-input-end",id:M.item.call_id}),n.enqueue({type:"tool-call",toolCallId:M.item.call_id,toolName:M.item.name,input:M.item.arguments,providerMetadata:{openai:{itemId:M.item.id}}});else if("web_search_call"===M.item.type)p[M.output_index]=void 0,n.enqueue({type:"tool-input-end",id:M.item.id}),n.enqueue({type:"tool-call",toolCallId:M.item.id,toolName:"web_search",input:JSON.stringify({action:M.item.action}),providerExecuted:!0}),n.enqueue({type:"tool-result",toolCallId:M.item.id,toolName:"web_search",result:{status:M.item.status},providerExecuted:!0});else if("computer_call"===M.item.type)p[M.output_index]=void 0,n.enqueue({type:"tool-input-end",id:M.item.id}),n.enqueue({type:"tool-call",toolCallId:M.item.id,toolName:"computer_use",input:"",providerExecuted:!0}),n.enqueue({type:"tool-result",toolCallId:M.item.id,toolName:"computer_use",result:{type:"computer_use_tool_result",status:M.item.status||"completed"},providerExecuted:!0});else if("file_search_call"===M.item.type)p[M.output_index]=void 0,n.enqueue({type:"tool-result",toolCallId:M.item.id,toolName:"file_search",result:{queries:M.item.queries,results:null!=(c=null==(o=M.item.results)?void 0:o.map((e=>({attributes:e.attributes,fileId:e.file_id,filename:e.filename,score:e.score,text:e.text}))))?c:null},providerExecuted:!0});else if("code_interpreter_call"===M.item.type)p[M.output_index]=void 0,n.enqueue({type:"tool-result",toolCallId:M.item.id,toolName:"code_interpreter",result:{outputs:M.item.outputs},providerExecuted:!0});else if("image_generation_call"===M.item.type)n.enqueue({type:"tool-result",toolCallId:M.item.id,toolName:"image_generation",result:{result:M.item.result},providerExecuted:!0});else if("local_shell_call"===M.item.type)p[M.output_index]=void 0,n.enqueue({type:"tool-call",toolCallId:M.item.call_id,toolName:"local_shell",input:JSON.stringify({action:{type:"exec",command:M.item.action.command,timeoutMs:M.item.action.timeout_ms,user:M.item.action.user,workingDirectory:M.item.action.working_directory,env:M.item.action.env}}),providerMetadata:{openai:{itemId:M.item.id}}});else if("message"===M.item.type)n.enqueue({type:"text-end",id:M.item.id});else if(function(e){return Bm(e)&&"reasoning"===e.item.type}(M)){const e=h[M.item.id];for(const t of e.summaryParts)n.enqueue({type:"reasoning-end",id:"".concat(M.item.id,":").concat(t),providerMetadata:{openai:{itemId:M.item.id,reasoningEncryptedContent:null!=(g=M.item.encrypted_content)?g:null}}});delete h[M.item.id]}}else if(function(e){return"response.function_call_arguments.delta"===e.type}(M)){const e=p[M.output_index];null!=e&&n.enqueue({type:"tool-input-delta",id:e.toolCallId,delta:M.delta})}else if(function(e){return"response.code_interpreter_call_code.delta"===e.type}(M)){const e=p[M.output_index];null!=e&&n.enqueue({type:"tool-input-delta",id:e.toolCallId,delta:JSON.stringify(M.delta).slice(1,-1)})}else if(function(e){return"response.code_interpreter_call_code.done"===e.type}(M)){const e=p[M.output_index];null!=e&&(n.enqueue({type:"tool-input-delta",id:e.toolCallId,delta:'"}'}),n.enqueue({type:"tool-input-end",id:e.toolCallId}),n.enqueue({type:"tool-call",toolCallId:e.toolCallId,toolName:"code_interpreter",input:JSON.stringify({code:M.code,containerId:e.codeInterpreter.containerId}),providerExecuted:!0}))}else!function(e){return"response.created"===e.type}(M)?!function(e){return"response.output_text.delta"===e.type}(M)?!function(e){return"response.reasoning_summary_part.added"===e.type}(M)?!function(e){return"response.reasoning_summary_text.delta"===e.type}(M)?!function(e){return"response.completed"===e.type||"response.incomplete"===e.type}(M)?!function(e){return"response.output_text.annotation.added"===e.type}(M)?function(e){return"error"===e.type}(M)&&n.enqueue({type:"error",error:M}):"url_citation"===M.annotation.type?n.enqueue({type:"source",sourceType:"url",id:null!=(T=null==(A=(I=i.config).generateId)?void 0:A.call(I))?T:Ol(),url:M.annotation.url,title:M.annotation.title}):"file_citation"===M.annotation.type&&n.enqueue({type:"source",sourceType:"document",id:null!=(O=null==(P=(N=i.config).generateId)?void 0:P.call(N))?O:Ol(),mediaType:"text/plain",title:null!=(z=null!=(j=M.annotation.quote)?j:M.annotation.filename)?z:"Document",filename:null!=(R=M.annotation.filename)?R:M.annotation.file_id}):(s=Mm({finishReason:null==(k=M.response.incomplete_details)?void 0:k.reason,hasFunctionCall:f}),l.inputTokens=M.response.usage.input_tokens,l.outputTokens=M.response.usage.output_tokens,l.totalTokens=M.response.usage.input_tokens+M.response.usage.output_tokens,l.reasoningTokens=null!=(S=null==(x=M.response.usage.output_tokens_details)?void 0:x.reasoning_tokens)?S:void 0,l.cachedInputTokens=null!=(E=null==(C=M.response.usage.input_tokens_details)?void 0:C.cached_tokens)?E:void 0,"string"===typeof M.response.service_tier&&(m=M.response.service_tier)):n.enqueue({type:"reasoning-delta",id:"".concat(M.item_id,":").concat(M.summary_index),delta:M.delta,providerMetadata:{openai:{itemId:M.item_id}}}):M.summary_index>0&&(null==(b=h[M.item_id])||b.summaryParts.push(M.summary_index),n.enqueue({type:"reasoning-start",id:"".concat(M.item_id,":").concat(M.summary_index),providerMetadata:{openai:{itemId:M.item_id,reasoningEncryptedContent:null!=(w=null==(_=h[M.item_id])?void 0:_.encryptedContent)?w:null}}})):(n.enqueue({type:"text-delta",id:M.item_id,delta:M.delta}),(null==(y=null==(v=e.providerOptions)?void 0:v.openai)?void 0:y.logprobs)&&M.logprobs&&u.push(M.logprobs)):(d=M.response.id,n.enqueue({type:"response-metadata",id:M.response.id,timestamp:new Date(1e3*M.response.created_at),modelId:M.response.model}))},flush(e){const t={openai:{responseId:d}};u.length>0&&(t.openai.logprobs=u),void 0!==m&&(t.openai.serviceTier=m),e.enqueue({type:"finish",finishReason:s,usage:l,providerMetadata:t})}})),request:{body:t},response:{headers:a}}}};function Bm(e){return"response.output_item.done"===e.type}function Zm(e){return"response.output_item.added"===e.type}var Vm=Jl((()=>Du(fi({instructions:Ao().nullish(),speed:Go().min(.25).max(4).default(1).nullish()})))),qm=class{constructor(e,t){this.modelId=e,this.config=t,this.specificationVersion="v2"}get provider(){return this.config.provider}async getArgs(e){let{text:t,voice:n="alloy",outputFormat:r="mp3",speed:a,instructions:o,language:i,providerOptions:s}=e;const l=[],u=await ru({provider:"openai",providerOptions:s,schema:Vm}),c={model:this.modelId,input:t,voice:n,response_format:"mp3",speed:a,instructions:o};if(r&&(["mp3","opus","aac","flac","wav","pcm"].includes(r)?c.response_format=r:l.push({type:"unsupported-setting",setting:"outputFormat",details:"Unsupported output format: ".concat(r,". Using mp3 instead.")})),u){const e={};for(const t in e){const n=e[t];void 0!==n&&(c[t]=n)}}return i&&l.push({type:"unsupported-setting",setting:"language",details:'OpenAI speech models do not support language selection. Language parameter "'.concat(i,'" was ignored.')}),{requestBody:c,warnings:l}}async doGenerate(e){var t,n,r;const a=null!=(r=null==(n=null==(t=this.config._internal)?void 0:t.currentDate)?void 0:n.call(t))?r:new Date,{requestBody:o,warnings:i}=await this.getArgs(e),{value:s,responseHeaders:l,rawValue:u}=await ou({url:this.config.url({path:"/audio/speech",modelId:this.modelId}),headers:Al(this.config.headers(),e.headers),body:o,failedResponseHandler:Wh,successfulResponseHandler:async e=>{let{response:t,url:n,requestBodyValues:r}=e;const a=Nl(t);if(!t.body)throw new I({message:"Response body is empty",url:n,requestBodyValues:r,statusCode:t.status,responseHeaders:a,responseBody:void 0});try{const e=await t.arrayBuffer();return{responseHeaders:a,value:new Uint8Array(e)}}catch(o){throw new I({message:"Failed to read response as array buffer",url:n,requestBodyValues:r,statusCode:t.status,responseHeaders:a,responseBody:void 0,cause:o})}},abortSignal:e.abortSignal,fetch:this.config.fetch});return{audio:s,warnings:i,request:{body:JSON.stringify(o)},response:{timestamp:a,modelId:this.modelId,headers:l,body:u}}}},$m=Jl((()=>Du(fi({text:Ao(),language:Ao().nullish(),duration:Go().nullish(),words:di(fi({word:Ao(),start:Go(),end:Go()})).nullish(),segments:di(fi({id:Go(),seek:Go(),start:Go(),end:Go(),text:Ao(),tokens:di(Go()),temperature:Go(),avg_logprob:Go(),compression_ratio:Go(),no_speech_prob:Go()})).nullish()})))),Hm=Jl((()=>Du(fi({include:di(Ao()).optional(),language:Ao().optional(),prompt:Ao().optional(),temperature:Go().min(0).max(1).default(0).optional(),timestampGranularities:di(Si(["word","segment"])).default(["segment"]).optional()})))),Wm={afrikaans:"af",arabic:"ar",armenian:"hy",azerbaijani:"az",belarusian:"be",bosnian:"bs",bulgarian:"bg",catalan:"ca",chinese:"zh",croatian:"hr",czech:"cs",danish:"da",dutch:"nl",english:"en",estonian:"et",finnish:"fi",french:"fr",galician:"gl",german:"de",greek:"el",hebrew:"he",hindi:"hi",hungarian:"hu",icelandic:"is",indonesian:"id",italian:"it",japanese:"ja",kannada:"kn",kazakh:"kk",korean:"ko",latvian:"lv",lithuanian:"lt",macedonian:"mk",malay:"ms",marathi:"mr",maori:"mi",nepali:"ne",norwegian:"no",persian:"fa",polish:"pl",portuguese:"pt",romanian:"ro",russian:"ru",serbian:"sr",slovak:"sk",slovenian:"sl",spanish:"es",swahili:"sw",swedish:"sv",tagalog:"tl",tamil:"ta",thai:"th",turkish:"tr",ukrainian:"uk",urdu:"ur",vietnamese:"vi",welsh:"cy"},Qm=class{constructor(e,t){this.modelId=e,this.config=t,this.specificationVersion="v2"}get provider(){return this.config.provider}async getArgs(e){let{audio:t,mediaType:n,providerOptions:r}=e;const a=await ru({provider:"openai",providerOptions:r,schema:Hm}),o=new FormData,i=t instanceof Uint8Array?new Blob([t]):new Blob([Hu(t)]);o.append("model",this.modelId);const s=function(e){var t;const[n,r=""]=e.toLowerCase().split("/");return null!=(t={mpeg:"mp3","x-wav":"wav",opus:"ogg",mp4:"m4a","x-m4a":"m4a"}[r])?t:r}(n);if(o.append("file",new File([i],"audio",{type:n}),"audio.".concat(s)),a){const e={include:a.include,language:a.language,prompt:a.prompt,response_format:["gpt-4o-transcribe","gpt-4o-mini-transcribe"].includes(this.modelId)?"json":"verbose_json",temperature:a.temperature,timestamp_granularities:a.timestampGranularities};for(const[t,n]of Object.entries(e))if(null!=n)if(Array.isArray(n))for(const e of n)o.append("".concat(t,"[]"),String(e));else o.append(t,String(n))}return{formData:o,warnings:[]}}async doGenerate(e){var t,n,r,a,o,i,s,l;const u=null!=(r=null==(n=null==(t=this.config._internal)?void 0:t.currentDate)?void 0:n.call(t))?r:new Date,{formData:c,warnings:d}=await this.getArgs(e),{value:p,responseHeaders:f,rawValue:h}=await(async e=>{let{url:t,headers:n,formData:r,failedResponseHandler:a,successfulResponseHandler:o,abortSignal:i,fetch:s}=e;return iu({url:t,headers:n,body:{content:r,values:Object.fromEntries(r.entries())},failedResponseHandler:a,successfulResponseHandler:o,abortSignal:i,fetch:s})})({url:this.config.url({path:"/audio/transcriptions",modelId:this.modelId}),headers:Al(this.config.headers(),e.headers),formData:c,failedResponseHandler:Wh,successfulResponseHandler:pu($m),abortSignal:e.abortSignal,fetch:this.config.fetch}),m=null!=p.language&&p.language in Wm?Wm[p.language]:void 0;return{text:p.text,segments:null!=(s=null!=(i=null==(a=p.segments)?void 0:a.map((e=>({text:e.text,startSecond:e.start,endSecond:e.end}))))?i:null==(o=p.words)?void 0:o.map((e=>({text:e.word,startSecond:e.start,endSecond:e.end}))))?s:[],language:m,durationInSeconds:null!=(l=p.duration)?l:void 0,warnings:d,response:{timestamp:u,modelId:this.modelId,headers:f,body:h}}}},Km="2.0.49";function Jm(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var t,n;const r=null!=(t=Ku(ql({settingValue:e.baseURL,environmentVariableName:"OPENAI_BASE_URL"})))?t:"https://api.openai.com/v1",a=null!=(n=e.name)?n:"openai",o=()=>Ll(c({Authorization:"Bearer ".concat(Vl({apiKey:e.apiKey,environmentVariableName:"OPENAI_API_KEY",description:"OpenAI"})),"OpenAI-Organization":e.organization,"OpenAI-Project":e.project},e.headers),"ai-sdk/openai/".concat(Km)),i=t=>new dm(t,{provider:"".concat(a,".embedding"),url:e=>{let{path:t}=e;return"".concat(r).concat(t)},headers:o,fetch:e.fetch}),s=t=>new mm(t,{provider:"".concat(a,".image"),url:e=>{let{path:t}=e;return"".concat(r).concat(t)},headers:o,fetch:e.fetch}),l=t=>new Qm(t,{provider:"".concat(a,".transcription"),url:e=>{let{path:t}=e;return"".concat(r).concat(t)},headers:o,fetch:e.fetch}),u=t=>new qm(t,{provider:"".concat(a,".speech"),url:e=>{let{path:t}=e;return"".concat(r).concat(t)},headers:o,fetch:e.fetch}),d=e=>{if(new.target)throw new Error("The OpenAI model function cannot be called with the new keyword.");return p(e)},p=t=>new Um(t,{provider:"".concat(a,".responses"),url:e=>{let{path:t}=e;return"".concat(r).concat(t)},headers:o,fetch:e.fetch,fileIdPrefixes:["file-"]}),f=function(e){return d(e)};return f.languageModel=d,f.chat=t=>new Xh(t,{provider:"".concat(a,".chat"),url:e=>{let{path:t}=e;return"".concat(r).concat(t)},headers:o,fetch:e.fetch}),f.completion=t=>new lm(t,{provider:"".concat(a,".completion"),url:e=>{let{path:t}=e;return"".concat(r).concat(t)},headers:o,fetch:e.fetch}),f.responses=p,f.embedding=i,f.textEmbedding=i,f.textEmbeddingModel=i,f.image=s,f.imageModel=s,f.transcription=l,f.transcriptionModel=l,f.speech=u,f.speechModel=u,f.tools=jm,f}Jm();function Gm(e,t){return new Promise((function(n,r){let a;return Ym(e).then((function(e){try{return a=e,n(new Blob([t.slice(0,2),a,t.slice(2)],{type:"image/jpeg"}))}catch(e){return r(e)}}),r)}))}const Ym=e=>new Promise(((t,n)=>{const r=new FileReader;r.addEventListener("load",(e=>{let{target:{result:r}}=e;const a=new DataView(r);let o=0;if(65496!==a.getUint16(o))return n("not a valid JPEG");for(o+=2;;){const e=a.getUint16(o);if(65498===e)break;const i=a.getUint16(o+2);if(65505===e&&1165519206===a.getUint32(o+4)){const e=o+10;let s;switch(a.getUint16(e)){case 18761:s=!0;break;case 19789:s=!1;break;default:return n("TIFF header contains invalid endian")}if(42!==a.getUint16(e+2,s))return n("TIFF header contains invalid version");const l=a.getUint32(e+4,s),u=e+l+2+12*a.getUint16(e+l,s);for(let t=e+l+2;t<u;t+=12)if(274==a.getUint16(t,s)){if(3!==a.getUint16(t+2,s))return n("Orientation data type is invalid");if(1!==a.getUint32(t+4,s))return n("Orientation data count is invalid");a.setUint16(t+8,1,s);break}return t(r.slice(o,o+2+i))}o+=2+i}return t(new Blob)})),r.readAsArrayBuffer(e)}));var Xm={},eg={get exports(){return Xm},set exports(e){Xm=e}};!function(e){var t,n,r={};eg.exports=r,r.parse=function(e,t){for(var n=r.bin.readUshort,a=r.bin.readUint,o=0,i={},s=new Uint8Array(e),l=s.length-4;101010256!=a(s,l);)l--;o=l,o+=4;var u=n(s,o+=4);n(s,o+=2);var c=a(s,o+=2),d=a(s,o+=4);o+=4,o=d;for(var p=0;p<u;p++){a(s,o),o+=4,o+=4,o+=4,a(s,o+=4),c=a(s,o+=4);var f=a(s,o+=4),h=n(s,o+=4),m=n(s,o+2),g=n(s,o+4);o+=6;var v=a(s,o+=8);o+=4,o+=h+m+g,r._readLocal(s,v,i,c,f,t)}return i},r._readLocal=function(e,t,n,a,o,i){var s=r.bin.readUshort,l=r.bin.readUint;l(e,t),s(e,t+=4),s(e,t+=2);var u=s(e,t+=2);l(e,t+=2),l(e,t+=4),t+=4;var c=s(e,t+=8),d=s(e,t+=2);t+=2;var p=r.bin.readUTF8(e,t,c);if(t+=c,t+=d,i)n[p]={size:o,csize:a};else{var f=new Uint8Array(e.buffer,t);if(0==u)n[p]=new Uint8Array(f.buffer.slice(t,t+a));else{if(8!=u)throw"unknown compression method: "+u;var h=new Uint8Array(o);r.inflateRaw(f,h),n[p]=h}}},r.inflateRaw=function(e,t){return r.F.inflate(e,t)},r.inflate=function(e,t){return e[0],e[1],r.inflateRaw(new Uint8Array(e.buffer,e.byteOffset+2,e.length-6),t)},r.deflate=function(e,t){null==t&&(t={level:6});var n=0,a=new Uint8Array(50+Math.floor(1.1*e.length));a[n]=120,a[n+1]=156,n+=2,n=r.F.deflateRaw(e,a,n,t.level);var o=r.adler(e,0,e.length);return a[n+0]=o>>>24&255,a[n+1]=o>>>16&255,a[n+2]=o>>>8&255,a[n+3]=o>>>0&255,new Uint8Array(a.buffer,0,n+4)},r.deflateRaw=function(e,t){null==t&&(t={level:6});var n=new Uint8Array(50+Math.floor(1.1*e.length)),a=r.F.deflateRaw(e,n,a,t.level);return new Uint8Array(n.buffer,0,a)},r.encode=function(e,t){null==t&&(t=!1);var n=0,a=r.bin.writeUint,o=r.bin.writeUshort,i={};for(var s in e){var l=!r._noNeed(s)&&!t,u=e[s],c=r.crc.crc(u,0,u.length);i[s]={cpr:l,usize:u.length,crc:c,file:l?r.deflateRaw(u):u}}for(var s in i)n+=i[s].file.length+30+46+2*r.bin.sizeUTF8(s);n+=22;var d=new Uint8Array(n),p=0,f=[];for(var s in i){var h=i[s];f.push(p),p=r._writeHeader(d,p,s,h,0)}var m=0,g=p;for(var s in i)h=i[s],f.push(p),p=r._writeHeader(d,p,s,h,1,f[m++]);var v=p-g;return a(d,p,101010256),p+=4,o(d,p+=4,m),o(d,p+=2,m),a(d,p+=2,v),a(d,p+=4,g),p+=4,p+=2,d.buffer},r._noNeed=function(e){var t=e.split(".").pop().toLowerCase();return-1!="png,jpg,jpeg,zip".indexOf(t)},r._writeHeader=function(e,t,n,a,o,i){var s=r.bin.writeUint,l=r.bin.writeUshort,u=a.file;return s(e,t,0==o?67324752:33639248),t+=4,1==o&&(t+=2),l(e,t,20),l(e,t+=2,0),l(e,t+=2,a.cpr?8:0),s(e,t+=2,0),s(e,t+=4,a.crc),s(e,t+=4,u.length),s(e,t+=4,a.usize),l(e,t+=4,r.bin.sizeUTF8(n)),l(e,t+=2,0),t+=2,1==o&&(t+=2,t+=2,s(e,t+=6,i),t+=4),t+=r.bin.writeUTF8(e,t,n),0==o&&(e.set(u,t),t+=u.length),t},r.crc={table:function(){for(var e=new Uint32Array(256),t=0;t<256;t++){for(var n=t,r=0;r<8;r++)1&n?n=3988292384^n>>>1:n>>>=1;e[t]=n}return e}(),update:function(e,t,n,a){for(var o=0;o<a;o++)e=r.crc.table[255&(e^t[n+o])]^e>>>8;return e},crc:function(e,t,n){return 4294967295^r.crc.update(4294967295,e,t,n)}},r.adler=function(e,t,n){for(var r=1,a=0,o=t,i=t+n;o<i;){for(var s=Math.min(o+5552,i);o<s;)a+=r+=e[o++];r%=65521,a%=65521}return a<<16|r},r.bin={readUshort:function(e,t){return e[t]|e[t+1]<<8},writeUshort:function(e,t,n){e[t]=255&n,e[t+1]=n>>8&255},readUint:function(e,t){return 16777216*e[t+3]+(e[t+2]<<16|e[t+1]<<8|e[t])},writeUint:function(e,t,n){e[t]=255&n,e[t+1]=n>>8&255,e[t+2]=n>>16&255,e[t+3]=n>>24&255},readASCII:function(e,t,n){for(var r="",a=0;a<n;a++)r+=String.fromCharCode(e[t+a]);return r},writeASCII:function(e,t,n){for(var r=0;r<n.length;r++)e[t+r]=n.charCodeAt(r)},pad:function(e){return e.length<2?"0"+e:e},readUTF8:function(e,t,n){for(var a,o="",i=0;i<n;i++)o+="%"+r.bin.pad(e[t+i].toString(16));try{a=decodeURIComponent(o)}catch(a){return r.bin.readASCII(e,t,n)}return a},writeUTF8:function(e,t,n){for(var r=n.length,a=0,o=0;o<r;o++){var i=n.charCodeAt(o);if(0==(4294967168&i))e[t+a]=i,a++;else if(0==(4294965248&i))e[t+a]=192|i>>6,e[t+a+1]=128|63&i,a+=2;else if(0==(4294901760&i))e[t+a]=224|i>>12,e[t+a+1]=128|i>>6&63,e[t+a+2]=128|63&i,a+=3;else{if(0!=(4292870144&i))throw"e";e[t+a]=240|i>>18,e[t+a+1]=128|i>>12&63,e[t+a+2]=128|i>>6&63,e[t+a+3]=128|63&i,a+=4}}return a},sizeUTF8:function(e){for(var t=e.length,n=0,r=0;r<t;r++){var a=e.charCodeAt(r);if(0==(4294967168&a))n++;else if(0==(4294965248&a))n+=2;else if(0==(4294901760&a))n+=3;else{if(0!=(4292870144&a))throw"e";n+=4}}return n}},r.F={},r.F.deflateRaw=function(e,t,n,a){var o=[[0,0,0,0,0],[4,4,8,4,0],[4,5,16,8,0],[4,6,16,16,0],[4,10,16,32,0],[8,16,32,32,0],[8,16,128,128,0],[8,32,128,256,0],[32,128,258,1024,1],[32,258,258,4096,1]][a],i=r.F.U,s=r.F._goodIndex;r.F._hash;var l=r.F._putsE,u=0,c=n<<3,d=0,p=e.length;if(0==a){for(;u<p;)l(t,c,u+(S=Math.min(65535,p-u))==p?1:0),c=r.F._copyExact(e,u,S,t,c+8),u+=S;return c>>>3}var f=i.lits,h=i.strt,m=i.prev,g=0,v=0,y=0,b=0,_=0,w=0;for(p>2&&(h[w=r.F._hash(e,0)]=0),u=0;u<p;u++){if(_=w,u+1<p-2){w=r.F._hash(e,u+1);var k=u+1&32767;m[k]=h[w],h[w]=k}if(d<=u){(g>14e3||v>26697)&&p-u>100&&(d<u&&(f[g]=u-d,g+=2,d=u),c=r.F._writeBlock(u==p-1||d==p?1:0,f,g,b,e,y,u-y,t,c),g=v=b=0,y=u);var x=0;u<p-2&&(x=r.F._bestMatch(e,u,m,_,Math.min(o[2],p-u),o[3]));var S=x>>>16,C=65535&x;if(0!=x){C=65535&x;var E=s(S=x>>>16,i.of0);i.lhst[257+E]++;var I=s(C,i.df0);i.dhst[I]++,b+=i.exb[E]+i.dxb[I],f[g]=S<<23|u-d,f[g+1]=C<<16|E<<8|I,g+=2,d=u+S}else i.lhst[e[u]]++;v++}}for(y==u&&0!=e.length||(d<u&&(f[g]=u-d,g+=2,d=u),c=r.F._writeBlock(1,f,g,b,e,y,u-y,t,c),g=0,v=0,g=v=b=0,y=u);0!=(7&c);)c++;return c>>>3},r.F._bestMatch=function(e,t,n,a,o,i){var s=32767&t,l=n[s],u=s-l+32768&32767;if(l==s||a!=r.F._hash(e,t-u))return 0;for(var c=0,d=0,p=Math.min(32767,t);u<=p&&0!=--i&&l!=s;){if(0==c||e[t+c]==e[t+c-u]){var f=r.F._howLong(e,t,u);if(f>c){if(d=u,(c=f)>=o)break;u+2<f&&(f=u+2);for(var h=0,m=0;m<f-2;m++){var g=t-u+m+32768&32767,v=g-n[g]+32768&32767;v>h&&(h=v,l=g)}}}u+=(s=l)-(l=n[s])+32768&32767}return c<<16|d},r.F._howLong=function(e,t,n){if(e[t]!=e[t-n]||e[t+1]!=e[t+1-n]||e[t+2]!=e[t+2-n])return 0;var r=t,a=Math.min(e.length,t+258);for(t+=3;t<a&&e[t]==e[t-n];)t++;return t-r},r.F._hash=function(e,t){return(e[t]<<8|e[t+1])+(e[t+2]<<4)&65535},r.saved=0,r.F._writeBlock=function(e,t,n,a,o,i,s,l,u){var c,d,p,f,h,m,g,v,y,b=r.F.U,_=r.F._putsF,w=r.F._putsE;b.lhst[256]++,d=(c=r.F.getTrees())[0],p=c[1],f=c[2],h=c[3],m=c[4],g=c[5],v=c[6],y=c[7];var k=32+(0==(u+3&7)?0:8-(u+3&7))+(s<<3),x=a+r.F.contSize(b.fltree,b.lhst)+r.F.contSize(b.fdtree,b.dhst),S=a+r.F.contSize(b.ltree,b.lhst)+r.F.contSize(b.dtree,b.dhst);S+=14+3*g+r.F.contSize(b.itree,b.ihst)+(2*b.ihst[16]+3*b.ihst[17]+7*b.ihst[18]);for(var C=0;C<286;C++)b.lhst[C]=0;for(C=0;C<30;C++)b.dhst[C]=0;for(C=0;C<19;C++)b.ihst[C]=0;var E=k<x&&k<S?0:x<S?1:2;if(_(l,u,e),_(l,u+1,E),u+=3,0==E){for(;0!=(7&u);)u++;u=r.F._copyExact(o,i,s,l,u)}else{var I,A;if(1==E&&(I=b.fltree,A=b.fdtree),2==E){r.F.makeCodes(b.ltree,d),r.F.revCodes(b.ltree,d),r.F.makeCodes(b.dtree,p),r.F.revCodes(b.dtree,p),r.F.makeCodes(b.itree,f),r.F.revCodes(b.itree,f),I=b.ltree,A=b.dtree,w(l,u,h-257),w(l,u+=5,m-1),w(l,u+=5,g-4),u+=4;for(var T=0;T<g;T++)w(l,u+3*T,b.itree[1+(b.ordr[T]<<1)]);u+=3*g,u=r.F._codeTiny(v,b.itree,l,u),u=r.F._codeTiny(y,b.itree,l,u)}for(var N=i,P=0;P<n;P+=2){for(var O=t[P],j=O>>>23,z=N+(8388607&O);N<z;)u=r.F._writeLit(o[N++],I,l,u);if(0!=j){var R=t[P+1],M=R>>16,F=R>>8&255,L=255&R;w(l,u=r.F._writeLit(257+F,I,l,u),j-b.of0[F]),u+=b.exb[F],_(l,u=r.F._writeLit(L,A,l,u),M-b.df0[L]),u+=b.dxb[L],N+=j}}u=r.F._writeLit(256,I,l,u)}return u},r.F._copyExact=function(e,t,n,r,a){var o=a>>>3;return r[o]=n,r[o+1]=n>>>8,r[o+2]=255-r[o],r[o+3]=255-r[o+1],o+=4,r.set(new Uint8Array(e.buffer,t,n),o),a+(n+4<<3)},r.F.getTrees=function(){for(var e=r.F.U,t=r.F._hufTree(e.lhst,e.ltree,15),n=r.F._hufTree(e.dhst,e.dtree,15),a=[],o=r.F._lenCodes(e.ltree,a),i=[],s=r.F._lenCodes(e.dtree,i),l=0;l<a.length;l+=2)e.ihst[a[l]]++;for(l=0;l<i.length;l+=2)e.ihst[i[l]]++;for(var u=r.F._hufTree(e.ihst,e.itree,7),c=19;c>4&&0==e.itree[1+(e.ordr[c-1]<<1)];)c--;return[t,n,u,o,s,c,a,i]},r.F.getSecond=function(e){for(var t=[],n=0;n<e.length;n+=2)t.push(e[n+1]);return t},r.F.nonZero=function(e){for(var t="",n=0;n<e.length;n+=2)0!=e[n+1]&&(t+=(n>>1)+",");return t},r.F.contSize=function(e,t){for(var n=0,r=0;r<t.length;r++)n+=t[r]*e[1+(r<<1)];return n},r.F._codeTiny=function(e,t,n,a){for(var o=0;o<e.length;o+=2){var i=e[o],s=e[o+1];a=r.F._writeLit(i,t,n,a);var l=16==i?2:17==i?3:7;i>15&&(r.F._putsE(n,a,s,l),a+=l)}return a},r.F._lenCodes=function(e,t){for(var n=e.length;2!=n&&0==e[n-1];)n-=2;for(var r=0;r<n;r+=2){var a=e[r+1],o=r+3<n?e[r+3]:-1,i=r+5<n?e[r+5]:-1,s=0==r?-1:e[r-1];if(0==a&&o==a&&i==a){for(var l=r+5;l+2<n&&e[l+2]==a;)l+=2;(u=Math.min(l+1-r>>>1,138))<11?t.push(17,u-3):t.push(18,u-11),r+=2*u-2}else if(a==s&&o==a&&i==a){for(l=r+5;l+2<n&&e[l+2]==a;)l+=2;var u=Math.min(l+1-r>>>1,6);t.push(16,u-3),r+=2*u-2}else t.push(a,0)}return n>>>1},r.F._hufTree=function(e,t,n){var a=[],o=e.length,i=t.length,s=0;for(s=0;s<i;s+=2)t[s]=0,t[s+1]=0;for(s=0;s<o;s++)0!=e[s]&&a.push({lit:s,f:e[s]});var l=a.length,u=a.slice(0);if(0==l)return 0;if(1==l){var c=a[0].lit;return u=0==c?1:0,t[1+(c<<1)]=1,t[1+(u<<1)]=1,1}a.sort((function(e,t){return e.f-t.f}));var d=a[0],p=a[1],f=0,h=1,m=2;for(a[0]={lit:-1,f:d.f+p.f,l:d,r:p,d:0};h!=l-1;)d=f!=h&&(m==l||a[f].f<a[m].f)?a[f++]:a[m++],p=f!=h&&(m==l||a[f].f<a[m].f)?a[f++]:a[m++],a[h++]={lit:-1,f:d.f+p.f,l:d,r:p};var g=r.F.setDepth(a[h-1],0);for(g>n&&(r.F.restrictDepth(u,n,g),g=n),s=0;s<l;s++)t[1+(u[s].lit<<1)]=u[s].d;return g},r.F.setDepth=function(e,t){return-1!=e.lit?(e.d=t,t):Math.max(r.F.setDepth(e.l,t+1),r.F.setDepth(e.r,t+1))},r.F.restrictDepth=function(e,t,n){var r=0,a=1<<n-t,o=0;for(e.sort((function(e,t){return t.d==e.d?e.f-t.f:t.d-e.d})),r=0;r<e.length&&e[r].d>t;r++){var i=e[r].d;e[r].d=t,o+=a-(1<<n-i)}for(o>>>=n-t;o>0;)(i=e[r].d)<t?(e[r].d++,o-=1<<t-i-1):r++;for(;r>=0;r--)e[r].d==t&&o<0&&(e[r].d--,o++);0!=o&&console.log("debt left")},r.F._goodIndex=function(e,t){var n=0;return t[16|n]<=e&&(n|=16),t[8|n]<=e&&(n|=8),t[4|n]<=e&&(n|=4),t[2|n]<=e&&(n|=2),t[1|n]<=e&&(n|=1),n},r.F._writeLit=function(e,t,n,a){return r.F._putsF(n,a,t[e<<1]),a+t[1+(e<<1)]},r.F.inflate=function(e,t){var n=Uint8Array;if(3==e[0]&&0==e[1])return t||new n(0);var a=r.F,o=a._bitsF,i=a._bitsE,s=a._decodeTiny,l=a.makeCodes,u=a.codes2map,c=a._get17,d=a.U,p=null==t;p&&(t=new n(e.length>>>2<<3));for(var f,h,m=0,g=0,v=0,y=0,b=0,_=0,w=0,k=0,x=0;0==m;)if(m=o(e,x,1),g=o(e,x+1,2),x+=3,0!=g){if(p&&(t=r.F._check(t,k+(1<<17))),1==g&&(f=d.flmap,h=d.fdmap,_=511,w=31),2==g){v=i(e,x,5)+257,y=i(e,x+5,5)+1,b=i(e,x+10,4)+4,x+=14;for(var S=0;S<38;S+=2)d.itree[S]=0,d.itree[S+1]=0;var C=1;for(S=0;S<b;S++){var E=i(e,x+3*S,3);d.itree[1+(d.ordr[S]<<1)]=E,E>C&&(C=E)}x+=3*b,l(d.itree,C),u(d.itree,C,d.imap),f=d.lmap,h=d.dmap,x=s(d.imap,(1<<C)-1,v+y,e,x,d.ttree);var I=a._copyOut(d.ttree,0,v,d.ltree);_=(1<<I)-1;var A=a._copyOut(d.ttree,v,y,d.dtree);w=(1<<A)-1,l(d.ltree,I),u(d.ltree,I,f),l(d.dtree,A),u(d.dtree,A,h)}for(;;){var T=f[c(e,x)&_];x+=15&T;var N=T>>>4;if(N>>>8==0)t[k++]=N;else{if(256==N)break;var P=k+N-254;if(N>264){var O=d.ldef[N-257];P=k+(O>>>3)+i(e,x,7&O),x+=7&O}var j=h[c(e,x)&w];x+=15&j;var z=j>>>4,R=d.ddef[z],M=(R>>>4)+o(e,x,15&R);for(x+=15&R,p&&(t=r.F._check(t,k+(1<<17)));k<P;)t[k]=t[k++-M],t[k]=t[k++-M],t[k]=t[k++-M],t[k]=t[k++-M];k=P}}}else{0!=(7&x)&&(x+=8-(7&x));var F=4+(x>>>3),L=e[F-4]|e[F-3]<<8;p&&(t=r.F._check(t,k+L)),t.set(new n(e.buffer,e.byteOffset+F,L),k),x=F+L<<3,k+=L}return t.length==k?t:t.slice(0,k)},r.F._check=function(e,t){var n=e.length;if(t<=n)return e;var r=new Uint8Array(Math.max(n<<1,t));return r.set(e,0),r},r.F._decodeTiny=function(e,t,n,a,o,i){for(var s=r.F._bitsE,l=r.F._get17,u=0;u<n;){var c=e[l(a,o)&t];o+=15&c;var d=c>>>4;if(d<=15)i[u]=d,u++;else{var p=0,f=0;16==d?(f=3+s(a,o,2),o+=2,p=i[u-1]):17==d?(f=3+s(a,o,3),o+=3):18==d&&(f=11+s(a,o,7),o+=7);for(var h=u+f;u<h;)i[u]=p,u++}}return o},r.F._copyOut=function(e,t,n,r){for(var a=0,o=0,i=r.length>>>1;o<n;){var s=e[o+t];r[o<<1]=0,r[1+(o<<1)]=s,s>a&&(a=s),o++}for(;o<i;)r[o<<1]=0,r[1+(o<<1)]=0,o++;return a},r.F.makeCodes=function(e,t){for(var n,a,o,i,s=r.F.U,l=e.length,u=s.bl_count,c=0;c<=t;c++)u[c]=0;for(c=1;c<l;c+=2)u[e[c]]++;var d=s.next_code;for(n=0,u[0]=0,a=1;a<=t;a++)n=n+u[a-1]<<1,d[a]=n;for(o=0;o<l;o+=2)0!=(i=e[o+1])&&(e[o]=d[i],d[i]++)},r.F.codes2map=function(e,t,n){for(var a=e.length,o=r.F.U.rev15,i=0;i<a;i+=2)if(0!=e[i+1])for(var s=i>>1,l=e[i+1],u=s<<4|l,c=t-l,d=e[i]<<c,p=d+(1<<c);d!=p;)n[o[d]>>>15-t]=u,d++},r.F.revCodes=function(e,t){for(var n=r.F.U.rev15,a=15-t,o=0;o<e.length;o+=2){var i=e[o]<<t-e[o+1];e[o]=n[i]>>>a}},r.F._putsE=function(e,t,n){n<<=7&t;var r=t>>>3;e[r]|=n,e[r+1]|=n>>>8},r.F._putsF=function(e,t,n){n<<=7&t;var r=t>>>3;e[r]|=n,e[r+1]|=n>>>8,e[r+2]|=n>>>16},r.F._bitsE=function(e,t,n){return(e[t>>>3]|e[1+(t>>>3)]<<8)>>>(7&t)&(1<<n)-1},r.F._bitsF=function(e,t,n){return(e[t>>>3]|e[1+(t>>>3)]<<8|e[2+(t>>>3)]<<16)>>>(7&t)&(1<<n)-1},r.F._get17=function(e,t){return(e[t>>>3]|e[1+(t>>>3)]<<8|e[2+(t>>>3)]<<16)>>>(7&t)},r.F._get25=function(e,t){return(e[t>>>3]|e[1+(t>>>3)]<<8|e[2+(t>>>3)]<<16|e[3+(t>>>3)]<<24)>>>(7&t)},r.F.U=(t=Uint16Array,n=Uint32Array,{next_code:new t(16),bl_count:new t(16),ordr:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],of0:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],exb:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],ldef:new t(32),df0:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],dxb:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],ddef:new n(32),flmap:new t(512),fltree:[],fdmap:new t(32),fdtree:[],lmap:new t(32768),ltree:[],ttree:[],dmap:new t(32768),dtree:[],imap:new t(512),itree:[],rev15:new t(32768),lhst:new n(286),dhst:new n(30),ihst:new n(19),lits:new n(15e3),strt:new t(65536),prev:new t(32768)}),function(){for(var e=r.F.U,t=0;t<32768;t++){var n=t;n=(4278255360&(n=(4042322160&(n=(3435973836&(n=(2863311530&n)>>>1|(1431655765&n)<<1))>>>2|(858993459&n)<<2))>>>4|(252645135&n)<<4))>>>8|(16711935&n)<<8,e.rev15[t]=(n>>>16|n<<16)>>>17}function a(e,t,n){for(;0!=t--;)e.push(0,n)}for(t=0;t<32;t++)e.ldef[t]=e.of0[t]<<3|e.exb[t],e.ddef[t]=e.df0[t]<<4|e.dxb[t];a(e.fltree,144,8),a(e.fltree,112,9),a(e.fltree,24,7),a(e.fltree,8,8),r.F.makeCodes(e.fltree,9),r.F.codes2map(e.fltree,9,e.flmap),r.F.revCodes(e.fltree,9),a(e.fdtree,32,5),r.F.makeCodes(e.fdtree,5),r.F.codes2map(e.fdtree,5,e.fdmap),r.F.revCodes(e.fdtree,5),a(e.itree,19,0),a(e.ltree,286,0),a(e.dtree,30,0),a(e.ttree,320,0)}()}();var tg=function(e,t){return t.forEach((function(t){t&&"string"!=typeof t&&!Array.isArray(t)&&Object.keys(t).forEach((function(n){if("default"!==n&&!(n in e)){var r=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(e,n,r.get?r:{enumerable:!0,get:function(){return t[n]}})}}))})),Object.freeze(e)}({__proto__:null,default:Xm},[Xm]);const ng=function(){var e={nextZero(e,t){for(;0!=e[t];)t++;return t},readUshort:(e,t)=>e[t]<<8|e[t+1],writeUshort(e,t,n){e[t]=n>>8&255,e[t+1]=255&n},readUint:(e,t)=>16777216*e[t]+(e[t+1]<<16|e[t+2]<<8|e[t+3]),writeUint(e,t,n){e[t]=n>>24&255,e[t+1]=n>>16&255,e[t+2]=n>>8&255,e[t+3]=255&n},readASCII(e,t,n){let r="";for(let a=0;a<n;a++)r+=String.fromCharCode(e[t+a]);return r},writeASCII(e,t,n){for(let r=0;r<n.length;r++)e[t+r]=n.charCodeAt(r)},readBytes(e,t,n){const r=[];for(let a=0;a<n;a++)r.push(e[t+a]);return r},pad:e=>e.length<2?"0".concat(e):e,readUTF8(t,n,r){let a,o="";for(let i=0;i<r;i++)o+="%".concat(e.pad(t[n+i].toString(16)));try{a=decodeURIComponent(o)}catch(a){return e.readASCII(t,n,r)}return a}};function t(t,n,r,a){const i=n*r,s=o(a),l=Math.ceil(n*s/8),u=new Uint8Array(4*i),c=new Uint32Array(u.buffer),{ctype:d}=a,{depth:p}=a,f=e.readUshort;if(6==d){const e=i<<2;if(8==p)for(var h=0;h<e;h+=4)u[h]=t[h],u[h+1]=t[h+1],u[h+2]=t[h+2],u[h+3]=t[h+3];if(16==p)for(h=0;h<e;h++)u[h]=t[h<<1]}else if(2==d){const e=a.tabs.tRNS;if(null==e){if(8==p)for(h=0;h<i;h++){var m=3*h;c[h]=255<<24|t[m+2]<<16|t[m+1]<<8|t[m]}if(16==p)for(h=0;h<i;h++)m=6*h,c[h]=255<<24|t[m+4]<<16|t[m+2]<<8|t[m]}else{var g=e[0];const n=e[1],r=e[2];if(8==p)for(h=0;h<i;h++){var v=h<<2;m=3*h,c[h]=255<<24|t[m+2]<<16|t[m+1]<<8|t[m],t[m]==g&&t[m+1]==n&&t[m+2]==r&&(u[v+3]=0)}if(16==p)for(h=0;h<i;h++)v=h<<2,m=6*h,c[h]=255<<24|t[m+4]<<16|t[m+2]<<8|t[m],f(t,m)==g&&f(t,m+2)==n&&f(t,m+4)==r&&(u[v+3]=0)}}else if(3==d){const e=a.tabs.PLTE,o=a.tabs.tRNS,s=o?o.length:0;if(1==p)for(var y=0;y<r;y++){var b=y*l,_=y*n;for(h=0;h<n;h++){v=_+h<<2;var w=3*(k=t[b+(h>>3)]>>7-(7&h)&1);u[v]=e[w],u[v+1]=e[w+1],u[v+2]=e[w+2],u[v+3]=k<s?o[k]:255}}if(2==p)for(y=0;y<r;y++)for(b=y*l,_=y*n,h=0;h<n;h++)v=_+h<<2,w=3*(k=t[b+(h>>2)]>>6-((3&h)<<1)&3),u[v]=e[w],u[v+1]=e[w+1],u[v+2]=e[w+2],u[v+3]=k<s?o[k]:255;if(4==p)for(y=0;y<r;y++)for(b=y*l,_=y*n,h=0;h<n;h++)v=_+h<<2,w=3*(k=t[b+(h>>1)]>>4-((1&h)<<2)&15),u[v]=e[w],u[v+1]=e[w+1],u[v+2]=e[w+2],u[v+3]=k<s?o[k]:255;if(8==p)for(h=0;h<i;h++){var k;v=h<<2,w=3*(k=t[h]),u[v]=e[w],u[v+1]=e[w+1],u[v+2]=e[w+2],u[v+3]=k<s?o[k]:255}}else if(4==d){if(8==p)for(h=0;h<i;h++){v=h<<2;var x=t[S=h<<1];u[v]=x,u[v+1]=x,u[v+2]=x,u[v+3]=t[S+1]}if(16==p)for(h=0;h<i;h++){var S;v=h<<2,x=t[S=h<<2],u[v]=x,u[v+1]=x,u[v+2]=x,u[v+3]=t[S+2]}}else if(0==d)for(g=a.tabs.tRNS?a.tabs.tRNS:-1,y=0;y<r;y++){const e=y*l,r=y*n;if(1==p)for(var C=0;C<n;C++){var E=(x=255*(t[e+(C>>>3)]>>>7-(7&C)&1))==255*g?0:255;c[r+C]=E<<24|x<<16|x<<8|x}else if(2==p)for(C=0;C<n;C++)E=(x=85*(t[e+(C>>>2)]>>>6-((3&C)<<1)&3))==85*g?0:255,c[r+C]=E<<24|x<<16|x<<8|x;else if(4==p)for(C=0;C<n;C++)E=(x=17*(t[e+(C>>>1)]>>>4-((1&C)<<2)&15))==17*g?0:255,c[r+C]=E<<24|x<<16|x<<8|x;else if(8==p)for(C=0;C<n;C++)E=(x=t[e+C])==g?0:255,c[r+C]=E<<24|x<<16|x<<8|x;else if(16==p)for(C=0;C<n;C++)x=t[e+(C<<1)],E=f(t,e+(C<<1))==g?0:255,c[r+C]=E<<24|x<<16|x<<8|x}return u}function n(e,t,n,s){const l=o(e),u=Math.ceil(n*l/8),c=new Uint8Array((u+1+e.interlace)*s);return t=e.tabs.CgBI?a(t,c):r(t,c),0==e.interlace?t=i(t,e,0,n,s):1==e.interlace&&(t=function(e,t){const n=t.width,r=t.height,a=o(t),s=a>>3,l=Math.ceil(n*a/8),u=new Uint8Array(r*l);let c=0;const d=[0,0,4,0,2,0,1],p=[0,4,0,2,0,1,0],f=[8,8,8,4,4,2,2],h=[8,8,4,4,2,2,1];let m=0;for(;m<7;){const o=f[m],v=h[m];let y=0,b=0,_=d[m];for(;_<r;)_+=o,b++;let w=p[m];for(;w<n;)w+=v,y++;const k=Math.ceil(y*a/8);i(e,t,c,y,b);let x=0,S=d[m];for(;S<r;){let t=p[m],r=c+x*k<<3;for(;t<n;){var g;if(1==a&&(g=(g=e[r>>3])>>7-(7&r)&1,u[S*l+(t>>3)]|=g<<7-(7&t)),2==a&&(g=(g=e[r>>3])>>6-(7&r)&3,u[S*l+(t>>2)]|=g<<6-((3&t)<<1)),4==a&&(g=(g=e[r>>3])>>4-(7&r)&15,u[S*l+(t>>1)]|=g<<4-((1&t)<<2)),a>=8){const n=S*l+t*s;for(let t=0;t<s;t++)u[n+t]=e[(r>>3)+t]}r+=a,t+=v}x++,S+=o}y*b!=0&&(c+=b*(1+k)),m+=1}return u}(t,e)),t}function r(e,t){return a(new Uint8Array(e.buffer,2,e.length-6),t)}var a=function(){const e={H:{}};return e.H.N=function(t,n){const r=Uint8Array;let a,o,i=0,s=0,l=0,u=0,c=0,d=0,p=0,f=0,h=0;if(3==t[0]&&0==t[1])return n||new r(0);const m=e.H,g=m.b,v=m.e,y=m.R,b=m.n,_=m.A,w=m.Z,k=m.m,x=null==n;for(x&&(n=new r(t.length>>>2<<5));0==i;)if(i=g(t,h,1),s=g(t,h+1,2),h+=3,0!=s){if(x&&(n=e.H.W(n,f+(1<<17))),1==s&&(a=k.J,o=k.h,d=511,p=31),2==s){l=v(t,h,5)+257,u=v(t,h+5,5)+1,c=v(t,h+10,4)+4,h+=14;let e=1;for(var S=0;S<38;S+=2)k.Q[S]=0,k.Q[S+1]=0;for(S=0;S<c;S++){const n=v(t,h+3*S,3);k.Q[1+(k.X[S]<<1)]=n,n>e&&(e=n)}h+=3*c,b(k.Q,e),_(k.Q,e,k.u),a=k.w,o=k.d,h=y(k.u,(1<<e)-1,l+u,t,h,k.v);const n=m.V(k.v,0,l,k.C);d=(1<<n)-1;const r=m.V(k.v,l,u,k.D);p=(1<<r)-1,b(k.C,n),_(k.C,n,a),b(k.D,r),_(k.D,r,o)}for(;;){const e=a[w(t,h)&d];h+=15&e;const r=e>>>4;if(r>>>8==0)n[f++]=r;else{if(256==r)break;{let e=f+r-254;if(r>264){const n=k.q[r-257];e=f+(n>>>3)+v(t,h,7&n),h+=7&n}const a=o[w(t,h)&p];h+=15&a;const i=a>>>4,s=k.c[i],l=(s>>>4)+g(t,h,15&s);for(h+=15&s;f<e;)n[f]=n[f++-l],n[f]=n[f++-l],n[f]=n[f++-l],n[f]=n[f++-l];f=e}}}}else{0!=(7&h)&&(h+=8-(7&h));const a=4+(h>>>3),o=t[a-4]|t[a-3]<<8;x&&(n=e.H.W(n,f+o)),n.set(new r(t.buffer,t.byteOffset+a,o),f),h=a+o<<3,f+=o}return n.length==f?n:n.slice(0,f)},e.H.W=function(e,t){const n=e.length;if(t<=n)return e;const r=new Uint8Array(n<<1);return r.set(e,0),r},e.H.R=function(t,n,r,a,o,i){const s=e.H.e,l=e.H.Z;let u=0;for(;u<r;){const e=t[l(a,o)&n];o+=15&e;const r=e>>>4;if(r<=15)i[u]=r,u++;else{let e=0,t=0;16==r?(t=3+s(a,o,2),o+=2,e=i[u-1]):17==r?(t=3+s(a,o,3),o+=3):18==r&&(t=11+s(a,o,7),o+=7);const n=u+t;for(;u<n;)i[u]=e,u++}}return o},e.H.V=function(e,t,n,r){let a=0,o=0;const i=r.length>>>1;for(;o<n;){const n=e[o+t];r[o<<1]=0,r[1+(o<<1)]=n,n>a&&(a=n),o++}for(;o<i;)r[o<<1]=0,r[1+(o<<1)]=0,o++;return a},e.H.n=function(t,n){const r=e.H.m,a=t.length;let o,i,s,l;const u=r.j;for(var c=0;c<=n;c++)u[c]=0;for(c=1;c<a;c+=2)u[t[c]]++;const d=r.K;for(o=0,u[0]=0,i=1;i<=n;i++)o=o+u[i-1]<<1,d[i]=o;for(s=0;s<a;s+=2)l=t[s+1],0!=l&&(t[s]=d[l],d[l]++)},e.H.A=function(t,n,r){const a=t.length,o=e.H.m.r;for(let e=0;e<a;e+=2)if(0!=t[e+1]){const a=e>>1,i=t[e+1],s=a<<4|i,l=n-i;let u=t[e]<<l;const c=u+(1<<l);for(;u!=c;)r[o[u]>>>15-n]=s,u++}},e.H.l=function(t,n){const r=e.H.m.r,a=15-n;for(let e=0;e<t.length;e+=2){const o=t[e]<<n-t[e+1];t[e]=r[o]>>>a}},e.H.M=function(e,t,n){n<<=7&t;const r=t>>>3;e[r]|=n,e[r+1]|=n>>>8},e.H.I=function(e,t,n){n<<=7&t;const r=t>>>3;e[r]|=n,e[r+1]|=n>>>8,e[r+2]|=n>>>16},e.H.e=function(e,t,n){return(e[t>>>3]|e[1+(t>>>3)]<<8)>>>(7&t)&(1<<n)-1},e.H.b=function(e,t,n){return(e[t>>>3]|e[1+(t>>>3)]<<8|e[2+(t>>>3)]<<16)>>>(7&t)&(1<<n)-1},e.H.Z=function(e,t){return(e[t>>>3]|e[1+(t>>>3)]<<8|e[2+(t>>>3)]<<16)>>>(7&t)},e.H.i=function(e,t){return(e[t>>>3]|e[1+(t>>>3)]<<8|e[2+(t>>>3)]<<16|e[3+(t>>>3)]<<24)>>>(7&t)},e.H.m=function(){const e=Uint16Array,t=Uint32Array;return{K:new e(16),j:new e(16),X:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],S:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],T:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],q:new e(32),p:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],z:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],c:new t(32),J:new e(512),_:[],h:new e(32),$:[],w:new e(32768),C:[],v:[],d:new e(32768),D:[],u:new e(512),Q:[],r:new e(32768),s:new t(286),Y:new t(30),a:new t(19),t:new t(15e3),k:new e(65536),g:new e(32768)}}(),function(){const t=e.H.m;for(var n=0;n<32768;n++){let e=n;e=(2863311530&e)>>>1|(1431655765&e)<<1,e=(3435973836&e)>>>2|(858993459&e)<<2,e=(4042322160&e)>>>4|(252645135&e)<<4,e=(4278255360&e)>>>8|(16711935&e)<<8,t.r[n]=(e>>>16|e<<16)>>>17}function r(e,t,n){for(;0!=t--;)e.push(0,n)}for(n=0;n<32;n++)t.q[n]=t.S[n]<<3|t.T[n],t.c[n]=t.p[n]<<4|t.z[n];r(t._,144,8),r(t._,112,9),r(t._,24,7),r(t._,8,8),e.H.n(t._,9),e.H.A(t._,9,t.J),e.H.l(t._,9),r(t.$,32,5),e.H.n(t.$,5),e.H.A(t.$,5,t.h),e.H.l(t.$,5),r(t.Q,19,0),r(t.C,286,0),r(t.D,30,0),r(t.v,320,0)}(),e.H.N}();function o(e){return[1,null,3,1,2,null,4][e.ctype]*e.depth}function i(e,t,n,r,a){let i=o(t);const l=Math.ceil(r*i/8);let u,c;i=Math.ceil(i/8);let d=e[n],p=0;if(d>1&&(e[n]=[0,0,1][d-2]),3==d)for(p=i;p<l;p++)e[p+1]=e[p+1]+(e[p+1-i]>>>1)&255;for(let o=0;o<a;o++)if(u=n+o*l,c=u+o+1,d=e[c-1],p=0,0==d)for(;p<l;p++)e[u+p]=e[c+p];else if(1==d){for(;p<i;p++)e[u+p]=e[c+p];for(;p<l;p++)e[u+p]=e[c+p]+e[u+p-i]}else if(2==d)for(;p<l;p++)e[u+p]=e[c+p]+e[u+p-l];else if(3==d){for(;p<i;p++)e[u+p]=e[c+p]+(e[u+p-l]>>>1);for(;p<l;p++)e[u+p]=e[c+p]+(e[u+p-l]+e[u+p-i]>>>1)}else{for(;p<i;p++)e[u+p]=e[c+p]+s(0,e[u+p-l],0);for(;p<l;p++)e[u+p]=e[c+p]+s(e[u+p-i],e[u+p-l],e[u+p-i-l])}return e}function s(e,t,n){const r=e+t-n,a=r-e,o=r-t,i=r-n;return a*a<=o*o&&a*a<=i*i?e:o*o<=i*i?t:n}function l(t,n,r){r.width=e.readUint(t,n),n+=4,r.height=e.readUint(t,n),n+=4,r.depth=t[n],n++,r.ctype=t[n],n++,r.compress=t[n],n++,r.filter=t[n],n++,r.interlace=t[n],n++}function u(e,t,n,r,a,o,i,s,l){const u=Math.min(t,a),c=Math.min(n,o);let d=0,p=0;for(let w=0;w<c;w++)for(let n=0;n<u;n++)if(i>=0&&s>=0?(d=w*t+n<<2,p=(s+w)*a+i+n<<2):(d=(-s+w)*t-i+n<<2,p=w*a+n<<2),0==l)r[p]=e[d],r[p+1]=e[d+1],r[p+2]=e[d+2],r[p+3]=e[d+3];else if(1==l){var f=e[d+3]*(1/255),h=e[d]*f,m=e[d+1]*f,g=e[d+2]*f,v=r[p+3]*(1/255),y=r[p]*v,b=r[p+1]*v,_=r[p+2]*v;const t=1-f,n=f+v*t,a=0==n?0:1/n;r[p+3]=255*n,r[p+0]=(h+y*t)*a,r[p+1]=(m+b*t)*a,r[p+2]=(g+_*t)*a}else if(2==l)f=e[d+3],h=e[d],m=e[d+1],g=e[d+2],v=r[p+3],y=r[p],b=r[p+1],_=r[p+2],f==v&&h==y&&m==b&&g==_?(r[p]=0,r[p+1]=0,r[p+2]=0,r[p+3]=0):(r[p]=h,r[p+1]=m,r[p+2]=g,r[p+3]=f);else if(3==l){if(f=e[d+3],h=e[d],m=e[d+1],g=e[d+2],v=r[p+3],y=r[p],b=r[p+1],_=r[p+2],f==v&&h==y&&m==b&&g==_)continue;if(f<220&&v>20)return!1}return!0}return{decode:function(t){const o=new Uint8Array(t);let i=8;const s=e,u=s.readUshort,c=s.readUint,d={tabs:{},frames:[]},p=new Uint8Array(o.length);let f,h=0,m=0;const g=[137,80,78,71,13,10,26,10];for(var v=0;v<8;v++)if(o[v]!=g[v])throw"The input is not a PNG file!";for(;i<o.length;){const t=s.readUint(o,i);i+=4;const g=s.readASCII(o,i,4);if(i+=4,"IHDR"==g)l(o,i,d);else if("iCCP"==g){for(var y=i;0!=o[y];)y++;s.readASCII(o,i,y-i),o[y+1];const n=o.slice(y+2,i+t);let l=null;try{l=r(n)}catch(e){l=a(n)}d.tabs[g]=l}else if("CgBI"==g)d.tabs[g]=o.slice(i,i+4);else if("IDAT"==g){for(v=0;v<t;v++)p[h+v]=o[i+v];h+=t}else if("acTL"==g)d.tabs[g]={num_frames:c(o,i),num_plays:c(o,i+4)},f=new Uint8Array(o.length);else if("fcTL"==g){0!=m&&((S=d.frames[d.frames.length-1]).data=n(d,f.slice(0,m),S.rect.width,S.rect.height),m=0);const e={x:c(o,i+12),y:c(o,i+16),width:c(o,i+4),height:c(o,i+8)};let t=u(o,i+22);t=u(o,i+20)/(0==t?100:t);const r={rect:e,delay:Math.round(1e3*t),dispose:o[i+24],blend:o[i+25]};d.frames.push(r)}else if("fdAT"==g){for(v=0;v<t-4;v++)f[m+v]=o[i+v+4];m+=t-4}else if("pHYs"==g)d.tabs[g]=[s.readUint(o,i),s.readUint(o,i+4),o[i+8]];else if("cHRM"==g)for(d.tabs[g]=[],v=0;v<8;v++)d.tabs[g].push(s.readUint(o,i+4*v));else if("tEXt"==g||"zTXt"==g){null==d.tabs[g]&&(d.tabs[g]={});var b=s.nextZero(o,i),_=s.readASCII(o,i,b-i),w=i+t-b-1;if("tEXt"==g)x=s.readASCII(o,b+1,w);else{var k=r(o.slice(b+2,b+2+w));x=s.readUTF8(k,0,k.length)}d.tabs[g][_]=x}else if("iTXt"==g){null==d.tabs[g]&&(d.tabs[g]={}),b=0,y=i,b=s.nextZero(o,y),_=s.readASCII(o,y,b-y);const e=o[y=b+1];var x;o[y+1],y+=2,b=s.nextZero(o,y),s.readASCII(o,y,b-y),y=b+1,b=s.nextZero(o,y),s.readUTF8(o,y,b-y),w=t-((y=b+1)-i),0==e?x=s.readUTF8(o,y,w):(k=r(o.slice(y,y+w)),x=s.readUTF8(k,0,k.length)),d.tabs[g][_]=x}else if("PLTE"==g)d.tabs[g]=s.readBytes(o,i,t);else if("hIST"==g){const e=d.tabs.PLTE.length/3;for(d.tabs[g]=[],v=0;v<e;v++)d.tabs[g].push(u(o,i+2*v))}else if("tRNS"==g)3==d.ctype?d.tabs[g]=s.readBytes(o,i,t):0==d.ctype?d.tabs[g]=u(o,i):2==d.ctype&&(d.tabs[g]=[u(o,i),u(o,i+2),u(o,i+4)]);else if("gAMA"==g)d.tabs[g]=s.readUint(o,i)/1e5;else if("sRGB"==g)d.tabs[g]=o[i];else if("bKGD"==g)0==d.ctype||4==d.ctype?d.tabs[g]=[u(o,i)]:2==d.ctype||6==d.ctype?d.tabs[g]=[u(o,i),u(o,i+2),u(o,i+4)]:3==d.ctype&&(d.tabs[g]=o[i]);else if("IEND"==g)break;i+=t,s.readUint(o,i),i+=4}var S;return 0!=m&&((S=d.frames[d.frames.length-1]).data=n(d,f.slice(0,m),S.rect.width,S.rect.height)),d.data=n(d,p,d.width,d.height),delete d.compress,delete d.interlace,delete d.filter,d},toRGBA8:function(e){const n=e.width,r=e.height;if(null==e.tabs.acTL)return[t(e.data,n,r,e).buffer];const a=[];null==e.frames[0].data&&(e.frames[0].data=e.data);const o=n*r*4,i=new Uint8Array(o),s=new Uint8Array(o),l=new Uint8Array(o);for(let d=0;d<e.frames.length;d++){const p=e.frames[d],f=p.rect.x,h=p.rect.y,m=p.rect.width,g=p.rect.height,v=t(p.data,m,g,e);if(0!=d)for(var c=0;c<o;c++)l[c]=i[c];if(0==p.blend?u(v,m,g,i,n,r,f,h,0):1==p.blend&&u(v,m,g,i,n,r,f,h,1),a.push(i.buffer.slice(0)),0==p.dispose);else if(1==p.dispose)u(s,m,g,i,n,r,f,h,0);else if(2==p.dispose)for(c=0;c<o;c++)i[c]=l[c]}return a},_paeth:s,_copyTile:u,_bin:e}}();!function(){const{_copyTile:e}=ng,{_bin:t}=ng,n=ng._paeth;var r={table:function(){const e=new Uint32Array(256);for(let t=0;t<256;t++){let n=t;for(let e=0;e<8;e++)1&n?n=3988292384^n>>>1:n>>>=1;e[t]=n}return e}(),update(e,t,n,a){for(let o=0;o<a;o++)e=r.table[255&(e^t[n+o])]^e>>>8;return e},crc:(e,t,n)=>4294967295^r.update(4294967295,e,t,n)};function a(e,t,n,r){t[n]+=e[0]*r>>4,t[n+1]+=e[1]*r>>4,t[n+2]+=e[2]*r>>4,t[n+3]+=e[3]*r>>4}function o(e){return Math.max(0,Math.min(255,e))}function i(e,t){const n=e[0]-t[0],r=e[1]-t[1],a=e[2]-t[2],o=e[3]-t[3];return n*n+r*r+a*a+o*o}function s(e,t,n,r,s,l,u){null==u&&(u=1);const c=r.length,d=[];for(var p=0;p<c;p++){const e=r[p];d.push([e>>>0&255,e>>>8&255,e>>>16&255,e>>>24&255])}for(p=0;p<c;p++){let e=4294967295;for(var f=0,h=0;h<c;h++){var m=i(d[p],d[h]);h!=p&&m<e&&(e=m,f=h)}}const g=new Uint32Array(s.buffer),v=new Int16Array(t*n*4),y=[0,8,2,10,12,4,14,6,3,11,1,9,15,7,13,5];for(p=0;p<y.length;p++)y[p]=255*((y[p]+.5)/16-.5);for(let _=0;_<n;_++)for(let s=0;s<t;s++){var b;p=4*(_*t+s),2!=u?b=[o(e[p]+v[p]),o(e[p+1]+v[p+1]),o(e[p+2]+v[p+2]),o(e[p+3]+v[p+3])]:(m=y[4*(3&_)+(3&s)],b=[o(e[p]+m),o(e[p+1]+m),o(e[p+2]+m),o(e[p+3]+m)]),f=0;let w=16777215;for(h=0;h<c;h++){const e=i(b,d[h]);e<w&&(w=e,f=h)}const k=d[f],x=[b[0]-k[0],b[1]-k[1],b[2]-k[2],b[3]-k[3]];1==u&&(s!=t-1&&a(x,v,p+4,7),_!=n-1&&(0!=s&&a(x,v,p+4*t-4,3),a(x,v,p+4*t,5),s!=t-1&&a(x,v,p+4*t+4,1))),l[p>>2]=f,g[p>>2]=r[f]}}function l(e,n,a,o,i){null==i&&(i={});const{crc:s}=r,l=t.writeUint,u=t.writeUshort,c=t.writeASCII;let d=8;const p=e.frames.length>1;let f,h=!1,m=33+(p?20:0);if(null!=i.sRGB&&(m+=13),null!=i.pHYs&&(m+=21),null!=i.iCCP&&(f=pako.deflate(i.iCCP),m+=21+f.length+4),3==e.ctype){for(var g=e.plte.length,v=0;v<g;v++)e.plte[v]>>>24!=255&&(h=!0);m+=8+3*g+4+(h?8+1*g+4:0)}for(var y=0;y<e.frames.length;y++)p&&(m+=38),m+=(k=e.frames[y]).cimg.length+12,0!=y&&(m+=4);m+=12;const b=new Uint8Array(m),_=[137,80,78,71,13,10,26,10];for(v=0;v<8;v++)b[v]=_[v];if(l(b,d,13),d+=4,c(b,d,"IHDR"),d+=4,l(b,d,n),d+=4,l(b,d,a),d+=4,b[d]=e.depth,d++,b[d]=e.ctype,d++,b[d]=0,d++,b[d]=0,d++,b[d]=0,d++,l(b,d,s(b,d-17,17)),d+=4,null!=i.sRGB&&(l(b,d,1),d+=4,c(b,d,"sRGB"),d+=4,b[d]=i.sRGB,d++,l(b,d,s(b,d-5,5)),d+=4),null!=i.iCCP){const e=13+f.length;l(b,d,e),d+=4,c(b,d,"iCCP"),d+=4,c(b,d,"ICC profile"),d+=11,d+=2,b.set(f,d),d+=f.length,l(b,d,s(b,d-(e+4),e+4)),d+=4}if(null!=i.pHYs&&(l(b,d,9),d+=4,c(b,d,"pHYs"),d+=4,l(b,d,i.pHYs[0]),d+=4,l(b,d,i.pHYs[1]),d+=4,b[d]=i.pHYs[2],d++,l(b,d,s(b,d-13,13)),d+=4),p&&(l(b,d,8),d+=4,c(b,d,"acTL"),d+=4,l(b,d,e.frames.length),d+=4,l(b,d,null!=i.loop?i.loop:0),d+=4,l(b,d,s(b,d-12,12)),d+=4),3==e.ctype){for(l(b,d,3*(g=e.plte.length)),d+=4,c(b,d,"PLTE"),d+=4,v=0;v<g;v++){const t=3*v,n=e.plte[v],r=255&n,a=n>>>8&255,o=n>>>16&255;b[d+t+0]=r,b[d+t+1]=a,b[d+t+2]=o}if(d+=3*g,l(b,d,s(b,d-3*g-4,3*g+4)),d+=4,h){for(l(b,d,g),d+=4,c(b,d,"tRNS"),d+=4,v=0;v<g;v++)b[d+v]=e.plte[v]>>>24&255;d+=g,l(b,d,s(b,d-g-4,g+4)),d+=4}}let w=0;for(y=0;y<e.frames.length;y++){var k=e.frames[y];p&&(l(b,d,26),d+=4,c(b,d,"fcTL"),d+=4,l(b,d,w++),d+=4,l(b,d,k.rect.width),d+=4,l(b,d,k.rect.height),d+=4,l(b,d,k.rect.x),d+=4,l(b,d,k.rect.y),d+=4,u(b,d,o[y]),d+=2,u(b,d,1e3),d+=2,b[d]=k.dispose,d++,b[d]=k.blend,d++,l(b,d,s(b,d-30,30)),d+=4);const t=k.cimg;l(b,d,(g=t.length)+(0==y?0:4)),d+=4;const n=d;c(b,d,0==y?"IDAT":"fdAT"),d+=4,0!=y&&(l(b,d,w++),d+=4),b.set(t,d),d+=g,l(b,d,s(b,n,d-n)),d+=4}return l(b,d,0),d+=4,c(b,d,"IEND"),d+=4,l(b,d,s(b,d-4,4)),d+=4,b.buffer}function u(e,t,n){for(let r=0;r<e.frames.length;r++){const a=e.frames[r];a.rect.width;const o=a.rect.height,i=new Uint8Array(o*a.bpl+o);a.cimg=f(a.img,o,a.bpp,a.bpl,i,t,n)}}function c(t,n,r,a,o){const i=o[0],l=o[1],u=o[2],c=o[3],f=o[4],h=o[5];let g=6,v=8,y=255;for(var b=0;b<t.length;b++){const e=new Uint8Array(t[b]);for(var _=e.length,w=0;w<_;w+=4)y&=e[w+3]}const k=255!=y,x=function(t,n,r,a,o,i){const s=[];for(var l=0;l<t.length;l++){const d=new Uint8Array(t[l]),f=new Uint32Array(d.buffer);var u;let m=0,g=0,v=n,y=r,b=a?1:0;if(0!=l){const _=i||a||1==l||0!=s[l-2].dispose?1:2;let w=0,k=1e9;for(let e=0;e<_;e++){var c=new Uint8Array(t[l-1-e]);const a=new Uint32Array(t[l-1-e]);let i=n,s=r,u=-1,d=-1;for(let e=0;e<r;e++)for(let t=0;t<n;t++)f[h=e*n+t]!=a[h]&&(t<i&&(i=t),t>u&&(u=t),e<s&&(s=e),e>d&&(d=e));-1==u&&(i=s=u=d=0),o&&(1==(1&i)&&i--,1==(1&s)&&s--);const p=(u-i+1)*(d-s+1);p<k&&(k=p,w=e,m=i,g=s,v=u-i+1,y=d-s+1)}c=new Uint8Array(t[l-1-w]),1==w&&(s[l-1].dispose=2),u=new Uint8Array(v*y*4),e(c,n,r,u,v,y,-m,-g,0),b=e(d,n,r,u,v,y,-m,-g,3)?1:0,1==b?p(d,n,r,u,{x:m,y:g,width:v,height:y}):e(d,n,r,u,v,y,-m,-g,0)}else u=d.slice(0);s.push({rect:{x:m,y:g,width:v,height:y},img:u,blend:b,dispose:0})}if(a)for(l=0;l<s.length;l++){if(1==(m=s[l]).blend)continue;const e=m.rect,a=s[l-1].rect,i=Math.min(e.x,a.x),u=Math.min(e.y,a.y),c={x:i,y:u,width:Math.max(e.x+e.width,a.x+a.width)-i,height:Math.max(e.y+e.height,a.y+a.height)-u};s[l-1].dispose=1,l-1!=0&&d(t,n,r,s,l-1,c,o),d(t,n,r,s,l,c,o)}let f=0;if(1!=t.length)for(var h=0;h<s.length;h++){var m;f+=(m=s[h]).rect.width*m.rect.height}return s}(t,n,r,i,l,u),S={},C=[],E=[];if(0!=a){const e=[];for(w=0;w<x.length;w++)e.push(x[w].img.buffer);const t=function(e){let t=0;for(var n=0;n<e.length;n++)t+=e[n].byteLength;const r=new Uint8Array(t);let a=0;for(n=0;n<e.length;n++){const t=new Uint8Array(e[n]),o=t.length;for(let e=0;e<o;e+=4){let n=t[e],o=t[e+1],i=t[e+2];const s=t[e+3];0==s&&(n=o=i=0),r[a+e]=n,r[a+e+1]=o,r[a+e+2]=i,r[a+e+3]=s}a+=o}return r.buffer}(e),n=m(t,a);for(w=0;w<n.plte.length;w++)C.push(n.plte[w].est.rgba);let r=0;for(w=0;w<x.length;w++){const e=(A=x[w]).img.length;var I=new Uint8Array(n.inds.buffer,r>>2,e>>2);E.push(I);const t=new Uint8Array(n.abuf,r,e);h&&s(A.img,A.rect.width,A.rect.height,C,t,I),A.img.set(t),r+=e}}else for(b=0;b<x.length;b++){var A=x[b];const e=new Uint32Array(A.img.buffer);var T=A.rect.width;for(_=e.length,I=new Uint8Array(_),E.push(I),w=0;w<_;w++){const t=e[w];if(0!=w&&t==e[w-1])I[w]=I[w-1];else if(w>T&&t==e[w-T])I[w]=I[w-T];else{let e=S[t];if(null==e&&(S[t]=e=C.length,C.push(t),C.length>=300))break;I[w]=e}}}const N=C.length;for(N<=256&&0==f&&(v=N<=2?1:N<=4?2:N<=16?4:8,v=Math.max(v,c)),b=0;b<x.length;b++){(A=x[b]).rect.x,A.rect.y,T=A.rect.width;const e=A.rect.height;let t=A.img;new Uint32Array(t.buffer);let n=4*T,r=4;if(N<=256&&0==f){n=Math.ceil(v*T/8);var P=new Uint8Array(n*e);const a=E[b];for(let t=0;t<e;t++){w=t*n;const e=t*T;if(8==v)for(var O=0;O<T;O++)P[w+O]=a[e+O];else if(4==v)for(O=0;O<T;O++)P[w+(O>>1)]|=a[e+O]<<4-4*(1&O);else if(2==v)for(O=0;O<T;O++)P[w+(O>>2)]|=a[e+O]<<6-2*(3&O);else if(1==v)for(O=0;O<T;O++)P[w+(O>>3)]|=a[e+O]<<7-1*(7&O)}t=P,g=3,r=1}else if(0==k&&1==x.length){P=new Uint8Array(T*e*3);const a=T*e;for(w=0;w<a;w++){const e=3*w,n=4*w;P[e]=t[n],P[e+1]=t[n+1],P[e+2]=t[n+2]}t=P,g=2,r=3,n=3*T}A.img=t,A.bpl=n,A.bpp=r}return{ctype:g,depth:v,plte:C,frames:x}}function d(t,n,r,a,o,i,s){const l=Uint8Array,u=Uint32Array,c=new l(t[o-1]),d=new u(t[o-1]),f=o+1<t.length?new l(t[o+1]):null,h=new l(t[o]),m=new u(h.buffer);let g=n,v=r,y=-1,b=-1;for(let e=0;e<i.height;e++)for(let t=0;t<i.width;t++){const r=i.x+t,s=i.y+e,l=s*n+r,u=m[l];0==u||0==a[o-1].dispose&&d[l]==u&&(null==f||0!=f[4*l+3])||(r<g&&(g=r),r>y&&(y=r),s<v&&(v=s),s>b&&(b=s))}-1==y&&(g=v=y=b=0),s&&(1==(1&g)&&g--,1==(1&v)&&v--),i={x:g,y:v,width:y-g+1,height:b-v+1};const _=a[o];_.rect=i,_.blend=1,_.img=new Uint8Array(i.width*i.height*4),0==a[o-1].dispose?(e(c,n,r,_.img,i.width,i.height,-i.x,-i.y,0),p(h,n,r,_.img,i)):e(h,n,r,_.img,i.width,i.height,-i.x,-i.y,0)}function p(t,n,r,a,o){e(t,n,r,a,o.width,o.height,-o.x,-o.y,2)}function f(e,t,n,r,a,o,i){const s=[];let l,u=[0,1,2,3,4];-1!=o?u=[o]:(t*r>5e5||1==n)&&(u=[0]),i&&(l={level:0});const c=tg;for(var d=0;d<u.length;d++){for(let o=0;o<t;o++)h(a,e,o,r,n,u[d]);s.push(c.deflate(a,l))}let p,f=1e9;for(d=0;d<s.length;d++)s[d].length<f&&(p=d,f=s[d].length);return s[p]}function h(e,t,r,a,o,i){const s=r*a;let l=s+r;if(e[l]=i,l++,0==i)if(a<500)for(var u=0;u<a;u++)e[l+u]=t[s+u];else e.set(new Uint8Array(t.buffer,s,a),l);else if(1==i){for(u=0;u<o;u++)e[l+u]=t[s+u];for(u=o;u<a;u++)e[l+u]=t[s+u]-t[s+u-o]+256&255}else if(0==r){for(u=0;u<o;u++)e[l+u]=t[s+u];if(2==i)for(u=o;u<a;u++)e[l+u]=t[s+u];if(3==i)for(u=o;u<a;u++)e[l+u]=t[s+u]-(t[s+u-o]>>1)+256&255;if(4==i)for(u=o;u<a;u++)e[l+u]=t[s+u]-n(t[s+u-o],0,0)+256&255}else{if(2==i)for(u=0;u<a;u++)e[l+u]=t[s+u]+256-t[s+u-a]&255;if(3==i){for(u=0;u<o;u++)e[l+u]=t[s+u]+256-(t[s+u-a]>>1)&255;for(u=o;u<a;u++)e[l+u]=t[s+u]+256-(t[s+u-a]+t[s+u-o]>>1)&255}if(4==i){for(u=0;u<o;u++)e[l+u]=t[s+u]+256-n(0,t[s+u-a],0)&255;for(u=o;u<a;u++)e[l+u]=t[s+u]+256-n(t[s+u-o],t[s+u-a],t[s+u-o-a])&255}}}function m(e,t){const n=new Uint8Array(e),r=n.slice(0),a=new Uint32Array(r.buffer),o=g(r,t),i=o[0],s=o[1],l=n.length,u=new Uint8Array(l>>2);let c;if(n.length<2e7)for(var d=0;d<l;d+=4)c=v(i,p=n[d]*(1/255),f=n[d+1]*(1/255),h=n[d+2]*(1/255),m=n[d+3]*(1/255)),u[d>>2]=c.ind,a[d>>2]=c.est.rgba;else for(d=0;d<l;d+=4){var p=n[d]*(1/255),f=n[d+1]*(1/255),h=n[d+2]*(1/255),m=n[d+3]*(1/255);for(c=i;c.left;)c=y(c.est,p,f,h,m)<=0?c.left:c.right;u[d>>2]=c.ind,a[d>>2]=c.est.rgba}return{abuf:r.buffer,inds:u,plte:s}}function g(e,t,n){null==n&&(n=1e-4);const r=new Uint32Array(e.buffer),a={i0:0,i1:e.length,bst:null,est:null,tdst:0,left:null,right:null};a.bst=w(e,a.i0,a.i1),a.est=k(a.bst);const o=[a];for(;o.length<t;){let t=0,a=0;for(var i=0;i<o.length;i++)o[i].est.L>t&&(t=o[i].est.L,a=i);if(t<n)break;const s=o[a],l=b(e,r,s.i0,s.i1,s.est.e,s.est.eMq255);if(s.i0>=l||s.i1<=l){s.est.L=0;continue}const u={i0:s.i0,i1:l,bst:null,est:null,tdst:0,left:null,right:null};u.bst=w(e,u.i0,u.i1),u.est=k(u.bst);const c={i0:l,i1:s.i1,bst:null,est:null,tdst:0,left:null,right:null};for(c.bst={R:[],m:[],N:s.bst.N-u.bst.N},i=0;i<16;i++)c.bst.R[i]=s.bst.R[i]-u.bst.R[i];for(i=0;i<4;i++)c.bst.m[i]=s.bst.m[i]-u.bst.m[i];c.est=k(c.bst),s.left=u,s.right=c,o[a]=u,o.push(c)}for(o.sort(((e,t)=>t.bst.N-e.bst.N)),i=0;i<o.length;i++)o[i].ind=i;return[a,o]}function v(e,t,n,r,a){if(null==e.left)return e.tdst=function(e,t,n,r,a){const o=t-e[0],i=n-e[1],s=r-e[2],l=a-e[3];return o*o+i*i+s*s+l*l}(e.est.q,t,n,r,a),e;const o=y(e.est,t,n,r,a);let i=e.left,s=e.right;o>0&&(i=e.right,s=e.left);const l=v(i,t,n,r,a);if(l.tdst<=o*o)return l;const u=v(s,t,n,r,a);return u.tdst<l.tdst?u:l}function y(e,t,n,r,a){const{e:o}=e;return o[0]*t+o[1]*n+o[2]*r+o[3]*a-e.eMq}function b(e,t,n,r,a,o){for(r-=4;n<r;){for(;_(e,n,a)<=o;)n+=4;for(;_(e,r,a)>o;)r-=4;if(n>=r)break;const i=t[n>>2];t[n>>2]=t[r>>2],t[r>>2]=i,n+=4,r-=4}for(;_(e,n,a)>o;)n-=4;return n+4}function _(e,t,n){return e[t]*n[0]+e[t+1]*n[1]+e[t+2]*n[2]+e[t+3]*n[3]}function w(e,t,n){const r=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],a=[0,0,0,0],o=n-t>>2;for(let i=t;i<n;i+=4){const t=e[i]*(1/255),n=e[i+1]*(1/255),o=e[i+2]*(1/255),s=e[i+3]*(1/255);a[0]+=t,a[1]+=n,a[2]+=o,a[3]+=s,r[0]+=t*t,r[1]+=t*n,r[2]+=t*o,r[3]+=t*s,r[5]+=n*n,r[6]+=n*o,r[7]+=n*s,r[10]+=o*o,r[11]+=o*s,r[15]+=s*s}return r[4]=r[1],r[8]=r[2],r[9]=r[6],r[12]=r[3],r[13]=r[7],r[14]=r[11],{R:r,m:a,N:o}}function k(e){const{R:t}=e,{m:n}=e,{N:r}=e,a=n[0],o=n[1],i=n[2],s=n[3],l=0==r?0:1/r,u=[t[0]-a*a*l,t[1]-a*o*l,t[2]-a*i*l,t[3]-a*s*l,t[4]-o*a*l,t[5]-o*o*l,t[6]-o*i*l,t[7]-o*s*l,t[8]-i*a*l,t[9]-i*o*l,t[10]-i*i*l,t[11]-i*s*l,t[12]-s*a*l,t[13]-s*o*l,t[14]-s*i*l,t[15]-s*s*l],c=u,d=x;let p=[Math.random(),Math.random(),Math.random(),Math.random()],f=0,h=0;if(0!=r)for(let g=0;g<16&&(p=d.multVec(c,p),h=Math.sqrt(d.dot(p,p)),p=d.sml(1/h,p),!(0!=g&&Math.abs(h-f)<1e-9));g++)f=h;const m=[a*l,o*l,i*l,s*l];return{Cov:u,q:m,e:p,L:f,eMq255:d.dot(d.sml(255,m),p),eMq:d.dot(p,m),rgba:(Math.round(255*m[3])<<24|Math.round(255*m[2])<<16|Math.round(255*m[1])<<8|Math.round(255*m[0]))>>>0}}var x={multVec:(e,t)=>[e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+e[3]*t[3],e[4]*t[0]+e[5]*t[1]+e[6]*t[2]+e[7]*t[3],e[8]*t[0]+e[9]*t[1]+e[10]*t[2]+e[11]*t[3],e[12]*t[0]+e[13]*t[1]+e[14]*t[2]+e[15]*t[3]],dot:(e,t)=>e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+e[3]*t[3],sml:(e,t)=>[e*t[0],e*t[1],e*t[2],e*t[3]]};ng.encode=function(e,t,n,r,a,o,i){null==r&&(r=0),null==i&&(i=!1);const s=c(e,t,n,r,[!1,!1,!1,0,i,!1]);return u(s,-1),l(s,t,n,a,o)},ng.encodeLL=function(e,t,n,r,a,o,i,s){const c={ctype:0+(1==r?0:2)+(0==a?0:4),depth:o,frames:[]},d=(r+a)*o,p=d*t;for(let l=0;l<e.length;l++)c.frames.push({rect:{x:0,y:0,width:t,height:n},img:new Uint8Array(e[l]),blend:0,dispose:1,bpp:Math.ceil(d/8),bpl:Math.ceil(p/8)});return u(c,0,!0),l(c,t,n,i,s)},ng.encode.compress=c,ng.encode.dither=s,ng.quantize=m,ng.quantize.getKDtree=g,ng.quantize.getNearest=v}();const rg={toArrayBuffer(e,t){const n=e.width,r=e.height,a=n<<2,o=e.getContext("2d").getImageData(0,0,n,r),i=new Uint32Array(o.data.buffer),s=(32*n+31)/32<<2,l=s*r,u=122+l,c=new ArrayBuffer(u),d=new DataView(c),p=1<<20;let f,h,m,g,v=p,y=0,b=0,_=0;function w(e){d.setUint16(b,e,!0),b+=2}function k(e){d.setUint32(b,e,!0),b+=4}function x(e){b+=e}w(19778),k(u),x(4),k(122),k(108),k(n),k(-r>>>0),w(1),w(32),k(3),k(l),k(2835),k(2835),x(8),k(16711680),k(65280),k(255),k(4278190080),k(1466527264),function e(){for(;y<r&&v>0;){for(g=122+y*s,f=0;f<a;)v--,h=i[_++],m=h>>>24,d.setUint32(g+f,h<<8|m),f+=4;y++}_<i.length?(v=p,setTimeout(e,rg._dly)):t(c)}()},toBlob(e,t){this.toArrayBuffer(e,(e=>{t(new Blob([e],{type:"image/bmp"}))}))},_dly:9};var ag={CHROME:"CHROME",FIREFOX:"FIREFOX",DESKTOP_SAFARI:"DESKTOP_SAFARI",IE:"IE",IOS:"IOS",ETC:"ETC"},og={[ag.CHROME]:16384,[ag.FIREFOX]:11180,[ag.DESKTOP_SAFARI]:16384,[ag.IE]:8192,[ag.IOS]:4096,[ag.ETC]:8192};const ig="undefined"!=typeof window,sg="undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope,lg=ig&&window.cordova&&window.cordova.require&&window.cordova.require("cordova/modulemapper"),ug=(ig||sg)&&(lg&&lg.getOriginalSymbol(window,"File")||"undefined"!=typeof File&&File),cg=(ig||sg)&&(lg&&lg.getOriginalSymbol(window,"FileReader")||"undefined"!=typeof FileReader&&FileReader);function dg(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Date.now();return new Promise((r=>{const a=e.split(","),o=a[0].match(/:(.*?);/)[1],i=globalThis.atob(a[1]);let s=i.length;const l=new Uint8Array(s);for(;s--;)l[s]=i.charCodeAt(s);const u=new Blob([l],{type:o});u.name=t,u.lastModified=n,r(u)}))}function pg(e){return new Promise(((t,n)=>{const r=new cg;r.onload=()=>t(r.result),r.onerror=e=>n(e),r.readAsDataURL(e)}))}function fg(e){return new Promise(((t,n)=>{const r=new Image;r.onload=()=>t(r),r.onerror=e=>n(e),r.src=e}))}function hg(){if(void 0!==hg.cachedResult)return hg.cachedResult;let e=ag.ETC;const{userAgent:t}=navigator;return/Chrom(e|ium)/i.test(t)?e=ag.CHROME:/iP(ad|od|hone)/i.test(t)&&/WebKit/i.test(t)?e=ag.IOS:/Safari/i.test(t)?e=ag.DESKTOP_SAFARI:/Firefox/i.test(t)?e=ag.FIREFOX:(/MSIE/i.test(t)||1==!!document.documentMode)&&(e=ag.IE),hg.cachedResult=e,hg.cachedResult}function mg(e,t){const n=hg(),r=og[n];let a=e,o=t,i=a*o;const s=a>o?o/a:a/o;for(;i>r*r;){const e=(r+a)/2,t=(r+o)/2;e<t?(o=t,a=t*s):(o=e*s,a=e),i=a*o}return{width:a,height:o}}function gg(e,t){let n,r;try{if(n=new OffscreenCanvas(e,t),r=n.getContext("2d"),null===r)throw new Error("getContext of OffscreenCanvas returns null")}catch(e){n=document.createElement("canvas"),r=n.getContext("2d")}return n.width=e,n.height=t,[n,r]}function vg(e,t){const{width:n,height:r}=mg(e.width,e.height),[a,o]=gg(n,r);return t&&/jpe?g/.test(t)&&(o.fillStyle="white",o.fillRect(0,0,a.width,a.height)),o.drawImage(e,0,0,a.width,a.height),a}function yg(){return void 0!==yg.cachedResult||(yg.cachedResult=["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"undefined"!=typeof document&&"ontouchend"in document),yg.cachedResult}function bg(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise((function(n,r){let a,o;var i=function(){try{return o=vg(a,t.fileType||e.type),n([a,o])}catch(e){return r(e)}},s=function(t){try{var n=function(e){try{throw e}catch(e){return r(e)}};try{let t;return pg(e).then((function(e){try{return t=e,fg(t).then((function(e){try{return a=e,function(){try{return i()}catch(e){return r(e)}}()}catch(e){return n(e)}}),n)}catch(e){return n(e)}}),n)}catch(e){n(e)}}catch(e){return r(e)}};try{if(yg()||[ag.DESKTOP_SAFARI,ag.MOBILE_SAFARI].includes(hg()))throw new Error("Skip createImageBitmap on IOS and Safari");return createImageBitmap(e).then((function(e){try{return a=e,i()}catch(e){return s()}}),s)}catch(e){s()}}))}function _g(e,t,n,r){let a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1;return new Promise((function(o,i){let s;if("image/png"===t){let u,c,d;return u=e.getContext("2d"),({data:c}=u.getImageData(0,0,e.width,e.height)),d=ng.encode([c.buffer],e.width,e.height,4096*a),s=new Blob([d],{type:t}),s.name=n,s.lastModified=r,l.call(this)}{if("image/bmp"===t)return new Promise((t=>rg.toBlob(e,t))).then(function(e){try{return s=e,s.name=n,s.lastModified=r,p.call(this)}catch(e){return i(e)}}.bind(this),i);{if("function"==typeof OffscreenCanvas&&e instanceof OffscreenCanvas)return e.convertToBlob({type:t,quality:a}).then(function(e){try{return s=e,s.name=n,s.lastModified=r,f.call(this)}catch(e){return i(e)}}.bind(this),i);{let h;return h=e.toDataURL(t,a),dg(h,n,r).then(function(e){try{return s=e,f.call(this)}catch(e){return i(e)}}.bind(this),i)}function f(){return p.call(this)}}function p(){return l.call(this)}}function l(){return o(s)}}))}function wg(e){e.width=0,e.height=0}function kg(){return new Promise((function(e,t){let n,r,a,o,i;return void 0!==kg.cachedResult?e(kg.cachedResult):(n="data:image/jpeg;base64,/9j/4QAiRXhpZgAATU0AKgAAAAgAAQESAAMAAAABAAYAAAAAAAD/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/AABEIAAEAAgMBEQACEQEDEQH/xABKAAEAAAAAAAAAAAAAAAAAAAALEAEAAAAAAAAAAAAAAAAAAAAAAQEAAAAAAAAAAAAAAAAAAAAAEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwA/8H//2Q==",dg("data:image/jpeg;base64,/9j/4QAiRXhpZgAATU0AKgAAAAgAAQESAAMAAAABAAYAAAAAAAD/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/AABEIAAEAAgMBEQACEQEDEQH/xABKAAEAAAAAAAAAAAAAAAAAAAALEAEAAAAAAAAAAAAAAAAAAAAAAQEAAAAAAAAAAAAAAAAAAAAAEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwA/8H//2Q==","test.jpg",Date.now()).then((function(n){try{return r=n,bg(r).then((function(n){try{return a=n[1],_g(a,r.type,r.name,r.lastModified).then((function(n){try{return o=n,wg(a),bg(o).then((function(n){try{return i=n[0],kg.cachedResult=1===i.width&&2===i.height,e(kg.cachedResult)}catch(e){return t(e)}}),t)}catch(e){return t(e)}}),t)}catch(e){return t(e)}}),t)}catch(e){return t(e)}}),t))}))}function xg(e){return new Promise(((t,n)=>{const r=new cg;r.onload=e=>{const n=new DataView(e.target.result);if(65496!=n.getUint16(0,!1))return t(-2);const r=n.byteLength;let a=2;for(;a<r;){if(n.getUint16(a+2,!1)<=8)return t(-1);const e=n.getUint16(a,!1);if(a+=2,65505==e){if(1165519206!=n.getUint32(a+=2,!1))return t(-1);const e=18761==n.getUint16(a+=6,!1);a+=n.getUint32(a+4,e);const r=n.getUint16(a,e);a+=2;for(let o=0;o<r;o++)if(274==n.getUint16(a+12*o,e))return t(n.getUint16(a+12*o+8,e))}else{if(65280!=(65280&e))break;a+=n.getUint16(a,!1)}}return t(-1)},r.onerror=e=>n(e),r.readAsArrayBuffer(e)}))}function Sg(e,t){const{width:n}=e,{height:r}=e,{maxWidthOrHeight:a}=t;let o,i=e;return isFinite(a)&&(n>a||r>a)&&([i,o]=gg(n,r),n>r?(i.width=a,i.height=r/n*a):(i.width=n/r*a,i.height=a),o.drawImage(e,0,0,i.width,i.height),wg(e)),i}function Cg(e,t){const{width:n}=e,{height:r}=e,[a,o]=gg(n,r);switch(t>4&&t<9?(a.width=r,a.height=n):(a.width=n,a.height=r),t){case 2:o.transform(-1,0,0,1,n,0);break;case 3:o.transform(-1,0,0,-1,n,r);break;case 4:o.transform(1,0,0,-1,0,r);break;case 5:o.transform(0,1,1,0,0,0);break;case 6:o.transform(0,1,-1,0,r,0);break;case 7:o.transform(0,-1,-1,0,r,n);break;case 8:o.transform(0,-1,1,0,0,n)}return o.drawImage(e,0,0,n,r),wg(e),a}function Eg(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return new Promise((function(r,a){let o,i,s,l,u,c,d,p,f,h,m,g,v,y,b,_,w,k,x,S;function C(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5;if(t.signal&&t.signal.aborted)throw t.signal.reason;o+=e,t.onProgress(Math.min(o,100))}function E(e){if(t.signal&&t.signal.aborted)throw t.signal.reason;o=Math.min(Math.max(e,o),100),t.onProgress(o)}return o=n,i=t.maxIteration||10,s=1024*t.maxSizeMB*1024,C(),bg(e,t).then(function(n){try{return[,l]=n,C(),u=Sg(l,t),C(),new Promise((function(n,r){var a;if(!(a=t.exifOrientation))return xg(e).then(function(e){try{return a=e,o.call(this)}catch(e){return r(e)}}.bind(this),r);function o(){return n(a)}return o.call(this)})).then(function(n){try{return c=n,C(),kg().then(function(n){try{return d=n?u:Cg(u,c),C(),p=t.initialQuality||1,f=t.fileType||e.type,_g(d,f,e.name,e.lastModified,p).then(function(n){try{{if(h=n,C(),m=h.size>s,g=h.size>e.size,!m&&!g)return E(100),r(h);var o;function I(){if(i--&&(b>s||b>v)){let t,n;return t=S?.95*x.width:x.width,n=S?.95*x.height:x.height,[w,k]=gg(t,n),k.drawImage(x,0,0,t,n),p*="image/png"===f?.85:.95,_g(w,f,e.name,e.lastModified,p).then((function(e){try{return _=e,wg(x),x=w,b=_.size,E(Math.min(99,Math.floor((y-b)/(y-s)*100))),I}catch(e){return a(e)}}),a)}return[1]}return v=e.size,y=h.size,b=y,x=d,S=!t.alwaysKeepResolution&&m,(o=function(e){for(;e;){if(e.then)return void e.then(o,a);try{if(e.pop){if(e.length)return e.pop()?A.call(this):e;e=I}else e=e.call(this)}catch(e){return a(e)}}}.bind(this))(I);function A(){return wg(x),wg(w),wg(u),wg(d),wg(l),E(100),r(_)}}}catch(c){return a(c)}}.bind(this),a)}catch(e){return a(e)}}.bind(this),a)}catch(e){return a(e)}}.bind(this),a)}catch(e){return a(e)}}.bind(this),a)}))}const Ig="\nlet scriptImported = false\nself.addEventListener('message', async (e) => {\n  const { file, id, imageCompressionLibUrl, options } = e.data\n  options.onProgress = (progress) => self.postMessage({ progress, id })\n  try {\n    if (!scriptImported) {\n      // console.log('[worker] importScripts', imageCompressionLibUrl)\n      self.importScripts(imageCompressionLibUrl)\n      scriptImported = true\n    }\n    // console.log('[worker] self', self)\n    const compressedFile = await imageCompression(file, options)\n    self.postMessage({ file: compressedFile, id })\n  } catch (e) {\n    // console.error('[worker] error', e)\n    self.postMessage({ error: e.message + '\\n' + e.stack, id })\n  }\n})\n";let Ag;function Tg(e,t){return new Promise(((n,r)=>{Ag||(Ag=function(e){const t=[];return"function"==typeof e?t.push("(".concat(e,")()")):t.push(e),URL.createObjectURL(new Blob(t))}(Ig));const a=new Worker(Ag);a.addEventListener("message",(function(e){if(t.signal&&t.signal.aborted)a.terminate();else if(void 0===e.data.progress){if(e.data.error)return r(new Error(e.data.error)),void a.terminate();n(e.data.file),a.terminate()}else t.onProgress(e.data.progress)})),a.addEventListener("error",r),t.signal&&t.signal.addEventListener("abort",(()=>{r(t.signal.reason),a.terminate()})),a.postMessage({file:e,imageCompressionLibUrl:t.libURL,options:c(c({},t),{},{onProgress:void 0,signal:void 0})})}))}function Ng(e,t){return new Promise((function(n,r){let a,o,i,s,l,u;if(a=c({},t),i=0,({onProgress:s}=a),a.maxSizeMB=a.maxSizeMB||Number.POSITIVE_INFINITY,l="boolean"!=typeof a.useWebWorker||a.useWebWorker,delete a.useWebWorker,a.onProgress=e=>{i=e,"function"==typeof s&&s(i)},!(e instanceof Blob||e instanceof ug))return r(new Error("The file given is not an instance of Blob or File"));if(!/^image/.test(e.type))return r(new Error("The file given is not an image"));if(u="undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope,!l||"function"!=typeof Worker||u)return Eg(e,a).then(function(e){try{return o=e,f.call(this)}catch(e){return r(e)}}.bind(this),r);var d=function(){try{return f.call(this)}catch(e){return r(e)}}.bind(this),p=function(t){try{return Eg(e,a).then((function(e){try{return o=e,d()}catch(e){return r(e)}}),r)}catch(e){return r(e)}};try{return a.libURL=a.libURL||"https://cdn.jsdelivr.net/npm/browser-image-compression@2.0.2/dist/browser-image-compression.js",Tg(e,a).then((function(e){try{return o=e,d()}catch(e){return p()}}),p)}catch(e){p()}function f(){try{o.name=e.name,o.lastModified=e.lastModified}catch(e){}try{a.preserveExif&&"image/jpeg"===e.type&&(!a.fileType||a.fileType&&a.fileType===e.type)&&(o=Gm(e,o))}catch(e){}return n(o)}}))}async function Pg(e,t){if("image/heic"===e.type||"image/heif"===e.type||e.name.toLowerCase().endsWith(".heic")||e.name.toLowerCase().endsWith(".heif"))throw new Error("HEIC/HEIF format is not supported. Please convert to JPEG or PNG first.");console.log("Original image:",e.size,"bytes, type:",e.type);const n=await async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1048576;const n={maxSizeMB:t/1048576,maxWidthOrHeight:2048,useWebWorker:!1,fileType:"image/jpeg"};try{const t=await Ng(e,n);return console.log("Compressed image: ".concat(e.size," bytes -> ").concat(t.size," bytes")),t}catch(r){throw console.error("Image compression failed:",r),new Error("Failed to compress image")}}(e);console.log("Compressed image:",n.size,"bytes, type:",n.type);const r=await async function(e){return new Promise(((t,n)=>{const r=new FileReader;r.onload=()=>{const e=r.result;if("undefined"!==typeof process&&process.versions&&process.versions.node){if(e instanceof ArrayBuffer)t(new Uint8Array(e));else if("string"===typeof e){const r=e.match(/^data:image\/\w+;base64,(.+)$/);if(r){const e=r[1],n=atob(e),a=new Uint8Array(n.length);for(let t=0;t<n.length;t++)a[t]=n.charCodeAt(t);t(a)}else n(new Error("Invalid data URL format"))}}else t(e)},r.onerror=n,"undefined"!==typeof process&&process.versions&&process.versions.node?r.readAsArrayBuffer(e):r.readAsDataURL(e)}))}(n),a=Jm({baseURL:"https://openrouter.ai/api/v1",apiKey:t,headers:{"HTTP-Referer":"undefined"!==typeof window?window.location.origin:"http://localhost","X-Title":"Dinner Debt"}});console.log("Calling OpenRouter API...");const o=(await vh({model:a.chat("openai/gpt-4o-mini"),messages:[{role:"user",content:[{type:"image",image:r},{type:"text",text:'Extract all items from this receipt and return valid JSON.\n\nReturn your response as valid JSON with this structure:\n{\n  "items": [{"name": "string", "cost": number}, ...],\n  "subtotal": number,\n  "total": number,\n  "tipIncludedInTotal": boolean,\n  "tip": number (optional, only if explicitly shown and NOT included in total)\n}\n\nImportant edge cases:\n- If tip is hand-written, set tipIncludedInTotal to false and set tip to the amount of the tip.\n- Ignore hand-written total if present. For subtotal and total, use the printed values.\n- Otherwise, if gratuity/tip is included in the printed total and there is no hand-written tip: set tipIncludedInTotal to true and tip to 0.\n- If an item shows "x2" or quantity multiplier: create separate duplicate items'}]}]})).text;if(console.log("AI Response:",o),o.trim().startsWith("<"))throw console.error("Received HTML response instead of JSON:",o.substring(0,200)),new Error("OpenRouter returned an error. Check your API key and credits.");const i=o.match(/\{[\s\S]*\}/);if(!i)throw console.error("No JSON found in response:",o),new Error("Could not parse response from AI. Response was: ".concat(o.substring(0,100),"..."));try{return JSON.parse(i[0])}catch(s){throw console.error("JSON parse error:",s),console.error("Attempted to parse:",i[0]),new Error("Failed to parse JSON from AI response")}}function Og(e){let{getFormState:n}=e;const[r,a]=(0,t.useState)(!1),[o,i]=(0,t.useState)(!1),[s,l]=(0,t.useState)(!1),u=()=>{const e=function(e){try{const t=JSON.stringify(e);return console.debug("Encoding form state JSON:",t),btoa(t)}catch(t){return console.error("Failed to encode form state:",t),""}}(n());return"".concat(window.location.origin).concat(window.location.pathname,"?data=").concat(e)},c=async()=>{const e=u();try{await navigator.clipboard.writeText(e),i(!0),setTimeout((()=>i(!1)),2e3)}catch(t){console.error("Failed to copy link:",t)}};return{showQRCode:r,setShowQRCode:a,linkCopied:o,qrCodeError:s,setQrCodeError:l,getShareUrl:u,handleCopyLink:c,handleShareLink:async()=>{const e=u();try{navigator.share?await navigator.share({title:"Dinner Debt",text:"Split the bill with me",url:e}):await c()}catch(t){console.error("Failed to share:",t)}}}}Ng.getDataUrlFromFile=pg,Ng.getFilefromDataUrl=dg,Ng.loadImage=fg,Ng.drawImageInCanvas=vg,Ng.drawFileInCanvas=bg,Ng.canvasToFile=_g,Ng.getExifOrientation=xg,Ng.handleMaxWidthOrHeight=Sg,Ng.followExifOrientation=Cg,Ng.cleanupCanvasMemory=wg,Ng.isAutoOrientationInBrowser=kg,Ng.approximateBelowMaximumCanvasSizeOfBrowser=mg,Ng.copyExifWithoutOrientation=Gm,Ng.getBrowserName=hg,Ng.version="2.0.2";var jg=__webpack_require__(579);function zg(e){let{show:n,onClose:r,onSave:a}=e;const[o,i]=t.useState("");if(!n)return null;const s=()=>{o.trim()&&(a(o.trim()),i(""))},l=()=>{r(),i("")};return(0,jg.jsx)("div",{className:"modal-overlay",onClick:l,children:(0,jg.jsxs)("div",{className:"modal-content",onClick:e=>e.stopPropagation(),children:[(0,jg.jsx)("h2",{className:"modal-title",children:"OpenRouter API Key Required"}),(0,jg.jsx)("p",{className:"modal-description",children:"To use receipt upload, you need an OpenRouter API key. This will incur costs to your OpenRouter account (less than $0.01 per receipt)."}),(0,jg.jsxs)("div",{className:"modal-warning",children:["\u26a0\ufe0f ",(0,jg.jsx)("strong",{children:"Security Warning:"})," Your API key will be stored as plaintext in your browser's localStorage. This is NOT secure storage. Only paste your key if you understand the risk."]}),(0,jg.jsx)("input",{type:"password",className:"form-control api-key-input",placeholder:"sk-or-v1-...",value:o,onChange:e=>i(e.target.value),onKeyDown:e=>"Enter"===e.key&&s()}),(0,jg.jsxs)("div",{className:"modal-actions",children:[(0,jg.jsx)("button",{className:"btn btn-outline",onClick:l,children:"Cancel"}),(0,jg.jsx)("button",{className:"btn btn-primary",onClick:s,disabled:!o.trim(),children:"Save Key"})]})]})})}function Rg(e){let{show:n,onClose:r,betaFeaturesEnabled:a,onToggleBetaFeatures:o,apiKey:i,onSaveApiKey:s,onDeleteApiKey:l}=e;const[u,c]=t.useState(!1),[d,p]=t.useState("");if(!n)return null;const f=()=>{r(),c(!1),p("")},h=()=>{d.trim()&&(s(d.trim()),p(""),c(!1))};return(0,jg.jsx)("div",{className:"modal-overlay",onClick:f,children:(0,jg.jsxs)("div",{className:"modal-content settings-modal",onClick:e=>e.stopPropagation(),children:[(0,jg.jsx)("h2",{className:"modal-title",children:"Settings"}),(0,jg.jsxs)("div",{className:"settings-section",children:[(0,jg.jsx)("div",{className:"settings-section-header",children:(0,jg.jsx)("h3",{className:"settings-section-title",children:"Beta Features"})}),(0,jg.jsx)("p",{className:"settings-description",children:"Access experimental features like receipt upload"}),(0,jg.jsxs)("label",{className:"toggle-label",children:[(0,jg.jsx)("input",{type:"checkbox",className:"toggle-checkbox",checked:a,onChange:e=>o(e.target.checked)}),(0,jg.jsx)("span",{className:"toggle-switch"}),(0,jg.jsx)("span",{className:"toggle-text",children:"Enable Beta Features"})]})]}),a&&(0,jg.jsxs)("div",{className:"settings-section",children:[(0,jg.jsx)("div",{className:"settings-section-header",children:(0,jg.jsx)("h3",{className:"settings-section-title",children:"API Key"})}),(0,jg.jsx)("p",{className:"settings-description",children:"OpenRouter API key for receipt processing. This will incur costs to your OpenRouter account (less than $0.01 per receipt)."}),(0,jg.jsxs)("div",{className:"modal-warning",children:["\u26a0\ufe0f ",(0,jg.jsx)("strong",{children:"Security Warning:"})," Your API key is stored as plaintext in your browser's localStorage. This is NOT secure storage."]}),u||!i?(0,jg.jsxs)(jg.Fragment,{children:[(0,jg.jsx)("input",{type:"password",className:"form-control api-key-input",placeholder:"sk-or-v1-...",value:d,onChange:e=>p(e.target.value),onKeyDown:e=>"Enter"===e.key&&h()}),(0,jg.jsxs)("div",{className:"settings-actions",children:[i&&(0,jg.jsx)("button",{className:"btn btn-outline",onClick:()=>{c(!1),p("")},children:"Cancel"}),(0,jg.jsx)("button",{className:"btn btn-primary",onClick:h,disabled:!d.trim(),children:i?"Update Key":"Save Key"})]})]}):(0,jg.jsxs)(jg.Fragment,{children:[(0,jg.jsx)("div",{className:"api-key-display",children:(0,jg.jsx)("code",{children:(m=i,m.length<=10?m:m.slice(0,8)+"..."+m.slice(-6))})}),(0,jg.jsxs)("div",{className:"settings-actions",children:[(0,jg.jsx)("button",{className:"btn btn-outline",onClick:()=>c(!0),children:"Update Key"}),(0,jg.jsx)("button",{className:"btn btn-danger",onClick:l,children:"Delete Key"})]})]})]}),(0,jg.jsx)("div",{className:"modal-actions",children:(0,jg.jsx)("button",{className:"btn btn-primary",onClick:f,children:"Close"})})]})});var m}function Mg(e){let{label:t,value:n,maxValue:r,maxSplit:a=8,onChange:o,justMeText:i="Just me",multipleText:s=(e=>"".concat(e," people")),showMoreOption:l=!0}=e;const u=n<0||0===n,c=u?Math.abs(n):n,d=null!==r&&void 0!==r?r:a;return(0,jg.jsxs)("div",{className:"control-group",children:[(0,jg.jsx)("label",{className:"control-label",children:t}),u?(0,jg.jsx)("input",{className:"form-control form-control-sm",type:"number",inputMode:"numeric",value:0===n?"":c,onChange:e=>{const t=e.target.value,n=""===t?0:Number(t);o(0===n?0:-Math.abs(n))}}):(0,jg.jsxs)("select",{className:"form-control portion-select",value:n,onChange:e=>{const t=e.target.value;if("more"===t){o(-(a+1))}else o(Number(t))},children:[(0,jg.jsx)("option",{value:1,children:i}),Array.from({length:d-1},((e,t)=>t+2)).map((e=>(0,jg.jsx)("option",{value:e,children:s(e)},e))),l&&d>=a&&(0,jg.jsx)("option",{value:"more",children:"...more"})]})]})}function Fg(e){const{totalPortions:t,portionsPaying:n,maxSplit:r=8,onTotalPortionsChange:a,onPortionsPayingChange:o}=e;return(0,jg.jsxs)(jg.Fragment,{children:[(0,jg.jsx)(Mg,{label:"Split?",value:t,maxSplit:r,onChange:e=>{const t=Math.max(1,Math.abs(0===e?0:e)),r=Math.min(n,t);a(e),o(r)}}),(0,jg.jsx)(Mg,{label:"Paying for",value:n,maxValue:Math.abs(t),onChange:o,showMoreOption:!1})]})}function Lg(e){let{isExpanded:t,className:n=""}=e;return(0,jg.jsx)("svg",{width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:n,style:{transition:"transform 0.2s",transform:t?"rotate(90deg)":"rotate(0deg)"},children:(0,jg.jsx)("path",{d:"M4 2L8 6L4 10",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})}function Dg(e){let{subtotal:t,total:n,tip:r,tipIsRate:a,tipIncludedInTotal:o,onSubtotalChange:i,onTotalChange:s,onTipChange:l,onTipIsRateChange:u}=e;return(0,jg.jsxs)(jg.Fragment,{children:[(0,jg.jsxs)("div",{className:"form-group",children:[(0,jg.jsx)("label",{className:"form-label",htmlFor:"sub",children:"Subtotal (Whole Bill)"}),(0,jg.jsxs)("div",{className:"currency-input-wrapper",children:[(0,jg.jsx)("span",{className:"currency-symbol",children:"$"}),(0,jg.jsx)("input",{className:"form-control form-control-sm currency-input",name:"sub",type:"text",inputMode:"decimal",value:null!==t&&void 0!==t?t:"",onChange:e=>{const t=e.target.value.trim(),n=Number.parseFloat(t);i(""===t||isNaN(n)?void 0:n)},placeholder:"0.00"})]})]}),(0,jg.jsxs)("div",{className:"form-group",children:[(0,jg.jsx)("label",{className:"form-label",htmlFor:"total",children:"Total (Whole Bill)"}),(0,jg.jsxs)("div",{className:"currency-input-wrapper",children:[(0,jg.jsx)("span",{className:"currency-symbol",children:"$"}),(0,jg.jsx)("input",{className:"form-control form-control-sm currency-input",name:"total",type:"text",inputMode:"decimal",value:null!==n&&void 0!==n?n:"",onChange:e=>{const t=e.target.value.trim(),n=Number.parseFloat(t);s(""===t||isNaN(n)?void 0:n)},placeholder:"0.00"})]})]}),(0,jg.jsxs)("div",{className:"form-group",children:[(0,jg.jsxs)("label",{className:"form-label",htmlFor:"tip",children:["Tip",o&&" *"]}),(0,jg.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[(0,jg.jsxs)("div",{className:a?"percent-input-wrapper":"currency-input-wrapper",style:{marginRight:"0.5rem"},children:[!a&&(0,jg.jsx)("span",{className:"currency-symbol",children:"$"}),(0,jg.jsx)("input",{className:"form-control form-control-sm ".concat(a?"percent-input":"currency-input"),name:"tip",type:"text",inputMode:"decimal",value:null!==r&&void 0!==r?r:"",onChange:e=>{const t=e.target.value.trim(),n=Number.parseFloat(t);l(""===t||isNaN(n)?void 0:n)}}),a&&(0,jg.jsx)("span",{className:"percent-symbol",children:"%"})]}),(0,jg.jsxs)("div",{className:"radio-group",children:[(0,jg.jsxs)("label",{className:"radio-label",children:[(0,jg.jsx)("input",{className:"radio-input",name:"tipIsRate",type:"radio",checked:a,onChange:()=>{},onClick:()=>u(!0)}),"percent"]}),(0,jg.jsxs)("label",{className:"radio-label",children:[(0,jg.jsx)("input",{className:"radio-input",name:"tipisFlat",type:"radio",checked:!a,onChange:()=>{},onClick:()=>u(!1)}),"flat amount"]})]})]}),o&&(0,jg.jsx)("div",{className:"tip-included-notice",children:"* Gratuity is already included in the total"})]})]})}function Ug(e){const{items:n,subtotal:o,total:i,tip:s,tipIsRate:l,tipIncludedInTotal:u,isPayingMe:d,isCalculatorMode:p=!1}=e,[f,h]=(0,t.useState)(p?0:1),[m,g]=(0,t.useState)(new Set),[v,y]=(0,t.useState)(new Map),[b,_]=(0,t.useState)(d),[w,k]=(0,t.useState)(null),[x,S]=(0,t.useState)(o),[C,E]=(0,t.useState)(i),[I,A]=(0,t.useState)(s),[T,N]=(0,t.useState)(l),[P,O]=(0,t.useState)(n);t.useEffect((()=>{S(o),E(i),A(s),N(l),O(n),_(d)}),[o,i,s,l,n,d]);const j=(0,t.useMemo)((()=>P.filter((e=>e.id&&m.has(e.id))).map((e=>{var t,n,r,a;const o=v.get(e.id);return c(c({},e),{},{portionsPaying:null!==(t=null!==(n=null===o||void 0===o?void 0:o.portionsPaying)&&void 0!==n?n:e.portionsPaying)&&void 0!==t?t:1,totalPortions:null!==(r=null!==(a=null===o||void 0===o?void 0:o.totalPortions)&&void 0!==a?a:e.totalPortions)&&void 0!==r?r:1})}))),[P,m,v]),z=(0,t.useMemo)((()=>r({items:j,subtotal:x,total:C,tip:I,tipIsRate:T,tipIncludedInTotal:u})),[j,x,C,I,T,u]),R=(0,t.useMemo)((()=>{let e=0;for(const u of j){var t,n,r;const a=Math.max(1,Math.abs(null!==(t=u.totalPortions)&&void 0!==t?t:1)),o=(null!==(n=u.portionsPaying)&&void 0!==n?n:1)/a;e+=(null!==(r=u.cost)&&void 0!==r?r:0)*o}const a=null!==x&&void 0!==x?x:e,o=null!==C&&void 0!==C?C:a,i=a?e/a:0,s=(o-a)*i;let l=0;return!u&&I&&(l=T?o*I/100*i:I*i),{mySubtotal:e,myTax:s,myTip:l,myTotal:e+s+l}}),[j,x,C,I,T,u]),M=Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(z),F=M.substring(1),L=encodeURIComponent("dinner-debt"),D=e=>{h(e)},U=m.size>0,B=p?4:3,Z=p?f+1:f;return(0,jg.jsxs)("div",{className:"wizard-container",children:[(0,jg.jsxs)("div",{className:"wizard-progress",children:["Step ",Z," of ",B]}),p&&0===f&&(0,jg.jsxs)("div",{className:"wizard-step",children:[(0,jg.jsx)("h2",{className:"wizard-step-title",children:"Confirm billing information"}),(0,jg.jsx)("p",{className:"wizard-step-description",children:"Review and edit the bill details if needed"}),(0,jg.jsx)(Dg,{subtotal:x,total:C,tip:I,tipIsRate:T,tipIncludedInTotal:u,onSubtotalChange:S,onTotalChange:E,onTipChange:A,onTipIsRateChange:N}),(0,jg.jsx)("div",{className:"wizard-nav",children:(0,jg.jsx)("button",{className:"btn btn-primary btn-wizard-next",onClick:()=>D(1),children:"Next"})})]}),1===f&&(0,jg.jsxs)("div",{className:"wizard-step",children:[(0,jg.jsx)("h2",{className:"wizard-step-title",children:"What did you eat?"}),(0,jg.jsx)("p",{className:"wizard-step-description",children:"Check the items you ate or shared"}),(0,jg.jsx)("div",{className:"item-checkbox-list",children:P.map((e=>{var t;if(!e.id)return null;const n=m.has(e.id),r=null!==(t=e.cost)&&void 0!==t?t:0,a=Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(r);return(0,jg.jsxs)("label",{className:"item-checkbox-item",children:[(0,jg.jsx)("input",{type:"checkbox",checked:n,onChange:()=>{return t=e.id,void g((e=>{const n=new Set(e);return n.has(t)?(n.delete(t),y((e=>{const n=new Map(e);return n.delete(t),n}))):n.add(t),n}));var t},className:"item-checkbox-input"}),(0,jg.jsxs)("span",{className:"item-checkbox-label",children:[e.name&&(0,jg.jsx)("span",{className:"item-checkbox-name",children:e.name}),p?(0,jg.jsxs)("div",{className:"currency-input-wrapper",style:{display:"inline-flex",alignItems:"center"},children:[(0,jg.jsx)("span",{className:"currency-symbol",children:"$"}),(0,jg.jsx)("input",{type:"text",inputMode:"decimal",className:"form-control form-control-sm currency-input",value:r||"",onChange:t=>{t.stopPropagation();const n=t.target.value.trim(),r=Number.parseFloat(n);var a,o;a=e.id,o=""===n||isNaN(r)?0:r,p&&O((e=>e.map((e=>e.id===a?c(c({},e),{},{cost:o}):e))))},onClick:e=>e.stopPropagation(),placeholder:"0.00",style:{width:"80px"}})]}):(0,jg.jsx)("span",{className:"item-checkbox-cost",children:a})]})]},e.id)}))}),(0,jg.jsx)("div",{className:"running-total",children:(0,jg.jsxs)("span",{children:["Items selected: ",m.size]})}),(0,jg.jsxs)("div",{className:"wizard-nav",children:[p&&(0,jg.jsx)("button",{className:"btn btn-outline btn-wizard-back",onClick:()=>D(0),children:"Back"}),(0,jg.jsx)("button",{className:"btn btn-primary btn-wizard-next",onClick:()=>D(2),disabled:!U,children:"Next"})]})]}),2===f&&(0,jg.jsxs)("div",{className:"wizard-step",children:[(0,jg.jsx)("h2",{className:"wizard-step-title",children:"Any shared items?"}),(0,jg.jsx)("p",{className:"wizard-step-description",children:"Specify how many people shared each item"}),(0,jg.jsx)("div",{className:"split-config-list",children:j.map((e=>{var t,n,r,a;if(!e.id)return null;const o=null!==(t=v.get(e.id))&&void 0!==t?t:{portionsPaying:null!==(n=e.portionsPaying)&&void 0!==n?n:1,totalPortions:null!==(r=e.totalPortions)&&void 0!==r?r:1},i=Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(null!==(a=e.cost)&&void 0!==a?a:0),s=w===e.id,l=Math.abs(o.totalPortions),u=l>1?"Split ".concat(l," ways, paying for ").concat(o.portionsPaying):"Just me";return(0,jg.jsxs)("div",{className:"split-config-card ".concat(s?"expanded":""),children:[(0,jg.jsxs)("button",{className:"split-config-card-header",onClick:()=>k(s?null:e.id||null),children:[(0,jg.jsxs)("div",{className:"split-config-card-info",children:[e.name&&(0,jg.jsx)("div",{className:"split-config-card-name",children:e.name}),(0,jg.jsxs)("div",{className:"split-config-card-status",children:[(0,jg.jsx)(Lg,{isExpanded:s,className:"split-config-card-toggle"}),u]})]}),(0,jg.jsx)("div",{className:"split-config-card-cost",children:i})]}),s&&(0,jg.jsx)("div",{className:"split-config-card-body",children:(0,jg.jsx)("div",{className:"item-controls",children:(0,jg.jsx)(Fg,{totalPortions:o.totalPortions,portionsPaying:o.portionsPaying,maxSplit:Math.max(8,...j.map((e=>{var t;return Math.abs(null!==(t=e.totalPortions)&&void 0!==t?t:1)}))),onTotalPortionsChange:t=>{y((n=>{var r,a,o;const i=null!==(r=n.get(e.id))&&void 0!==r?r:{portionsPaying:null!==(a=e.portionsPaying)&&void 0!==a?a:1,totalPortions:null!==(o=e.totalPortions)&&void 0!==o?o:1},s=Math.min(i.portionsPaying,Math.abs(t)),l=new Map(n);return l.set(e.id,{portionsPaying:s,totalPortions:t}),l}))},onPortionsPayingChange:t=>{y((n=>{var r,a,o;const i=null!==(r=n.get(e.id))&&void 0!==r?r:{portionsPaying:null!==(a=e.portionsPaying)&&void 0!==a?a:1,totalPortions:null!==(o=e.totalPortions)&&void 0!==o?o:1},s=new Map(n);return s.set(e.id,{totalPortions:i.totalPortions,portionsPaying:t}),s}))}})})})]},e.id)}))}),(0,jg.jsxs)("div",{className:"wizard-nav",children:[(0,jg.jsx)("button",{className:"btn btn-outline btn-wizard-back",onClick:()=>D(1),children:"Back"}),(0,jg.jsx)("button",{className:"btn btn-primary btn-wizard-next",onClick:()=>D(3),children:"Next"})]})]}),3===f&&(0,jg.jsxs)("div",{className:"wizard-step",children:[(0,jg.jsx)("h2",{className:"wizard-step-title",children:"Ready to pay?"}),(0,jg.jsxs)("div",{className:"payment-summary",children:[(0,jg.jsx)("h3",{className:"payment-summary-title",children:"Your items:"}),(0,jg.jsxs)("div",{className:"payment-summary-items",children:[j.map((e=>{var t,n,r;if(!e.id)return null;const a=null!==(t=e.cost)&&void 0!==t?t:0,o=Math.max(1,Math.abs(null!==(n=e.totalPortions)&&void 0!==n?n:1)),i=a*((null!==(r=e.portionsPaying)&&void 0!==r?r:1)/o),s=Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(i);return(0,jg.jsxs)("div",{className:"payment-summary-item",children:[(0,jg.jsxs)("span",{className:"payment-summary-item-name",children:[e.name||"Item",e.totalPortions&&e.totalPortions>1&&(0,jg.jsxs)("span",{className:"payment-summary-item-split",children:[" ","(",e.portionsPaying,"/",e.totalPortions,")"]})]}),(0,jg.jsx)("span",{className:"payment-summary-item-cost",children:s})]},e.id)})),(R.myTax>0||R.myTip>0)&&(0,jg.jsx)("div",{className:"payment-summary-divider"}),R.myTax>0&&(0,jg.jsxs)("div",{className:"payment-summary-item",children:[(0,jg.jsxs)("span",{className:"payment-summary-item-name",children:["Your share of tax & fees ",u?" *":""]}),(0,jg.jsx)("span",{className:"payment-summary-item-cost",children:Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(R.myTax)})]}),R.myTip>0&&(0,jg.jsxs)("div",{className:"payment-summary-item",children:[(0,jg.jsx)("span",{className:"payment-summary-item-name",children:"Your share of tip"}),(0,jg.jsx)("span",{className:"payment-summary-item-cost",children:Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(R.myTip)})]})]}),u&&(0,jg.jsx)("div",{className:"tip-included-notice",children:"* Gratuity is already included in the fees"})]}),(0,jg.jsxs)("div",{className:"payment-amount",children:[(0,jg.jsx)("div",{className:"payment-amount-label",children:"You owe:"}),(0,jg.jsx)("div",{className:"payment-amount-value",children:M})]}),(0,jg.jsxs)("div",{className:"payment-recipient-selector",children:[(0,jg.jsx)("p",{className:"payment-recipient-question",children:"Are you paying Mike Delmonaco?"}),(0,jg.jsxs)("div",{className:"radio-group",children:[(0,jg.jsxs)("label",{className:"radio-label",children:[(0,jg.jsx)("input",{className:"radio-input",name:"paying-me",type:"radio",checked:b,onChange:()=>_(!0)}),"Yes"]}),(0,jg.jsxs)("label",{className:"radio-label",children:[(0,jg.jsx)("input",{className:"radio-input",name:"not-paying-me",type:"radio",checked:!b,onChange:()=>_(!1)}),"No"]})]})]}),(0,jg.jsx)("div",{className:"wizard-actions",children:(0,jg.jsxs)("a",{className:"action-button venmo-button venmo-button-large",href:b?a(F,L,"Mike-Delmonaco"):a(F,L),children:["Pay ",M," with Venmo"]})}),(0,jg.jsx)("div",{className:"wizard-nav",children:(0,jg.jsx)("button",{className:"btn btn-outline btn-wizard-back",onClick:()=>D(2),children:"Back"})})]})]})}function Bg(){return(0,jg.jsxs)("div",{className:"landing-container",children:[(0,jg.jsx)("h2",{children:"What would you like to do?"}),(0,jg.jsxs)("div",{className:"landing-options",children:[(0,jg.jsxs)("button",{className:"landing-option-button",onClick:()=>window.location.href="?mode=creator",children:[(0,jg.jsxs)("svg",{className:"option-icon",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,jg.jsx)("path",{d:"M17 21V19C17 17.9391 16.5786 16.9217 15.8284 16.1716C15.0783 15.4214 14.0609 15 13 15H5C3.93913 15 2.92172 15.4214 2.17157 16.1716C1.42143 16.9217 1 17.9391 1 19V21",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,jg.jsx)("path",{d:"M9 11C11.2091 11 13 9.20914 13 7C13 4.79086 11.2091 3 9 3C6.79086 3 5 4.79086 5 7C5 9.20914 6.79086 11 9 11Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,jg.jsx)("path",{d:"M23 21V19C22.9993 18.1137 22.7044 17.2528 22.1614 16.5523C21.6184 15.8519 20.8581 15.3516 20 15.13",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,jg.jsx)("path",{d:"M16 3.13C16.8604 3.35031 17.623 3.85071 18.1676 4.55232C18.7122 5.25392 19.0078 6.11683 19.0078 7.005C19.0078 7.89318 18.7122 8.75608 18.1676 9.45769C17.623 10.1593 16.8604 10.6597 16 10.88",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]}),(0,jg.jsx)("div",{className:"option-title",children:"Split bill with friends"}),(0,jg.jsx)("div",{className:"option-description",children:"You're paying and want others to pay you back"})]}),(0,jg.jsxs)("button",{className:"landing-option-button",onClick:()=>window.location.href="?mode=calculator",children:[(0,jg.jsxs)("svg",{className:"option-icon",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,jg.jsx)("rect",{x:"4",y:"2",width:"16",height:"20",rx:"2",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,jg.jsx)("rect",{x:"8",y:"6",width:"8",height:"4",rx:"1",fill:"currentColor"}),(0,jg.jsx)("line",{x1:"8",y1:"14",x2:"8",y2:"14.01",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"}),(0,jg.jsx)("line",{x1:"12",y1:"14",x2:"12",y2:"14.01",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"}),(0,jg.jsx)("line",{x1:"16",y1:"14",x2:"16",y2:"14.01",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"}),(0,jg.jsx)("line",{x1:"8",y1:"18",x2:"8",y2:"18.01",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"}),(0,jg.jsx)("line",{x1:"12",y1:"18",x2:"12",y2:"18.01",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"}),(0,jg.jsx)("line",{x1:"16",y1:"18",x2:"16",y2:"18.01",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"})]}),(0,jg.jsx)("div",{className:"option-title",children:"Calculate what I owe"}),(0,jg.jsx)("div",{className:"option-description",children:"Someone else is paying and you want to figure out your portion of the bill"})]})]})]})}function Zg(e){let{receiptUploadEnabled:n,onReceiptUploadClick:r,onManualEntryClick:a,isProcessingReceipt:o,receiptError:i,onReceiptUpload:s}=e;return t.useEffect((()=>{n||a()}),[n,a]),n?(0,jg.jsxs)("div",{className:"calculator-choice-container",children:[(0,jg.jsx)("input",{type:"file",id:"receipt-upload",accept:"image/jpeg,image/jpg,image/png,image/webp,image/gif",onChange:s,style:{display:"none"},disabled:o}),(0,jg.jsx)("h2",{children:"How would you like to enter the bill?"}),(0,jg.jsxs)("div",{className:"calculator-options",children:[(0,jg.jsxs)("button",{className:"calculator-option-button",onClick:r,disabled:o,children:[(0,jg.jsxs)("svg",{className:"option-icon",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,jg.jsx)("path",{d:"M23 19C23 19.5304 22.7893 20.0391 22.4142 20.4142C22.0391 20.7893 21.5304 21 21 21H3C2.46957 21 1.96086 20.7893 1.58579 20.4142C1.21071 20.0391 1 19.5304 1 19V8C1 7.46957 1.21071 6.96086 1.58579 6.58579C1.96086 6.21071 2.46957 6 3 6H7L9 3H15L17 6H21C21.5304 6 22.0391 6.21071 22.4142 6.58579C22.7893 6.96086 23 7.46957 23 8V19Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,jg.jsx)("circle",{cx:"12",cy:"13",r:"4",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]}),(0,jg.jsx)("div",{className:"option-title",children:o?"Processing...":"Upload Receipt"}),(0,jg.jsx)("div",{className:"option-description",children:"Scan your receipt photo"})]}),(0,jg.jsxs)("button",{className:"calculator-option-button",onClick:a,children:[(0,jg.jsxs)("svg",{className:"option-icon",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,jg.jsx)("path",{d:"M17 3C17.5304 3 18.0391 3.21071 18.4142 3.58579L20.4142 5.58579C20.7893 5.96086 21 6.46957 21 7V20C21 20.5304 20.7893 21.0391 20.4142 21.4142C20.0391 21.7893 19.5304 22 19 22H5C4.46957 22 3.96086 21.7893 3.58579 21.4142C3.21071 21.0391 3 20.5304 3 20V4C3 3.46957 3.21071 2.96086 3.58579 2.58579C3.96086 2.21071 4.46957 2 5 2H16C16.2652 2 16.5196 2.10536 16.7071 2.29289L17 3Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,jg.jsx)("path",{d:"M9 9H15M9 13H15M9 17H13",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]}),(0,jg.jsx)("div",{className:"option-title",children:"Manual Entry"}),(0,jg.jsx)("div",{className:"option-description",children:"Type in the details yourself"})]})]}),i&&(0,jg.jsx)("div",{className:"error-message",children:i})]}):null}function Vg(e){let{receiptUploadEnabled:n,onReceiptUploadClick:r,onManualEntryClick:a,isProcessingReceipt:o,receiptError:i,onReceiptUpload:s}=e;return t.useEffect((()=>{n||a()}),[n,a]),n?(0,jg.jsxs)("div",{className:"calculator-choice-container",children:[(0,jg.jsx)("input",{type:"file",id:"receipt-upload",accept:"image/jpeg,image/jpg,image/png,image/webp,image/gif",onChange:s,style:{display:"none"},disabled:o}),(0,jg.jsx)("h2",{children:"How would you like to set up the bill?"}),(0,jg.jsxs)("div",{className:"calculator-options",children:[(0,jg.jsxs)("button",{className:"calculator-option-button",onClick:r,disabled:o,children:[(0,jg.jsxs)("svg",{className:"option-icon",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,jg.jsx)("path",{d:"M23 19C23 19.5304 22.7893 20.0391 22.4142 20.4142C22.0391 20.7893 21.5304 21 21 21H3C2.46957 21 1.96086 20.7893 1.58579 20.4142C1.21071 20.0391 1 19.5304 1 19V8C1 7.46957 1.21071 6.96086 1.58579 6.58579C1.96086 6.21071 2.46957 6 3 6H7L9 3H15L17 6H21C21.5304 6 22.0391 6.21071 22.4142 6.58579C22.7893 6.96086 23 7.46957 23 8V19Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,jg.jsx)("circle",{cx:"12",cy:"13",r:"4",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]}),(0,jg.jsx)("div",{className:"option-title",children:o?"Processing...":"Upload Receipt"}),(0,jg.jsx)("div",{className:"option-description",children:"Scan your receipt photo"})]}),(0,jg.jsxs)("button",{className:"calculator-option-button",onClick:a,children:[(0,jg.jsxs)("svg",{className:"option-icon",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,jg.jsx)("path",{d:"M17 3C17.5304 3 18.0391 3.21071 18.4142 3.58579L20.4142 5.58579C20.7893 5.96086 21 6.46957 21 7V20C21 20.5304 20.7893 21.0391 20.4142 21.4142C20.0391 21.7893 19.5304 22 19 22H5C4.46957 22 3.96086 21.7893 3.58579 21.4142C3.21071 21.0391 3 20.5304 3 20V4C3 3.46957 3.21071 2.96086 3.58579 2.58579C3.96086 2.21071 4.46957 2 5 2H16C16.2652 2 16.5196 2.10536 16.7071 2.29289L17 3Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,jg.jsx)("path",{d:"M9 9H15M9 13H15M9 17H13",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]}),(0,jg.jsx)("div",{className:"option-title",children:"Manual Entry"}),(0,jg.jsx)("div",{className:"option-description",children:"Type in the details yourself"})]})]}),i&&(0,jg.jsx)("div",{className:"error-message",children:i})]}):null}var qg=__webpack_require__(245);class $g extends t.Component{constructor(e){super(e),this.state={hasError:!1}}static getDerivedStateFromError(){return{hasError:!0}}componentDidCatch(e){console.error("QR Code generation failed:",e),this.props.onError()}render(){return this.state.hasError?null:this.props.children}}function Hg(e){let{getFormState:t,formState:n,showAsStep:r=!1}=e;const{showQRCode:a,setShowQRCode:o,linkCopied:i,qrCodeError:s,setQrCodeError:l,getShareUrl:u,handleCopyLink:c,handleShareLink:d}=Og({getFormState:t||(()=>n)}),p=r||a;return(0,jg.jsxs)("section",{className:"form-section",children:[!r&&(0,jg.jsxs)("div",{className:"qr-toggle",onClick:()=>{l(!1),o((e=>!e))},children:[(0,jg.jsx)(Lg,{isExpanded:a}),a?"Hide QR Code":"Show QR Code"]}),p&&(0,jg.jsxs)("div",{className:"qr-container",children:[s?(0,jg.jsxs)("div",{className:"error-message",style:{textAlign:"center",padding:"2rem"},children:[(0,jg.jsx)("p",{style:{marginBottom:"1rem"},children:"\u26a0\ufe0f Receipt is too large for QR code generation."}),(0,jg.jsx)("p",{style:{fontSize:"0.9em",opacity:.8},children:"Please use the Copy Link or Share Link button."})]}):(0,jg.jsx)($g,{onError:()=>l(!0),children:(0,jg.jsx)(qg.Ay,{value:u(),bgColor:"var(--background-secondary)",fgColor:"#dcddde",level:"M",style:{width:"100%",height:"auto",maxWidth:"400px"}})}),(0,jg.jsxs)("div",{style:{marginTop:"1rem",display:"flex",gap:"0.5rem",justifyContent:"center"},children:[(0,jg.jsxs)("button",{className:"btn btn-outline",onClick:c,style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[(0,jg.jsx)("span",{children:"Copy Link"}),i?(0,jg.jsx)("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,jg.jsx)("path",{d:"M13.5 4L6 11.5L2.5 8",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}):(0,jg.jsxs)("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,jg.jsx)("rect",{x:"5",y:"4",width:"9",height:"11",rx:"1",stroke:"currentColor",strokeWidth:"1.5",fill:"none"}),(0,jg.jsx)("path",{d:"M4 12H3C2.44772 12 2 11.5523 2 11V2C2 1.44772 2.44772 1 3 1H9C9.55228 1 10 1.44772 10 2V3",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round"})]})]}),(0,jg.jsxs)("button",{className:"btn btn-outline",onClick:d,style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[(0,jg.jsx)("span",{children:"Share Link"}),(0,jg.jsxs)("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,jg.jsx)("path",{d:"M3 7V14C3 14.5523 3.44772 15 4 15H12C12.5523 15 13 14.5523 13 14V7",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),(0,jg.jsx)("path",{d:"M8 10V2M8 2L5.5 4.5M8 2L10.5 4.5",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]})]})]})]})]})}function Wg(e){let{initialItems:n=[(0,o.T)()],initialSubtotal:r,initialTotal:a,initialTip:i=20,initialTipIsRate:s=!0,initialTipIncludedInTotal:l=!1}=e;const[u,d]=(0,t.useState)(1),[p,f]=(0,t.useState)(n),[h,m]=(0,t.useState)(r),[g,v]=(0,t.useState)(a),[y,b]=(0,t.useState)(i),[_,w]=(0,t.useState)(s),[k]=(0,t.useState)(l);t.useEffect((()=>{f(n),m(r),v(a),b(i),w(s)}),[n,r,a,i,s]);const x=(e,t)=>{f((n=>{const r=[...n];return r[e]=c(c({},r[e]),t),r}))},S=e=>{d(e)},C={items:p,subtotal:h,total:g,tip:y,tipIsRate:_,tipIncludedInTotal:k,isPayingMe:!0},E=Math.max(8,...p.map((e=>{var t;return Math.abs(null!==(t=e.totalPortions)&&void 0!==t?t:1)})));return(0,jg.jsxs)("div",{className:"wizard-container",children:[(0,jg.jsxs)("div",{className:"wizard-progress",children:["Step ",u," of 3"]}),1===u&&(0,jg.jsxs)("div",{className:"wizard-step",children:[(0,jg.jsx)("h2",{className:"wizard-step-title",children:"Verify Items"}),(0,jg.jsx)("p",{className:"wizard-step-description",children:"Check that all items and prices are correct"}),(0,jg.jsx)("div",{className:"items-container",children:p.map(((e,t)=>{var n,r;return(0,jg.jsxs)("div",{className:"item-card",children:[void 0!==e.name&&(0,jg.jsx)("div",{className:"item-name",children:(0,jg.jsx)("input",{type:"text",className:"item-name-input",value:e.name,onChange:e=>x(t,{name:e.target.value}),placeholder:"Item name"})}),(0,jg.jsxs)("div",{className:"item-controls",children:[(0,jg.jsx)("button",{className:"btn btn-danger btn-sm btn-remove",onClick:()=>(e=>{f((t=>{const n=[...t];return n.splice(e,1),n}))})(t),children:"\xd7"}),(0,jg.jsxs)("div",{className:"control-group",children:[(0,jg.jsx)("label",{className:"control-label",children:"Cost"}),(0,jg.jsxs)("div",{className:"currency-input-wrapper",children:[(0,jg.jsx)("span",{className:"currency-symbol",children:"$"}),(0,jg.jsx)("input",{className:"form-control form-control-sm currency-input",name:"cost".concat(t),type:"text",inputMode:"decimal",value:null!==(n=e.cost)&&void 0!==n?n:"",onChange:e=>{const n=e.target.value.trim(),r=Number.parseFloat(n);x(t,{cost:""===n||isNaN(r)?void 0:r})},placeholder:"0.00"})]})]}),(0,jg.jsx)(Mg,{label:"Split?",value:null!==(r=e.totalPortions)&&void 0!==r?r:1,maxSplit:E,onChange:e=>x(t,{totalPortions:e}),justMeText:"1 person"})]})]},e.id)}))}),(0,jg.jsx)("button",{className:"btn btn-secondary btn-add-item",onClick:()=>{f((e=>[...e,(0,o.T)()]))},children:"+ Add Item"}),(0,jg.jsx)("div",{className:"wizard-nav",children:(0,jg.jsx)("button",{className:"btn btn-primary btn-wizard-next",onClick:()=>S(2),children:"Next"})})]}),2===u&&(0,jg.jsxs)("div",{className:"wizard-step",children:[(0,jg.jsx)("h2",{className:"wizard-step-title",children:"Confirm Bill Details"}),(0,jg.jsx)("p",{className:"wizard-step-description",children:"Review and edit the bill totals if needed"}),(0,jg.jsx)(Dg,{subtotal:h,total:g,tip:y,tipIsRate:_,tipIncludedInTotal:k,onSubtotalChange:m,onTotalChange:v,onTipChange:b,onTipIsRateChange:w}),(0,jg.jsxs)("div",{className:"wizard-nav",children:[(0,jg.jsx)("button",{className:"btn btn-outline btn-wizard-back",onClick:()=>S(1),children:"Back"}),(0,jg.jsx)("button",{className:"btn btn-primary btn-wizard-next",onClick:()=>S(3),children:"Next"})]})]}),3===u&&(0,jg.jsxs)("div",{className:"wizard-step",children:[(0,jg.jsx)("h2",{className:"wizard-step-title",children:"Share with Friends"}),(0,jg.jsx)("p",{className:"wizard-step-description",children:"Have your friends scan this QR code or share the link with them"}),(0,jg.jsx)(Hg,{formState:C,showAsStep:!0}),(0,jg.jsx)("div",{className:"wizard-nav",children:(0,jg.jsx)("button",{className:"btn btn-outline btn-wizard-back",onClick:()=>S(2),children:"Back"})})]})]})}const Qg=function(){const{items:e,subtotal:n,setSubtotal:i,total:s,setTotal:l,tip:u,setTip:c,tipIsRate:p,setTipIsRate:f,tipIncludedInTotal:h,isPayingMe:m,setIsPayingMe:g,setItem:v,removeItem:y,addItem:b,populateFormFromReceipt:_,getFormState:w}=d(),{showSettingsModal:k,setShowSettingsModal:x,betaFeaturesEnabled:S,toggleBetaFeatures:C}=function(){const[e,n]=(0,t.useState)(!1),[r,a]=(0,t.useState)("true"===localStorage.getItem("beta_features_enabled"));return{showSettingsModal:e,setShowSettingsModal:n,betaFeaturesEnabled:r,toggleBetaFeatures:e=>{a(e),localStorage.setItem("beta_features_enabled",e.toString())}}}(),{getApiKey:E,saveApiKey:I,deleteApiKey:A}={getApiKey:()=>localStorage.getItem("openrouter_api_key"),saveApiKey:e=>{localStorage.setItem("openrouter_api_key",e)},deleteApiKey:()=>!!window.confirm("Are you sure you want to delete your API key?")&&(localStorage.removeItem("openrouter_api_key"),!0)},[T,N]=t.useState(!1),P=t.useRef(null),{isProcessingReceipt:O,receiptError:j,handleReceiptUploadClick:z,handleReceiptUpload:R}=function(e){let{onPopulateForm:n,onApiKeyMissing:r,onUploadSuccess:a}=e;const[o,i]=(0,t.useState)(!1),[s,l]=(0,t.useState)();return{isProcessingReceipt:o,receiptError:s,handleReceiptUploadClick:()=>{if(!localStorage.getItem("openrouter_api_key"))return void r();const e=document.getElementById("receipt-upload");null===e||void 0===e||e.click()},handleReceiptUpload:async e=>{var t;const r=null===(t=e.target.files)||void 0===t?void 0:t[0];if(!r)return;const o=localStorage.getItem("openrouter_api_key");if(o){i(!0),l(void 0);try{console.log("Receipt selected:",r.name,r.type);const e=await Pg(r,o);n(e),null===a||void 0===a||a()}catch(s){console.error("Error processing receipt:",s),l(s instanceof Error?s.message:"Failed to process receipt")}finally{i(!1),e.target.value=""}}else e.target.value=""}}}({onPopulateForm:_,onApiKeyMissing:()=>N(!0),onUploadSuccess:()=>{"calculator"===L?P.current="calculator":"creator"===L&&(P.current="creator")}}),{getShareUrl:M}=Og({getFormState:w});t.useEffect((()=>{if(P.current&&e.length>0){const e=P.current;P.current=null;const t=M(),n=new URL(t);"calculator"===e?n.searchParams.set("calculator","true"):"creator"===e&&n.searchParams.set("mode","creator-wizard"),window.location.href=n.toString()}}),[e,M]);const F=S,L=t.useMemo((()=>{const e=new URLSearchParams(window.location.search);if("creator-wizard"===e.get("mode")||"creator"===e.get("mode")&&e.has("data"))return"creator-wizard";if(e.has("data")&&!e.has("mode")&&"true"!==e.get("calculator"))return"friend";if(e.has("data")&&"true"===e.get("calculator"))return"calculator-wizard";const t=e.get("mode");return"creator"===t||"calculator"===t?t:"landing"}),[]),[D,U]=t.useState(!1),[B,Z]=t.useState(!1),V=r({items:e,subtotal:n,total:s,tip:u,tipIsRate:p,tipIncludedInTotal:h}),q=Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(V),$=q.substring(1),H=encodeURIComponent("dinner-debt");return(0,jg.jsxs)("div",{className:"app-container",children:[(0,jg.jsxs)("header",{className:"app-header",children:[(0,jg.jsx)("button",{className:"settings-button",onClick:()=>x(!0),title:"Settings",children:(0,jg.jsxs)("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,jg.jsx)("path",{d:"M12 15C13.6569 15 15 13.6569 15 12C15 10.3431 13.6569 9 12 9C10.3431 9 9 10.3431 9 12C9 13.6569 10.3431 15 12 15Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,jg.jsx)("path",{d:"M19.4 15C19.2669 15.3016 19.2272 15.6362 19.286 15.9606C19.3448 16.285 19.4995 16.5843 19.73 16.82L19.79 16.88C19.976 17.0657 20.1235 17.2863 20.2241 17.5291C20.3248 17.7719 20.3766 18.0322 20.3766 18.295C20.3766 18.5578 20.3248 18.8181 20.2241 19.0609C20.1235 19.3037 19.976 19.5243 19.79 19.71C19.6043 19.896 19.3837 20.0435 19.1409 20.1441C18.8981 20.2448 18.6378 20.2966 18.375 20.2966C18.1122 20.2966 17.8519 20.2448 17.6091 20.1441C17.3663 20.0435 17.1457 19.896 16.96 19.71L16.9 19.65C16.6643 19.4195 16.365 19.2648 16.0406 19.206C15.7162 19.1472 15.3816 19.1869 15.08 19.32C14.7842 19.4468 14.532 19.6572 14.3543 19.9255C14.1766 20.1938 14.0813 20.5082 14.08 20.83V21C14.08 21.5304 13.8693 22.0391 13.4942 22.4142C13.1191 22.7893 12.6104 23 12.08 23C11.5496 23 11.0409 22.7893 10.6658 22.4142C10.2907 22.0391 10.08 21.5304 10.08 21V20.91C10.0723 20.579 9.96512 20.258 9.77251 19.9887C9.5799 19.7194 9.31074 19.5143 9 19.4C8.69838 19.2669 8.36381 19.2272 8.03941 19.286C7.71502 19.3448 7.41568 19.4995 7.18 19.73L7.12 19.79C6.93425 19.976 6.71368 20.1235 6.47088 20.2241C6.22808 20.3248 5.96783 20.3766 5.705 20.3766C5.44217 20.3766 5.18192 20.3248 4.93912 20.2241C4.69632 20.1235 4.47575 19.976 4.29 19.79C4.10405 19.6043 3.95653 19.3837 3.85588 19.1409C3.75523 18.8981 3.70343 18.6378 3.70343 18.375C3.70343 18.1122 3.75523 17.8519 3.85588 17.6091C3.95653 17.3663 4.10405 17.1457 4.29 16.96L4.35 16.9C4.58054 16.6643 4.73519 16.365 4.794 16.0406C4.85282 15.7162 4.81312 15.3816 4.68 15.08C4.55324 14.7842 4.34276 14.532 4.07447 14.3543C3.80618 14.1766 3.49179 14.0813 3.17 14.08H3C2.46957 14.08 1.96086 13.8693 1.58579 13.4942C1.21071 13.1191 1 12.6104 1 12.08C1 11.5496 1.21071 11.0409 1.58579 10.6658C1.96086 10.2907 2.46957 10.08 3 10.08H3.09C3.42099 10.0723 3.742 9.96512 4.0113 9.77251C4.28059 9.5799 4.48572 9.31074 4.6 9C4.73312 8.69838 4.77282 8.36381 4.714 8.03941C4.65519 7.71502 4.50054 7.41568 4.27 7.18L4.21 7.12C4.02405 6.93425 3.87653 6.71368 3.77588 6.47088C3.67523 6.22808 3.62343 5.96783 3.62343 5.705C3.62343 5.44217 3.67523 5.18192 3.77588 4.93912C3.87653 4.69632 4.02405 4.47575 4.21 4.29C4.39575 4.10405 4.61632 3.95653 4.85912 3.85588C5.10192 3.75523 5.36217 3.70343 5.625 3.70343C5.88783 3.70343 6.14808 3.75523 6.39088 3.85588C6.63368 3.95653 6.85425 4.10405 7.04 4.29L7.1 4.35C7.33568 4.58054 7.63502 4.73519 7.95941 4.794C8.28381 4.85282 8.61838 4.81312 8.92 4.68H9C9.29577 4.55324 9.54802 4.34276 9.72569 4.07447C9.90337 3.80618 9.99872 3.49179 10 3.17V3C10 2.46957 10.2107 1.96086 10.5858 1.58579C10.9609 1.21071 11.4696 1 12 1C12.5304 1 13.0391 1.21071 13.4142 1.58579C13.7893 1.96086 14 2.46957 14 3V3.09C14.0013 3.41179 14.0966 3.72618 14.2743 3.99447C14.452 4.26276 14.7042 4.47324 15 4.6C15.3016 4.73312 15.6362 4.77282 15.9606 4.714C16.285 4.65519 16.5843 4.50054 16.82 4.27L16.88 4.21C17.0657 4.02405 17.2863 3.87653 17.5291 3.77588C17.7719 3.67523 18.0322 3.62343 18.295 3.62343C18.5578 3.62343 18.8181 3.67523 19.0609 3.77588C19.3037 3.87653 19.5243 4.02405 19.71 4.21C19.896 4.39575 20.0435 4.61632 20.1441 4.85912C20.2448 5.10192 20.2966 5.36217 20.2966 5.625C20.2966 5.88783 20.2448 6.14808 20.1441 6.39088C20.0435 6.63368 19.896 6.85425 19.71 7.04L19.65 7.1C19.4195 7.33568 19.2648 7.63502 19.206 7.95941C19.1472 8.28381 19.1869 8.61838 19.32 8.92V9C19.4468 9.29577 19.6572 9.54802 19.9255 9.72569C20.1938 9.90337 20.5082 9.99872 20.83 10H21C21.5304 10 22.0391 10.2107 22.4142 10.5858C22.7893 10.9609 23 11.4696 23 12C23 12.5304 22.7893 13.0391 22.4142 13.4142C22.0391 13.7893 21.5304 14 21 14H20.91C20.5882 14.0013 20.2738 14.0966 20.0055 14.2743C19.7372 14.452 19.5268 14.7042 19.4 15Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]})}),(0,jg.jsx)("h1",{className:"app-title",children:"Dinner Debt"}),(0,jg.jsx)("p",{className:"app-description",children:"Calculate how much you owe someone for dinner, including your portion of the tax and tip based on what you ordered."})]}),"landing"===L?(0,jg.jsx)(Bg,{}):"creator"!==L||B?"creator-wizard"===L||"creator"===L&&B?(0,jg.jsx)(Wg,{initialItems:e,initialSubtotal:n,initialTotal:s,initialTip:u,initialTipIsRate:p,initialTipIncludedInTotal:h}):"calculator"!==L||D?"friend"===L?(0,jg.jsx)(Ug,{items:e,subtotal:n,total:s,tip:u,tipIsRate:p,tipIncludedInTotal:h,isPayingMe:m}):"calculator-wizard"===L?(0,jg.jsx)(Ug,{items:e,subtotal:n,total:s,tip:u,tipIsRate:p,tipIncludedInTotal:h,isPayingMe:m,isCalculatorMode:!0}):(0,jg.jsxs)(jg.Fragment,{children:[(0,jg.jsxs)("section",{className:"form-section",children:[(0,jg.jsx)("h2",{className:"section-title",children:"Items"}),(0,jg.jsx)("div",{className:"items-container",children:e.map(((t,n)=>{var r,a,i;const s=Math.max(8,...e.map((e=>{var t;return Math.abs(null!==(t=e.totalPortions)&&void 0!==t?t:1)})));return(0,jg.jsxs)("div",{className:"item-card",children:[t.name&&(0,jg.jsx)("div",{className:"item-name",children:(0,jg.jsx)("input",{type:"text",className:"item-name-input",value:t.name,onChange:e=>v(n,{name:e.target.value}),placeholder:"Item name"})}),(0,jg.jsxs)("div",{className:"item-controls",children:[(0,jg.jsx)("button",{className:"btn btn-danger btn-sm btn-remove",onClick:()=>y(n),children:"\xd7"}),(0,jg.jsxs)("div",{className:"control-group",children:[(0,jg.jsx)("label",{className:"control-label",children:"Cost"}),(0,jg.jsxs)("div",{className:"currency-input-wrapper",children:[(0,jg.jsx)("span",{className:"currency-symbol",children:"$"}),(0,jg.jsx)("input",{className:"form-control form-control-sm currency-input",name:"cost".concat(n),type:"text",inputMode:"decimal",value:null!==(r=t.cost)&&void 0!==r?r:"",onChange:e=>v(n,{cost:(0,o.s)(e.target.value,1)}),placeholder:"0.00"})]})]}),(0,jg.jsx)(Fg,{totalPortions:null!==(a=t.totalPortions)&&void 0!==a?a:1,portionsPaying:null!==(i=t.portionsPaying)&&void 0!==i?i:1,maxSplit:s,onTotalPortionsChange:e=>{var r;const a=Math.min(null!==(r=t.portionsPaying)&&void 0!==r?r:1,Math.abs(e));v(n,{totalPortions:e,portionsPaying:a})},onPortionsPayingChange:e=>{v(n,{portionsPaying:e})}})]})]},t.id)}))}),(0,jg.jsxs)("div",{className:"action-buttons-container",children:[(0,jg.jsxs)("div",{className:"action-buttons",children:[F&&(0,jg.jsxs)(jg.Fragment,{children:[(0,jg.jsx)("input",{type:"file",id:"receipt-upload",accept:"image/jpeg,image/jpg,image/png,image/webp,image/gif",onChange:R,style:{display:"none"},disabled:O}),(0,jg.jsx)("button",{className:"btn btn-outline upload-button ".concat(O?"disabled":""),onClick:z,disabled:O,children:O?"Processing...":"\ud83d\udcf8 Upload Receipt (beta)"})]}),(0,jg.jsx)("button",{className:"btn btn-primary",onClick:()=>b(),children:"Add Item"})]}),j&&(0,jg.jsx)("div",{className:"error-message",children:j})]})]}),(0,jg.jsxs)("section",{className:"form-section",children:[(0,jg.jsx)("h2",{className:"section-title",children:"Bill Details"}),(0,jg.jsx)(Dg,{subtotal:n,total:s,tip:u,tipIsRate:p,tipIncludedInTotal:h,onSubtotalChange:i,onTotalChange:l,onTipChange:c,onTipIsRateChange:f})]}),(0,jg.jsxs)("section",{className:"result-section",children:[(0,jg.jsx)("h2",{className:"section-title",children:"Result"}),(0,jg.jsxs)("div",{className:"result-amount",children:["You owe: ",q]}),(0,jg.jsxs)("div",{className:"form-group",children:[(0,jg.jsx)("p",{children:"Are you paying Mike Delmonaco?"}),(0,jg.jsxs)("div",{className:"radio-group",children:[(0,jg.jsxs)("label",{className:"radio-label",children:[(0,jg.jsx)("input",{className:"radio-input",name:"not-paying-me",type:"radio",checked:!m,onChange:()=>{},onClick:()=>g(!1)}),"No"]}),(0,jg.jsxs)("label",{className:"radio-label",children:[(0,jg.jsx)("input",{className:"radio-input",name:"paying-me",type:"radio",checked:m,onChange:()=>{},onClick:()=>g(!0)}),"Yes"]})]})]}),m?(0,jg.jsx)("a",{className:"action-button venmo-button",href:a($,H,"Mike-Delmonaco"),children:"Pay Mike Delmonaco with Venmo"}):(0,jg.jsx)("a",{className:"action-button venmo-button",href:a($,H),children:"Pay with Venmo"})]}),"calculator"!==L&&"creator"!==L&&!D&&!B&&(0,jg.jsx)(Hg,{getFormState:w})]}):(0,jg.jsx)(Zg,{receiptUploadEnabled:F,onReceiptUploadClick:z,onManualEntryClick:()=>U(!0),isProcessingReceipt:O,receiptError:null!==j&&void 0!==j?j:null,onReceiptUpload:R}):(0,jg.jsx)(Vg,{receiptUploadEnabled:F,onReceiptUploadClick:z,onManualEntryClick:()=>Z(!0),isProcessingReceipt:O,receiptError:null!==j&&void 0!==j?j:null,onReceiptUpload:R}),(0,jg.jsxs)("footer",{className:"app-footer",children:["Created by Mike Delmonaco",(0,jg.jsx)("br",{}),(0,jg.jsx)("a",{href:"https://github.com/quasarbright/dinner-debt",children:"Source Code"})]}),(0,jg.jsx)(zg,{show:T,onClose:()=>N(!1),onSave:e=>{I(e),N(!1)}}),(0,jg.jsx)(Rg,{show:k,onClose:()=>x(!1),betaFeaturesEnabled:S,onToggleBetaFeatures:C,apiKey:E(),onSaveApiKey:I,onDeleteApiKey:A})]})},Kg=e=>{e&&e instanceof Function&&__webpack_require__.e(453).then(__webpack_require__.bind(__webpack_require__,453)).then((t=>{let{getCLS:n,getFID:r,getFCP:a,getLCP:o,getTTFB:i}=t;n(e),r(e),a(e),o(e),i(e)}))};n.createRoot(document.getElementById("root")).render((0,jg.jsx)(t.StrictMode,{children:(0,jg.jsx)(Qg,{})})),Kg()})()})();
//# sourceMappingURL=main.80cbd480.js.map