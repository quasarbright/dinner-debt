/*! For license information please see main.0c56caf0.js.LICENSE.txt */
(()=>{var __webpack_modules__={772:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var _Users_mdelmonaco_GitHub_dinner_debt_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(555),react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(43),_App_css__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(50),react_qr_code__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(245),_receiptProcessor__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(623),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(579);function emptyItem(){return{portionsPaying:1,totalPortions:1,id:crypto.randomUUID()}}function isMobileDevice(){return/iPhone|iPad|iPod|Android/i.test(navigator.userAgent)}function getVenmoUrl(e,t,n){if(isMobileDevice()){const r="venmo://paycharge?txn=pay",a="amount=".concat(e,"&note=").concat(t);return n?"".concat(r,"&").concat(a,"&recipients=").concat(n):"".concat(r,"&").concat(a)}{const r="https://venmo.com/?txn=pay",a="amount=".concat(e,"&note=").concat(t);return n?"".concat(r,"&").concat(a,"&recipients=@").concat(n):"".concat(r,"&").concat(a)}}function encodeFormState(e){try{const t=JSON.stringify(e);return btoa(t)}catch(t){return console.error("Failed to encode form state:",t),""}}function decodeFormState(e){try{const t=atob(e);return JSON.parse(t)}catch(t){return console.error("Failed to decode form state:",t),null}}function App(){const[e,t]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)([emptyItem()]),[n,r]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(),[a,o]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(),[i,s]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(20),[l,u]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(!0),[c,d]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(!1),[p,f]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(!1),[h,m]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(!1),[g,v]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(!1),[y,_]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(),[b,w]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(!1),[k,A]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(""),[x,E]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(!1),S=new URLSearchParams(window.location.search).has("receipt-upload-enabled")||!!localStorage.getItem("openrouter_api_key");(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((()=>{const e=new URLSearchParams(window.location.search).get("data");if(e){const n=decodeFormState(e);n&&(t(n.items.map((e=>(0,_Users_mdelmonaco_GitHub_dinner_debt_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_5__.A)((0,_Users_mdelmonaco_GitHub_dinner_debt_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_5__.A)({},e),{},{id:e.id||crypto.randomUUID()})))),r(n.subtotal),o(n.total),s(n.tip),u(n.tipIsRate),d(n.tipIncludedInTotal),f(n.isPayingMe))}}),[]);const I=(t=>{let r=0;for(const{cost:n,portionsPaying:a,totalPortions:i}of e){r+=(null!==n&&void 0!==n?n:0)*((null!==a&&void 0!==a?a:1)/Math.max(1,Math.abs(null!==i&&void 0!==i?i:1)))}const o=l?(null!==(t=null!==a&&void 0!==a?a:n)&&void 0!==t?t:r)*i/100:i;if(!n&&!r)return 0;return r+((null!==a&&void 0!==a?a:r)-(null!==n&&void 0!==n?n:r)+o)*(r/(null!==n&&void 0!==n?n:r))})();function C(e,n){t((t=>{const r=t.slice();return r[e]=(0,_Users_mdelmonaco_GitHub_dinner_debt_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_5__.A)((0,_Users_mdelmonaco_GitHub_dinner_debt_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_5__.A)({},t[e]),n),r}))}function T(){k.trim()&&(localStorage.setItem("openrouter_api_key",k.trim()),w(!1),A(""))}function O(){const t=encodeFormState({items:e,subtotal:n,total:a,tip:i,tipIsRate:l,tipIncludedInTotal:c,isPayingMe:p});return"".concat(window.location.origin).concat(window.location.pathname,"?data=").concat(t)}async function P(){const e=O();try{await navigator.clipboard.writeText(e),E(!0),setTimeout((()=>E(!1)),2e3)}catch(t){console.error("Failed to copy link:",t)}}const M=Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(I),N=M.substring(1),R=encodeURIComponent("dinner-debt");return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"app-container",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("header",{className:"app-header",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("h1",{className:"app-title",children:"Dinner Debt"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("p",{className:"app-description",children:"Calculate how much you owe someone for dinner, including your portion of the tax and tip based on what you ordered."})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("section",{className:"form-section",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("h2",{className:"section-title",children:"Items"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("div",{className:"items-container",children:e.map(((n,r)=>{var a,o,i,s,l,u;const c=Math.max(8,...e.map((e=>{var t;return Math.abs(null!==(t=e.totalPortions)&&void 0!==t?t:1)})));return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"item-card",children:[n.name&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("div",{className:"item-name",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("input",{type:"text",className:"item-name-input",value:n.name,onChange:e=>C(r,{name:e.target.value}),placeholder:"Item name"})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"item-controls",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("button",{className:"btn btn-danger btn-sm btn-remove",onClick:()=>function(e){t((t=>{const n=t.slice();return n.splice(e,1),n}))}(r),children:"\xd7"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"control-group",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("label",{className:"control-label",children:"Cost"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"currency-input-wrapper",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("span",{className:"currency-symbol",children:"$"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("input",{className:"form-control form-control-sm currency-input",name:"cost".concat(r),type:"text",inputMode:"decimal",value:null!==(a=n.cost)&&void 0!==a?a:"",onChange:e=>C(r,{cost:safeEval(e.target.value,1)}),placeholder:"0.00"})]})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"control-group",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("label",{className:"control-label",children:"Split?"}),(null!==(o=n.totalPortions)&&void 0!==o?o:1)<0||0===n.totalPortions?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("input",{className:"form-control form-control-sm",type:"number",inputMode:"numeric",value:0===n.totalPortions?"":Math.abs(null!==(i=n.totalPortions)&&void 0!==i?i:1),onChange:e=>{var t;const a=e.target.value,o=""===a?0:Number(a),i=Math.max(1,o),s=Math.min(null!==(t=n.portionsPaying)&&void 0!==t?t:1,i);C(r,{totalPortions:0===o?0:-Math.abs(o),portionsPaying:s})}}):(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("select",{className:"form-control portion-select",value:null!==(s=n.totalPortions)&&void 0!==s?s:1,onChange:e=>{const t=e.target.value;if("more"===t){var a;const e=c+1,t=Math.min(null!==(a=n.portionsPaying)&&void 0!==a?a:1,e);C(r,{totalPortions:-e,portionsPaying:t})}else{var o;const e=Number(t),a=Math.min(null!==(o=n.portionsPaying)&&void 0!==o?o:1,e);C(r,{totalPortions:e,portionsPaying:a})}},children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("option",{value:1,children:"Just me"}),Array.from({length:c-1},((e,t)=>t+2)).map((e=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("option",{value:e,children:[e," people"]},e))),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("option",{value:"more",children:"...more"})]})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"control-group",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("label",{className:"control-label",children:"Paying for"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("select",{className:"form-control portion-select",value:null!==(l=n.portionsPaying)&&void 0!==l?l:1,onChange:e=>C(r,{portionsPaying:Number(e.target.value)}),children:Array.from({length:Math.max(1,Math.abs(null!==(u=n.totalPortions)&&void 0!==u?u:1))},((e,t)=>t+1)).map((e=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("option",{value:e,children:1===e?"Just me":"".concat(e," people")},e)))})]})]})]},n.id)}))}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"action-buttons-container",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"action-buttons",children:[S&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.Fragment,{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("input",{type:"file",id:"receipt-upload",accept:"image/jpeg,image/jpg,image/png,image/webp,image/gif",capture:"environment",onChange:async function(e){var n;const a=null===(n=e.target.files)||void 0===n?void 0:n[0];if(!a)return;const i=localStorage.getItem("openrouter_api_key");if(!i)return w(!0),void(e.target.value="");v(!0),_(void 0);try{console.log("Receipt selected:",a.name,a.type);!function(e){const n=e.items.map((e=>({name:e.name,cost:e.cost,portionsPaying:1,totalPortions:1,id:crypto.randomUUID()})));t(n),e.subtotal&&r(e.subtotal);e.total&&o(e.total);e.tipIncludedInTotal?(s(0),d(!0)):e.tip?(s(e.tip),u(!1),d(!1)):d(!1);console.log("Form populated successfully")}(await(0,_receiptProcessor__WEBPACK_IMPORTED_MODULE_3__.C)(a,i))}catch(l){console.error("Error processing receipt:",l),_(l instanceof Error?l.message:"Failed to process receipt")}finally{v(!1),e.target.value=""}},style:{display:"none"},disabled:g}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("label",{htmlFor:"receipt-upload",className:"btn btn-outline upload-button ".concat(g?"disabled":""),children:g?"Processing...":"\ud83d\udcf8 Upload Receipt (beta)"})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("button",{className:"btn btn-primary",onClick:()=>{t((e=>[...e,{portionsPaying:1,totalPortions:1,id:crypto.randomUUID()}]))},children:"Add Item"})]}),y&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("div",{className:"error-message",children:y})]})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("section",{className:"form-section",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("h2",{className:"section-title",children:"Bill Details"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"form-group",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("label",{className:"form-label",htmlFor:"sub",children:"Subtotal (Whole Bill)"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"currency-input-wrapper",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("span",{className:"currency-symbol",children:"$"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("input",{className:"form-control form-control-sm currency-input",name:"sub",type:"text",inputMode:"decimal",value:null!==n&&void 0!==n?n:"",onChange:e=>r(Number.parseFloat(e.target.value)),placeholder:"0.00"})]})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"form-group",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("label",{className:"form-label",htmlFor:"total",children:"Total (Whole Bill)"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"currency-input-wrapper",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("span",{className:"currency-symbol",children:"$"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("input",{className:"form-control form-control-sm currency-input",name:"total",type:"text",inputMode:"decimal",value:null!==a&&void 0!==a?a:"",onChange:e=>o(Number.parseFloat(e.target.value)),placeholder:"0.00"})]})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"form-group",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("label",{className:"form-label",htmlFor:"tip",children:["Tip",c&&" *"]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:l?"percent-input-wrapper":"currency-input-wrapper",style:{marginRight:"0.5rem"},children:[!l&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("span",{className:"currency-symbol",children:"$"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("input",{className:"form-control form-control-sm ".concat(l?"percent-input":"currency-input"),name:"tip",type:"number",inputMode:"decimal",value:i,onChange:e=>s(Number.parseFloat(e.target.value))}),l&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("span",{className:"percent-symbol",children:"%"})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"radio-group",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("label",{className:"radio-label",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("input",{className:"radio-input",name:"tipIsRate",type:"radio",checked:l,onClick:()=>u(!0)}),"percent"]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("label",{className:"radio-label",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("input",{className:"radio-input",name:"tipisFlat",type:"radio",checked:!l,onClick:()=>u(!1)}),"flat amount"]})]})]}),c&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("div",{className:"tip-included-notice",children:"* Gratuity is already included in the total"})]})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("section",{className:"result-section",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("h2",{className:"section-title",children:"Result"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"result-amount",children:["You owe: ",M]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"form-group",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("p",{children:"Are you paying Mike Delmonaco?"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"radio-group",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("label",{className:"radio-label",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("input",{className:"radio-input",name:"not-paying-me",type:"radio",checked:!p,onClick:()=>f(!1)}),"No"]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("label",{className:"radio-label",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("input",{className:"radio-input",name:"paying-me",type:"radio",checked:p,onClick:()=>f(!0)}),"Yes"]})]})]}),p?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("a",{className:"action-button venmo-button",href:getVenmoUrl(N,R,"Mike-Delmonaco"),children:"Pay Mike Delmonaco with Venmo"}):(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("a",{className:"action-button venmo-button",href:getVenmoUrl(N,R),children:"Pay with Venmo"})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("section",{className:"form-section",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("div",{className:"qr-toggle",onClick:()=>m((e=>!e)),children:h?"\u25bc Hide QR Code":"\u25b6 Show QR Code"}),h&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"qr-container",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(react_qr_code__WEBPACK_IMPORTED_MODULE_2__.Ay,{value:O(),bgColor:"var(--background-secondary)",fgColor:"#dcddde",level:"M",style:{width:"100%",height:"auto",maxWidth:"400px"}}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{style:{marginTop:"1rem",display:"flex",gap:"0.5rem",justifyContent:"center"},children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("button",{className:"btn btn-primary",onClick:P,style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("span",{children:"Copy Link"}),x?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("path",{d:"M13.5 4L6 11.5L2.5 8",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}):(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("rect",{x:"5",y:"4",width:"9",height:"11",rx:"1",stroke:"currentColor",strokeWidth:"1.5",fill:"none"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("path",{d:"M4 12H3C2.44772 12 2 11.5523 2 11V2C2 1.44772 2.44772 1 3 1H9C9.55228 1 10 1.44772 10 2V3",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round"})]})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("button",{className:"btn btn-primary",onClick:async function(){const e=O();try{navigator.share?await navigator.share({title:"Dinner Debt",text:"Split the bill with me",url:e}):await P()}catch(t){console.error("Failed to share:",t)}},style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("span",{children:"Share"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("path",{d:"M3 7V14C3 14.5523 3.44772 15 4 15H12C12.5523 15 13 14.5523 13 14V7",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("path",{d:"M8 10V2M8 2L5.5 4.5M8 2L10.5 4.5",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]})]})]})]})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("footer",{className:"app-footer",children:["Created by Mike Delmonaco",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("br",{}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("a",{href:"https://github.com/quasarbright/dinner-debt",children:"Source Code"})]}),b&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("div",{className:"modal-overlay",onClick:()=>w(!1),children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"modal-content",onClick:e=>e.stopPropagation(),children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("h2",{className:"modal-title",children:"OpenRouter API Key Required"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("p",{className:"modal-description",children:"To use receipt upload, you need an OpenRouter API key. This will likely incur costs to your OpenRouter account."}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"modal-warning",children:["\u26a0\ufe0f ",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("strong",{children:"Security Warning:"})," Your API key will be stored in your browser's localStorage. This is NOT secure storage. Only paste your key if you understand the risk."]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("input",{type:"password",className:"form-control api-key-input",placeholder:"sk-or-v1-...",value:k,onChange:e=>A(e.target.value),onKeyDown:e=>"Enter"===e.key&&T()}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"modal-actions",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("button",{className:"btn btn-outline",onClick:()=>{w(!1),A("")},children:"Cancel"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("button",{className:"btn btn-primary",onClick:T,disabled:!k.trim(),children:"Save Key"})]})]})})]})}function safeEval(expr,defaultValue){try{return eval(expr)}catch(ignored){return defaultValue}}const __WEBPACK_DEFAULT_EXPORT__=App},623:(e,t,n)=>{"use strict";n.d(t,{C:()=>xg});var r={};function a(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}n.r(r),n.d(r,{base64:()=>Qt,base64url:()=>Jt,bigint:()=>sn,boolean:()=>cn,browserEmail:()=>Zt,cidrv4:()=>Kt,cidrv6:()=>Ht,cuid:()=>xt,cuid2:()=>Et,date:()=>tn,datetime:()=>an,domain:()=>Yt,duration:()=>Ot,e164:()=>Xt,email:()=>jt,emoji:()=>qt,extendedDuration:()=>Pt,guid:()=>Mt,hex:()=>mn,hostname:()=>Gt,html5Email:()=>Lt,idnEmail:()=>Bt,integer:()=>ln,ipv4:()=>Vt,ipv6:()=>$t,ksuid:()=>Ct,lowercase:()=>fn,md5_base64:()=>_n,md5_base64url:()=>bn,md5_hex:()=>yn,nanoid:()=>Tt,null:()=>dn,number:()=>un,rfc5322Email:()=>Ft,sha1_base64:()=>kn,sha1_base64url:()=>An,sha1_hex:()=>wn,sha256_base64:()=>En,sha256_base64url:()=>Sn,sha256_hex:()=>xn,sha384_base64:()=>Cn,sha384_base64url:()=>Tn,sha384_hex:()=>In,sha512_base64:()=>Pn,sha512_base64url:()=>Mn,sha512_hex:()=>On,string:()=>on,time:()=>rn,ulid:()=>St,undefined:()=>pn,unicodeEmail:()=>Ut,uppercase:()=>hn,uuid:()=>Nt,uuid4:()=>Rt,uuid6:()=>Dt,uuid7:()=>zt,xid:()=>It});var o=n(555);function i(e){var t,n,r,a=2;for("undefined"!=typeof Symbol&&(n=Symbol.asyncIterator,r=Symbol.iterator);a--;){if(n&&null!=(t=e[n]))return t.call(e);if(r&&null!=(t=e[r]))return new s(t.call(e));n="@@asyncIterator",r="@@iterator"}throw new TypeError("Object is not async iterable")}function s(e){function t(e){if(Object(e)!==e)return Promise.reject(new TypeError(e+" is not an object."));var t=e.done;return Promise.resolve(e.value).then((function(e){return{value:e,done:t}}))}return s=function(e){this.s=e,this.n=e.next},s.prototype={s:null,n:null,next:function(){return t(this.n.apply(this.s,arguments))},return:function(e){var n=this.s.return;return void 0===n?Promise.resolve({value:e,done:!0}):t(n.apply(this.s,arguments))},throw:function(e){var n=this.s.return;return void 0===n?Promise.reject(e):t(n.apply(this.s,arguments))}},new s(e)}function l(e,t){this.v=e,this.k=t}function u(e){return new l(e,0)}function c(e){var t,n;function r(t,n){try{var o=e[t](n),i=o.value,s=i instanceof l;Promise.resolve(s?i.v:i).then((function(n){if(s){var l="return"===t?"return":"next";if(!i.k||n.done)return r(l,n);n=e[l](n).value}a(o.done?"return":"normal",n)}),(function(e){r("throw",e)}))}catch(e){a("throw",e)}}function a(e,a){switch(e){case"return":t.resolve({value:a,done:!0});break;case"throw":t.reject(a);break;default:t.resolve({value:a,done:!1})}(t=t.next)?r(t.key,t.arg):n=null}this._invoke=function(e,a){return new Promise((function(o,i){var s={key:e,arg:a,resolve:o,reject:i,next:null};n?n=n.next=s:(t=n=s,r(e,a))}))},"function"!=typeof e.return&&(this.return=void 0)}c.prototype["function"==typeof Symbol&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},c.prototype.next=function(e){return this._invoke("next",e)},c.prototype.throw=function(e){return this._invoke("throw",e)},c.prototype.return=function(e){return this._invoke("return",e)};var d,p="vercel.ai.error",f=Symbol.for(p),h=class e extends Error{constructor(e){let{name:t,message:n,cause:r}=e;super(n),this[d]=!0,this.name=t,this.cause=r}static isInstance(t){return e.hasMarker(t,p)}static hasMarker(e,t){const n=Symbol.for(t);return null!=e&&"object"===typeof e&&n in e&&"boolean"===typeof e[n]&&!0===e[n]}};d=f;var m,g=h,v="AI_APICallError",y="vercel.ai.error.".concat(v),_=Symbol.for(y),b=class extends g{constructor(e){let{message:t,url:n,requestBodyValues:r,statusCode:a,responseHeaders:o,responseBody:i,cause:s,isRetryable:l=null!=a&&(408===a||409===a||429===a||a>=500),data:u}=e;super({name:v,message:t,cause:s}),this[m]=!0,this.url=n,this.requestBodyValues=r,this.statusCode=a,this.responseHeaders=o,this.responseBody=i,this.isRetryable=l,this.data=u}static isInstance(e){return g.hasMarker(e,y)}};m=_;var w,k="AI_EmptyResponseBodyError",A="vercel.ai.error.".concat(k),x=Symbol.for(A),E=class extends g{constructor(){let{message:e="Empty response body"}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super({name:k,message:e}),this[w]=!0}static isInstance(e){return g.hasMarker(e,A)}};function S(e){return null==e?"unknown error":"string"===typeof e?e:e instanceof Error?e.message:JSON.stringify(e)}w=x;var I,C="AI_InvalidArgumentError",T="vercel.ai.error.".concat(C),O=Symbol.for(T),P=class extends g{constructor(e){let{message:t,cause:n,argument:r}=e;super({name:C,message:t,cause:n}),this[I]=!0,this.argument=r}static isInstance(e){return g.hasMarker(e,T)}};I=O;var M,N="AI_InvalidPromptError",R="vercel.ai.error.".concat(N),D=Symbol.for(R),z=class extends g{constructor(e){let{prompt:t,message:n,cause:r}=e;super({name:N,message:"Invalid prompt: ".concat(n),cause:r}),this[M]=!0,this.prompt=t}static isInstance(e){return g.hasMarker(e,R)}};M=D;var j,L="AI_InvalidResponseDataError",F="vercel.ai.error.".concat(L),U=Symbol.for(F),B=class extends g{constructor(e){let{data:t,message:n="Invalid response data: ".concat(JSON.stringify(t),".")}=e;super({name:L,message:n}),this[j]=!0,this.data=t}static isInstance(e){return g.hasMarker(e,F)}};j=U;var Z,W="AI_JSONParseError",q="vercel.ai.error.".concat(W),V=Symbol.for(q),$=class extends g{constructor(e){let{text:t,cause:n}=e;super({name:W,message:"JSON parsing failed: Text: ".concat(t,".\nError message: ").concat(S(n)),cause:n}),this[Z]=!0,this.text=t}static isInstance(e){return g.hasMarker(e,q)}};Z=V;var K,H="AI_LoadAPIKeyError",Q="vercel.ai.error.".concat(H),J=Symbol.for(Q),G=class extends g{constructor(e){let{message:t}=e;super({name:H,message:t}),this[K]=!0}static isInstance(e){return g.hasMarker(e,Q)}};K=J;var Y="AI_LoadSettingError",X="vercel.ai.error.".concat(Y),ee=Symbol.for(X);var te="AI_NoContentGeneratedError",ne="vercel.ai.error.".concat(te),re=Symbol.for(ne);var ae,oe="AI_NoSuchModelError",ie="vercel.ai.error.".concat(oe),se=Symbol.for(ie),le=class extends g{constructor(e){let{errorName:t=oe,modelId:n,modelType:r,message:a="No such ".concat(r,": ").concat(n)}=e;super({name:t,message:a}),this[ae]=!0,this.modelId=n,this.modelType=r}static isInstance(e){return g.hasMarker(e,ie)}};ae=se;var ue,ce="AI_TooManyEmbeddingValuesForCallError",de="vercel.ai.error.".concat(ce),pe=Symbol.for(de),fe=class extends g{constructor(e){super({name:ce,message:"Too many values for a single embedding call. The ".concat(e.provider,' model "').concat(e.modelId,'" can only embed up to ').concat(e.maxEmbeddingsPerCall," values per call, but ").concat(e.values.length," values were provided.")}),this[ue]=!0,this.provider=e.provider,this.modelId=e.modelId,this.maxEmbeddingsPerCall=e.maxEmbeddingsPerCall,this.values=e.values}static isInstance(e){return g.hasMarker(e,de)}};ue=pe;var he,me="AI_TypeValidationError",ge="vercel.ai.error.".concat(me),ve=Symbol.for(ge);he=ve;var ye,_e=class e extends g{constructor(e){let{value:t,cause:n}=e;super({name:me,message:"Type validation failed: Value: ".concat(JSON.stringify(t),".\nError message: ").concat(S(n)),cause:n}),this[he]=!0,this.value=t}static isInstance(e){return g.hasMarker(e,ge)}static wrap(t){let{value:n,cause:r}=t;return e.isInstance(r)&&r.value===n?r:new e({value:n,cause:r})}},be="AI_UnsupportedFunctionalityError",we="vercel.ai.error.".concat(be),ke=Symbol.for(we),Ae=class extends g{constructor(e){let{functionality:t,message:n="'".concat(t,"' functionality not supported.")}=e;super({name:be,message:n}),this[ye]=!0,this.functionality=t}static isInstance(e){return g.hasMarker(e,we)}};ye=ke;class xe extends Error{constructor(e,t){super(e),this.name="ParseError",this.type=t.type,this.field=t.field,this.value=t.value,this.line=t.line}}function Ee(e){}function Se(e){if("function"==typeof e)throw new TypeError("`callbacks` must be an object, got a function instead. Did you mean `{onEvent: fn}`?");const{onEvent:t=Ee,onError:n=Ee,onRetry:r=Ee,onComment:a}=e;let o,i="",s=!0,l="",u="";function c(e){if(""===e)return l.length>0&&t({id:o,event:u||void 0,data:l.endsWith("\n")?l.slice(0,-1):l}),o=void 0,l="",void(u="");if(e.startsWith(":"))return void(a&&a(e.slice(e.startsWith(": ")?2:1)));const n=e.indexOf(":");if(-1===n)d(e,"",e);else{const t=e.slice(0,n),r=" "===e[n+1]?2:1;d(t,e.slice(n+r),e)}}function d(e,t,a){switch(e){case"event":u=t;break;case"data":l="".concat(l).concat(t,"\n");break;case"id":o=t.includes("\0")?void 0:t;break;case"retry":/^\d+$/.test(t)?r(parseInt(t,10)):n(new xe('Invalid `retry` value: "'.concat(t,'"'),{type:"invalid-retry",value:t,line:a}));break;default:n(new xe('Unknown field "'.concat(e.length>20?"".concat(e.slice(0,20),"\u2026"):e,'"'),{type:"unknown-field",field:e,value:t,line:a}))}}return{feed:function(e){const t=s?e.replace(/^\xEF\xBB\xBF/,""):e,[n,r]=function(e){const t=[];let n="",r=0;for(;r<e.length;){const a=e.indexOf("\r",r),o=e.indexOf("\n",r);let i=-1;if(-1!==a&&-1!==o?i=Math.min(a,o):-1!==a?i=a===e.length-1?-1:a:-1!==o&&(i=o),-1===i){n=e.slice(r);break}{const n=e.slice(r,i);t.push(n),r=i+1,"\r"===e[r-1]&&"\n"===e[r]&&r++}}return[t,n]}("".concat(i).concat(t));for(const a of n)c(a);i=r,s=!1},reset:function(){i&&(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).consume&&c(i),s=!0,o=void 0,l="",u="",i=""}}}class Ie extends TransformStream{constructor(){let e,{onError:t,onRetry:n,onComment:r}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super({start(a){e=Se({onEvent:e=>{a.enqueue(e)},onError(e){"terminate"===t?a.error(e):"function"==typeof t&&t(e)},onRetry:n,onComment:r})},transform(t){e.feed(t)}})}}Object.freeze({status:"aborted"});function Ce(e,t,n){var r;function a(n,r){var a,o,i;Object.defineProperty(n,"_zod",{value:null!==(a=n._zod)&&void 0!==a?a:{},enumerable:!1}),null!==(o=(i=n._zod).traits)&&void 0!==o||(i.traits=new Set),n._zod.traits.add(e),t(n,r);for(const e in s.prototype)e in n||Object.defineProperty(n,e,{value:s.prototype[e].bind(n)});n._zod.constr=s,n._zod.def=r}const o=null!==(r=null===n||void 0===n?void 0:n.Parent)&&void 0!==r?r:Object;class i extends o{}function s(e){var t,r;const o=null!==n&&void 0!==n&&n.Parent?new i:this;a(o,e),null!==(t=(r=o._zod).deferred)&&void 0!==t||(r.deferred=[]);for(const n of o._zod.deferred)n();return o}return Object.defineProperty(i,"name",{value:e}),Object.defineProperty(s,"init",{value:a}),Object.defineProperty(s,Symbol.hasInstance,{value:t=>{var r;return!!(null!==n&&void 0!==n&&n.Parent&&t instanceof n.Parent)||(null===t||void 0===t||null===(r=t._zod)||void 0===r||null===(r=r.traits)||void 0===r?void 0:r.has(e))}}),Object.defineProperty(s,"name",{value:e}),s}Symbol("zod_brand");class Te extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}class Oe extends Error{constructor(e){super("Encountered unidirectional transform during encode: ".concat(e)),this.name="ZodEncodeError"}}const Pe={};function Me(e){return e&&Object.assign(Pe,e),Pe}function Ne(e){const t=Object.values(e).filter((e=>"number"===typeof e));return Object.entries(e).filter((e=>{let[n,r]=e;return-1===t.indexOf(+n)})).map((e=>{let[t,n]=e;return n}))}function Re(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"|";return e.map((e=>Xe(e))).join(t)}function De(e,t){return"bigint"===typeof t?t.toString():t}function ze(e){return{get value(){{const t=e();return Object.defineProperty(this,"value",{value:t}),t}}}}function je(e){return null===e||void 0===e}function Le(e){const t=e.startsWith("^")?1:0,n=e.endsWith("$")?e.length-1:e.length;return e.slice(t,n)}const Fe=Symbol("evaluating");function Ue(e,t,n){let r;Object.defineProperty(e,t,{get(){if(r!==Fe)return void 0===r&&(r=Fe,r=n()),r},set(n){Object.defineProperty(e,t,{value:n})},configurable:!0})}function Be(e,t,n){Object.defineProperty(e,t,{value:n,writable:!0,enumerable:!0,configurable:!0})}function Ze(){const e={};for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const a of n){const t=Object.getOwnPropertyDescriptors(a);Object.assign(e,t)}return Object.defineProperties({},e)}function We(e){return JSON.stringify(e)}const qe="captureStackTrace"in Error?Error.captureStackTrace:function(){};function Ve(e){return"object"===typeof e&&null!==e&&!Array.isArray(e)}const $e=ze((()=>{var e;if("undefined"!==typeof navigator&&null!==(e=navigator)&&void 0!==e&&null!==(e=e.userAgent)&&void 0!==e&&e.includes("Cloudflare"))return!1;try{return new Function(""),!0}catch(t){return!1}}));function Ke(e){if(!1===Ve(e))return!1;const t=e.constructor;if(void 0===t)return!0;const n=t.prototype;return!1!==Ve(n)&&!1!==Object.prototype.hasOwnProperty.call(n,"isPrototypeOf")}function He(e){return Ke(e)?(0,o.A)({},e):Array.isArray(e)?[...e]:e}const Qe=new Set(["string","number","symbol"]);new Set(["string","number","bigint","boolean","symbol","undefined"]);function Je(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function Ge(e,t,n){const r=new e._zod.constr(null!==t&&void 0!==t?t:e._zod.def);return(!t||null!==n&&void 0!==n&&n.parent)&&(r._zod.parent=e),r}function Ye(e){const t=e;if(!t)return{};if("string"===typeof t)return{error:()=>t};if(void 0!==(null===t||void 0===t?void 0:t.message)){if(void 0!==(null===t||void 0===t?void 0:t.error))throw new Error("Cannot specify both `message` and `error` params");t.error=t.message}return delete t.message,"string"===typeof t.error?(0,o.A)((0,o.A)({},t),{},{error:()=>t.error}):t}function Xe(e){return"bigint"===typeof e?e.toString()+"n":"string"===typeof e?'"'.concat(e,'"'):"".concat(e)}const et={safeint:[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],int32:[-2147483648,2147483647],uint32:[0,4294967295],float32:[-34028234663852886e22,34028234663852886e22],float64:[-Number.MAX_VALUE,Number.MAX_VALUE]};function tt(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(!0===e.aborted)return!0;for(let r=t;r<e.issues.length;r++){var n;if(!0!==(null===(n=e.issues[r])||void 0===n?void 0:n.continue))return!0}return!1}function nt(e,t){return t.map((t=>{var n,r;return null!==(n=(r=t).path)&&void 0!==n||(r.path=[]),t.path.unshift(e),t}))}function rt(e){return"string"===typeof e?e:null===e||void 0===e?void 0:e.message}function at(e,t,n){var r;const a=(0,o.A)((0,o.A)({},e),{},{path:null!==(r=e.path)&&void 0!==r?r:[]});if(!e.message){var i,s,l,u,c,d,p,f,h;const r=null!==(i=null!==(s=null!==(l=null!==(u=rt(null===(c=e.inst)||void 0===c||null===(c=c._zod.def)||void 0===c||null===(d=c.error)||void 0===d?void 0:d.call(c,e)))&&void 0!==u?u:rt(null===t||void 0===t||null===(p=t.error)||void 0===p?void 0:p.call(t,e)))&&void 0!==l?l:rt(null===(f=n.customError)||void 0===f?void 0:f.call(n,e)))&&void 0!==s?s:rt(null===(h=n.localeError)||void 0===h?void 0:h.call(n,e)))&&void 0!==i?i:"Invalid input";a.message=r}return delete a.inst,delete a.continue,null!==t&&void 0!==t&&t.reportInput||delete a.input,a}function ot(e){return Array.isArray(e)?"array":"string"===typeof e?"string":"unknown"}function it(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const[r,a,i]=t;return"string"===typeof r?{message:r,code:"custom",input:a,inst:i}:(0,o.A)({},r)}const st=(e,t)=>{e.name="$ZodError",Object.defineProperty(e,"_zod",{value:e._zod,enumerable:!1}),Object.defineProperty(e,"issues",{value:t,enumerable:!1}),e.message=JSON.stringify(t,De,2),Object.defineProperty(e,"toString",{value:()=>e.message,enumerable:!1})},lt=Ce("$ZodError",st),ut=Ce("$ZodError",st,{Parent:Error});const ct=e=>(t,n,r,a)=>{const o=r?Object.assign(r,{async:!1}):{async:!1},i=t._zod.run({value:n,issues:[]},o);if(i instanceof Promise)throw new Te;if(i.issues.length){var s;const t=new(null!==(s=null===a||void 0===a?void 0:a.Err)&&void 0!==s?s:e)(i.issues.map((e=>at(e,o,Me()))));throw qe(t,null===a||void 0===a?void 0:a.callee),t}return i.value},dt=e=>async(t,n,r,a)=>{const o=r?Object.assign(r,{async:!0}):{async:!0};let i=t._zod.run({value:n,issues:[]},o);if(i instanceof Promise&&(i=await i),i.issues.length){var s;const t=new(null!==(s=null===a||void 0===a?void 0:a.Err)&&void 0!==s?s:e)(i.issues.map((e=>at(e,o,Me()))));throw qe(t,null===a||void 0===a?void 0:a.callee),t}return i.value},pt=e=>(t,n,r)=>{const a=r?(0,o.A)((0,o.A)({},r),{},{async:!1}):{async:!1},i=t._zod.run({value:n,issues:[]},a);if(i instanceof Promise)throw new Te;return i.issues.length?{success:!1,error:new(null!==e&&void 0!==e?e:lt)(i.issues.map((e=>at(e,a,Me()))))}:{success:!0,data:i.value}},ft=pt(ut),ht=e=>async(t,n,r)=>{const a=r?Object.assign(r,{async:!0}):{async:!0};let o=t._zod.run({value:n,issues:[]},a);return o instanceof Promise&&(o=await o),o.issues.length?{success:!1,error:new e(o.issues.map((e=>at(e,a,Me()))))}:{success:!0,data:o.value}},mt=ht(ut),gt=e=>(t,n,r)=>{const a=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return ct(e)(t,n,a)},vt=e=>(t,n,r)=>ct(e)(t,n,r),yt=e=>async(t,n,r)=>{const a=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return dt(e)(t,n,a)},_t=e=>async(t,n,r)=>dt(e)(t,n,r),bt=e=>(t,n,r)=>{const a=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return pt(e)(t,n,a)},wt=e=>(t,n,r)=>pt(e)(t,n,r),kt=e=>async(t,n,r)=>{const a=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return ht(e)(t,n,a)},At=e=>async(t,n,r)=>ht(e)(t,n,r),xt=/^[cC][^\s-]{8,}$/,Et=/^[0-9a-z]+$/,St=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,It=/^[0-9a-vA-V]{20}$/,Ct=/^[A-Za-z0-9]{27}$/,Tt=/^[a-zA-Z0-9_-]{21}$/,Ot=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,Pt=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,Mt=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,Nt=e=>e?new RegExp("^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-".concat(e,"[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$")):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/,Rt=Nt(4),Dt=Nt(6),zt=Nt(7),jt=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,Lt=/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,Ft=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,Ut=/^(?:[\0-\x08\x0E-\x1F!#-\?A-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]){1,64}@(?:[\0-\x08\x0E-\x1F!-\?A-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]){1,255}$/,Bt=Ut,Zt=/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,Wt="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";function qt(){return new RegExp(Wt,"u")}const Vt=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,$t=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:))$/,Kt=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,Ht=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,Qt=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,Jt=/^[A-Za-z0-9_-]*$/,Gt=/^(?=.{1,253}\.?$)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[-0-9a-zA-Z]{0,61}[0-9a-zA-Z])?)*\.?$/,Yt=/^([a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?\.)+[a-zA-Z]{2,}$/,Xt=/^\+(?:[0-9]){6,14}[0-9]$/,en="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",tn=new RegExp("^".concat(en,"$"));function nn(e){const t="(?:[01]\\d|2[0-3]):[0-5]\\d";return"number"===typeof e.precision?-1===e.precision?"".concat(t):0===e.precision?"".concat(t,":[0-5]\\d"):"".concat(t,":[0-5]\\d\\.\\d{").concat(e.precision,"}"):"".concat(t,"(?::[0-5]\\d(?:\\.\\d+)?)?")}function rn(e){return new RegExp("^".concat(nn(e),"$"))}function an(e){const t=nn({precision:e.precision}),n=["Z"];e.local&&n.push(""),e.offset&&n.push("([+-](?:[01]\\d|2[0-3]):[0-5]\\d)");const r="".concat(t,"(?:").concat(n.join("|"),")");return new RegExp("^".concat(en,"T(?:").concat(r,")$"))}const on=e=>{var t,n;const r=e?"[\\s\\S]{".concat(null!==(t=null===e||void 0===e?void 0:e.minimum)&&void 0!==t?t:0,",").concat(null!==(n=null===e||void 0===e?void 0:e.maximum)&&void 0!==n?n:"","}"):"[\\s\\S]*";return new RegExp("^".concat(r,"$"))},sn=/^-?\d+n?$/,ln=/^-?\d+$/,un=/^-?\d+(?:\.\d+)?/,cn=/^(?:true|false)$/i,dn=/^null$/i,pn=/^undefined$/i,fn=/^[^A-Z]*$/,hn=/^[^a-z]*$/,mn=/^[0-9a-fA-F]*$/;function gn(e,t){return new RegExp("^[A-Za-z0-9+/]{".concat(e,"}").concat(t,"$"))}function vn(e){return new RegExp("^[A-Za-z0-9_-]{".concat(e,"}$"))}const yn=/^[0-9a-fA-F]{32}$/,_n=gn(22,"=="),bn=vn(22),wn=/^[0-9a-fA-F]{40}$/,kn=gn(27,"="),An=vn(27),xn=/^[0-9a-fA-F]{64}$/,En=gn(43,"="),Sn=vn(43),In=/^[0-9a-fA-F]{96}$/,Cn=gn(64,""),Tn=vn(64),On=/^[0-9a-fA-F]{128}$/,Pn=gn(86,"=="),Mn=vn(86),Nn=Ce("$ZodCheck",((e,t)=>{var n,r,a;null!==(n=e._zod)&&void 0!==n||(e._zod={}),e._zod.def=t,null!==(r=(a=e._zod).onattach)&&void 0!==r||(a.onattach=[])})),Rn={number:"number",bigint:"bigint",object:"date"},Dn=Ce("$ZodCheckLessThan",((e,t)=>{Nn.init(e,t);const n=Rn[typeof t.value];e._zod.onattach.push((e=>{var n;const r=e._zod.bag,a=null!==(n=t.inclusive?r.maximum:r.exclusiveMaximum)&&void 0!==n?n:Number.POSITIVE_INFINITY;t.value<a&&(t.inclusive?r.maximum=t.value:r.exclusiveMaximum=t.value)})),e._zod.check=r=>{(t.inclusive?r.value<=t.value:r.value<t.value)||r.issues.push({origin:n,code:"too_big",maximum:t.value,input:r.value,inclusive:t.inclusive,inst:e,continue:!t.abort})}})),zn=Ce("$ZodCheckGreaterThan",((e,t)=>{Nn.init(e,t);const n=Rn[typeof t.value];e._zod.onattach.push((e=>{var n;const r=e._zod.bag,a=null!==(n=t.inclusive?r.minimum:r.exclusiveMinimum)&&void 0!==n?n:Number.NEGATIVE_INFINITY;t.value>a&&(t.inclusive?r.minimum=t.value:r.exclusiveMinimum=t.value)})),e._zod.check=r=>{(t.inclusive?r.value>=t.value:r.value>t.value)||r.issues.push({origin:n,code:"too_small",minimum:t.value,input:r.value,inclusive:t.inclusive,inst:e,continue:!t.abort})}})),jn=Ce("$ZodCheckMultipleOf",((e,t)=>{Nn.init(e,t),e._zod.onattach.push((e=>{var n,r;null!==(n=(r=e._zod.bag).multipleOf)&&void 0!==n||(r.multipleOf=t.value)})),e._zod.check=n=>{if(typeof n.value!==typeof t.value)throw new Error("Cannot mix number and bigint in multiple_of check.");("bigint"===typeof n.value?n.value%t.value===BigInt(0):0===function(e,t){const n=(e.toString().split(".")[1]||"").length,r=t.toString();let a=(r.split(".")[1]||"").length;if(0===a&&/\d?e-\d?/.test(r)){const e=r.match(/\d?e-(\d?)/);null!==e&&void 0!==e&&e[1]&&(a=Number.parseInt(e[1]))}const o=n>a?n:a;return Number.parseInt(e.toFixed(o).replace(".",""))%Number.parseInt(t.toFixed(o).replace(".",""))/10**o}(n.value,t.value))||n.issues.push({origin:typeof n.value,code:"not_multiple_of",divisor:t.value,input:n.value,inst:e,continue:!t.abort})}})),Ln=Ce("$ZodCheckNumberFormat",((e,t)=>{var n;Nn.init(e,t),t.format=t.format||"float64";const r=null===(n=t.format)||void 0===n?void 0:n.includes("int"),a=r?"int":"number",[o,i]=et[t.format];e._zod.onattach.push((e=>{const n=e._zod.bag;n.format=t.format,n.minimum=o,n.maximum=i,r&&(n.pattern=ln)})),e._zod.check=n=>{const s=n.value;if(r){if(!Number.isInteger(s))return void n.issues.push({expected:a,format:t.format,code:"invalid_type",continue:!1,input:s,inst:e});if(!Number.isSafeInteger(s))return void(s>0?n.issues.push({input:s,code:"too_big",maximum:Number.MAX_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:a,continue:!t.abort}):n.issues.push({input:s,code:"too_small",minimum:Number.MIN_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:a,continue:!t.abort}))}s<o&&n.issues.push({origin:"number",input:s,code:"too_small",minimum:o,inclusive:!0,inst:e,continue:!t.abort}),s>i&&n.issues.push({origin:"number",input:s,code:"too_big",maximum:i,inst:e})}})),Fn=Ce("$ZodCheckMaxLength",((e,t)=>{var n,r;Nn.init(e,t),null!==(n=(r=e._zod.def).when)&&void 0!==n||(r.when=e=>{const t=e.value;return!je(t)&&void 0!==t.length}),e._zod.onattach.push((e=>{var n;const r=null!==(n=e._zod.bag.maximum)&&void 0!==n?n:Number.POSITIVE_INFINITY;t.maximum<r&&(e._zod.bag.maximum=t.maximum)})),e._zod.check=n=>{const r=n.value;if(r.length<=t.maximum)return;const a=ot(r);n.issues.push({origin:a,code:"too_big",maximum:t.maximum,inclusive:!0,input:r,inst:e,continue:!t.abort})}})),Un=Ce("$ZodCheckMinLength",((e,t)=>{var n,r;Nn.init(e,t),null!==(n=(r=e._zod.def).when)&&void 0!==n||(r.when=e=>{const t=e.value;return!je(t)&&void 0!==t.length}),e._zod.onattach.push((e=>{var n;const r=null!==(n=e._zod.bag.minimum)&&void 0!==n?n:Number.NEGATIVE_INFINITY;t.minimum>r&&(e._zod.bag.minimum=t.minimum)})),e._zod.check=n=>{const r=n.value;if(r.length>=t.minimum)return;const a=ot(r);n.issues.push({origin:a,code:"too_small",minimum:t.minimum,inclusive:!0,input:r,inst:e,continue:!t.abort})}})),Bn=Ce("$ZodCheckLengthEquals",((e,t)=>{var n,r;Nn.init(e,t),null!==(n=(r=e._zod.def).when)&&void 0!==n||(r.when=e=>{const t=e.value;return!je(t)&&void 0!==t.length}),e._zod.onattach.push((e=>{const n=e._zod.bag;n.minimum=t.length,n.maximum=t.length,n.length=t.length})),e._zod.check=n=>{const r=n.value,a=r.length;if(a===t.length)return;const i=ot(r),s=a>t.length;n.issues.push((0,o.A)((0,o.A)({origin:i},s?{code:"too_big",maximum:t.length}:{code:"too_small",minimum:t.length}),{},{inclusive:!0,exact:!0,input:n.value,inst:e,continue:!t.abort}))}})),Zn=Ce("$ZodCheckStringFormat",((e,t)=>{var n,r,a,i;Nn.init(e,t),e._zod.onattach.push((e=>{const n=e._zod.bag;var r;(n.format=t.format,t.pattern)&&(null!==(r=n.patterns)&&void 0!==r||(n.patterns=new Set),n.patterns.add(t.pattern))})),t.pattern?null!==(n=(a=e._zod).check)&&void 0!==n||(a.check=n=>{t.pattern.lastIndex=0,t.pattern.test(n.value)||n.issues.push((0,o.A)((0,o.A)({origin:"string",code:"invalid_format",format:t.format,input:n.value},t.pattern?{pattern:t.pattern.toString()}:{}),{},{inst:e,continue:!t.abort}))}):null!==(r=(i=e._zod).check)&&void 0!==r||(i.check=()=>{})})),Wn=Ce("$ZodCheckRegex",((e,t)=>{Zn.init(e,t),e._zod.check=n=>{t.pattern.lastIndex=0,t.pattern.test(n.value)||n.issues.push({origin:"string",code:"invalid_format",format:"regex",input:n.value,pattern:t.pattern.toString(),inst:e,continue:!t.abort})}})),qn=Ce("$ZodCheckLowerCase",((e,t)=>{var n;null!==(n=t.pattern)&&void 0!==n||(t.pattern=fn),Zn.init(e,t)})),Vn=Ce("$ZodCheckUpperCase",((e,t)=>{var n;null!==(n=t.pattern)&&void 0!==n||(t.pattern=hn),Zn.init(e,t)})),$n=Ce("$ZodCheckIncludes",((e,t)=>{Nn.init(e,t);const n=Je(t.includes),r=new RegExp("number"===typeof t.position?"^.{".concat(t.position,"}").concat(n):n);t.pattern=r,e._zod.onattach.push((e=>{var t;const n=e._zod.bag;null!==(t=n.patterns)&&void 0!==t||(n.patterns=new Set),n.patterns.add(r)})),e._zod.check=n=>{n.value.includes(t.includes,t.position)||n.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:t.includes,input:n.value,inst:e,continue:!t.abort})}})),Kn=Ce("$ZodCheckStartsWith",((e,t)=>{var n;Nn.init(e,t);const r=new RegExp("^".concat(Je(t.prefix),".*"));null!==(n=t.pattern)&&void 0!==n||(t.pattern=r),e._zod.onattach.push((e=>{var t;const n=e._zod.bag;null!==(t=n.patterns)&&void 0!==t||(n.patterns=new Set),n.patterns.add(r)})),e._zod.check=n=>{n.value.startsWith(t.prefix)||n.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:t.prefix,input:n.value,inst:e,continue:!t.abort})}})),Hn=Ce("$ZodCheckEndsWith",((e,t)=>{var n;Nn.init(e,t);const r=new RegExp(".*".concat(Je(t.suffix),"$"));null!==(n=t.pattern)&&void 0!==n||(t.pattern=r),e._zod.onattach.push((e=>{var t;const n=e._zod.bag;null!==(t=n.patterns)&&void 0!==t||(n.patterns=new Set),n.patterns.add(r)})),e._zod.check=n=>{n.value.endsWith(t.suffix)||n.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:t.suffix,input:n.value,inst:e,continue:!t.abort})}}));const Qn=Ce("$ZodCheckOverwrite",((e,t)=>{Nn.init(e,t),e._zod.check=e=>{e.value=t.tx(e.value)}}));class Jn{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this.content=[],this.indent=0,this&&(this.args=e)}indented(e){this.indent+=1,e(this),this.indent-=1}write(e){if("function"===typeof e)return e(this,{execution:"sync"}),void e(this,{execution:"async"});const t=e.split("\n").filter((e=>e)),n=Math.min(...t.map((e=>e.length-e.trimStart().length))),r=t.map((e=>e.slice(n))).map((e=>" ".repeat(2*this.indent)+e));for(const a of r)this.content.push(a)}compile(){var e;return new Function(...null===this||void 0===this?void 0:this.args,[...(null!==(e=null===this||void 0===this?void 0:this.content)&&void 0!==e?e:[""]).map((e=>"  ".concat(e)))].join("\n"))}}const Gn={major:4,minor:1,patch:12},Yn=Ce("$ZodType",((e,t)=>{var n,r,a;null!==(n=e)&&void 0!==n||(e={}),e._zod.def=t,e._zod.bag=e._zod.bag||{},e._zod.version=Gn;const i=[...null!==(r=e._zod.def.checks)&&void 0!==r?r:[]];e._zod.traits.has("$ZodCheck")&&i.unshift(e);for(const o of i)for(const t of o._zod.onattach)t(e);if(0===i.length){var s,l;null!==(s=(a=e._zod).deferred)&&void 0!==s||(a.deferred=[]),null===(l=e._zod.deferred)||void 0===l||l.push((()=>{e._zod.run=e._zod.parse}))}else{const t=(e,t,n)=>{let r,a=tt(e);for(const i of t){if(i._zod.def.when){if(!i._zod.def.when(e))continue}else if(a)continue;const t=e.issues.length,s=i._zod.check(e);if(s instanceof Promise&&!1===(null===n||void 0===n?void 0:n.async))throw new Te;if(r||s instanceof Promise){var o;r=(null!==(o=r)&&void 0!==o?o:Promise.resolve()).then((async()=>{await s;e.issues.length!==t&&(a||(a=tt(e,t)))}))}else{if(e.issues.length===t)continue;a||(a=tt(e,t))}}return r?r.then((()=>e)):e},n=(n,r,a)=>{if(tt(n))return n.aborted=!0,n;const o=t(r,i,a);if(o instanceof Promise){if(!1===a.async)throw new Te;return o.then((t=>e._zod.parse(t,a)))}return e._zod.parse(o,a)};e._zod.run=(r,a)=>{if(a.skipChecks)return e._zod.parse(r,a);if("backward"===a.direction){const t=e._zod.parse({value:r.value,issues:[]},(0,o.A)((0,o.A)({},a),{},{skipChecks:!0}));return t instanceof Promise?t.then((e=>n(e,r,a))):n(t,r,a)}const s=e._zod.parse(r,a);if(s instanceof Promise){if(!1===a.async)throw new Te;return s.then((e=>t(e,i,a)))}return t(s,i,a)}}e["~standard"]={validate:t=>{try{var n;const r=ft(e,t);return r.success?{value:r.data}:{issues:null===(n=r.error)||void 0===n?void 0:n.issues}}catch(r){return mt(e,t).then((e=>{var t;return e.success?{value:e.data}:{issues:null===(t=e.error)||void 0===t?void 0:t.issues}}))}},vendor:"zod",version:1}})),Xn=Ce("$ZodString",((e,t)=>{var n,r,a;Yn.init(e,t),e._zod.pattern=null!==(n=[...null!==(r=null===e||void 0===e||null===(a=e._zod.bag)||void 0===a?void 0:a.patterns)&&void 0!==r?r:[]].pop())&&void 0!==n?n:on(e._zod.bag),e._zod.parse=(n,r)=>{if(t.coerce)try{n.value=String(n.value)}catch(r){}return"string"===typeof n.value||n.issues.push({expected:"string",code:"invalid_type",input:n.value,inst:e}),n}})),er=Ce("$ZodStringFormat",((e,t)=>{Zn.init(e,t),Xn.init(e,t)})),tr=Ce("$ZodGUID",((e,t)=>{var n;null!==(n=t.pattern)&&void 0!==n||(t.pattern=Mt),er.init(e,t)})),nr=Ce("$ZodUUID",((e,t)=>{var n;if(t.version){var r;const e={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[t.version];if(void 0===e)throw new Error('Invalid UUID version: "'.concat(t.version,'"'));null!==(r=t.pattern)&&void 0!==r||(t.pattern=Nt(e))}else null!==(n=t.pattern)&&void 0!==n||(t.pattern=Nt());er.init(e,t)})),rr=Ce("$ZodEmail",((e,t)=>{var n;null!==(n=t.pattern)&&void 0!==n||(t.pattern=jt),er.init(e,t)})),ar=Ce("$ZodURL",((e,t)=>{er.init(e,t),e._zod.check=n=>{try{const r=n.value.trim(),a=new URL(r);return t.hostname&&(t.hostname.lastIndex=0,t.hostname.test(a.hostname)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:Gt.source,input:n.value,inst:e,continue:!t.abort})),t.protocol&&(t.protocol.lastIndex=0,t.protocol.test(a.protocol.endsWith(":")?a.protocol.slice(0,-1):a.protocol)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:t.protocol.source,input:n.value,inst:e,continue:!t.abort})),void(t.normalize?n.value=a.href:n.value=r)}catch(r){n.issues.push({code:"invalid_format",format:"url",input:n.value,inst:e,continue:!t.abort})}}})),or=Ce("$ZodEmoji",((e,t)=>{var n;null!==(n=t.pattern)&&void 0!==n||(t.pattern=qt()),er.init(e,t)})),ir=Ce("$ZodNanoID",((e,t)=>{var n;null!==(n=t.pattern)&&void 0!==n||(t.pattern=Tt),er.init(e,t)})),sr=Ce("$ZodCUID",((e,t)=>{var n;null!==(n=t.pattern)&&void 0!==n||(t.pattern=xt),er.init(e,t)})),lr=Ce("$ZodCUID2",((e,t)=>{var n;null!==(n=t.pattern)&&void 0!==n||(t.pattern=Et),er.init(e,t)})),ur=Ce("$ZodULID",((e,t)=>{var n;null!==(n=t.pattern)&&void 0!==n||(t.pattern=St),er.init(e,t)})),cr=Ce("$ZodXID",((e,t)=>{var n;null!==(n=t.pattern)&&void 0!==n||(t.pattern=It),er.init(e,t)})),dr=Ce("$ZodKSUID",((e,t)=>{var n;null!==(n=t.pattern)&&void 0!==n||(t.pattern=Ct),er.init(e,t)})),pr=Ce("$ZodISODateTime",((e,t)=>{var n;null!==(n=t.pattern)&&void 0!==n||(t.pattern=an(t)),er.init(e,t)})),fr=Ce("$ZodISODate",((e,t)=>{var n;null!==(n=t.pattern)&&void 0!==n||(t.pattern=tn),er.init(e,t)})),hr=Ce("$ZodISOTime",((e,t)=>{var n;null!==(n=t.pattern)&&void 0!==n||(t.pattern=rn(t)),er.init(e,t)})),mr=Ce("$ZodISODuration",((e,t)=>{var n;null!==(n=t.pattern)&&void 0!==n||(t.pattern=Ot),er.init(e,t)})),gr=Ce("$ZodIPv4",((e,t)=>{var n;null!==(n=t.pattern)&&void 0!==n||(t.pattern=Vt),er.init(e,t),e._zod.onattach.push((e=>{e._zod.bag.format="ipv4"}))})),vr=Ce("$ZodIPv6",((e,t)=>{var n;null!==(n=t.pattern)&&void 0!==n||(t.pattern=$t),er.init(e,t),e._zod.onattach.push((e=>{e._zod.bag.format="ipv6"})),e._zod.check=n=>{try{new URL("http://[".concat(n.value,"]"))}catch(r){n.issues.push({code:"invalid_format",format:"ipv6",input:n.value,inst:e,continue:!t.abort})}}})),yr=Ce("$ZodCIDRv4",((e,t)=>{var n;null!==(n=t.pattern)&&void 0!==n||(t.pattern=Kt),er.init(e,t)})),_r=Ce("$ZodCIDRv6",((e,t)=>{var n;null!==(n=t.pattern)&&void 0!==n||(t.pattern=Ht),er.init(e,t),e._zod.check=n=>{const r=n.value.split("/");try{if(2!==r.length)throw new Error;const[e,t]=r;if(!t)throw new Error;const n=Number(t);if("".concat(n)!==t)throw new Error;if(n<0||n>128)throw new Error;new URL("http://[".concat(e,"]"))}catch(a){n.issues.push({code:"invalid_format",format:"cidrv6",input:n.value,inst:e,continue:!t.abort})}}}));function br(e){if(""===e)return!0;if(e.length%4!==0)return!1;try{return atob(e),!0}catch(t){return!1}}const wr=Ce("$ZodBase64",((e,t)=>{var n;null!==(n=t.pattern)&&void 0!==n||(t.pattern=Qt),er.init(e,t),e._zod.onattach.push((e=>{e._zod.bag.contentEncoding="base64"})),e._zod.check=n=>{br(n.value)||n.issues.push({code:"invalid_format",format:"base64",input:n.value,inst:e,continue:!t.abort})}}));const kr=Ce("$ZodBase64URL",((e,t)=>{var n;null!==(n=t.pattern)&&void 0!==n||(t.pattern=Jt),er.init(e,t),e._zod.onattach.push((e=>{e._zod.bag.contentEncoding="base64url"})),e._zod.check=n=>{(function(e){if(!Jt.test(e))return!1;const t=e.replace(/[-_]/g,(e=>"-"===e?"+":"/"));return br(t.padEnd(4*Math.ceil(t.length/4),"="))})(n.value)||n.issues.push({code:"invalid_format",format:"base64url",input:n.value,inst:e,continue:!t.abort})}})),Ar=Ce("$ZodE164",((e,t)=>{var n;null!==(n=t.pattern)&&void 0!==n||(t.pattern=Xt),er.init(e,t)}));const xr=Ce("$ZodJWT",((e,t)=>{er.init(e,t),e._zod.check=n=>{(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;try{const n=e.split(".");if(3!==n.length)return!1;const[r]=n;if(!r)return!1;const a=JSON.parse(atob(r));return(!("typ"in a)||"JWT"===(null===a||void 0===a?void 0:a.typ))&&!!a.alg&&(!t||"alg"in a&&a.alg===t)}catch(n){return!1}})(n.value,t.alg)||n.issues.push({code:"invalid_format",format:"jwt",input:n.value,inst:e,continue:!t.abort})}})),Er=Ce("$ZodNumber",((e,t)=>{var n;Yn.init(e,t),e._zod.pattern=null!==(n=e._zod.bag.pattern)&&void 0!==n?n:un,e._zod.parse=(n,r)=>{if(t.coerce)try{n.value=Number(n.value)}catch(s){}const a=n.value;if("number"===typeof a&&!Number.isNaN(a)&&Number.isFinite(a))return n;const i="number"===typeof a?Number.isNaN(a)?"NaN":Number.isFinite(a)?void 0:"Infinity":void 0;return n.issues.push((0,o.A)({expected:"number",code:"invalid_type",input:a,inst:e},i?{received:i}:{})),n}})),Sr=Ce("$ZodNumber",((e,t)=>{Ln.init(e,t),Er.init(e,t)})),Ir=Ce("$ZodBoolean",((e,t)=>{Yn.init(e,t),e._zod.pattern=cn,e._zod.parse=(n,r)=>{if(t.coerce)try{n.value=Boolean(n.value)}catch(o){}const a=n.value;return"boolean"===typeof a||n.issues.push({expected:"boolean",code:"invalid_type",input:a,inst:e}),n}})),Cr=Ce("$ZodNull",((e,t)=>{Yn.init(e,t),e._zod.pattern=dn,e._zod.values=new Set([null]),e._zod.parse=(t,n)=>{const r=t.value;return null===r||t.issues.push({expected:"null",code:"invalid_type",input:r,inst:e}),t}})),Tr=Ce("$ZodAny",((e,t)=>{Yn.init(e,t),e._zod.parse=e=>e})),Or=Ce("$ZodUnknown",((e,t)=>{Yn.init(e,t),e._zod.parse=e=>e})),Pr=Ce("$ZodNever",((e,t)=>{Yn.init(e,t),e._zod.parse=(t,n)=>(t.issues.push({expected:"never",code:"invalid_type",input:t.value,inst:e}),t)}));function Mr(e,t,n){e.issues.length&&t.issues.push(...nt(n,e.issues)),t.value[n]=e.value}const Nr=Ce("$ZodArray",((e,t)=>{Yn.init(e,t),e._zod.parse=(n,r)=>{const a=n.value;if(!Array.isArray(a))return n.issues.push({expected:"array",code:"invalid_type",input:a,inst:e}),n;n.value=Array(a.length);const o=[];for(let e=0;e<a.length;e++){const i=a[e],s=t.element._zod.run({value:i,issues:[]},r);s instanceof Promise?o.push(s.then((t=>Mr(t,n,e)))):Mr(s,n,e)}return o.length?Promise.all(o).then((()=>n)):n}}));function Rr(e,t,n,r){e.issues.length&&t.issues.push(...nt(n,e.issues)),void 0===e.value?n in r&&(t.value[n]=void 0):t.value[n]=e.value}function Dr(e){const t=Object.keys(e.shape);for(const o of t){var n;if(null===(n=e.shape)||void 0===n||null===(n=n[o])||void 0===n||null===(n=n._zod)||void 0===n||null===(n=n.traits)||void 0===n||!n.has("$ZodType"))throw new Error('Invalid element at key "'.concat(o,'": expected a Zod schema'))}const r=(a=e.shape,Object.keys(a).filter((e=>"optional"===a[e]._zod.optin&&"optional"===a[e]._zod.optout)));var a;return(0,o.A)((0,o.A)({},e),{},{keys:t,keySet:new Set(t),numKeys:t.length,optionalKeys:new Set(r)})}function zr(e,t,n,r,a,o){const i=[],s=a.keySet,l=a.catchall._zod,u=l.def.type;for(const c of Object.keys(t)){if(s.has(c))continue;if("never"===u){i.push(c);continue}const a=l.run({value:t[c],issues:[]},r);a instanceof Promise?e.push(a.then((e=>Rr(e,n,c,t)))):Rr(a,n,c,t)}return i.length&&n.issues.push({code:"unrecognized_keys",keys:i,input:t,inst:o}),e.length?Promise.all(e).then((()=>n)):n}const jr=Ce("$ZodObject",((e,t)=>{Yn.init(e,t);const n=Object.getOwnPropertyDescriptor(t,"shape");if(null===n||void 0===n||!n.get){const e=t.shape;Object.defineProperty(t,"shape",{get:()=>{const n=(0,o.A)({},e);return Object.defineProperty(t,"shape",{value:n}),n}})}const r=ze((()=>Dr(t)));Ue(e._zod,"propValues",(()=>{const e=t.shape,n={};for(const t in e){const a=e[t]._zod;if(a.values){var r;null!==(r=n[t])&&void 0!==r||(n[t]=new Set);for(const e of a.values)n[t].add(e)}}return n}));const a=Ve,i=t.catchall;let s;e._zod.parse=(t,n)=>{var o;null!==(o=s)&&void 0!==o||(s=r.value);const l=t.value;if(!a(l))return t.issues.push({expected:"object",code:"invalid_type",input:l,inst:e}),t;t.value={};const u=[],c=s.shape;for(const e of s.keys){const r=c[e]._zod.run({value:l[e],issues:[]},n);r instanceof Promise?u.push(r.then((n=>Rr(n,t,e,l)))):Rr(r,t,e,l)}return i?zr(u,l,t,n,r.value,e):u.length?Promise.all(u).then((()=>t)):t}})),Lr=Ce("$ZodObjectJIT",((e,t)=>{jr.init(e,t);const n=e._zod.parse,r=ze((()=>Dr(t)));let a;const o=Ve,i=!Pe.jitless,s=i&&$e.value,l=t.catchall;let u;e._zod.parse=(c,d)=>{var p;null!==(p=u)&&void 0!==p||(u=r.value);const f=c.value;return o(f)?i&&s&&!1===(null===d||void 0===d?void 0:d.async)&&!0!==d.jitless?(a||(a=(e=>{const t=new Jn(["shape","payload","ctx"]),n=r.value,a=e=>{const t=We(e);return"shape[".concat(t,"]._zod.run({ value: input[").concat(t,"], issues: [] }, ctx)")};t.write("const input = payload.value;");const o=Object.create(null);let i=0;for(const r of n.keys)o[r]="key_".concat(i++);t.write("const newResult = {};");for(const r of n.keys){const e=o[r],n=We(r);t.write("const ".concat(e," = ").concat(a(r),";")),t.write("\n        if (".concat(e,".issues.length) {\n          payload.issues = payload.issues.concat(").concat(e,".issues.map(iss => ({\n            ...iss,\n            path: iss.path ? [").concat(n,", ...iss.path] : [").concat(n,"]\n          })));\n        }\n        \n        \n        if (").concat(e,".value === undefined) {\n          if (").concat(n," in input) {\n            newResult[").concat(n,"] = undefined;\n          }\n        } else {\n          newResult[").concat(n,"] = ").concat(e,".value;\n        }\n        \n      "))}t.write("payload.value = newResult;"),t.write("return payload;");const s=t.compile();return(t,n)=>s(e,t,n)})(t.shape)),c=a(c,d),l?zr([],f,c,d,u,e):c):n(c,d):(c.issues.push({expected:"object",code:"invalid_type",input:f,inst:e}),c)}}));function Fr(e,t,n,r){for(const o of e)if(0===o.issues.length)return t.value=o.value,t;const a=e.filter((e=>!tt(e)));return 1===a.length?(t.value=a[0].value,a[0]):(t.issues.push({code:"invalid_union",input:t.value,inst:n,errors:e.map((e=>e.issues.map((e=>at(e,r,Me())))))}),t)}const Ur=Ce("$ZodUnion",((e,t)=>{Yn.init(e,t),Ue(e._zod,"optin",(()=>t.options.some((e=>"optional"===e._zod.optin))?"optional":void 0)),Ue(e._zod,"optout",(()=>t.options.some((e=>"optional"===e._zod.optout))?"optional":void 0)),Ue(e._zod,"values",(()=>{if(t.options.every((e=>e._zod.values)))return new Set(t.options.flatMap((e=>Array.from(e._zod.values))))})),Ue(e._zod,"pattern",(()=>{if(t.options.every((e=>e._zod.pattern))){const e=t.options.map((e=>e._zod.pattern));return new RegExp("^(".concat(e.map((e=>Le(e.source))).join("|"),")$"))}}));const n=1===t.options.length,r=t.options[0]._zod.run;e._zod.parse=(a,o)=>{if(n)return r(a,o);let i=!1;const s=[];for(const e of t.options){const t=e._zod.run({value:a.value,issues:[]},o);if(t instanceof Promise)s.push(t),i=!0;else{if(0===t.issues.length)return t;s.push(t)}}return i?Promise.all(s).then((t=>Fr(t,a,e,o))):Fr(s,a,e,o)}})),Br=Ce("$ZodDiscriminatedUnion",((e,t)=>{Ur.init(e,t);const n=e._zod.parse;Ue(e._zod,"propValues",(()=>{const e={};for(const n of t.options){const r=n._zod.propValues;if(!r||0===Object.keys(r).length)throw new Error('Invalid discriminated union option at index "'.concat(t.options.indexOf(n),'"'));for(const[t,n]of Object.entries(r)){e[t]||(e[t]=new Set);for(const r of n)e[t].add(r)}}return e}));const r=ze((()=>{const e=t.options,n=new Map;for(const a of e){var r;const e=null===(r=a._zod.propValues)||void 0===r?void 0:r[t.discriminator];if(!e||0===e.size)throw new Error('Invalid discriminated union option at index "'.concat(t.options.indexOf(a),'"'));for(const t of e){if(n.has(t))throw new Error('Duplicate discriminator value "'.concat(String(t),'"'));n.set(t,a)}}return n}));e._zod.parse=(a,o)=>{const i=a.value;if(!Ve(i))return a.issues.push({code:"invalid_type",expected:"object",input:i,inst:e}),a;const s=r.value.get(null===i||void 0===i?void 0:i[t.discriminator]);return s?s._zod.run(a,o):t.unionFallback?n(a,o):(a.issues.push({code:"invalid_union",errors:[],note:"No matching discriminator",discriminator:t.discriminator,input:i,path:[t.discriminator],inst:e}),a)}})),Zr=Ce("$ZodIntersection",((e,t)=>{Yn.init(e,t),e._zod.parse=(e,n)=>{const r=e.value,a=t.left._zod.run({value:r,issues:[]},n),o=t.right._zod.run({value:r,issues:[]},n);return a instanceof Promise||o instanceof Promise?Promise.all([a,o]).then((t=>{let[n,r]=t;return qr(e,n,r)})):qr(e,a,o)}}));function Wr(e,t){if(e===t)return{valid:!0,data:e};if(e instanceof Date&&t instanceof Date&&+e===+t)return{valid:!0,data:e};if(Ke(e)&&Ke(t)){const n=Object.keys(t),r=Object.keys(e).filter((e=>-1!==n.indexOf(e))),a=(0,o.A)((0,o.A)({},e),t);for(const o of r){const n=Wr(e[o],t[o]);if(!n.valid)return{valid:!1,mergeErrorPath:[o,...n.mergeErrorPath]};a[o]=n.data}return{valid:!0,data:a}}if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return{valid:!1,mergeErrorPath:[]};const n=[];for(let r=0;r<e.length;r++){const a=Wr(e[r],t[r]);if(!a.valid)return{valid:!1,mergeErrorPath:[r,...a.mergeErrorPath]};n.push(a.data)}return{valid:!0,data:n}}return{valid:!1,mergeErrorPath:[]}}function qr(e,t,n){if(t.issues.length&&e.issues.push(...t.issues),n.issues.length&&e.issues.push(...n.issues),tt(e))return e;const r=Wr(t.value,n.value);if(!r.valid)throw new Error("Unmergable intersection. Error path: "+"".concat(JSON.stringify(r.mergeErrorPath)));return e.value=r.data,e}const Vr=Ce("$ZodRecord",((e,t)=>{Yn.init(e,t),e._zod.parse=(n,r)=>{const a=n.value;if(!Ke(a))return n.issues.push({expected:"record",code:"invalid_type",input:a,inst:e}),n;const o=[];if(t.keyType._zod.values){const s=t.keyType._zod.values;n.value={};for(const e of s)if("string"===typeof e||"number"===typeof e||"symbol"===typeof e){const i=t.valueType._zod.run({value:a[e],issues:[]},r);i instanceof Promise?o.push(i.then((t=>{t.issues.length&&n.issues.push(...nt(e,t.issues)),n.value[e]=t.value}))):(i.issues.length&&n.issues.push(...nt(e,i.issues)),n.value[e]=i.value)}let l;for(const e in a){var i;if(!s.has(e))l=null!==(i=l)&&void 0!==i?i:[],l.push(e)}l&&l.length>0&&n.issues.push({code:"unrecognized_keys",input:a,inst:e,keys:l})}else{n.value={};for(const i of Reflect.ownKeys(a)){if("__proto__"===i)continue;const s=t.keyType._zod.run({value:i,issues:[]},r);if(s instanceof Promise)throw new Error("Async schemas not supported in object keys currently");if(s.issues.length){n.issues.push({code:"invalid_key",origin:"record",issues:s.issues.map((e=>at(e,r,Me()))),input:i,path:[i],inst:e}),n.value[s.value]=s.value;continue}const l=t.valueType._zod.run({value:a[i],issues:[]},r);l instanceof Promise?o.push(l.then((e=>{e.issues.length&&n.issues.push(...nt(i,e.issues)),n.value[s.value]=e.value}))):(l.issues.length&&n.issues.push(...nt(i,l.issues)),n.value[s.value]=l.value)}}return o.length?Promise.all(o).then((()=>n)):n}}));const $r=Ce("$ZodEnum",((e,t)=>{Yn.init(e,t);const n=Ne(t.entries),r=new Set(n);e._zod.values=r,e._zod.pattern=new RegExp("^(".concat(n.filter((e=>Qe.has(typeof e))).map((e=>"string"===typeof e?Je(e):e.toString())).join("|"),")$")),e._zod.parse=(t,a)=>{const o=t.value;return r.has(o)||t.issues.push({code:"invalid_value",values:n,input:o,inst:e}),t}})),Kr=Ce("$ZodLiteral",((e,t)=>{if(Yn.init(e,t),0===t.values.length)throw new Error("Cannot create literal schema with no valid values");e._zod.values=new Set(t.values),e._zod.pattern=new RegExp("^(".concat(t.values.map((e=>"string"===typeof e?Je(e):e?Je(e.toString()):String(e))).join("|"),")$")),e._zod.parse=(n,r)=>{const a=n.value;return e._zod.values.has(a)||n.issues.push({code:"invalid_value",values:t.values,input:a,inst:e}),n}})),Hr=Ce("$ZodTransform",((e,t)=>{Yn.init(e,t),e._zod.parse=(n,r)=>{if("backward"===r.direction)throw new Oe(e.constructor.name);const a=t.transform(n.value,n);if(r.async){return(a instanceof Promise?a:Promise.resolve(a)).then((e=>(n.value=e,n)))}if(a instanceof Promise)throw new Te;return n.value=a,n}}));function Qr(e,t){return e.issues.length&&void 0===t?{issues:[],value:void 0}:e}const Jr=Ce("$ZodOptional",((e,t)=>{Yn.init(e,t),e._zod.optin="optional",e._zod.optout="optional",Ue(e._zod,"values",(()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,void 0]):void 0)),Ue(e._zod,"pattern",(()=>{const e=t.innerType._zod.pattern;return e?new RegExp("^(".concat(Le(e.source),")?$")):void 0})),e._zod.parse=(e,n)=>{if("optional"===t.innerType._zod.optin){const r=t.innerType._zod.run(e,n);return r instanceof Promise?r.then((t=>Qr(t,e.value))):Qr(r,e.value)}return void 0===e.value?e:t.innerType._zod.run(e,n)}})),Gr=Ce("$ZodNullable",((e,t)=>{Yn.init(e,t),Ue(e._zod,"optin",(()=>t.innerType._zod.optin)),Ue(e._zod,"optout",(()=>t.innerType._zod.optout)),Ue(e._zod,"pattern",(()=>{const e=t.innerType._zod.pattern;return e?new RegExp("^(".concat(Le(e.source),"|null)$")):void 0})),Ue(e._zod,"values",(()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,null]):void 0)),e._zod.parse=(e,n)=>null===e.value?e:t.innerType._zod.run(e,n)})),Yr=Ce("$ZodDefault",((e,t)=>{Yn.init(e,t),e._zod.optin="optional",Ue(e._zod,"values",(()=>t.innerType._zod.values)),e._zod.parse=(e,n)=>{if("backward"===n.direction)return t.innerType._zod.run(e,n);if(void 0===e.value)return e.value=t.defaultValue,e;const r=t.innerType._zod.run(e,n);return r instanceof Promise?r.then((e=>Xr(e,t))):Xr(r,t)}}));function Xr(e,t){return void 0===e.value&&(e.value=t.defaultValue),e}const ea=Ce("$ZodPrefault",((e,t)=>{Yn.init(e,t),e._zod.optin="optional",Ue(e._zod,"values",(()=>t.innerType._zod.values)),e._zod.parse=(e,n)=>("backward"===n.direction||void 0===e.value&&(e.value=t.defaultValue),t.innerType._zod.run(e,n))})),ta=Ce("$ZodNonOptional",((e,t)=>{Yn.init(e,t),Ue(e._zod,"values",(()=>{const e=t.innerType._zod.values;return e?new Set([...e].filter((e=>void 0!==e))):void 0})),e._zod.parse=(n,r)=>{const a=t.innerType._zod.run(n,r);return a instanceof Promise?a.then((t=>na(t,e))):na(a,e)}}));function na(e,t){return e.issues.length||void 0!==e.value||e.issues.push({code:"invalid_type",expected:"nonoptional",input:e.value,inst:t}),e}const ra=Ce("$ZodCatch",((e,t)=>{Yn.init(e,t),Ue(e._zod,"optin",(()=>t.innerType._zod.optin)),Ue(e._zod,"optout",(()=>t.innerType._zod.optout)),Ue(e._zod,"values",(()=>t.innerType._zod.values)),e._zod.parse=(e,n)=>{if("backward"===n.direction)return t.innerType._zod.run(e,n);const r=t.innerType._zod.run(e,n);return r instanceof Promise?r.then((r=>(e.value=r.value,r.issues.length&&(e.value=t.catchValue((0,o.A)((0,o.A)({},e),{},{error:{issues:r.issues.map((e=>at(e,n,Me())))},input:e.value})),e.issues=[]),e))):(e.value=r.value,r.issues.length&&(e.value=t.catchValue((0,o.A)((0,o.A)({},e),{},{error:{issues:r.issues.map((e=>at(e,n,Me())))},input:e.value})),e.issues=[]),e)}})),aa=Ce("$ZodPipe",((e,t)=>{Yn.init(e,t),Ue(e._zod,"values",(()=>t.in._zod.values)),Ue(e._zod,"optin",(()=>t.in._zod.optin)),Ue(e._zod,"optout",(()=>t.out._zod.optout)),Ue(e._zod,"propValues",(()=>t.in._zod.propValues)),e._zod.parse=(e,n)=>{if("backward"===n.direction){const r=t.out._zod.run(e,n);return r instanceof Promise?r.then((e=>oa(e,t.in,n))):oa(r,t.in,n)}const r=t.in._zod.run(e,n);return r instanceof Promise?r.then((e=>oa(e,t.out,n))):oa(r,t.out,n)}}));function oa(e,t,n){return e.issues.length?(e.aborted=!0,e):t._zod.run({value:e.value,issues:e.issues},n)}const ia=Ce("$ZodReadonly",((e,t)=>{Yn.init(e,t),Ue(e._zod,"propValues",(()=>t.innerType._zod.propValues)),Ue(e._zod,"values",(()=>t.innerType._zod.values)),Ue(e._zod,"optin",(()=>t.innerType._zod.optin)),Ue(e._zod,"optout",(()=>t.innerType._zod.optout)),e._zod.parse=(e,n)=>{if("backward"===n.direction)return t.innerType._zod.run(e,n);const r=t.innerType._zod.run(e,n);return r instanceof Promise?r.then(sa):sa(r)}}));function sa(e){return e.value=Object.freeze(e.value),e}const la=Ce("$ZodLazy",((e,t)=>{Yn.init(e,t),Ue(e._zod,"innerType",(()=>t.getter())),Ue(e._zod,"pattern",(()=>e._zod.innerType._zod.pattern)),Ue(e._zod,"propValues",(()=>e._zod.innerType._zod.propValues)),Ue(e._zod,"optin",(()=>{var t;return null!==(t=e._zod.innerType._zod.optin)&&void 0!==t?t:void 0})),Ue(e._zod,"optout",(()=>{var t;return null!==(t=e._zod.innerType._zod.optout)&&void 0!==t?t:void 0})),e._zod.parse=(t,n)=>e._zod.innerType._zod.run(t,n)})),ua=Ce("$ZodCustom",((e,t)=>{Nn.init(e,t),Yn.init(e,t),e._zod.parse=(e,t)=>e,e._zod.check=n=>{const r=n.value,a=t.fn(r);if(a instanceof Promise)return a.then((t=>ca(t,n,r,e)));ca(a,n,r,e)}}));function ca(e,t,n,r){if(!e){var a;const e={code:"custom",input:n,inst:r,path:[...null!==(a=r._zod.def.path)&&void 0!==a?a:[]],continue:!r._zod.def.abort};r._zod.def.params&&(e.params=r._zod.def.params),t.issues.push(it(e))}}const da=()=>{const e={string:{unit:"characters",verb:"to have"},file:{unit:"bytes",verb:"to have"},array:{unit:"items",verb:"to have"},set:{unit:"items",verb:"to have"}};function t(t){var n;return null!==(n=e[t])&&void 0!==n?n:null}const n={regex:"input",email:"email address",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO datetime",date:"ISO date",time:"ISO time",duration:"ISO duration",ipv4:"IPv4 address",ipv6:"IPv6 address",cidrv4:"IPv4 range",cidrv6:"IPv6 range",base64:"base64-encoded string",base64url:"base64url-encoded string",json_string:"JSON string",e164:"E.164 number",jwt:"JWT",template_literal:"input"};return e=>{switch(e.code){case"invalid_type":return"Invalid input: expected ".concat(e.expected,", received ").concat((e=>{const t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"number";case"object":if(Array.isArray(e))return"array";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(e.input));case"invalid_value":return 1===e.values.length?"Invalid input: expected ".concat(Xe(e.values[0])):"Invalid option: expected one of ".concat(Re(e.values,"|"));case"too_big":{var r,a,o;const n=e.inclusive?"<=":"<",i=t(e.origin);return i?"Too big: expected ".concat(null!==(r=e.origin)&&void 0!==r?r:"value"," to have ").concat(n).concat(e.maximum.toString()," ").concat(null!==(a=i.unit)&&void 0!==a?a:"elements"):"Too big: expected ".concat(null!==(o=e.origin)&&void 0!==o?o:"value"," to be ").concat(n).concat(e.maximum.toString())}case"too_small":{const n=e.inclusive?">=":">",r=t(e.origin);return r?"Too small: expected ".concat(e.origin," to have ").concat(n).concat(e.minimum.toString()," ").concat(r.unit):"Too small: expected ".concat(e.origin," to be ").concat(n).concat(e.minimum.toString())}case"invalid_format":{var i;const t=e;return"starts_with"===t.format?'Invalid string: must start with "'.concat(t.prefix,'"'):"ends_with"===t.format?'Invalid string: must end with "'.concat(t.suffix,'"'):"includes"===t.format?'Invalid string: must include "'.concat(t.includes,'"'):"regex"===t.format?"Invalid string: must match pattern ".concat(t.pattern):"Invalid ".concat(null!==(i=n[t.format])&&void 0!==i?i:e.format)}case"not_multiple_of":return"Invalid number: must be a multiple of ".concat(e.divisor);case"unrecognized_keys":return"Unrecognized key".concat(e.keys.length>1?"s":"",": ").concat(Re(e.keys,", "));case"invalid_key":return"Invalid key in ".concat(e.origin);case"invalid_union":default:return"Invalid input";case"invalid_element":return"Invalid value in ".concat(e.origin)}}};Symbol("ZodOutput"),Symbol("ZodInput");class pa{constructor(){this._map=new WeakMap,this._idmap=new Map}add(e){const t=arguments.length<=1?void 0:arguments[1];if(this._map.set(e,t),t&&"object"===typeof t&&"id"in t){if(this._idmap.has(t.id))throw new Error("ID ".concat(t.id," already exists in the registry"));this._idmap.set(t.id,e)}return this}clear(){return this._map=new WeakMap,this._idmap=new Map,this}remove(e){const t=this._map.get(e);return t&&"object"===typeof t&&"id"in t&&this._idmap.delete(t.id),this._map.delete(e),this}get(e){const t=e._zod.parent;if(t){var n;const r=(0,o.A)({},null!==(n=this.get(t))&&void 0!==n?n:{});delete r.id;const a=(0,o.A)((0,o.A)({},r),this._map.get(e));return Object.keys(a).length?a:void 0}return this._map.get(e)}has(e){return this._map.has(e)}}function fa(){return new pa}const ha=fa();function ma(e,t){return new e((0,o.A)({type:"string",format:"email",check:"string_format",abort:!1},Ye(t)))}function ga(e,t){return new e((0,o.A)({type:"string",format:"guid",check:"string_format",abort:!1},Ye(t)))}function va(e,t){return new e((0,o.A)({type:"string",format:"uuid",check:"string_format",abort:!1},Ye(t)))}function ya(e,t){return new e((0,o.A)({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4"},Ye(t)))}function _a(e,t){return new e((0,o.A)({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6"},Ye(t)))}function ba(e,t){return new e((0,o.A)({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7"},Ye(t)))}function wa(e,t){return new e((0,o.A)({type:"string",format:"url",check:"string_format",abort:!1},Ye(t)))}function ka(e,t){return new e((0,o.A)({type:"string",format:"emoji",check:"string_format",abort:!1},Ye(t)))}function Aa(e,t){return new e((0,o.A)({type:"string",format:"nanoid",check:"string_format",abort:!1},Ye(t)))}function xa(e,t){return new e((0,o.A)({type:"string",format:"cuid",check:"string_format",abort:!1},Ye(t)))}function Ea(e,t){return new e((0,o.A)({type:"string",format:"cuid2",check:"string_format",abort:!1},Ye(t)))}function Sa(e,t){return new e((0,o.A)({type:"string",format:"ulid",check:"string_format",abort:!1},Ye(t)))}function Ia(e,t){return new e((0,o.A)({type:"string",format:"xid",check:"string_format",abort:!1},Ye(t)))}function Ca(e,t){return new e((0,o.A)({type:"string",format:"ksuid",check:"string_format",abort:!1},Ye(t)))}function Ta(e,t){return new e((0,o.A)({type:"string",format:"ipv4",check:"string_format",abort:!1},Ye(t)))}function Oa(e,t){return new e((0,o.A)({type:"string",format:"ipv6",check:"string_format",abort:!1},Ye(t)))}function Pa(e,t){return new e((0,o.A)({type:"string",format:"cidrv4",check:"string_format",abort:!1},Ye(t)))}function Ma(e,t){return new e((0,o.A)({type:"string",format:"cidrv6",check:"string_format",abort:!1},Ye(t)))}function Na(e,t){return new e((0,o.A)({type:"string",format:"base64",check:"string_format",abort:!1},Ye(t)))}function Ra(e,t){return new e((0,o.A)({type:"string",format:"base64url",check:"string_format",abort:!1},Ye(t)))}function Da(e,t){return new e((0,o.A)({type:"string",format:"e164",check:"string_format",abort:!1},Ye(t)))}function za(e,t){return new e((0,o.A)({type:"string",format:"jwt",check:"string_format",abort:!1},Ye(t)))}function ja(e,t){return new Dn((0,o.A)((0,o.A)({check:"less_than"},Ye(t)),{},{value:e,inclusive:!1}))}function La(e,t){return new Dn((0,o.A)((0,o.A)({check:"less_than"},Ye(t)),{},{value:e,inclusive:!0}))}function Fa(e,t){return new zn((0,o.A)((0,o.A)({check:"greater_than"},Ye(t)),{},{value:e,inclusive:!1}))}function Ua(e,t){return new zn((0,o.A)((0,o.A)({check:"greater_than"},Ye(t)),{},{value:e,inclusive:!0}))}function Ba(e,t){return new jn((0,o.A)((0,o.A)({check:"multiple_of"},Ye(t)),{},{value:e}))}function Za(e,t){return new Fn((0,o.A)((0,o.A)({check:"max_length"},Ye(t)),{},{maximum:e}))}function Wa(e,t){return new Un((0,o.A)((0,o.A)({check:"min_length"},Ye(t)),{},{minimum:e}))}function qa(e,t){return new Bn((0,o.A)((0,o.A)({check:"length_equals"},Ye(t)),{},{length:e}))}function Va(e){return new Qn({check:"overwrite",tx:e})}function $a(e){const t=function(e,t){const n=new Nn((0,o.A)({check:"custom"},Ye(t)));return n._zod.check=e,n}((n=>(n.addIssue=e=>{if("string"===typeof e)n.issues.push(it(e,n.value,t._zod.def));else{var r,a,o,i;const s=e;s.fatal&&(s.continue=!1),null!==(r=s.code)&&void 0!==r||(s.code="custom"),null!==(a=s.input)&&void 0!==a||(s.input=n.value),null!==(o=s.inst)&&void 0!==o||(s.inst=t),null!==(i=s.continue)&&void 0!==i||(s.continue=!t._zod.def.abort),n.issues.push(it(s))}},e(n.value,n))));return t}class Ka{constructor(e){var t,n,r,a,o;this.counter=0,this.metadataRegistry=null!==(t=null===e||void 0===e?void 0:e.metadata)&&void 0!==t?t:ha,this.target=null!==(n=null===e||void 0===e?void 0:e.target)&&void 0!==n?n:"draft-2020-12",this.unrepresentable=null!==(r=null===e||void 0===e?void 0:e.unrepresentable)&&void 0!==r?r:"throw",this.override=null!==(a=null===e||void 0===e?void 0:e.override)&&void 0!==a?a:()=>{},this.io=null!==(o=null===e||void 0===e?void 0:e.io)&&void 0!==o?o:"output",this.seen=new Map}process(e){var t,n,r;let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{path:[],schemaPath:[]};var i;const s=e._zod.def,l={guid:"uuid",url:"uri",datetime:"date-time",json_string:"json-string",regex:""},u=this.seen.get(e);if(u){u.count++;return a.schemaPath.includes(e)&&(u.cycle=a.path),u.schema}const c={schema:{},count:1,cycle:void 0,path:a.path};this.seen.set(e,c);const d=null===(t=(n=e._zod).toJSONSchema)||void 0===t?void 0:t.call(n);if(d)c.schema=d;else{const t=(0,o.A)((0,o.A)({},a),{},{schemaPath:[...a.schemaPath,e],path:a.path}),n=e._zod.parent;if(n)c.ref=n,this.process(n,t),this.seen.get(n).isParent=!0;else{const n=c.schema;switch(s.type){case"string":{const t=n;t.type="string";const{minimum:r,maximum:a,format:i,patterns:s,contentEncoding:u}=e._zod.bag;var p;if("number"===typeof r&&(t.minLength=r),"number"===typeof a&&(t.maxLength=a),i)t.format=null!==(p=l[i])&&void 0!==p?p:i,""===t.format&&delete t.format;if(u&&(t.contentEncoding=u),s&&s.size>0){const e=[...s];1===e.length?t.pattern=e[0].source:e.length>1&&(c.schema.allOf=[...e.map((e=>(0,o.A)((0,o.A)({},"draft-7"===this.target||"draft-4"===this.target||"openapi-3.0"===this.target?{type:"string"}:{}),{},{pattern:e.source})))])}break}case"number":{const t=n,{minimum:r,maximum:a,format:o,multipleOf:i,exclusiveMaximum:s,exclusiveMinimum:l}=e._zod.bag;"string"===typeof o&&o.includes("int")?t.type="integer":t.type="number","number"===typeof l&&("draft-4"===this.target||"openapi-3.0"===this.target?(t.minimum=l,t.exclusiveMinimum=!0):t.exclusiveMinimum=l),"number"===typeof r&&(t.minimum=r,"number"===typeof l&&"draft-4"!==this.target&&(l>=r?delete t.minimum:delete t.exclusiveMinimum)),"number"===typeof s&&("draft-4"===this.target||"openapi-3.0"===this.target?(t.maximum=s,t.exclusiveMaximum=!0):t.exclusiveMaximum=s),"number"===typeof a&&(t.maximum=a,"number"===typeof s&&"draft-4"!==this.target&&(s<=a?delete t.maximum:delete t.exclusiveMaximum)),"number"===typeof i&&(t.multipleOf=i);break}case"boolean":n.type="boolean";break;case"bigint":if("throw"===this.unrepresentable)throw new Error("BigInt cannot be represented in JSON Schema");break;case"symbol":if("throw"===this.unrepresentable)throw new Error("Symbols cannot be represented in JSON Schema");break;case"null":"openapi-3.0"===this.target?(n.type="string",n.nullable=!0,n.enum=[null]):n.type="null";break;case"any":case"unknown":break;case"undefined":if("throw"===this.unrepresentable)throw new Error("Undefined cannot be represented in JSON Schema");break;case"void":if("throw"===this.unrepresentable)throw new Error("Void cannot be represented in JSON Schema");break;case"never":n.not={};break;case"date":if("throw"===this.unrepresentable)throw new Error("Date cannot be represented in JSON Schema");break;case"array":{const r=n,{minimum:a,maximum:i}=e._zod.bag;"number"===typeof a&&(r.minItems=a),"number"===typeof i&&(r.maxItems=i),r.type="array",r.items=this.process(s.element,(0,o.A)((0,o.A)({},t),{},{path:[...t.path,"items"]}));break}case"object":{var f;const e=n;e.type="object",e.properties={};const r=s.shape;for(const n in r)e.properties[n]=this.process(r[n],(0,o.A)((0,o.A)({},t),{},{path:[...t.path,"properties",n]}));const a=new Set(Object.keys(r)),i=new Set([...a].filter((e=>{const t=s.shape[e]._zod;return"input"===this.io?void 0===t.optin:void 0===t.optout})));i.size>0&&(e.required=Array.from(i)),"never"===(null===(f=s.catchall)||void 0===f?void 0:f._zod.def.type)?e.additionalProperties=!1:s.catchall?s.catchall&&(e.additionalProperties=this.process(s.catchall,(0,o.A)((0,o.A)({},t),{},{path:[...t.path,"additionalProperties"]}))):"output"===this.io&&(e.additionalProperties=!1);break}case"union":{const e=n,r=s.options.map(((e,n)=>this.process(e,(0,o.A)((0,o.A)({},t),{},{path:[...t.path,"anyOf",n]}))));e.anyOf=r;break}case"intersection":{const e=n,r=this.process(s.left,(0,o.A)((0,o.A)({},t),{},{path:[...t.path,"allOf",0]})),a=this.process(s.right,(0,o.A)((0,o.A)({},t),{},{path:[...t.path,"allOf",1]})),i=e=>"allOf"in e&&1===Object.keys(e).length,l=[...i(r)?r.allOf:[r],...i(a)?a.allOf:[a]];e.allOf=l;break}case"tuple":{const r=n;r.type="array";const a="draft-2020-12"===this.target?"prefixItems":"items",i="draft-2020-12"===this.target||"openapi-3.0"===this.target?"items":"additionalItems",l=s.items.map(((e,n)=>this.process(e,(0,o.A)((0,o.A)({},t),{},{path:[...t.path,a,n]})))),u=s.rest?this.process(s.rest,(0,o.A)((0,o.A)({},t),{},{path:[...t.path,i,..."openapi-3.0"===this.target?[s.items.length]:[]]})):null;"draft-2020-12"===this.target?(r.prefixItems=l,u&&(r.items=u)):"openapi-3.0"===this.target?(r.items={anyOf:l},u&&r.items.anyOf.push(u),r.minItems=l.length,u||(r.maxItems=l.length)):(r.items=l,u&&(r.additionalItems=u));const{minimum:c,maximum:d}=e._zod.bag;"number"===typeof c&&(r.minItems=c),"number"===typeof d&&(r.maxItems=d);break}case"record":{const e=n;e.type="object","draft-7"!==this.target&&"draft-2020-12"!==this.target||(e.propertyNames=this.process(s.keyType,(0,o.A)((0,o.A)({},t),{},{path:[...t.path,"propertyNames"]}))),e.additionalProperties=this.process(s.valueType,(0,o.A)((0,o.A)({},t),{},{path:[...t.path,"additionalProperties"]}));break}case"map":if("throw"===this.unrepresentable)throw new Error("Map cannot be represented in JSON Schema");break;case"set":if("throw"===this.unrepresentable)throw new Error("Set cannot be represented in JSON Schema");break;case"enum":{const e=n,t=Ne(s.entries);t.every((e=>"number"===typeof e))&&(e.type="number"),t.every((e=>"string"===typeof e))&&(e.type="string"),e.enum=t;break}case"literal":{const e=n,t=[];for(const n of s.values)if(void 0===n){if("throw"===this.unrepresentable)throw new Error("Literal `undefined` cannot be represented in JSON Schema")}else if("bigint"===typeof n){if("throw"===this.unrepresentable)throw new Error("BigInt literals cannot be represented in JSON Schema");t.push(Number(n))}else t.push(n);if(0===t.length);else if(1===t.length){const n=t[0];e.type=null===n?"null":typeof n,"draft-4"===this.target||"openapi-3.0"===this.target?e.enum=[n]:e.const=n}else t.every((e=>"number"===typeof e))&&(e.type="number"),t.every((e=>"string"===typeof e))&&(e.type="string"),t.every((e=>"boolean"===typeof e))&&(e.type="string"),t.every((e=>null===e))&&(e.type="null"),e.enum=t;break}case"file":{const t=n,r={type:"string",format:"binary",contentEncoding:"binary"},{minimum:a,maximum:i,mime:s}=e._zod.bag;void 0!==a&&(r.minLength=a),void 0!==i&&(r.maxLength=i),s?1===s.length?(r.contentMediaType=s[0],Object.assign(t,r)):t.anyOf=s.map((e=>(0,o.A)((0,o.A)({},r),{},{contentMediaType:e}))):Object.assign(t,r);break}case"transform":if("throw"===this.unrepresentable)throw new Error("Transforms cannot be represented in JSON Schema");break;case"nullable":{const e=this.process(s.innerType,t);"openapi-3.0"===this.target?(c.ref=s.innerType,n.nullable=!0):n.anyOf=[e,{type:"null"}];break}case"nonoptional":case"promise":case"optional":this.process(s.innerType,t),c.ref=s.innerType;break;case"success":n.type="boolean";break;case"default":this.process(s.innerType,t),c.ref=s.innerType,n.default=JSON.parse(JSON.stringify(s.defaultValue));break;case"prefault":this.process(s.innerType,t),c.ref=s.innerType,"input"===this.io&&(n._prefault=JSON.parse(JSON.stringify(s.defaultValue)));break;case"catch":{let e;this.process(s.innerType,t),c.ref=s.innerType;try{e=s.catchValue(void 0)}catch(m){throw new Error("Dynamic catch values are not supported in JSON Schema")}n.default=e;break}case"nan":if("throw"===this.unrepresentable)throw new Error("NaN cannot be represented in JSON Schema");break;case"template_literal":{const t=n,r=e._zod.pattern;if(!r)throw new Error("Pattern not found in template literal");t.type="string",t.pattern=r.source;break}case"pipe":{const e="input"===this.io?"transform"===s.in._zod.def.type?s.out:s.in:s.out;this.process(e,t),c.ref=e;break}case"readonly":this.process(s.innerType,t),c.ref=s.innerType,n.readOnly=!0;break;case"lazy":{const n=e._zod.innerType;this.process(n,t),c.ref=n;break}case"custom":if("throw"===this.unrepresentable)throw new Error("Custom types cannot be represented in JSON Schema");break;case"function":if("throw"===this.unrepresentable)throw new Error("Function types cannot be represented in JSON Schema")}}}const h=this.metadataRegistry.get(e);h&&Object.assign(c.schema,h),"input"===this.io&&Ha(e)&&(delete c.schema.examples,delete c.schema.default),"input"===this.io&&c.schema._prefault&&(null!==(r=(i=c.schema).default)&&void 0!==r||(i.default=c.schema._prefault)),delete c.schema._prefault;return this.seen.get(e).schema}emit(e,t){var n,r,a,i,s,l;const u={cycles:null!==(n=null===t||void 0===t?void 0:t.cycles)&&void 0!==n?n:"ref",reused:null!==(r=null===t||void 0===t?void 0:t.reused)&&void 0!==r?r:"inline",external:null!==(a=null===t||void 0===t?void 0:t.external)&&void 0!==a?a:void 0},c=this.seen.get(e);if(!c)throw new Error("Unprocessed schema. This is a bug in Zod.");const d=e=>{var t;const n="draft-2020-12"===this.target?"$defs":"definitions";if(u.external){var r,a,o,i;const t=null===(r=u.external.registry.get(e[0]))||void 0===r?void 0:r.id,s=null!==(a=u.external.uri)&&void 0!==a?a:e=>e;if(t)return{ref:s(t)};const l=null!==(o=null!==(i=e[1].defId)&&void 0!==i?i:e[1].schema.id)&&void 0!==o?o:"schema".concat(this.counter++);return e[1].defId=l,{defId:l,ref:"".concat(s("__shared"),"#/").concat(n,"/").concat(l)}}if(e[1]===c)return{ref:"#"};const s="".concat("#","/").concat(n,"/"),l=null!==(t=e[1].schema.id)&&void 0!==t?t:"__schema".concat(this.counter++);return{defId:l,ref:s+l}},p=e=>{if(e[1].schema.$ref)return;const t=e[1],{ref:n,defId:r}=d(e);t.def=(0,o.A)({},t.schema),r&&(t.defId=r);const a=t.schema;for(const o in a)delete a[o];a.$ref=n};if("throw"===u.cycles)for(const o of this.seen.entries()){const e=o[1];var f;if(e.cycle)throw new Error("Cycle detected: "+"#/".concat(null===(f=e.cycle)||void 0===f?void 0:f.join("/"),"/<root>")+'\n\nSet the `cycles` parameter to `"ref"` to resolve cyclical schemas with defs.')}for(const o of this.seen.entries()){var h;const t=o[1];if(e===o[0]){p(o);continue}if(u.external){var m;const t=null===(m=u.external.registry.get(o[0]))||void 0===m?void 0:m.id;if(e!==o[0]&&t){p(o);continue}}(null===(h=this.metadataRegistry.get(o[0]))||void 0===h?void 0:h.id)?p(o):(t.cycle||t.count>1&&"ref"===u.reused)&&p(o)}const g=(e,t)=>{var n,r;const a=this.seen.get(e),i=null!==(n=a.def)&&void 0!==n?n:a.schema,s=(0,o.A)({},i);if(null===a.ref)return;const l=a.ref;if(a.ref=null,l){g(l,t);const e=this.seen.get(l).schema;var u;if(!e.$ref||"draft-7"!==t.target&&"draft-4"!==t.target&&"openapi-3.0"!==t.target)Object.assign(i,e),Object.assign(i,s);else i.allOf=null!==(u=i.allOf)&&void 0!==u?u:[],i.allOf.push(e)}a.isParent||this.override({zodSchema:e,jsonSchema:i,path:null!==(r=a.path)&&void 0!==r?r:[]})};for(const o of[...this.seen.entries()].reverse())g(o[0],{target:this.target});const v={};if("draft-2020-12"===this.target?v.$schema="https://json-schema.org/draft/2020-12/schema":"draft-7"===this.target?v.$schema="http://json-schema.org/draft-07/schema#":"draft-4"===this.target?v.$schema="http://json-schema.org/draft-04/schema#":"openapi-3.0"===this.target||console.warn("Invalid target: ".concat(this.target)),null!==(i=u.external)&&void 0!==i&&i.uri){var y;const t=null===(y=u.external.registry.get(e))||void 0===y?void 0:y.id;if(!t)throw new Error("Schema is missing an `id` property");v.$id=u.external.uri(t)}Object.assign(v,c.def);const _=null!==(s=null===(l=u.external)||void 0===l?void 0:l.defs)&&void 0!==s?s:{};for(const o of this.seen.entries()){const e=o[1];e.def&&e.defId&&(_[e.defId]=e.def)}u.external||Object.keys(_).length>0&&("draft-2020-12"===this.target?v.$defs=_:v.definitions=_);try{return JSON.parse(JSON.stringify(v))}catch(b){throw new Error("Error converting schema to JSON.")}}}function Ha(e,t){const n=null!==t&&void 0!==t?t:{seen:new Set};if(n.seen.has(e))return!1;n.seen.add(e);const r=e._zod.def;switch(r.type){case"string":case"number":case"bigint":case"boolean":case"date":case"symbol":case"undefined":case"null":case"any":case"unknown":case"never":case"void":case"literal":case"enum":case"nan":case"file":case"template_literal":case"custom":case"success":case"catch":case"function":return!1;case"array":return Ha(r.element,n);case"object":for(const e in r.shape)if(Ha(r.shape[e],n))return!0;return!1;case"union":for(const e of r.options)if(Ha(e,n))return!0;return!1;case"intersection":return Ha(r.left,n)||Ha(r.right,n);case"tuple":for(const e of r.items)if(Ha(e,n))return!0;return!(!r.rest||!Ha(r.rest,n));case"record":case"map":return Ha(r.keyType,n)||Ha(r.valueType,n);case"set":return Ha(r.valueType,n);case"promise":case"optional":case"nonoptional":case"nullable":case"readonly":case"default":case"prefault":return Ha(r.innerType,n);case"lazy":return Ha(r.getter(),n);case"transform":return!0;case"pipe":return Ha(r.in,n)||Ha(r.out,n)}throw new Error("Unknown schema type: ".concat(r.type))}const Qa=Ce("ZodISODateTime",((e,t)=>{pr.init(e,t),ko.init(e,t)}));function Ja(e){return function(e,t){return new e((0,o.A)({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null},Ye(t)))}(Qa,e)}const Ga=Ce("ZodISODate",((e,t)=>{fr.init(e,t),ko.init(e,t)}));function Ya(e){return function(e,t){return new e((0,o.A)({type:"string",format:"date",check:"string_format"},Ye(t)))}(Ga,e)}const Xa=Ce("ZodISOTime",((e,t)=>{hr.init(e,t),ko.init(e,t)}));function eo(e){return function(e,t){return new e((0,o.A)({type:"string",format:"time",check:"string_format",precision:null},Ye(t)))}(Xa,e)}const to=Ce("ZodISODuration",((e,t)=>{mr.init(e,t),ko.init(e,t)}));function no(e){return function(e,t){return new e((0,o.A)({type:"string",format:"duration",check:"string_format"},Ye(t)))}(to,e)}const ro=(e,t)=>{lt.init(e,t),e.name="ZodError",Object.defineProperties(e,{format:{value:t=>function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e=>e.message;const n={_errors:[]},r=e=>{for(const a of e.issues)if("invalid_union"===a.code&&a.errors.length)a.errors.map((e=>r({issues:e})));else if("invalid_key"===a.code)r({issues:a.issues});else if("invalid_element"===a.code)r({issues:a.issues});else if(0===a.path.length)n._errors.push(t(a));else{let e=n,r=0;for(;r<a.path.length;){const n=a.path[r];r===a.path.length-1?(e[n]=e[n]||{_errors:[]},e[n]._errors.push(t(a))):e[n]=e[n]||{_errors:[]},e=e[n],r++}}};return r(e),n}(e,t)},flatten:{value:t=>function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e=>e.message;const n={},r=[];for(const a of e.issues)a.path.length>0?(n[a.path[0]]=n[a.path[0]]||[],n[a.path[0]].push(t(a))):r.push(t(a));return{formErrors:r,fieldErrors:n}}(e,t)},addIssue:{value:t=>{e.issues.push(t),e.message=JSON.stringify(e.issues,De,2)}},addIssues:{value:t=>{e.issues.push(...t),e.message=JSON.stringify(e.issues,De,2)}},isEmpty:{get:()=>0===e.issues.length}})},ao=(Ce("ZodError",ro),Ce("ZodError",ro,{Parent:Error})),oo=ct(ao),io=dt(ao),so=pt(ao),lo=ht(ao),uo=gt(ao),co=vt(ao),po=yt(ao),fo=_t(ao),ho=bt(ao),mo=wt(ao),go=kt(ao),vo=At(ao),yo=Ce("ZodType",((e,t)=>(Yn.init(e,t),e.def=t,e.type=t.type,Object.defineProperty(e,"_def",{value:t}),e.check=function(){for(var n,r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return e.clone(Ze(t,{checks:[...null!==(n=t.checks)&&void 0!==n?n:[],...a.map((e=>"function"===typeof e?{_zod:{check:e,def:{check:"custom"},onattach:[]}}:e))]}))},e.clone=(t,n)=>Ge(e,t,n),e.brand=()=>e,e.register=(t,n)=>(t.add(e,n),e),e.parse=(t,n)=>oo(e,t,n,{callee:e.parse}),e.safeParse=(t,n)=>so(e,t,n),e.parseAsync=async(t,n)=>io(e,t,n,{callee:e.parseAsync}),e.safeParseAsync=async(t,n)=>lo(e,t,n),e.spa=e.safeParseAsync,e.encode=(t,n)=>uo(e,t,n),e.decode=(t,n)=>co(e,t,n),e.encodeAsync=async(t,n)=>po(e,t,n),e.decodeAsync=async(t,n)=>fo(e,t,n),e.safeEncode=(t,n)=>ho(e,t,n),e.safeDecode=(t,n)=>mo(e,t,n),e.safeEncodeAsync=async(t,n)=>go(e,t,n),e.safeDecodeAsync=async(t,n)=>vo(e,t,n),e.refine=(t,n)=>e.check(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(e,t,n){return new e((0,o.A)({type:"custom",check:"custom",fn:t},Ye(n)))}(Di,e,t)}(t,n)),e.superRefine=t=>e.check($a(t)),e.overwrite=t=>e.check(Va(t)),e.optional=()=>Ai(e),e.nullable=()=>Ei(e),e.nullish=()=>Ai(Ei(e)),e.nonoptional=t=>function(e,t){return new Ci((0,o.A)({type:"nonoptional",innerType:e},Ye(t)))}(e,t),e.array=()=>ai(e),e.or=t=>ci([e,t]),e.and=t=>new fi({type:"intersection",left:e,right:t}),e.transform=t=>Pi(e,wi(t)),e.default=t=>{return n=t,new Si({type:"default",innerType:e,get defaultValue(){return"function"===typeof n?n():He(n)}});var n},e.prefault=t=>{return n=t,new Ii({type:"prefault",innerType:e,get defaultValue(){return"function"===typeof n?n():He(n)}});var n},e.catch=t=>{return new Ti({type:"catch",innerType:e,catchValue:"function"===typeof(n=t)?n:()=>n});var n},e.pipe=t=>Pi(e,t),e.readonly=()=>new Mi({type:"readonly",innerType:e}),e.describe=t=>{const n=e.clone();return ha.add(n,{description:t}),n},Object.defineProperty(e,"description",{get(){var t;return null===(t=ha.get(e))||void 0===t?void 0:t.description},configurable:!0}),e.meta=function(){if(0===arguments.length)return ha.get(e);const t=e.clone();return ha.add(t,arguments.length<=0?void 0:arguments[0]),t},e.isOptional=()=>e.safeParse(void 0).success,e.isNullable=()=>e.safeParse(null).success,e))),_o=Ce("_ZodString",((e,t)=>{var n,r,a;Xn.init(e,t),yo.init(e,t);const i=e._zod.bag;e.format=null!==(n=i.format)&&void 0!==n?n:null,e.minLength=null!==(r=i.minimum)&&void 0!==r?r:null,e.maxLength=null!==(a=i.maximum)&&void 0!==a?a:null,e.regex=function(){return e.check(function(e,t){return new Wn((0,o.A)((0,o.A)({check:"string_format",format:"regex"},Ye(t)),{},{pattern:e}))}(...arguments))},e.includes=function(){return e.check(function(e,t){return new $n((0,o.A)((0,o.A)({check:"string_format",format:"includes"},Ye(t)),{},{includes:e}))}(...arguments))},e.startsWith=function(){return e.check(function(e,t){return new Kn((0,o.A)((0,o.A)({check:"string_format",format:"starts_with"},Ye(t)),{},{prefix:e}))}(...arguments))},e.endsWith=function(){return e.check(function(e,t){return new Hn((0,o.A)((0,o.A)({check:"string_format",format:"ends_with"},Ye(t)),{},{suffix:e}))}(...arguments))},e.min=function(){return e.check(Wa(...arguments))},e.max=function(){return e.check(Za(...arguments))},e.length=function(){return e.check(qa(...arguments))},e.nonempty=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.check(Wa(1,...n))},e.lowercase=t=>e.check(function(e){return new qn((0,o.A)({check:"string_format",format:"lowercase"},Ye(e)))}(t)),e.uppercase=t=>e.check(function(e){return new Vn((0,o.A)({check:"string_format",format:"uppercase"},Ye(e)))}(t)),e.trim=()=>e.check(Va((e=>e.trim()))),e.normalize=function(){return e.check(function(e){return Va((t=>t.normalize(e)))}(...arguments))},e.toLowerCase=()=>e.check(Va((e=>e.toLowerCase()))),e.toUpperCase=()=>e.check(Va((e=>e.toUpperCase())))})),bo=Ce("ZodString",((e,t)=>{Xn.init(e,t),_o.init(e,t),e.email=t=>e.check(ma(Ao,t)),e.url=t=>e.check(wa(So,t)),e.jwt=t=>e.check(za(Zo,t)),e.emoji=t=>e.check(ka(Io,t)),e.guid=t=>e.check(ga(xo,t)),e.uuid=t=>e.check(va(Eo,t)),e.uuidv4=t=>e.check(ya(Eo,t)),e.uuidv6=t=>e.check(_a(Eo,t)),e.uuidv7=t=>e.check(ba(Eo,t)),e.nanoid=t=>e.check(Aa(Co,t)),e.guid=t=>e.check(ga(xo,t)),e.cuid=t=>e.check(xa(To,t)),e.cuid2=t=>e.check(Ea(Oo,t)),e.ulid=t=>e.check(Sa(Po,t)),e.base64=t=>e.check(Na(Lo,t)),e.base64url=t=>e.check(Ra(Uo,t)),e.xid=t=>e.check(Ia(Mo,t)),e.ksuid=t=>e.check(Ca(No,t)),e.ipv4=t=>e.check(Ta(Ro,t)),e.ipv6=t=>e.check(Oa(Do,t)),e.cidrv4=t=>e.check(Pa(zo,t)),e.cidrv6=t=>e.check(Ma(jo,t)),e.e164=t=>e.check(Da(Bo,t)),e.datetime=t=>e.check(Ja(t)),e.date=t=>e.check(Ya(t)),e.time=t=>e.check(eo(t)),e.duration=t=>e.check(no(t))}));function wo(e){return function(e,t){return new e((0,o.A)({type:"string"},Ye(t)))}(bo,e)}const ko=Ce("ZodStringFormat",((e,t)=>{er.init(e,t),_o.init(e,t)})),Ao=Ce("ZodEmail",((e,t)=>{rr.init(e,t),ko.init(e,t)}));const xo=Ce("ZodGUID",((e,t)=>{tr.init(e,t),ko.init(e,t)}));const Eo=Ce("ZodUUID",((e,t)=>{nr.init(e,t),ko.init(e,t)}));const So=Ce("ZodURL",((e,t)=>{ar.init(e,t),ko.init(e,t)}));const Io=Ce("ZodEmoji",((e,t)=>{or.init(e,t),ko.init(e,t)}));const Co=Ce("ZodNanoID",((e,t)=>{ir.init(e,t),ko.init(e,t)}));const To=Ce("ZodCUID",((e,t)=>{sr.init(e,t),ko.init(e,t)}));const Oo=Ce("ZodCUID2",((e,t)=>{lr.init(e,t),ko.init(e,t)}));const Po=Ce("ZodULID",((e,t)=>{ur.init(e,t),ko.init(e,t)}));const Mo=Ce("ZodXID",((e,t)=>{cr.init(e,t),ko.init(e,t)}));const No=Ce("ZodKSUID",((e,t)=>{dr.init(e,t),ko.init(e,t)}));const Ro=Ce("ZodIPv4",((e,t)=>{gr.init(e,t),ko.init(e,t)}));const Do=Ce("ZodIPv6",((e,t)=>{vr.init(e,t),ko.init(e,t)}));const zo=Ce("ZodCIDRv4",((e,t)=>{yr.init(e,t),ko.init(e,t)}));const jo=Ce("ZodCIDRv6",((e,t)=>{_r.init(e,t),ko.init(e,t)}));const Lo=Ce("ZodBase64",((e,t)=>{wr.init(e,t),ko.init(e,t)}));function Fo(e){return Na(Lo,e)}const Uo=Ce("ZodBase64URL",((e,t)=>{kr.init(e,t),ko.init(e,t)}));const Bo=Ce("ZodE164",((e,t)=>{Ar.init(e,t),ko.init(e,t)}));const Zo=Ce("ZodJWT",((e,t)=>{xr.init(e,t),ko.init(e,t)}));const Wo=Ce("ZodNumber",((e,t)=>{var n,r,a,o,i,s,l,u,c;Er.init(e,t),yo.init(e,t),e.gt=(t,n)=>e.check(Fa(t,n)),e.gte=(t,n)=>e.check(Ua(t,n)),e.min=(t,n)=>e.check(Ua(t,n)),e.lt=(t,n)=>e.check(ja(t,n)),e.lte=(t,n)=>e.check(La(t,n)),e.max=(t,n)=>e.check(La(t,n)),e.int=t=>e.check($o(t)),e.safe=t=>e.check($o(t)),e.positive=t=>e.check(Fa(0,t)),e.nonnegative=t=>e.check(Ua(0,t)),e.negative=t=>e.check(ja(0,t)),e.nonpositive=t=>e.check(La(0,t)),e.multipleOf=(t,n)=>e.check(Ba(t,n)),e.step=(t,n)=>e.check(Ba(t,n)),e.finite=()=>e;const d=e._zod.bag;e.minValue=null!==(n=Math.max(null!==(r=d.minimum)&&void 0!==r?r:Number.NEGATIVE_INFINITY,null!==(a=d.exclusiveMinimum)&&void 0!==a?a:Number.NEGATIVE_INFINITY))&&void 0!==n?n:null,e.maxValue=null!==(o=Math.min(null!==(i=d.maximum)&&void 0!==i?i:Number.POSITIVE_INFINITY,null!==(s=d.exclusiveMaximum)&&void 0!==s?s:Number.POSITIVE_INFINITY))&&void 0!==o?o:null,e.isInt=(null!==(l=d.format)&&void 0!==l?l:"").includes("int")||Number.isSafeInteger(null!==(u=d.multipleOf)&&void 0!==u?u:.5),e.isFinite=!0,e.format=null!==(c=d.format)&&void 0!==c?c:null}));function qo(e){return function(e,t){return new e((0,o.A)({type:"number",checks:[]},Ye(t)))}(Wo,e)}const Vo=Ce("ZodNumberFormat",((e,t)=>{Sr.init(e,t),Wo.init(e,t)}));function $o(e){return function(e,t){return new e((0,o.A)({type:"number",check:"number_format",abort:!1,format:"safeint"},Ye(t)))}(Vo,e)}const Ko=Ce("ZodBoolean",((e,t)=>{Ir.init(e,t),yo.init(e,t)}));function Ho(e){return function(e,t){return new e((0,o.A)({type:"boolean"},Ye(t)))}(Ko,e)}const Qo=Ce("ZodNull",((e,t)=>{Cr.init(e,t),yo.init(e,t)}));function Jo(e){return function(e,t){return new e((0,o.A)({type:"null"},Ye(t)))}(Qo,e)}const Go=Ce("ZodAny",((e,t)=>{Tr.init(e,t),yo.init(e,t)}));function Yo(){return function(e){return new e({type:"any"})}(Go)}const Xo=Ce("ZodUnknown",((e,t)=>{Or.init(e,t),yo.init(e,t)}));function ei(){return function(e){return new e({type:"unknown"})}(Xo)}const ti=Ce("ZodNever",((e,t)=>{Pr.init(e,t),yo.init(e,t)}));function ni(e){return function(e,t){return new e((0,o.A)({type:"never"},Ye(t)))}(ti,e)}const ri=Ce("ZodArray",((e,t)=>{Nr.init(e,t),yo.init(e,t),e.element=t.element,e.min=(t,n)=>e.check(Wa(t,n)),e.nonempty=t=>e.check(Wa(1,t)),e.max=(t,n)=>e.check(Za(t,n)),e.length=(t,n)=>e.check(qa(t,n)),e.unwrap=()=>e.element}));function ai(e,t){return function(e,t,n){return new e((0,o.A)({type:"array",element:t},Ye(n)))}(ri,e,t)}const oi=Ce("ZodObject",((e,t)=>{Lr.init(e,t),yo.init(e,t),Ue(e,"shape",(()=>t.shape)),e.keyof=()=>vi(Object.keys(e._zod.def.shape)),e.catchall=t=>e.clone((0,o.A)((0,o.A)({},e._zod.def),{},{catchall:t})),e.passthrough=()=>e.clone((0,o.A)((0,o.A)({},e._zod.def),{},{catchall:ei()})),e.loose=()=>e.clone((0,o.A)((0,o.A)({},e._zod.def),{},{catchall:ei()})),e.strict=()=>e.clone((0,o.A)((0,o.A)({},e._zod.def),{},{catchall:ni()})),e.strip=()=>e.clone((0,o.A)((0,o.A)({},e._zod.def),{},{catchall:void 0})),e.extend=t=>function(e,t){if(!Ke(t))throw new Error("Invalid input to extend: expected a plain object");const n=e._zod.def.checks;if(n&&n.length>0)throw new Error("Object schemas containing refinements cannot be extended. Use `.safeExtend()` instead.");const r=Ze(e._zod.def,{get shape(){const n=(0,o.A)((0,o.A)({},e._zod.def.shape),t);return Be(this,"shape",n),n},checks:[]});return Ge(e,r)}(e,t),e.safeExtend=t=>function(e,t){if(!Ke(t))throw new Error("Invalid input to safeExtend: expected a plain object");const n=(0,o.A)((0,o.A)({},e._zod.def),{},{get shape(){const n=(0,o.A)((0,o.A)({},e._zod.def.shape),t);return Be(this,"shape",n),n},checks:e._zod.def.checks});return Ge(e,n)}(e,t),e.merge=t=>function(e,t){const n=Ze(e._zod.def,{get shape(){const n=(0,o.A)((0,o.A)({},e._zod.def.shape),t._zod.def.shape);return Be(this,"shape",n),n},get catchall(){return t._zod.def.catchall},checks:[]});return Ge(e,n)}(e,t),e.pick=t=>function(e,t){const n=e._zod.def;return Ge(e,Ze(e._zod.def,{get shape(){const e={};for(const r in t){if(!(r in n.shape))throw new Error('Unrecognized key: "'.concat(r,'"'));t[r]&&(e[r]=n.shape[r])}return Be(this,"shape",e),e},checks:[]}))}(e,t),e.omit=t=>function(e,t){const n=e._zod.def,r=Ze(e._zod.def,{get shape(){const r=(0,o.A)({},e._zod.def.shape);for(const e in t){if(!(e in n.shape))throw new Error('Unrecognized key: "'.concat(e,'"'));t[e]&&delete r[e]}return Be(this,"shape",r),r},checks:[]});return Ge(e,r)}(e,t),e.partial=function(){return function(e,t,n){const r=Ze(t._zod.def,{get shape(){const r=t._zod.def.shape,a=(0,o.A)({},r);if(n)for(const t in n){if(!(t in r))throw new Error('Unrecognized key: "'.concat(t,'"'));n[t]&&(a[t]=e?new e({type:"optional",innerType:r[t]}):r[t])}else for(const t in r)a[t]=e?new e({type:"optional",innerType:r[t]}):r[t];return Be(this,"shape",a),a},checks:[]});return Ge(t,r)}(ki,e,arguments.length<=0?void 0:arguments[0])},e.required=function(){return function(e,t,n){const r=Ze(t._zod.def,{get shape(){const r=t._zod.def.shape,a=(0,o.A)({},r);if(n)for(const t in n){if(!(t in a))throw new Error('Unrecognized key: "'.concat(t,'"'));n[t]&&(a[t]=new e({type:"nonoptional",innerType:r[t]}))}else for(const t in r)a[t]=new e({type:"nonoptional",innerType:r[t]});return Be(this,"shape",a),a},checks:[]});return Ge(t,r)}(Ci,e,arguments.length<=0?void 0:arguments[0])}}));function ii(e,t){const n=(0,o.A)({type:"object",shape:null!==e&&void 0!==e?e:{}},Ye(t));return new oi(n)}function si(e,t){return new oi((0,o.A)({type:"object",shape:e,catchall:ni()},Ye(t)))}function li(e,t){return new oi((0,o.A)({type:"object",shape:e,catchall:ei()},Ye(t)))}const ui=Ce("ZodUnion",((e,t)=>{Ur.init(e,t),yo.init(e,t),e.options=t.options}));function ci(e,t){return new ui((0,o.A)({type:"union",options:e},Ye(t)))}const di=Ce("ZodDiscriminatedUnion",((e,t)=>{ui.init(e,t),Br.init(e,t)}));function pi(e,t,n){return new di((0,o.A)({type:"union",options:t,discriminator:e},Ye(n)))}const fi=Ce("ZodIntersection",((e,t)=>{Zr.init(e,t),yo.init(e,t)}));const hi=Ce("ZodRecord",((e,t)=>{Vr.init(e,t),yo.init(e,t),e.keyType=t.keyType,e.valueType=t.valueType}));function mi(e,t,n){return new hi((0,o.A)({type:"record",keyType:e,valueType:t},Ye(n)))}const gi=Ce("ZodEnum",((e,t)=>{$r.init(e,t),yo.init(e,t),e.enum=t.entries,e.options=Object.values(t.entries);const n=new Set(Object.keys(t.entries));e.extract=(e,r)=>{const a={};for(const o of e){if(!n.has(o))throw new Error("Key ".concat(o," not found in enum"));a[o]=t.entries[o]}return new gi((0,o.A)((0,o.A)((0,o.A)({},t),{},{checks:[]},Ye(r)),{},{entries:a}))},e.exclude=(e,r)=>{const a=(0,o.A)({},t.entries);for(const t of e){if(!n.has(t))throw new Error("Key ".concat(t," not found in enum"));delete a[t]}return new gi((0,o.A)((0,o.A)((0,o.A)({},t),{},{checks:[]},Ye(r)),{},{entries:a}))}}));function vi(e,t){const n=Array.isArray(e)?Object.fromEntries(e.map((e=>[e,e]))):e;return new gi((0,o.A)({type:"enum",entries:n},Ye(t)))}const yi=Ce("ZodLiteral",((e,t)=>{Kr.init(e,t),yo.init(e,t),e.values=new Set(t.values),Object.defineProperty(e,"value",{get(){if(t.values.length>1)throw new Error("This schema contains multiple valid literal values. Use `.values` instead.");return t.values[0]}})}));function _i(e,t){return new yi((0,o.A)({type:"literal",values:Array.isArray(e)?e:[e]},Ye(t)))}const bi=Ce("ZodTransform",((e,t)=>{Hr.init(e,t),yo.init(e,t),e._zod.parse=(n,r)=>{if("backward"===r.direction)throw new Oe(e.constructor.name);n.addIssue=r=>{if("string"===typeof r)n.issues.push(it(r,n.value,t));else{var a,o,i;const t=r;t.fatal&&(t.continue=!1),null!==(a=t.code)&&void 0!==a||(t.code="custom"),null!==(o=t.input)&&void 0!==o||(t.input=n.value),null!==(i=t.inst)&&void 0!==i||(t.inst=e),n.issues.push(it(t))}};const a=t.transform(n.value,n);return a instanceof Promise?a.then((e=>(n.value=e,n))):(n.value=a,n)}}));function wi(e){return new bi({type:"transform",transform:e})}const ki=Ce("ZodOptional",((e,t)=>{Jr.init(e,t),yo.init(e,t),e.unwrap=()=>e._zod.def.innerType}));function Ai(e){return new ki({type:"optional",innerType:e})}const xi=Ce("ZodNullable",((e,t)=>{Gr.init(e,t),yo.init(e,t),e.unwrap=()=>e._zod.def.innerType}));function Ei(e){return new xi({type:"nullable",innerType:e})}const Si=Ce("ZodDefault",((e,t)=>{Yr.init(e,t),yo.init(e,t),e.unwrap=()=>e._zod.def.innerType,e.removeDefault=e.unwrap}));const Ii=Ce("ZodPrefault",((e,t)=>{ea.init(e,t),yo.init(e,t),e.unwrap=()=>e._zod.def.innerType}));const Ci=Ce("ZodNonOptional",((e,t)=>{ta.init(e,t),yo.init(e,t),e.unwrap=()=>e._zod.def.innerType}));const Ti=Ce("ZodCatch",((e,t)=>{ra.init(e,t),yo.init(e,t),e.unwrap=()=>e._zod.def.innerType,e.removeCatch=e.unwrap}));const Oi=Ce("ZodPipe",((e,t)=>{aa.init(e,t),yo.init(e,t),e.in=t.in,e.out=t.out}));function Pi(e,t){return new Oi({type:"pipe",in:e,out:t})}const Mi=Ce("ZodReadonly",((e,t)=>{ia.init(e,t),yo.init(e,t),e.unwrap=()=>e._zod.def.innerType}));const Ni=Ce("ZodLazy",((e,t)=>{la.init(e,t),yo.init(e,t),e.unwrap=()=>e._zod.def.getter()}));function Ri(e){return new Ni({type:"lazy",getter:e})}const Di=Ce("ZodCustom",((e,t)=>{ua.init(e,t),yo.init(e,t)}));function zi(e,t){return function(e,t,n){var r;const a=Ye(n);return null!==(r=a.abort)&&void 0!==r||(a.abort=!0),new e((0,o.A)({type:"custom",check:"custom",fn:t},a))}(Di,null!==e&&void 0!==e?e:()=>!0,t)}function ji(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{error:"Input not instance of ".concat(e.name)};const n=new Di((0,o.A)({type:"custom",check:"custom",fn:t=>t instanceof e,abort:!0},Ye(t)));return n._zod.bag.Class=e,n}var Li;function Fi(e){return function(e,t){return new e((0,o.A)({type:"number",coerce:!0,checks:[]},Ye(t)))}(Wo,e)}Li||(Li={}),Me({localeError:da()});var Ui,Bi;!function(e){e.assertEqual=e=>{},e.assertIs=function(e){},e.assertNever=function(e){throw new Error},e.arrayToEnum=e=>{const t={};for(const n of e)t[n]=n;return t},e.getValidEnumValues=t=>{const n=e.objectKeys(t).filter((e=>"number"!==typeof t[t[e]])),r={};for(const e of n)r[e]=t[e];return e.objectValues(r)},e.objectValues=t=>e.objectKeys(t).map((function(e){return t[e]})),e.objectKeys="function"===typeof Object.keys?e=>Object.keys(e):e=>{const t=[];for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push(n);return t},e.find=(e,t)=>{for(const n of e)if(t(n))return n},e.isInteger="function"===typeof Number.isInteger?e=>Number.isInteger(e):e=>"number"===typeof e&&Number.isFinite(e)&&Math.floor(e)===e,e.joinValues=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:" | ";return e.map((e=>"string"===typeof e?"'".concat(e,"'"):e)).join(t)},e.jsonStringifyReplacer=(e,t)=>"bigint"===typeof t?t.toString():t}(Ui||(Ui={})),function(e){e.mergeShapes=(e,t)=>(0,o.A)((0,o.A)({},e),t)}(Bi||(Bi={}));const Zi=Ui.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Wi=e=>{switch(typeof e){case"undefined":return Zi.undefined;case"string":return Zi.string;case"number":return Number.isNaN(e)?Zi.nan:Zi.number;case"boolean":return Zi.boolean;case"function":return Zi.function;case"bigint":return Zi.bigint;case"symbol":return Zi.symbol;case"object":return Array.isArray(e)?Zi.array:null===e?Zi.null:e.then&&"function"===typeof e.then&&e.catch&&"function"===typeof e.catch?Zi.promise:"undefined"!==typeof Map&&e instanceof Map?Zi.map:"undefined"!==typeof Set&&e instanceof Set?Zi.set:"undefined"!==typeof Date&&e instanceof Date?Zi.date:Zi.object;default:return Zi.unknown}},qi=Ui.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class Vi extends Error{get errors(){return this.issues}constructor(e){var t;super(),t=this,this.issues=[],this.addIssue=e=>{this.issues=[...this.issues,e]},this.addIssues=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];t.issues=[...t.issues,...e]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=e}format(e){const t=e||function(e){return e.message},n={_errors:[]},r=e=>{for(const a of e.issues)if("invalid_union"===a.code)a.unionErrors.map(r);else if("invalid_return_type"===a.code)r(a.returnTypeError);else if("invalid_arguments"===a.code)r(a.argumentsError);else if(0===a.path.length)n._errors.push(t(a));else{let e=n,r=0;for(;r<a.path.length;){const n=a.path[r];r===a.path.length-1?(e[n]=e[n]||{_errors:[]},e[n]._errors.push(t(a))):e[n]=e[n]||{_errors:[]},e=e[n],r++}}};return r(this),n}static assert(e){if(!(e instanceof Vi))throw new Error("Not a ZodError: ".concat(e))}toString(){return this.message}get message(){return JSON.stringify(this.issues,Ui.jsonStringifyReplacer,2)}get isEmpty(){return 0===this.issues.length}flatten(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e=>e.message;const t=Object.create(null),n=[];for(const r of this.issues)if(r.path.length>0){const n=r.path[0];t[n]=t[n]||[],t[n].push(e(r))}else n.push(e(r));return{formErrors:n,fieldErrors:t}}get formErrors(){return this.flatten()}}Vi.create=e=>new Vi(e);const $i=(e,t)=>{let n;switch(e.code){case qi.invalid_type:n=e.received===Zi.undefined?"Required":"Expected ".concat(e.expected,", received ").concat(e.received);break;case qi.invalid_literal:n="Invalid literal value, expected ".concat(JSON.stringify(e.expected,Ui.jsonStringifyReplacer));break;case qi.unrecognized_keys:n="Unrecognized key(s) in object: ".concat(Ui.joinValues(e.keys,", "));break;case qi.invalid_union:n="Invalid input";break;case qi.invalid_union_discriminator:n="Invalid discriminator value. Expected ".concat(Ui.joinValues(e.options));break;case qi.invalid_enum_value:n="Invalid enum value. Expected ".concat(Ui.joinValues(e.options),", received '").concat(e.received,"'");break;case qi.invalid_arguments:n="Invalid function arguments";break;case qi.invalid_return_type:n="Invalid function return type";break;case qi.invalid_date:n="Invalid date";break;case qi.invalid_string:"object"===typeof e.validation?"includes"in e.validation?(n='Invalid input: must include "'.concat(e.validation.includes,'"'),"number"===typeof e.validation.position&&(n="".concat(n," at one or more positions greater than or equal to ").concat(e.validation.position))):"startsWith"in e.validation?n='Invalid input: must start with "'.concat(e.validation.startsWith,'"'):"endsWith"in e.validation?n='Invalid input: must end with "'.concat(e.validation.endsWith,'"'):Ui.assertNever(e.validation):n="regex"!==e.validation?"Invalid ".concat(e.validation):"Invalid";break;case qi.too_small:n="array"===e.type?"Array must contain ".concat(e.exact?"exactly":e.inclusive?"at least":"more than"," ").concat(e.minimum," element(s)"):"string"===e.type?"String must contain ".concat(e.exact?"exactly":e.inclusive?"at least":"over"," ").concat(e.minimum," character(s)"):"number"===e.type||"bigint"===e.type?"Number must be ".concat(e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than ").concat(e.minimum):"date"===e.type?"Date must be ".concat(e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than ").concat(new Date(Number(e.minimum))):"Invalid input";break;case qi.too_big:n="array"===e.type?"Array must contain ".concat(e.exact?"exactly":e.inclusive?"at most":"less than"," ").concat(e.maximum," element(s)"):"string"===e.type?"String must contain ".concat(e.exact?"exactly":e.inclusive?"at most":"under"," ").concat(e.maximum," character(s)"):"number"===e.type?"Number must be ".concat(e.exact?"exactly":e.inclusive?"less than or equal to":"less than"," ").concat(e.maximum):"bigint"===e.type?"BigInt must be ".concat(e.exact?"exactly":e.inclusive?"less than or equal to":"less than"," ").concat(e.maximum):"date"===e.type?"Date must be ".concat(e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"," ").concat(new Date(Number(e.maximum))):"Invalid input";break;case qi.custom:n="Invalid input";break;case qi.invalid_intersection_types:n="Intersection results could not be merged";break;case qi.not_multiple_of:n="Number must be a multiple of ".concat(e.multipleOf);break;case qi.not_finite:n="Number must be finite";break;default:n=t.defaultError,Ui.assertNever(e)}return{message:n}};let Ki=$i;function Hi(){return Ki}const Qi=e=>{const{data:t,path:n,errorMaps:r,issueData:a}=e,i=[...n,...a.path||[]],s=(0,o.A)((0,o.A)({},a),{},{path:i});if(void 0!==a.message)return(0,o.A)((0,o.A)({},a),{},{path:i,message:a.message});let l="";const u=r.filter((e=>!!e)).slice().reverse();for(const o of u)l=o(s,{data:t,defaultError:l}).message;return(0,o.A)((0,o.A)({},a),{},{path:i,message:l})};function Ji(e,t){const n=Hi(),r=Qi({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,n,n===$i?void 0:$i].filter((e=>!!e))});e.common.issues.push(r)}class Gi{constructor(){this.value="valid"}dirty(){"valid"===this.value&&(this.value="dirty")}abort(){"aborted"!==this.value&&(this.value="aborted")}static mergeArray(e,t){const n=[];for(const r of t){if("aborted"===r.status)return Yi;"dirty"===r.status&&e.dirty(),n.push(r.value)}return{status:e.value,value:n}}static async mergeObjectAsync(e,t){const n=[];for(const r of t){const e=await r.key,t=await r.value;n.push({key:e,value:t})}return Gi.mergeObjectSync(e,n)}static mergeObjectSync(e,t){const n={};for(const r of t){const{key:t,value:a}=r;if("aborted"===t.status)return Yi;if("aborted"===a.status)return Yi;"dirty"===t.status&&e.dirty(),"dirty"===a.status&&e.dirty(),"__proto__"===t.value||"undefined"===typeof a.value&&!r.alwaysSet||(n[t.value]=a.value)}return{status:e.value,value:n}}}const Yi=Object.freeze({status:"aborted"}),Xi=e=>({status:"dirty",value:e}),es=e=>({status:"valid",value:e}),ts=e=>"aborted"===e.status,ns=e=>"dirty"===e.status,rs=e=>"valid"===e.status,as=e=>"undefined"!==typeof Promise&&e instanceof Promise;var os;!function(e){e.errToObj=e=>"string"===typeof e?{message:e}:e||{},e.toString=e=>"string"===typeof e?e:null===e||void 0===e?void 0:e.message}(os||(os={}));class is{constructor(e,t,n,r){this._cachedPath=[],this.parent=e,this.data=t,this._path=n,this._key=r}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const ss=(e,t)=>{if(rs(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const t=new Vi(e.common.issues);return this._error=t,this._error}}};function ls(e){if(!e)return{};const{errorMap:t,invalid_type_error:n,required_error:r,description:a}=e;if(t&&(n||r))throw new Error('Can\'t use "invalid_type_error" or "required_error" in conjunction with custom error map.');if(t)return{errorMap:t,description:a};return{errorMap:(t,a)=>{var o;const{message:i}=e;return"invalid_enum_value"===t.code?{message:null!==i&&void 0!==i?i:a.defaultError}:"undefined"===typeof a.data?{message:null!==(s=null!==i&&void 0!==i?i:r)&&void 0!==s?s:a.defaultError}:"invalid_type"!==t.code?{message:a.defaultError}:{message:null!==(o=null!==i&&void 0!==i?i:n)&&void 0!==o?o:a.defaultError};var s},description:a}}class us{get description(){return this._def.description}_getType(e){return Wi(e.data)}_getOrReturnCtx(e,t){return t||{common:e.parent.common,data:e.data,parsedType:Wi(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new Gi,ctx:{common:e.parent.common,data:e.data,parsedType:Wi(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const t=this._parse(e);if(as(t))throw new Error("Synchronous parse encountered promise.");return t}_parseAsync(e){const t=this._parse(e);return Promise.resolve(t)}parse(e,t){const n=this.safeParse(e,t);if(n.success)return n.data;throw n.error}safeParse(e,t){var n;const r={common:{issues:[],async:null!==(n=null===t||void 0===t?void 0:t.async)&&void 0!==n&&n,contextualErrorMap:null===t||void 0===t?void 0:t.errorMap},path:(null===t||void 0===t?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Wi(e)},a=this._parseSync({data:e,path:r.path,parent:r});return ss(r,a)}"~validate"(e){const t={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Wi(e)};if(!this["~standard"].async)try{const n=this._parseSync({data:e,path:[],parent:t});return rs(n)?{value:n.value}:{issues:t.common.issues}}catch(r){var n;null!==r&&void 0!==r&&null!==(n=r.message)&&void 0!==n&&null!==(n=n.toLowerCase())&&void 0!==n&&n.includes("encountered")&&(this["~standard"].async=!0),t.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:t}).then((e=>rs(e)?{value:e.value}:{issues:t.common.issues}))}async parseAsync(e,t){const n=await this.safeParseAsync(e,t);if(n.success)return n.data;throw n.error}async safeParseAsync(e,t){const n={common:{issues:[],contextualErrorMap:null===t||void 0===t?void 0:t.errorMap,async:!0},path:(null===t||void 0===t?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Wi(e)},r=this._parse({data:e,path:n.path,parent:n}),a=await(as(r)?r:Promise.resolve(r));return ss(n,a)}refine(e,t){return this._refinement(((n,r)=>{const a=e(n),i=()=>r.addIssue((0,o.A)({code:qi.custom},(e=>"string"===typeof t||"undefined"===typeof t?{message:t}:"function"===typeof t?t(e):t)(n)));return"undefined"!==typeof Promise&&a instanceof Promise?a.then((e=>!!e||(i(),!1))):!!a||(i(),!1)}))}refinement(e,t){return this._refinement(((n,r)=>!!e(n)||(r.addIssue("function"===typeof t?t(n,r):t),!1)))}_refinement(e){return new il({schema:this,typeName:ml.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:e=>this["~validate"](e)}}optional(){return sl.create(this,this._def)}nullable(){return ll.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Vs.create(this)}promise(){return ol.create(this,this._def)}or(e){return Hs.create([this,e],this._def)}and(e){return Js.create(this,e,this._def)}transform(e){return new il((0,o.A)((0,o.A)({},ls(this._def)),{},{schema:this,typeName:ml.ZodEffects,effect:{type:"transform",transform:e}}))}default(e){const t="function"===typeof e?e:()=>e;return new ul((0,o.A)((0,o.A)({},ls(this._def)),{},{innerType:this,defaultValue:t,typeName:ml.ZodDefault}))}brand(){return new pl((0,o.A)({typeName:ml.ZodBranded,type:this},ls(this._def)))}catch(e){const t="function"===typeof e?e:()=>e;return new cl((0,o.A)((0,o.A)({},ls(this._def)),{},{innerType:this,catchValue:t,typeName:ml.ZodCatch}))}describe(e){return new(0,this.constructor)((0,o.A)((0,o.A)({},this._def),{},{description:e}))}pipe(e){return fl.create(this,e)}readonly(){return hl.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const cs=/^c[^\s-]{8,}$/i,ds=/^[0-9a-z]+$/,ps=/^[0-9A-HJKMNP-TV-Z]{26}$/i,fs=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,hs=/^[a-z0-9_-]{21}$/i,ms=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,gs=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,vs=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i;let ys;const _s=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,bs=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,ws=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,ks=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,As=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,xs=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,Es="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",Ss=new RegExp("^".concat(Es,"$"));function Is(e){let t="[0-5]\\d";e.precision?t="".concat(t,"\\.\\d{").concat(e.precision,"}"):null==e.precision&&(t="".concat(t,"(\\.\\d+)?"));const n=e.precision?"+":"?";return"([01]\\d|2[0-3]):[0-5]\\d(:".concat(t,")").concat(n)}function Cs(e){let t="".concat(Es,"T").concat(Is(e));const n=[];return n.push(e.local?"Z?":"Z"),e.offset&&n.push("([+-]\\d{2}:?\\d{2})"),t="".concat(t,"(").concat(n.join("|"),")"),new RegExp("^".concat(t,"$"))}function Ts(e,t){return!("v4"!==t&&t||!_s.test(e))||!("v6"!==t&&t||!ws.test(e))}function Os(e,t){if(!ms.test(e))return!1;try{const[n]=e.split(".");if(!n)return!1;const r=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),a=JSON.parse(atob(r));return"object"===typeof a&&null!==a&&((!("typ"in a)||"JWT"===(null===a||void 0===a?void 0:a.typ))&&(!!a.alg&&(!t||a.alg===t)))}catch(n){return!1}}function Ps(e,t){return!("v4"!==t&&t||!bs.test(e))||!("v6"!==t&&t||!ks.test(e))}class Ms extends us{_parse(e){this._def.coerce&&(e.data=String(e.data));if(this._getType(e)!==Zi.string){const t=this._getOrReturnCtx(e);return Ji(t,{code:qi.invalid_type,expected:Zi.string,received:t.parsedType}),Yi}const t=new Gi;let n;for(const a of this._def.checks)if("min"===a.kind)e.data.length<a.value&&(n=this._getOrReturnCtx(e,n),Ji(n,{code:qi.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),t.dirty());else if("max"===a.kind)e.data.length>a.value&&(n=this._getOrReturnCtx(e,n),Ji(n,{code:qi.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),t.dirty());else if("length"===a.kind){const r=e.data.length>a.value,o=e.data.length<a.value;(r||o)&&(n=this._getOrReturnCtx(e,n),r?Ji(n,{code:qi.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}):o&&Ji(n,{code:qi.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}),t.dirty())}else if("email"===a.kind)vs.test(e.data)||(n=this._getOrReturnCtx(e,n),Ji(n,{validation:"email",code:qi.invalid_string,message:a.message}),t.dirty());else if("emoji"===a.kind)ys||(ys=new RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),ys.test(e.data)||(n=this._getOrReturnCtx(e,n),Ji(n,{validation:"emoji",code:qi.invalid_string,message:a.message}),t.dirty());else if("uuid"===a.kind)fs.test(e.data)||(n=this._getOrReturnCtx(e,n),Ji(n,{validation:"uuid",code:qi.invalid_string,message:a.message}),t.dirty());else if("nanoid"===a.kind)hs.test(e.data)||(n=this._getOrReturnCtx(e,n),Ji(n,{validation:"nanoid",code:qi.invalid_string,message:a.message}),t.dirty());else if("cuid"===a.kind)cs.test(e.data)||(n=this._getOrReturnCtx(e,n),Ji(n,{validation:"cuid",code:qi.invalid_string,message:a.message}),t.dirty());else if("cuid2"===a.kind)ds.test(e.data)||(n=this._getOrReturnCtx(e,n),Ji(n,{validation:"cuid2",code:qi.invalid_string,message:a.message}),t.dirty());else if("ulid"===a.kind)ps.test(e.data)||(n=this._getOrReturnCtx(e,n),Ji(n,{validation:"ulid",code:qi.invalid_string,message:a.message}),t.dirty());else if("url"===a.kind)try{new URL(e.data)}catch(r){n=this._getOrReturnCtx(e,n),Ji(n,{validation:"url",code:qi.invalid_string,message:a.message}),t.dirty()}else if("regex"===a.kind){a.regex.lastIndex=0;a.regex.test(e.data)||(n=this._getOrReturnCtx(e,n),Ji(n,{validation:"regex",code:qi.invalid_string,message:a.message}),t.dirty())}else if("trim"===a.kind)e.data=e.data.trim();else if("includes"===a.kind)e.data.includes(a.value,a.position)||(n=this._getOrReturnCtx(e,n),Ji(n,{code:qi.invalid_string,validation:{includes:a.value,position:a.position},message:a.message}),t.dirty());else if("toLowerCase"===a.kind)e.data=e.data.toLowerCase();else if("toUpperCase"===a.kind)e.data=e.data.toUpperCase();else if("startsWith"===a.kind)e.data.startsWith(a.value)||(n=this._getOrReturnCtx(e,n),Ji(n,{code:qi.invalid_string,validation:{startsWith:a.value},message:a.message}),t.dirty());else if("endsWith"===a.kind)e.data.endsWith(a.value)||(n=this._getOrReturnCtx(e,n),Ji(n,{code:qi.invalid_string,validation:{endsWith:a.value},message:a.message}),t.dirty());else if("datetime"===a.kind){Cs(a).test(e.data)||(n=this._getOrReturnCtx(e,n),Ji(n,{code:qi.invalid_string,validation:"datetime",message:a.message}),t.dirty())}else if("date"===a.kind){Ss.test(e.data)||(n=this._getOrReturnCtx(e,n),Ji(n,{code:qi.invalid_string,validation:"date",message:a.message}),t.dirty())}else if("time"===a.kind){new RegExp("^".concat(Is(a),"$")).test(e.data)||(n=this._getOrReturnCtx(e,n),Ji(n,{code:qi.invalid_string,validation:"time",message:a.message}),t.dirty())}else"duration"===a.kind?gs.test(e.data)||(n=this._getOrReturnCtx(e,n),Ji(n,{validation:"duration",code:qi.invalid_string,message:a.message}),t.dirty()):"ip"===a.kind?Ts(e.data,a.version)||(n=this._getOrReturnCtx(e,n),Ji(n,{validation:"ip",code:qi.invalid_string,message:a.message}),t.dirty()):"jwt"===a.kind?Os(e.data,a.alg)||(n=this._getOrReturnCtx(e,n),Ji(n,{validation:"jwt",code:qi.invalid_string,message:a.message}),t.dirty()):"cidr"===a.kind?Ps(e.data,a.version)||(n=this._getOrReturnCtx(e,n),Ji(n,{validation:"cidr",code:qi.invalid_string,message:a.message}),t.dirty()):"base64"===a.kind?As.test(e.data)||(n=this._getOrReturnCtx(e,n),Ji(n,{validation:"base64",code:qi.invalid_string,message:a.message}),t.dirty()):"base64url"===a.kind?xs.test(e.data)||(n=this._getOrReturnCtx(e,n),Ji(n,{validation:"base64url",code:qi.invalid_string,message:a.message}),t.dirty()):Ui.assertNever(a);return{status:t.value,value:e.data}}_regex(e,t,n){return this.refinement((t=>e.test(t)),(0,o.A)({validation:t,code:qi.invalid_string},os.errToObj(n)))}_addCheck(e){return new Ms((0,o.A)((0,o.A)({},this._def),{},{checks:[...this._def.checks,e]}))}email(e){return this._addCheck((0,o.A)({kind:"email"},os.errToObj(e)))}url(e){return this._addCheck((0,o.A)({kind:"url"},os.errToObj(e)))}emoji(e){return this._addCheck((0,o.A)({kind:"emoji"},os.errToObj(e)))}uuid(e){return this._addCheck((0,o.A)({kind:"uuid"},os.errToObj(e)))}nanoid(e){return this._addCheck((0,o.A)({kind:"nanoid"},os.errToObj(e)))}cuid(e){return this._addCheck((0,o.A)({kind:"cuid"},os.errToObj(e)))}cuid2(e){return this._addCheck((0,o.A)({kind:"cuid2"},os.errToObj(e)))}ulid(e){return this._addCheck((0,o.A)({kind:"ulid"},os.errToObj(e)))}base64(e){return this._addCheck((0,o.A)({kind:"base64"},os.errToObj(e)))}base64url(e){return this._addCheck((0,o.A)({kind:"base64url"},os.errToObj(e)))}jwt(e){return this._addCheck((0,o.A)({kind:"jwt"},os.errToObj(e)))}ip(e){return this._addCheck((0,o.A)({kind:"ip"},os.errToObj(e)))}cidr(e){return this._addCheck((0,o.A)({kind:"cidr"},os.errToObj(e)))}datetime(e){var t,n;return"string"===typeof e?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck((0,o.A)({kind:"datetime",precision:"undefined"===typeof(null===e||void 0===e?void 0:e.precision)?null:null===e||void 0===e?void 0:e.precision,offset:null!==(t=null===e||void 0===e?void 0:e.offset)&&void 0!==t&&t,local:null!==(n=null===e||void 0===e?void 0:e.local)&&void 0!==n&&n},os.errToObj(null===e||void 0===e?void 0:e.message)))}date(e){return this._addCheck({kind:"date",message:e})}time(e){return"string"===typeof e?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck((0,o.A)({kind:"time",precision:"undefined"===typeof(null===e||void 0===e?void 0:e.precision)?null:null===e||void 0===e?void 0:e.precision},os.errToObj(null===e||void 0===e?void 0:e.message)))}duration(e){return this._addCheck((0,o.A)({kind:"duration"},os.errToObj(e)))}regex(e,t){return this._addCheck((0,o.A)({kind:"regex",regex:e},os.errToObj(t)))}includes(e,t){return this._addCheck((0,o.A)({kind:"includes",value:e,position:null===t||void 0===t?void 0:t.position},os.errToObj(null===t||void 0===t?void 0:t.message)))}startsWith(e,t){return this._addCheck((0,o.A)({kind:"startsWith",value:e},os.errToObj(t)))}endsWith(e,t){return this._addCheck((0,o.A)({kind:"endsWith",value:e},os.errToObj(t)))}min(e,t){return this._addCheck((0,o.A)({kind:"min",value:e},os.errToObj(t)))}max(e,t){return this._addCheck((0,o.A)({kind:"max",value:e},os.errToObj(t)))}length(e,t){return this._addCheck((0,o.A)({kind:"length",value:e},os.errToObj(t)))}nonempty(e){return this.min(1,os.errToObj(e))}trim(){return new Ms((0,o.A)((0,o.A)({},this._def),{},{checks:[...this._def.checks,{kind:"trim"}]}))}toLowerCase(){return new Ms((0,o.A)((0,o.A)({},this._def),{},{checks:[...this._def.checks,{kind:"toLowerCase"}]}))}toUpperCase(){return new Ms((0,o.A)((0,o.A)({},this._def),{},{checks:[...this._def.checks,{kind:"toUpperCase"}]}))}get isDatetime(){return!!this._def.checks.find((e=>"datetime"===e.kind))}get isDate(){return!!this._def.checks.find((e=>"date"===e.kind))}get isTime(){return!!this._def.checks.find((e=>"time"===e.kind))}get isDuration(){return!!this._def.checks.find((e=>"duration"===e.kind))}get isEmail(){return!!this._def.checks.find((e=>"email"===e.kind))}get isURL(){return!!this._def.checks.find((e=>"url"===e.kind))}get isEmoji(){return!!this._def.checks.find((e=>"emoji"===e.kind))}get isUUID(){return!!this._def.checks.find((e=>"uuid"===e.kind))}get isNANOID(){return!!this._def.checks.find((e=>"nanoid"===e.kind))}get isCUID(){return!!this._def.checks.find((e=>"cuid"===e.kind))}get isCUID2(){return!!this._def.checks.find((e=>"cuid2"===e.kind))}get isULID(){return!!this._def.checks.find((e=>"ulid"===e.kind))}get isIP(){return!!this._def.checks.find((e=>"ip"===e.kind))}get isCIDR(){return!!this._def.checks.find((e=>"cidr"===e.kind))}get isBase64(){return!!this._def.checks.find((e=>"base64"===e.kind))}get isBase64url(){return!!this._def.checks.find((e=>"base64url"===e.kind))}get minLength(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxLength(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}}function Ns(e,t){const n=(e.toString().split(".")[1]||"").length,r=(t.toString().split(".")[1]||"").length,a=n>r?n:r;return Number.parseInt(e.toFixed(a).replace(".",""))%Number.parseInt(t.toFixed(a).replace(".",""))/10**a}Ms.create=e=>{var t;return new Ms((0,o.A)({checks:[],typeName:ml.ZodString,coerce:null!==(t=null===e||void 0===e?void 0:e.coerce)&&void 0!==t&&t},ls(e)))};class Rs extends us{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){this._def.coerce&&(e.data=Number(e.data));if(this._getType(e)!==Zi.number){const t=this._getOrReturnCtx(e);return Ji(t,{code:qi.invalid_type,expected:Zi.number,received:t.parsedType}),Yi}let t;const n=new Gi;for(const r of this._def.checks)if("int"===r.kind)Ui.isInteger(e.data)||(t=this._getOrReturnCtx(e,t),Ji(t,{code:qi.invalid_type,expected:"integer",received:"float",message:r.message}),n.dirty());else if("min"===r.kind){(r.inclusive?e.data<r.value:e.data<=r.value)&&(t=this._getOrReturnCtx(e,t),Ji(t,{code:qi.too_small,minimum:r.value,type:"number",inclusive:r.inclusive,exact:!1,message:r.message}),n.dirty())}else if("max"===r.kind){(r.inclusive?e.data>r.value:e.data>=r.value)&&(t=this._getOrReturnCtx(e,t),Ji(t,{code:qi.too_big,maximum:r.value,type:"number",inclusive:r.inclusive,exact:!1,message:r.message}),n.dirty())}else"multipleOf"===r.kind?0!==Ns(e.data,r.value)&&(t=this._getOrReturnCtx(e,t),Ji(t,{code:qi.not_multiple_of,multipleOf:r.value,message:r.message}),n.dirty()):"finite"===r.kind?Number.isFinite(e.data)||(t=this._getOrReturnCtx(e,t),Ji(t,{code:qi.not_finite,message:r.message}),n.dirty()):Ui.assertNever(r);return{status:n.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,os.toString(t))}gt(e,t){return this.setLimit("min",e,!1,os.toString(t))}lte(e,t){return this.setLimit("max",e,!0,os.toString(t))}lt(e,t){return this.setLimit("max",e,!1,os.toString(t))}setLimit(e,t,n,r){return new Rs((0,o.A)((0,o.A)({},this._def),{},{checks:[...this._def.checks,{kind:e,value:t,inclusive:n,message:os.toString(r)}]}))}_addCheck(e){return new Rs((0,o.A)((0,o.A)({},this._def),{},{checks:[...this._def.checks,e]}))}int(e){return this._addCheck({kind:"int",message:os.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:os.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:os.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:os.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:os.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:os.toString(t)})}finite(e){return this._addCheck({kind:"finite",message:os.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:os.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:os.toString(e)})}get minValue(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}get isInt(){return!!this._def.checks.find((e=>"int"===e.kind||"multipleOf"===e.kind&&Ui.isInteger(e.value)))}get isFinite(){let e=null,t=null;for(const n of this._def.checks){if("finite"===n.kind||"int"===n.kind||"multipleOf"===n.kind)return!0;"min"===n.kind?(null===t||n.value>t)&&(t=n.value):"max"===n.kind&&(null===e||n.value<e)&&(e=n.value)}return Number.isFinite(t)&&Number.isFinite(e)}}Rs.create=e=>new Rs((0,o.A)({checks:[],typeName:ml.ZodNumber,coerce:(null===e||void 0===e?void 0:e.coerce)||!1},ls(e)));class Ds extends us{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch(r){return this._getInvalidInput(e)}if(this._getType(e)!==Zi.bigint)return this._getInvalidInput(e);let t;const n=new Gi;for(const a of this._def.checks)if("min"===a.kind){(a.inclusive?e.data<a.value:e.data<=a.value)&&(t=this._getOrReturnCtx(e,t),Ji(t,{code:qi.too_small,type:"bigint",minimum:a.value,inclusive:a.inclusive,message:a.message}),n.dirty())}else if("max"===a.kind){(a.inclusive?e.data>a.value:e.data>=a.value)&&(t=this._getOrReturnCtx(e,t),Ji(t,{code:qi.too_big,type:"bigint",maximum:a.value,inclusive:a.inclusive,message:a.message}),n.dirty())}else"multipleOf"===a.kind?e.data%a.value!==BigInt(0)&&(t=this._getOrReturnCtx(e,t),Ji(t,{code:qi.not_multiple_of,multipleOf:a.value,message:a.message}),n.dirty()):Ui.assertNever(a);return{status:n.value,value:e.data}}_getInvalidInput(e){const t=this._getOrReturnCtx(e);return Ji(t,{code:qi.invalid_type,expected:Zi.bigint,received:t.parsedType}),Yi}gte(e,t){return this.setLimit("min",e,!0,os.toString(t))}gt(e,t){return this.setLimit("min",e,!1,os.toString(t))}lte(e,t){return this.setLimit("max",e,!0,os.toString(t))}lt(e,t){return this.setLimit("max",e,!1,os.toString(t))}setLimit(e,t,n,r){return new Ds((0,o.A)((0,o.A)({},this._def),{},{checks:[...this._def.checks,{kind:e,value:t,inclusive:n,message:os.toString(r)}]}))}_addCheck(e){return new Ds((0,o.A)((0,o.A)({},this._def),{},{checks:[...this._def.checks,e]}))}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:os.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:os.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:os.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:os.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:os.toString(t)})}get minValue(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}}Ds.create=e=>{var t;return new Ds((0,o.A)({checks:[],typeName:ml.ZodBigInt,coerce:null!==(t=null===e||void 0===e?void 0:e.coerce)&&void 0!==t&&t},ls(e)))};class zs extends us{_parse(e){this._def.coerce&&(e.data=Boolean(e.data));if(this._getType(e)!==Zi.boolean){const t=this._getOrReturnCtx(e);return Ji(t,{code:qi.invalid_type,expected:Zi.boolean,received:t.parsedType}),Yi}return es(e.data)}}zs.create=e=>new zs((0,o.A)({typeName:ml.ZodBoolean,coerce:(null===e||void 0===e?void 0:e.coerce)||!1},ls(e)));class js extends us{_parse(e){this._def.coerce&&(e.data=new Date(e.data));if(this._getType(e)!==Zi.date){const t=this._getOrReturnCtx(e);return Ji(t,{code:qi.invalid_type,expected:Zi.date,received:t.parsedType}),Yi}if(Number.isNaN(e.data.getTime())){return Ji(this._getOrReturnCtx(e),{code:qi.invalid_date}),Yi}const t=new Gi;let n;for(const r of this._def.checks)"min"===r.kind?e.data.getTime()<r.value&&(n=this._getOrReturnCtx(e,n),Ji(n,{code:qi.too_small,message:r.message,inclusive:!0,exact:!1,minimum:r.value,type:"date"}),t.dirty()):"max"===r.kind?e.data.getTime()>r.value&&(n=this._getOrReturnCtx(e,n),Ji(n,{code:qi.too_big,message:r.message,inclusive:!0,exact:!1,maximum:r.value,type:"date"}),t.dirty()):Ui.assertNever(r);return{status:t.value,value:new Date(e.data.getTime())}}_addCheck(e){return new js((0,o.A)((0,o.A)({},this._def),{},{checks:[...this._def.checks,e]}))}min(e,t){return this._addCheck({kind:"min",value:e.getTime(),message:os.toString(t)})}max(e,t){return this._addCheck({kind:"max",value:e.getTime(),message:os.toString(t)})}get minDate(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return null!=e?new Date(e):null}get maxDate(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return null!=e?new Date(e):null}}js.create=e=>new js((0,o.A)({checks:[],coerce:(null===e||void 0===e?void 0:e.coerce)||!1,typeName:ml.ZodDate},ls(e)));class Ls extends us{_parse(e){if(this._getType(e)!==Zi.symbol){const t=this._getOrReturnCtx(e);return Ji(t,{code:qi.invalid_type,expected:Zi.symbol,received:t.parsedType}),Yi}return es(e.data)}}Ls.create=e=>new Ls((0,o.A)({typeName:ml.ZodSymbol},ls(e)));class Fs extends us{_parse(e){if(this._getType(e)!==Zi.undefined){const t=this._getOrReturnCtx(e);return Ji(t,{code:qi.invalid_type,expected:Zi.undefined,received:t.parsedType}),Yi}return es(e.data)}}Fs.create=e=>new Fs((0,o.A)({typeName:ml.ZodUndefined},ls(e)));class Us extends us{_parse(e){if(this._getType(e)!==Zi.null){const t=this._getOrReturnCtx(e);return Ji(t,{code:qi.invalid_type,expected:Zi.null,received:t.parsedType}),Yi}return es(e.data)}}Us.create=e=>new Us((0,o.A)({typeName:ml.ZodNull},ls(e)));class Bs extends us{constructor(){super(...arguments),this._any=!0}_parse(e){return es(e.data)}}Bs.create=e=>new Bs((0,o.A)({typeName:ml.ZodAny},ls(e)));class Zs extends us{constructor(){super(...arguments),this._unknown=!0}_parse(e){return es(e.data)}}Zs.create=e=>new Zs((0,o.A)({typeName:ml.ZodUnknown},ls(e)));class Ws extends us{_parse(e){const t=this._getOrReturnCtx(e);return Ji(t,{code:qi.invalid_type,expected:Zi.never,received:t.parsedType}),Yi}}Ws.create=e=>new Ws((0,o.A)({typeName:ml.ZodNever},ls(e)));class qs extends us{_parse(e){if(this._getType(e)!==Zi.undefined){const t=this._getOrReturnCtx(e);return Ji(t,{code:qi.invalid_type,expected:Zi.void,received:t.parsedType}),Yi}return es(e.data)}}qs.create=e=>new qs((0,o.A)({typeName:ml.ZodVoid},ls(e)));class Vs extends us{_parse(e){const{ctx:t,status:n}=this._processInputParams(e),r=this._def;if(t.parsedType!==Zi.array)return Ji(t,{code:qi.invalid_type,expected:Zi.array,received:t.parsedType}),Yi;if(null!==r.exactLength){const e=t.data.length>r.exactLength.value,a=t.data.length<r.exactLength.value;(e||a)&&(Ji(t,{code:e?qi.too_big:qi.too_small,minimum:a?r.exactLength.value:void 0,maximum:e?r.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:r.exactLength.message}),n.dirty())}if(null!==r.minLength&&t.data.length<r.minLength.value&&(Ji(t,{code:qi.too_small,minimum:r.minLength.value,type:"array",inclusive:!0,exact:!1,message:r.minLength.message}),n.dirty()),null!==r.maxLength&&t.data.length>r.maxLength.value&&(Ji(t,{code:qi.too_big,maximum:r.maxLength.value,type:"array",inclusive:!0,exact:!1,message:r.maxLength.message}),n.dirty()),t.common.async)return Promise.all([...t.data].map(((e,n)=>r.type._parseAsync(new is(t,e,t.path,n))))).then((e=>Gi.mergeArray(n,e)));const a=[...t.data].map(((e,n)=>r.type._parseSync(new is(t,e,t.path,n))));return Gi.mergeArray(n,a)}get element(){return this._def.type}min(e,t){return new Vs((0,o.A)((0,o.A)({},this._def),{},{minLength:{value:e,message:os.toString(t)}}))}max(e,t){return new Vs((0,o.A)((0,o.A)({},this._def),{},{maxLength:{value:e,message:os.toString(t)}}))}length(e,t){return new Vs((0,o.A)((0,o.A)({},this._def),{},{exactLength:{value:e,message:os.toString(t)}}))}nonempty(e){return this.min(1,e)}}function $s(e){if(e instanceof Ks){const t={};for(const n in e.shape){const r=e.shape[n];t[n]=sl.create($s(r))}return new Ks((0,o.A)((0,o.A)({},e._def),{},{shape:()=>t}))}return e instanceof Vs?new Vs((0,o.A)((0,o.A)({},e._def),{},{type:$s(e.element)})):e instanceof sl?sl.create($s(e.unwrap())):e instanceof ll?ll.create($s(e.unwrap())):e instanceof Gs?Gs.create(e.items.map((e=>$s(e)))):e}Vs.create=(e,t)=>new Vs((0,o.A)({type:e,minLength:null,maxLength:null,exactLength:null,typeName:ml.ZodArray},ls(t)));class Ks extends us{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(null!==this._cached)return this._cached;const e=this._def.shape(),t=Ui.objectKeys(e);return this._cached={shape:e,keys:t},this._cached}_parse(e){if(this._getType(e)!==Zi.object){const t=this._getOrReturnCtx(e);return Ji(t,{code:qi.invalid_type,expected:Zi.object,received:t.parsedType}),Yi}const{status:t,ctx:n}=this._processInputParams(e),{shape:r,keys:a}=this._getCached(),o=[];if(!(this._def.catchall instanceof Ws&&"strip"===this._def.unknownKeys))for(const s in n.data)a.includes(s)||o.push(s);const i=[];for(const s of a){const e=r[s],t=n.data[s];i.push({key:{status:"valid",value:s},value:e._parse(new is(n,t,n.path,s)),alwaysSet:s in n.data})}if(this._def.catchall instanceof Ws){const e=this._def.unknownKeys;if("passthrough"===e)for(const t of o)i.push({key:{status:"valid",value:t},value:{status:"valid",value:n.data[t]}});else if("strict"===e)o.length>0&&(Ji(n,{code:qi.unrecognized_keys,keys:o}),t.dirty());else if("strip"!==e)throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const e=this._def.catchall;for(const t of o){const r=n.data[t];i.push({key:{status:"valid",value:t},value:e._parse(new is(n,r,n.path,t)),alwaysSet:t in n.data})}}return n.common.async?Promise.resolve().then((async()=>{const e=[];for(const t of i){const n=await t.key,r=await t.value;e.push({key:n,value:r,alwaysSet:t.alwaysSet})}return e})).then((e=>Gi.mergeObjectSync(t,e))):Gi.mergeObjectSync(t,i)}get shape(){return this._def.shape()}strict(e){return os.errToObj,new Ks((0,o.A)((0,o.A)({},this._def),{},{unknownKeys:"strict"},void 0!==e?{errorMap:(t,n)=>{var r,a,o,i;const s=null!==(r=null===(a=(o=this._def).errorMap)||void 0===a?void 0:a.call(o,t,n).message)&&void 0!==r?r:n.defaultError;return"unrecognized_keys"===t.code?{message:null!==(i=os.errToObj(e).message)&&void 0!==i?i:s}:{message:s}}}:{}))}strip(){return new Ks((0,o.A)((0,o.A)({},this._def),{},{unknownKeys:"strip"}))}passthrough(){return new Ks((0,o.A)((0,o.A)({},this._def),{},{unknownKeys:"passthrough"}))}extend(e){return new Ks((0,o.A)((0,o.A)({},this._def),{},{shape:()=>(0,o.A)((0,o.A)({},this._def.shape()),e)}))}merge(e){return new Ks({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>(0,o.A)((0,o.A)({},this._def.shape()),e._def.shape()),typeName:ml.ZodObject})}setKey(e,t){return this.augment({[e]:t})}catchall(e){return new Ks((0,o.A)((0,o.A)({},this._def),{},{catchall:e}))}pick(e){const t={};for(const n of Ui.objectKeys(e))e[n]&&this.shape[n]&&(t[n]=this.shape[n]);return new Ks((0,o.A)((0,o.A)({},this._def),{},{shape:()=>t}))}omit(e){const t={};for(const n of Ui.objectKeys(this.shape))e[n]||(t[n]=this.shape[n]);return new Ks((0,o.A)((0,o.A)({},this._def),{},{shape:()=>t}))}deepPartial(){return $s(this)}partial(e){const t={};for(const n of Ui.objectKeys(this.shape)){const r=this.shape[n];e&&!e[n]?t[n]=r:t[n]=r.optional()}return new Ks((0,o.A)((0,o.A)({},this._def),{},{shape:()=>t}))}required(e){const t={};for(const n of Ui.objectKeys(this.shape))if(e&&!e[n])t[n]=this.shape[n];else{let e=this.shape[n];for(;e instanceof sl;)e=e._def.innerType;t[n]=e}return new Ks((0,o.A)((0,o.A)({},this._def),{},{shape:()=>t}))}keyof(){return nl(Ui.objectKeys(this.shape))}}Ks.create=(e,t)=>new Ks((0,o.A)({shape:()=>e,unknownKeys:"strip",catchall:Ws.create(),typeName:ml.ZodObject},ls(t))),Ks.strictCreate=(e,t)=>new Ks((0,o.A)({shape:()=>e,unknownKeys:"strict",catchall:Ws.create(),typeName:ml.ZodObject},ls(t))),Ks.lazycreate=(e,t)=>new Ks((0,o.A)({shape:e,unknownKeys:"strip",catchall:Ws.create(),typeName:ml.ZodObject},ls(t)));class Hs extends us{_parse(e){const{ctx:t}=this._processInputParams(e),n=this._def.options;if(t.common.async)return Promise.all(n.map((async e=>{const n=(0,o.A)((0,o.A)({},t),{},{common:(0,o.A)((0,o.A)({},t.common),{},{issues:[]}),parent:null});return{result:await e._parseAsync({data:t.data,path:t.path,parent:n}),ctx:n}}))).then((function(e){for(const t of e)if("valid"===t.result.status)return t.result;for(const r of e)if("dirty"===r.result.status)return t.common.issues.push(...r.ctx.common.issues),r.result;const n=e.map((e=>new Vi(e.ctx.common.issues)));return Ji(t,{code:qi.invalid_union,unionErrors:n}),Yi}));{let e;const r=[];for(const i of n){const n=(0,o.A)((0,o.A)({},t),{},{common:(0,o.A)((0,o.A)({},t.common),{},{issues:[]}),parent:null}),a=i._parseSync({data:t.data,path:t.path,parent:n});if("valid"===a.status)return a;"dirty"!==a.status||e||(e={result:a,ctx:n}),n.common.issues.length&&r.push(n.common.issues)}if(e)return t.common.issues.push(...e.ctx.common.issues),e.result;const a=r.map((e=>new Vi(e)));return Ji(t,{code:qi.invalid_union,unionErrors:a}),Yi}}get options(){return this._def.options}}Hs.create=(e,t)=>new Hs((0,o.A)({options:e,typeName:ml.ZodUnion},ls(t)));function Qs(e,t){const n=Wi(e),r=Wi(t);if(e===t)return{valid:!0,data:e};if(n===Zi.object&&r===Zi.object){const n=Ui.objectKeys(t),r=Ui.objectKeys(e).filter((e=>-1!==n.indexOf(e))),a=(0,o.A)((0,o.A)({},e),t);for(const o of r){const n=Qs(e[o],t[o]);if(!n.valid)return{valid:!1};a[o]=n.data}return{valid:!0,data:a}}if(n===Zi.array&&r===Zi.array){if(e.length!==t.length)return{valid:!1};const n=[];for(let r=0;r<e.length;r++){const a=Qs(e[r],t[r]);if(!a.valid)return{valid:!1};n.push(a.data)}return{valid:!0,data:n}}return n===Zi.date&&r===Zi.date&&+e===+t?{valid:!0,data:e}:{valid:!1}}class Js extends us{_parse(e){const{status:t,ctx:n}=this._processInputParams(e),r=(e,r)=>{if(ts(e)||ts(r))return Yi;const a=Qs(e.value,r.value);return a.valid?((ns(e)||ns(r))&&t.dirty(),{status:t.value,value:a.data}):(Ji(n,{code:qi.invalid_intersection_types}),Yi)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then((e=>{let[t,n]=e;return r(t,n)})):r(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}Js.create=(e,t,n)=>new Js((0,o.A)({left:e,right:t,typeName:ml.ZodIntersection},ls(n)));class Gs extends us{_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==Zi.array)return Ji(n,{code:qi.invalid_type,expected:Zi.array,received:n.parsedType}),Yi;if(n.data.length<this._def.items.length)return Ji(n,{code:qi.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Yi;!this._def.rest&&n.data.length>this._def.items.length&&(Ji(n,{code:qi.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),t.dirty());const r=[...n.data].map(((e,t)=>{const r=this._def.items[t]||this._def.rest;return r?r._parse(new is(n,e,n.path,t)):null})).filter((e=>!!e));return n.common.async?Promise.all(r).then((e=>Gi.mergeArray(t,e))):Gi.mergeArray(t,r)}get items(){return this._def.items}rest(e){return new Gs((0,o.A)((0,o.A)({},this._def),{},{rest:e}))}}Gs.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Gs((0,o.A)({items:e,typeName:ml.ZodTuple,rest:null},ls(t)))};class Ys extends us{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==Zi.map)return Ji(n,{code:qi.invalid_type,expected:Zi.map,received:n.parsedType}),Yi;const r=this._def.keyType,a=this._def.valueType,o=[...n.data.entries()].map(((e,t)=>{let[o,i]=e;return{key:r._parse(new is(n,o,n.path,[t,"key"])),value:a._parse(new is(n,i,n.path,[t,"value"]))}}));if(n.common.async){const e=new Map;return Promise.resolve().then((async()=>{for(const n of o){const r=await n.key,a=await n.value;if("aborted"===r.status||"aborted"===a.status)return Yi;"dirty"!==r.status&&"dirty"!==a.status||t.dirty(),e.set(r.value,a.value)}return{status:t.value,value:e}}))}{const e=new Map;for(const n of o){const r=n.key,a=n.value;if("aborted"===r.status||"aborted"===a.status)return Yi;"dirty"!==r.status&&"dirty"!==a.status||t.dirty(),e.set(r.value,a.value)}return{status:t.value,value:e}}}}Ys.create=(e,t,n)=>new Ys((0,o.A)({valueType:t,keyType:e,typeName:ml.ZodMap},ls(n)));class Xs extends us{_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==Zi.set)return Ji(n,{code:qi.invalid_type,expected:Zi.set,received:n.parsedType}),Yi;const r=this._def;null!==r.minSize&&n.data.size<r.minSize.value&&(Ji(n,{code:qi.too_small,minimum:r.minSize.value,type:"set",inclusive:!0,exact:!1,message:r.minSize.message}),t.dirty()),null!==r.maxSize&&n.data.size>r.maxSize.value&&(Ji(n,{code:qi.too_big,maximum:r.maxSize.value,type:"set",inclusive:!0,exact:!1,message:r.maxSize.message}),t.dirty());const a=this._def.valueType;function o(e){const n=new Set;for(const r of e){if("aborted"===r.status)return Yi;"dirty"===r.status&&t.dirty(),n.add(r.value)}return{status:t.value,value:n}}const i=[...n.data.values()].map(((e,t)=>a._parse(new is(n,e,n.path,t))));return n.common.async?Promise.all(i).then((e=>o(e))):o(i)}min(e,t){return new Xs((0,o.A)((0,o.A)({},this._def),{},{minSize:{value:e,message:os.toString(t)}}))}max(e,t){return new Xs((0,o.A)((0,o.A)({},this._def),{},{maxSize:{value:e,message:os.toString(t)}}))}size(e,t){return this.min(e,t).max(e,t)}nonempty(e){return this.min(1,e)}}Xs.create=(e,t)=>new Xs((0,o.A)({valueType:e,minSize:null,maxSize:null,typeName:ml.ZodSet},ls(t)));class el extends us{get schema(){return this._def.getter()}_parse(e){const{ctx:t}=this._processInputParams(e);return this._def.getter()._parse({data:t.data,path:t.path,parent:t})}}el.create=(e,t)=>new el((0,o.A)({getter:e,typeName:ml.ZodLazy},ls(t)));class tl extends us{_parse(e){if(e.data!==this._def.value){const t=this._getOrReturnCtx(e);return Ji(t,{received:t.data,code:qi.invalid_literal,expected:this._def.value}),Yi}return{status:"valid",value:e.data}}get value(){return this._def.value}}function nl(e,t){return new rl((0,o.A)({values:e,typeName:ml.ZodEnum},ls(t)))}tl.create=(e,t)=>new tl((0,o.A)({value:e,typeName:ml.ZodLiteral},ls(t)));class rl extends us{_parse(e){if("string"!==typeof e.data){const t=this._getOrReturnCtx(e),n=this._def.values;return Ji(t,{expected:Ui.joinValues(n),received:t.parsedType,code:qi.invalid_type}),Yi}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){const t=this._getOrReturnCtx(e),n=this._def.values;return Ji(t,{received:t.data,code:qi.invalid_enum_value,options:n}),Yi}return es(e.data)}get options(){return this._def.values}get enum(){const e={};for(const t of this._def.values)e[t]=t;return e}get Values(){const e={};for(const t of this._def.values)e[t]=t;return e}get Enum(){const e={};for(const t of this._def.values)e[t]=t;return e}extract(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._def;return rl.create(e,(0,o.A)((0,o.A)({},this._def),t))}exclude(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._def;return rl.create(this.options.filter((t=>!e.includes(t))),(0,o.A)((0,o.A)({},this._def),t))}}rl.create=nl;class al extends us{_parse(e){const t=Ui.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(e);if(n.parsedType!==Zi.string&&n.parsedType!==Zi.number){const e=Ui.objectValues(t);return Ji(n,{expected:Ui.joinValues(e),received:n.parsedType,code:qi.invalid_type}),Yi}if(this._cache||(this._cache=new Set(Ui.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){const e=Ui.objectValues(t);return Ji(n,{received:n.data,code:qi.invalid_enum_value,options:e}),Yi}return es(e.data)}get enum(){return this._def.values}}al.create=(e,t)=>new al((0,o.A)({values:e,typeName:ml.ZodNativeEnum},ls(t)));class ol extends us{unwrap(){return this._def.type}_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==Zi.promise&&!1===t.common.async)return Ji(t,{code:qi.invalid_type,expected:Zi.promise,received:t.parsedType}),Yi;const n=t.parsedType===Zi.promise?t.data:Promise.resolve(t.data);return es(n.then((e=>this._def.type.parseAsync(e,{path:t.path,errorMap:t.common.contextualErrorMap}))))}}ol.create=(e,t)=>new ol((0,o.A)({type:e,typeName:ml.ZodPromise},ls(t)));class il extends us{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===ml.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:t,ctx:n}=this._processInputParams(e),r=this._def.effect||null,a={addIssue:e=>{Ji(n,e),e.fatal?t.abort():t.dirty()},get path(){return n.path}};if(a.addIssue=a.addIssue.bind(a),"preprocess"===r.type){const e=r.transform(n.data,a);if(n.common.async)return Promise.resolve(e).then((async e=>{if("aborted"===t.value)return Yi;const r=await this._def.schema._parseAsync({data:e,path:n.path,parent:n});return"aborted"===r.status?Yi:"dirty"===r.status||"dirty"===t.value?Xi(r.value):r}));{if("aborted"===t.value)return Yi;const r=this._def.schema._parseSync({data:e,path:n.path,parent:n});return"aborted"===r.status?Yi:"dirty"===r.status||"dirty"===t.value?Xi(r.value):r}}if("refinement"===r.type){const e=e=>{const t=r.refinement(e,a);if(n.common.async)return Promise.resolve(t);if(t instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return e};if(!1===n.common.async){const r=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return"aborted"===r.status?Yi:("dirty"===r.status&&t.dirty(),e(r.value),{status:t.value,value:r.value})}return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then((n=>"aborted"===n.status?Yi:("dirty"===n.status&&t.dirty(),e(n.value).then((()=>({status:t.value,value:n.value}))))))}if("transform"===r.type){if(!1===n.common.async){const e=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!rs(e))return Yi;const o=r.transform(e.value,a);if(o instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:t.value,value:o}}return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then((e=>rs(e)?Promise.resolve(r.transform(e.value,a)).then((e=>({status:t.value,value:e}))):Yi))}Ui.assertNever(r)}}il.create=(e,t,n)=>new il((0,o.A)({schema:e,typeName:ml.ZodEffects,effect:t},ls(n))),il.createWithPreprocess=(e,t,n)=>new il((0,o.A)({schema:t,effect:{type:"preprocess",transform:e},typeName:ml.ZodEffects},ls(n)));class sl extends us{_parse(e){return this._getType(e)===Zi.undefined?es(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}sl.create=(e,t)=>new sl((0,o.A)({innerType:e,typeName:ml.ZodOptional},ls(t)));class ll extends us{_parse(e){return this._getType(e)===Zi.null?es(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}ll.create=(e,t)=>new ll((0,o.A)({innerType:e,typeName:ml.ZodNullable},ls(t)));class ul extends us{_parse(e){const{ctx:t}=this._processInputParams(e);let n=t.data;return t.parsedType===Zi.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:t.path,parent:t})}removeDefault(){return this._def.innerType}}ul.create=(e,t)=>new ul((0,o.A)({innerType:e,typeName:ml.ZodDefault,defaultValue:"function"===typeof t.default?t.default:()=>t.default},ls(t)));class cl extends us{_parse(e){const{ctx:t}=this._processInputParams(e),n=(0,o.A)((0,o.A)({},t),{},{common:(0,o.A)((0,o.A)({},t.common),{},{issues:[]})}),r=this._def.innerType._parse({data:n.data,path:n.path,parent:(0,o.A)({},n)});return as(r)?r.then((e=>({status:"valid",value:"valid"===e.status?e.value:this._def.catchValue({get error(){return new Vi(n.common.issues)},input:n.data})}))):{status:"valid",value:"valid"===r.status?r.value:this._def.catchValue({get error(){return new Vi(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}cl.create=(e,t)=>new cl((0,o.A)({innerType:e,typeName:ml.ZodCatch,catchValue:"function"===typeof t.catch?t.catch:()=>t.catch},ls(t)));class dl extends us{_parse(e){if(this._getType(e)!==Zi.nan){const t=this._getOrReturnCtx(e);return Ji(t,{code:qi.invalid_type,expected:Zi.nan,received:t.parsedType}),Yi}return{status:"valid",value:e.data}}}dl.create=e=>new dl((0,o.A)({typeName:ml.ZodNaN},ls(e)));Symbol("zod_brand");class pl extends us{_parse(e){const{ctx:t}=this._processInputParams(e),n=t.data;return this._def.type._parse({data:n,path:t.path,parent:t})}unwrap(){return this._def.type}}class fl extends us{_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.common.async){return(async()=>{const e=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return"aborted"===e.status?Yi:"dirty"===e.status?(t.dirty(),Xi(e.value)):this._def.out._parseAsync({data:e.value,path:n.path,parent:n})})()}{const e=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return"aborted"===e.status?Yi:"dirty"===e.status?(t.dirty(),{status:"dirty",value:e.value}):this._def.out._parseSync({data:e.value,path:n.path,parent:n})}}static create(e,t){return new fl({in:e,out:t,typeName:ml.ZodPipeline})}}class hl extends us{_parse(e){const t=this._def.innerType._parse(e),n=e=>(rs(e)&&(e.value=Object.freeze(e.value)),e);return as(t)?t.then((e=>n(e))):n(t)}unwrap(){return this._def.innerType}}hl.create=(e,t)=>new hl((0,o.A)({innerType:e,typeName:ml.ZodReadonly},ls(t)));Ks.lazycreate;var ml;!function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"}(ml||(ml={}));Ms.create,Rs.create,dl.create,Ds.create,zs.create,js.create,Ls.create,Fs.create,Us.create,Bs.create,Zs.create,Ws.create,qs.create,Vs.create,Ks.create,Ks.strictCreate,Hs.create,Js.create,Gs.create,Ys.create,Xs.create,el.create,tl.create,rl.create,al.create,ol.create,il.create,sl.create,ll.create,il.createWithPreprocess,fl.create;const gl=["execute","outputSchema","toModelOutput","onInputStart","onInputDelta","onInputAvailable"],vl=["execute","toModelOutput","onInputStart","onInputDelta","onInputAvailable"],yl=["additionalProperties"],_l=["type"],bl=["type"];function wl(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce(((e,t)=>(0,o.A)((0,o.A)({},e),null!=t?t:{})),{})}function kl(){return new DOMException("Delay was aborted","AbortError")}function Al(e){return Object.fromEntries([...e.headers])}var xl=function(){let{prefix:e,size:t=16,alphabet:n="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",separator:r="-"}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const a=()=>{const e=n.length,r=new Array(t);for(let a=0;a<t;a++)r[a]=n[Math.random()*e|0];return r.join("")};if(null==e)return a;if(n.includes(r))throw new P({argument:"separator",message:'The separator "'.concat(r,'" must not be part of the alphabet "').concat(n,'".')});return()=>"".concat(e).concat(r).concat(a())},El=xl();function Sl(e){return null==e?"unknown error":"string"===typeof e?e:e instanceof Error?e.message:JSON.stringify(e)}function Il(e){return(e instanceof Error||e instanceof DOMException)&&("AbortError"===e.name||"ResponseAborted"===e.name||"TimeoutError"===e.name)}var Cl=["fetch failed","failed to fetch"];function Tl(e){let{error:t,url:n,requestBodyValues:r}=e;if(Il(t))return t;if(t instanceof TypeError&&Cl.includes(t.message.toLowerCase())){const e=t.cause;if(null!=e)return new b({message:"Cannot connect to API: ".concat(e.message),cause:e,url:n,requestBodyValues:r,isRetryable:!0})}return t}function Ol(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:globalThis;var t,n,r;return e.window?"runtime/browser":(null==(t=e.navigator)?void 0:t.userAgent)?"runtime/".concat(e.navigator.userAgent.toLowerCase()):(null==(r=null==(n=e.process)?void 0:n.versions)?void 0:r.node)?"runtime/node.js/".concat(e.process.version.substring(0)):e.EdgeRuntime?"runtime/vercel-edge":"runtime/unknown"}function Pl(e){const t=function(e){return Object.fromEntries(Object.entries(e).filter((e=>{let[t,n]=e;return null!=n})))}(null!=e?e:{}),n=new Headers(t),r=n.get("user-agent")||"";for(var a=arguments.length,o=new Array(a>1?a-1:0),i=1;i<a;i++)o[i-1]=arguments[i];return n.set("user-agent",[r,...o].filter(Boolean).join(" ")),Object.fromEntries(n)}var Ml="3.0.12",Nl=()=>globalThis.fetch,Rl=async e=>{let{url:t,headers:n={},successfulResponseHandler:r,failedResponseHandler:a,abortSignal:o,fetch:i=Nl()}=e;try{const e=await i(t,{method:"GET",headers:Pl(n,"ai-sdk/provider-utils/".concat(Ml),Ol()),signal:o}),l=Al(e);if(!e.ok){let n;try{n=await a({response:e,url:t,requestBodyValues:{}})}catch(s){if(Il(s)||b.isInstance(s))throw s;throw new b({message:"Failed to process error response",cause:s,statusCode:e.status,url:t,responseHeaders:l,requestBodyValues:{}})}throw n.value}try{return await r({response:e,url:t,requestBodyValues:{}})}catch(s){if(s instanceof Error&&(Il(s)||b.isInstance(s)))throw s;throw new b({message:"Failed to process successful response",cause:s,statusCode:e.status,url:t,responseHeaders:l,requestBodyValues:{}})}}catch(s){throw Tl({error:s,url:t,requestBodyValues:{}})}};function Dl(e){let{mediaType:t,url:n,supportedUrls:r}=e;return n=n.toLowerCase(),t=t.toLowerCase(),Object.entries(r).map((e=>{let[t,n]=e;const r=t.toLowerCase();return"*"===r||"*/*"===r?{mediaTypePrefix:"",regexes:n}:{mediaTypePrefix:r.replace(/\*/,""),regexes:n}})).filter((e=>{let{mediaTypePrefix:n}=e;return t.startsWith(n)})).flatMap((e=>{let{regexes:t}=e;return t})).some((e=>e.test(n)))}function zl(e){let{apiKey:t,environmentVariableName:n,apiKeyParameterName:r="apiKey",description:a}=e;if("string"===typeof t)return t;if(null!=t)throw new G({message:"".concat(a," API key must be a string.")});if("undefined"===typeof process)throw new G({message:"".concat(a," API key is missing. Pass it using the '").concat(r,"' parameter. Environment variables is not supported in this environment.")});if(t={NODE_ENV:"production",PUBLIC_URL:"/dinner-debt",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}[n],null==t)throw new G({message:"".concat(a," API key is missing. Pass it using the '").concat(r,"' parameter or the ").concat(n," environment variable.")});if("string"!==typeof t)throw new G({message:"".concat(a," API key must be a string. The value of the ").concat(n," environment variable is not a string.")});return t}function jl(e){let{settingValue:t,environmentVariableName:n}=e;return"string"===typeof t||null==t&&"undefined"!==typeof process&&(t={NODE_ENV:"production",PUBLIC_URL:"/dinner-debt",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}[n],null!=t&&"string"===typeof t)?t:void 0}var Ll=/"__proto__"\s*:/,Fl=/"constructor"\s*:/;function Ul(e){const t=JSON.parse(e);return null===t||"object"!==typeof t||!1===Ll.test(e)&&!1===Fl.test(e)?t:function(e){let t=[e];for(;t.length;){const e=t;t=[];for(const n of e){if(Object.prototype.hasOwnProperty.call(n,"__proto__"))throw new SyntaxError("Object contains forbidden prototype property");if(Object.prototype.hasOwnProperty.call(n,"constructor")&&Object.prototype.hasOwnProperty.call(n.constructor,"prototype"))throw new SyntaxError("Object contains forbidden prototype property");for(const e in n){const r=n[e];r&&"object"===typeof r&&t.push(r)}}}return e}(t)}function Bl(e){const{stackTraceLimit:t}=Error;Error.stackTraceLimit=0;try{return Ul(e)}finally{Error.stackTraceLimit=t}}var Zl=Symbol.for("vercel.ai.validator");function Wl(e){let t;return()=>(null==t&&(t=e()),t)}function ql(e){return function(e){return"object"===typeof e&&null!==e&&Zl in e&&!0===e[Zl]&&"validate"in e}(e)?e:"function"===typeof e?e():function(e){return t=async t=>{const n=await e["~standard"].validate(t);return null==n.issues?{success:!0,value:n.value}:{success:!1,error:new _e({value:t,cause:n.issues})}},{[Zl]:!0,validate:t};var t}(e)}async function Vl(e){let{value:t,schema:n}=e;const r=await $l({value:t,schema:n});if(!r.success)throw _e.wrap({value:t,cause:r.error});return r.value}async function $l(e){let{value:t,schema:n}=e;const r=ql(n);try{if(null==r.validate)return{success:!0,value:t,rawValue:t};const e=await r.validate(t);return e.success?{success:!0,value:e.value,rawValue:t}:{success:!1,error:_e.wrap({value:t,cause:e.error}),rawValue:t}}catch(a){return{success:!1,error:_e.wrap({value:t,cause:a}),rawValue:t}}}async function Kl(e){let{text:t,schema:n}=e;try{const e=Bl(t);return null==n?{success:!0,value:e,rawValue:e}:await $l({value:e,schema:n})}catch(r){return{success:!1,error:$.isInstance(r)?r:new $({text:t,cause:r}),rawValue:void 0}}}function Hl(e){try{return Bl(e),!0}catch($m){return!1}}function Ql(e){let{stream:t,schema:n}=e;return t.pipeThrough(new TextDecoderStream).pipeThrough(new Ie).pipeThrough(new TransformStream({async transform(e,t){let{data:r}=e;"[DONE]"!==r&&t.enqueue(await Kl({text:r,schema:n}))}}))}async function Jl(e){let{provider:t,providerOptions:n,schema:r}=e;if(null==(null==n?void 0:n[t]))return;const a=await $l({value:n[t],schema:r});if(!a.success)throw new P({argument:"providerOptions",message:"invalid ".concat(t," provider options"),cause:a.error});return a.value}var Gl=()=>globalThis.fetch,Yl=async e=>{let{url:t,headers:n,body:r,failedResponseHandler:a,successfulResponseHandler:i,abortSignal:s,fetch:l}=e;return Xl({url:t,headers:(0,o.A)({"Content-Type":"application/json"},n),body:{content:JSON.stringify(r),values:r},failedResponseHandler:a,successfulResponseHandler:i,abortSignal:s,fetch:l})},Xl=async e=>{let{url:t,headers:n={},body:r,successfulResponseHandler:a,failedResponseHandler:o,abortSignal:i,fetch:s=Gl()}=e;try{const e=await s(t,{method:"POST",headers:Pl(n,"ai-sdk/provider-utils/".concat(Ml),Ol()),body:r.content,signal:i}),u=Al(e);if(!e.ok){let n;try{n=await o({response:e,url:t,requestBodyValues:r.values})}catch(l){if(Il(l)||b.isInstance(l))throw l;throw new b({message:"Failed to process error response",cause:l,statusCode:e.status,url:t,responseHeaders:u,requestBodyValues:r.values})}throw n.value}try{return await a({response:e,url:t,requestBodyValues:r.values})}catch(l){if(l instanceof Error&&(Il(l)||b.isInstance(l)))throw l;throw new b({message:"Failed to process successful response",cause:l,statusCode:e.status,url:t,responseHeaders:u,requestBodyValues:r.values})}}catch(l){throw Tl({error:l,url:t,requestBodyValues:r.values})}};function eu(e){let{id:t,name:n,inputSchema:r}=e;return e=>{let{execute:o,outputSchema:i,toModelOutput:s,onInputStart:l,onInputDelta:u,onInputAvailable:c}=e,d=a(e,gl);return{type:"provider-defined",id:t,name:n,args:d,inputSchema:r,outputSchema:i,execute:o,toModelOutput:s,onInputStart:l,onInputDelta:u,onInputAvailable:c}}}function tu(e){let{id:t,name:n,inputSchema:r,outputSchema:o}=e;return e=>{let{execute:i,toModelOutput:s,onInputStart:l,onInputDelta:u,onInputAvailable:c}=e,d=a(e,vl);return{type:"provider-defined",id:t,name:n,args:d,inputSchema:r,outputSchema:o,execute:i,toModelOutput:s,onInputStart:l,onInputDelta:u,onInputAvailable:c}}}async function nu(e){return"function"===typeof e&&(e=e()),Promise.resolve(e)}var ru=e=>{let{errorSchema:t,errorToMessage:n,isRetryable:r}=e;return async e=>{let{response:a,url:o,requestBodyValues:i}=e;const s=await a.text(),l=Al(a);if(""===s.trim())return{responseHeaders:l,value:new b({message:a.statusText,url:o,requestBodyValues:i,statusCode:a.status,responseHeaders:l,responseBody:s,isRetryable:null==r?void 0:r(a)})};try{const e=await async function(e){let{text:t,schema:n}=e;try{const e=Bl(t);return null==n?e:Vl({value:e,schema:n})}catch(r){if($.isInstance(r)||_e.isInstance(r))throw r;throw new $({text:t,cause:r})}}({text:s,schema:t});return{responseHeaders:l,value:new b({message:n(e),url:o,requestBodyValues:i,statusCode:a.status,responseHeaders:l,responseBody:s,data:e,isRetryable:null==r?void 0:r(a,e)})}}catch(u){return{responseHeaders:l,value:new b({message:a.statusText,url:o,requestBodyValues:i,statusCode:a.status,responseHeaders:l,responseBody:s,isRetryable:null==r?void 0:r(a)})}}}},au=e=>async t=>{let{response:n}=t;const r=Al(n);if(null==n.body)throw new E({});return{responseHeaders:r,value:Ql({stream:n.body,schema:e})}},ou=e=>async t=>{let{response:n,url:r,requestBodyValues:a}=t;const o=await n.text(),i=await Kl({text:o,schema:e}),s=Al(n);if(!i.success)throw new b({message:"Invalid JSON response",cause:i.error,statusCode:n.status,responseHeaders:s,responseBody:o,url:r,requestBodyValues:a});return{responseHeaders:s,value:i.value,rawValue:i.rawValue}},iu=(e,t)=>{let n=0;for(;n<e.length&&n<t.length&&e[n]===t[n];n++);return[(e.length-n).toString(),...t.slice(n)].join("/")},su=Symbol("Let zodToJsonSchema decide on which parser to use"),lu={name:void 0,$refStrategy:"root",basePath:["#"],effectStrategy:"input",pipeStrategy:"all",dateStrategy:"format:date-time",mapStrategy:"entries",removeAdditionalStrategy:"passthrough",allowedAdditionalProperties:!0,rejectedAdditionalProperties:!1,definitionPath:"definitions",strictUnions:!1,definitions:{},errorMessages:!1,patternStrategy:"escape",applyRegexFlags:!1,emailStrategy:"format:email",base64Strategy:"contentEncoding:base64",nameStrategy:"ref"};function uu(e,t){return Su(e.type._def,t)}function cu(e,t,n){const r=null!=n?n:t.dateStrategy;if(Array.isArray(r))return{anyOf:r.map(((n,r)=>cu(e,t,n)))};switch(r){case"string":case"format:date-time":return{type:"string",format:"date-time"};case"format:date":return{type:"string",format:"date"};case"integer":return du(e)}}var du=e=>{const t={type:"integer",format:"unix-time"};for(const n of e.checks)switch(n.kind){case"min":t.minimum=n.value;break;case"max":t.maximum=n.value}return t};var pu=void 0,fu={cuid:/^[cC][^\s-]{8,}$/,cuid2:/^[0-9a-z]+$/,ulid:/^[0-9A-HJKMNP-TV-Z]{26}$/,email:/^(?!\.)(?!.*\.\.)([a-zA-Z0-9_'+\-\.]*)[a-zA-Z0-9_+-]@([a-zA-Z0-9][a-zA-Z0-9\-]*\.)+[a-zA-Z]{2,}$/,emoji:()=>(void 0===pu&&(pu=RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),pu),uuid:/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/,ipv4:/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,ipv4Cidr:/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,ipv6:/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,ipv6Cidr:/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,base64:/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,base64url:/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,nanoid:/^[a-zA-Z0-9_-]{21}$/,jwt:/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/};function hu(e,t){const n={type:"string"};if(e.checks)for(const r of e.checks)switch(r.kind){case"min":n.minLength="number"===typeof n.minLength?Math.max(n.minLength,r.value):r.value;break;case"max":n.maxLength="number"===typeof n.maxLength?Math.min(n.maxLength,r.value):r.value;break;case"email":switch(t.emailStrategy){case"format:email":vu(n,"email",r.message,t);break;case"format:idn-email":vu(n,"idn-email",r.message,t);break;case"pattern:zod":yu(n,fu.email,r.message,t)}break;case"url":vu(n,"uri",r.message,t);break;case"uuid":vu(n,"uuid",r.message,t);break;case"regex":yu(n,r.regex,r.message,t);break;case"cuid":yu(n,fu.cuid,r.message,t);break;case"cuid2":yu(n,fu.cuid2,r.message,t);break;case"startsWith":yu(n,RegExp("^".concat(mu(r.value,t))),r.message,t);break;case"endsWith":yu(n,RegExp("".concat(mu(r.value,t),"$")),r.message,t);break;case"datetime":vu(n,"date-time",r.message,t);break;case"date":vu(n,"date",r.message,t);break;case"time":vu(n,"time",r.message,t);break;case"duration":vu(n,"duration",r.message,t);break;case"length":n.minLength="number"===typeof n.minLength?Math.max(n.minLength,r.value):r.value,n.maxLength="number"===typeof n.maxLength?Math.min(n.maxLength,r.value):r.value;break;case"includes":yu(n,RegExp(mu(r.value,t)),r.message,t);break;case"ip":"v6"!==r.version&&vu(n,"ipv4",r.message,t),"v4"!==r.version&&vu(n,"ipv6",r.message,t);break;case"base64url":yu(n,fu.base64url,r.message,t);break;case"jwt":yu(n,fu.jwt,r.message,t);break;case"cidr":"v6"!==r.version&&yu(n,fu.ipv4Cidr,r.message,t),"v4"!==r.version&&yu(n,fu.ipv6Cidr,r.message,t);break;case"emoji":yu(n,fu.emoji(),r.message,t);break;case"ulid":yu(n,fu.ulid,r.message,t);break;case"base64":switch(t.base64Strategy){case"format:binary":vu(n,"binary",r.message,t);break;case"contentEncoding:base64":n.contentEncoding="base64";break;case"pattern:zod":yu(n,fu.base64,r.message,t)}break;case"nanoid":yu(n,fu.nanoid,r.message,t)}return n}function mu(e,t){return"escape"===t.patternStrategy?function(e){let t="";for(let n=0;n<e.length;n++)gu.has(e[n])||(t+="\\"),t+=e[n];return t}(e):e}var gu=new Set("ABCDEFGHIJKLMNOPQRSTUVXYZabcdefghijklmnopqrstuvxyz0123456789");function vu(e,t,n,r){var a;e.format||(null==(a=e.anyOf)?void 0:a.some((e=>e.format)))?(e.anyOf||(e.anyOf=[]),e.format&&(e.anyOf.push({format:e.format}),delete e.format),e.anyOf.push((0,o.A)({format:t},n&&r.errorMessages&&{errorMessage:{format:n}}))):e.format=t}function yu(e,t,n,r){var a;e.pattern||(null==(a=e.allOf)?void 0:a.some((e=>e.pattern)))?(e.allOf||(e.allOf=[]),e.pattern&&(e.allOf.push({pattern:e.pattern}),delete e.pattern),e.allOf.push((0,o.A)({pattern:_u(t,r)},n&&r.errorMessages&&{errorMessage:{pattern:n}}))):e.pattern=_u(t,r)}function _u(e,t){var n;if(!t.applyRegexFlags||!e.flags)return e.source;const r=e.flags.includes("i"),a=e.flags.includes("m"),o=e.flags.includes("s"),i=r?e.source.toLowerCase():e.source;let s="",l=!1,u=!1,c=!1;for(let d=0;d<i.length;d++)if(l)s+=i[d],l=!1;else{if(r)if(u){if(i[d].match(/[a-z]/)){c?(s+=i[d],s+="".concat(i[d-2],"-").concat(i[d]).toUpperCase(),c=!1):"-"===i[d+1]&&(null==(n=i[d+2])?void 0:n.match(/[a-z]/))?(s+=i[d],c=!0):s+="".concat(i[d]).concat(i[d].toUpperCase());continue}}else if(i[d].match(/[a-z]/)){s+="[".concat(i[d]).concat(i[d].toUpperCase(),"]");continue}if(a){if("^"===i[d]){s+="(^|(?<=[\r\n]))";continue}if("$"===i[d]){s+="($|(?=[\r\n]))";continue}}o&&"."===i[d]?s+=u?"".concat(i[d],"\r\n"):"[".concat(i[d],"\r\n]"):(s+=i[d],"\\"===i[d]?l=!0:u&&"]"===i[d]?u=!1:u||"["!==i[d]||(u=!0))}try{new RegExp(s)}catch($m){return console.warn("Could not convert regex pattern at ".concat(t.currentPath.join("/")," to a flag-independent form! Falling back to the flag-ignorant source")),e.source}return s}function bu(e,t){var n,r,i,s,l,u;const c={type:"object",additionalProperties:null!=(n=Su(e.valueType._def,(0,o.A)((0,o.A)({},t),{},{currentPath:[...t.currentPath,"additionalProperties"]})))?n:t.allowedAdditionalProperties};if((null==(r=e.keyType)?void 0:r._def.typeName)===ml.ZodString&&(null==(i=e.keyType._def.checks)?void 0:i.length)){const n=hu(e.keyType._def,t),{type:r}=n,i=a(n,_l);return(0,o.A)((0,o.A)({},c),{},{propertyNames:i})}if((null==(s=e.keyType)?void 0:s._def.typeName)===ml.ZodEnum)return(0,o.A)((0,o.A)({},c),{},{propertyNames:{enum:e.keyType._def.values}});if((null==(l=e.keyType)?void 0:l._def.typeName)===ml.ZodBranded&&e.keyType._def.type._def.typeName===ml.ZodString&&(null==(u=e.keyType._def.type._def.checks)?void 0:u.length)){const n=uu(e.keyType._def,t),{type:r}=n,i=a(n,bl);return(0,o.A)((0,o.A)({},c),{},{propertyNames:i})}return c}var wu={ZodString:"string",ZodNumber:"number",ZodBigInt:"integer",ZodBoolean:"boolean",ZodNull:"null"};var ku=(e,t)=>{const n=(e.options instanceof Map?Array.from(e.options.values()):e.options).map(((e,n)=>Su(e._def,(0,o.A)((0,o.A)({},t),{},{currentPath:[...t.currentPath,"anyOf","".concat(n)]})))).filter((e=>!!e&&(!t.strictUnions||"object"===typeof e&&Object.keys(e).length>0)));return n.length?{anyOf:n}:void 0};function Au(e,t){const n={type:"object",properties:{}},r=[],a=e.shape();for(const s in a){let e=a[s];if(void 0===e||void 0===e._def)continue;const i=xu(e),l=Su(e._def,(0,o.A)((0,o.A)({},t),{},{currentPath:[...t.currentPath,"properties",s],propertyPath:[...t.currentPath,"properties",s]}));void 0!==l&&(n.properties[s]=l,i||r.push(s))}r.length&&(n.required=r);const i=function(e,t){if("ZodNever"!==e.catchall._def.typeName)return Su(e.catchall._def,(0,o.A)((0,o.A)({},t),{},{currentPath:[...t.currentPath,"additionalProperties"]}));switch(e.unknownKeys){case"passthrough":return t.allowedAdditionalProperties;case"strict":return t.rejectedAdditionalProperties;case"strip":return"strict"===t.removeAdditionalStrategy?t.allowedAdditionalProperties:t.rejectedAdditionalProperties}}(e,t);return void 0!==i&&(n.additionalProperties=i),n}function xu(e){try{return e.isOptional()}catch($m){return!0}}var Eu=(e,t,n)=>{switch(t){case ml.ZodString:return hu(e,n);case ml.ZodNumber:return function(e){const t={type:"number"};if(!e.checks)return t;for(const n of e.checks)switch(n.kind){case"int":t.type="integer";break;case"min":n.inclusive?t.minimum=n.value:t.exclusiveMinimum=n.value;break;case"max":n.inclusive?t.maximum=n.value:t.exclusiveMaximum=n.value;break;case"multipleOf":t.multipleOf=n.value}return t}(e);case ml.ZodObject:return Au(e,n);case ml.ZodBigInt:return function(e){const t={type:"integer",format:"int64"};if(!e.checks)return t;for(const n of e.checks)switch(n.kind){case"min":n.inclusive?t.minimum=n.value:t.exclusiveMinimum=n.value;break;case"max":n.inclusive?t.maximum=n.value:t.exclusiveMaximum=n.value;break;case"multipleOf":t.multipleOf=n.value}return t}(e);case ml.ZodBoolean:return{type:"boolean"};case ml.ZodDate:return cu(e,n);case ml.ZodUndefined:return{not:{}};case ml.ZodNull:return{type:"null"};case ml.ZodArray:return function(e,t){var n,r,a;const i={type:"array"};return(null==(n=e.type)?void 0:n._def)&&(null==(a=null==(r=e.type)?void 0:r._def)?void 0:a.typeName)!==ml.ZodAny&&(i.items=Su(e.type._def,(0,o.A)((0,o.A)({},t),{},{currentPath:[...t.currentPath,"items"]}))),e.minLength&&(i.minItems=e.minLength.value),e.maxLength&&(i.maxItems=e.maxLength.value),e.exactLength&&(i.minItems=e.exactLength.value,i.maxItems=e.exactLength.value),i}(e,n);case ml.ZodUnion:case ml.ZodDiscriminatedUnion:return function(e,t){const n=e.options instanceof Map?Array.from(e.options.values()):e.options;if(n.every((e=>e._def.typeName in wu&&(!e._def.checks||!e._def.checks.length)))){const e=n.reduce(((e,t)=>{const n=wu[t._def.typeName];return n&&!e.includes(n)?[...e,n]:e}),[]);return{type:e.length>1?e:e[0]}}if(n.every((e=>"ZodLiteral"===e._def.typeName&&!e.description))){const e=n.reduce(((e,t)=>{const n=typeof t._def.value;switch(n){case"string":case"number":case"boolean":return[...e,n];case"bigint":return[...e,"integer"];case"object":if(null===t._def.value)return[...e,"null"];default:return e}}),[]);if(e.length===n.length){const t=e.filter(((e,t,n)=>n.indexOf(e)===t));return{type:t.length>1?t:t[0],enum:n.reduce(((e,t)=>e.includes(t._def.value)?e:[...e,t._def.value]),[])}}}else if(n.every((e=>"ZodEnum"===e._def.typeName)))return{type:"string",enum:n.reduce(((e,t)=>[...e,...t._def.values.filter((t=>!e.includes(t)))]),[])};return ku(e,t)}(e,n);case ml.ZodIntersection:return function(e,t){const n=[Su(e.left._def,(0,o.A)((0,o.A)({},t),{},{currentPath:[...t.currentPath,"allOf","0"]})),Su(e.right._def,(0,o.A)((0,o.A)({},t),{},{currentPath:[...t.currentPath,"allOf","1"]}))].filter((e=>!!e)),r=[];return n.forEach((e=>{if("type"in(t=e)&&"string"===t.type||!("allOf"in t)){let t=e;if("additionalProperties"in e&&!1===e.additionalProperties){const{additionalProperties:n}=e;t=a(e,yl)}r.push(t)}else r.push(...e.allOf);var t})),r.length?{allOf:r}:void 0}(e,n);case ml.ZodTuple:return function(e,t){return e.rest?{type:"array",minItems:e.items.length,items:e.items.map(((e,n)=>Su(e._def,(0,o.A)((0,o.A)({},t),{},{currentPath:[...t.currentPath,"items","".concat(n)]})))).reduce(((e,t)=>void 0===t?e:[...e,t]),[]),additionalItems:Su(e.rest._def,(0,o.A)((0,o.A)({},t),{},{currentPath:[...t.currentPath,"additionalItems"]}))}:{type:"array",minItems:e.items.length,maxItems:e.items.length,items:e.items.map(((e,n)=>Su(e._def,(0,o.A)((0,o.A)({},t),{},{currentPath:[...t.currentPath,"items","".concat(n)]})))).reduce(((e,t)=>void 0===t?e:[...e,t]),[])}}(e,n);case ml.ZodRecord:return bu(e,n);case ml.ZodLiteral:return function(e){const t=typeof e.value;return"bigint"!==t&&"number"!==t&&"boolean"!==t&&"string"!==t?{type:Array.isArray(e.value)?"array":"object"}:{type:"bigint"===t?"integer":t,const:e.value}}(e);case ml.ZodEnum:return function(e){return{type:"string",enum:Array.from(e.values)}}(e);case ml.ZodNativeEnum:return function(e){const t=e.values,n=Object.keys(e.values).filter((e=>"number"!==typeof t[t[e]])).map((e=>t[e])),r=Array.from(new Set(n.map((e=>typeof e))));return{type:1===r.length?"string"===r[0]?"string":"number":["string","number"],enum:n}}(e);case ml.ZodNullable:return function(e,t){if(["ZodString","ZodNumber","ZodBigInt","ZodBoolean","ZodNull"].includes(e.innerType._def.typeName)&&(!e.innerType._def.checks||!e.innerType._def.checks.length))return{type:[wu[e.innerType._def.typeName],"null"]};const n=Su(e.innerType._def,(0,o.A)((0,o.A)({},t),{},{currentPath:[...t.currentPath,"anyOf","0"]}));return n&&{anyOf:[n,{type:"null"}]}}(e,n);case ml.ZodOptional:return((e,t)=>{var n;if(t.currentPath.toString()===(null==(n=t.propertyPath)?void 0:n.toString()))return Su(e.innerType._def,t);const r=Su(e.innerType._def,(0,o.A)((0,o.A)({},t),{},{currentPath:[...t.currentPath,"anyOf","1"]}));return r?{anyOf:[{not:{}},r]}:{}})(e,n);case ml.ZodMap:return function(e,t){return"record"===t.mapStrategy?bu(e,t):{type:"array",maxItems:125,items:{type:"array",items:[Su(e.keyType._def,(0,o.A)((0,o.A)({},t),{},{currentPath:[...t.currentPath,"items","items","0"]}))||{},Su(e.valueType._def,(0,o.A)((0,o.A)({},t),{},{currentPath:[...t.currentPath,"items","items","1"]}))||{}],minItems:2,maxItems:2}}}(e,n);case ml.ZodSet:return function(e,t){const n={type:"array",uniqueItems:!0,items:Su(e.valueType._def,(0,o.A)((0,o.A)({},t),{},{currentPath:[...t.currentPath,"items"]}))};return e.minSize&&(n.minItems=e.minSize.value),e.maxSize&&(n.maxItems=e.maxSize.value),n}(e,n);case ml.ZodLazy:return()=>e.getter()._def;case ml.ZodPromise:return function(e,t){return Su(e.type._def,t)}(e,n);case ml.ZodNaN:case ml.ZodNever:return{not:{}};case ml.ZodEffects:return function(e,t){return"input"===t.effectStrategy?Su(e.schema._def,t):{}}(e,n);case ml.ZodAny:case ml.ZodUnknown:return{};case ml.ZodDefault:return function(e,t){return(0,o.A)((0,o.A)({},Su(e.innerType._def,t)),{},{default:e.defaultValue()})}(e,n);case ml.ZodBranded:return uu(e,n);case ml.ZodReadonly:case ml.ZodCatch:return((e,t)=>Su(e.innerType._def,t))(e,n);case ml.ZodPipeline:return((e,t)=>{if("input"===t.pipeStrategy)return Su(e.in._def,t);if("output"===t.pipeStrategy)return Su(e.out._def,t);const n=Su(e.in._def,(0,o.A)((0,o.A)({},t),{},{currentPath:[...t.currentPath,"allOf","0"]}));return{allOf:[n,Su(e.out._def,(0,o.A)((0,o.A)({},t),{},{currentPath:[...t.currentPath,"allOf",n?"1":"0"]}))].filter((e=>void 0!==e))}})(e,n);case ml.ZodFunction:case ml.ZodVoid:case ml.ZodSymbol:default:return}};function Su(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];var r;const a=t.seen.get(e);if(t.override){const o=null==(r=t.override)?void 0:r.call(t,e,t,a,n);if(o!==su)return o}if(a&&!n){const e=Iu(a,t);if(void 0!==e)return e}const o={def:e,path:t.currentPath,jsonSchema:void 0};t.seen.set(e,o);const i=Eu(e,e.typeName,t),s="function"===typeof i?Su(i(),t):i;if(s&&Cu(e,t,s),t.postProcess){const n=t.postProcess(s,e,t);return o.jsonSchema=s,n}return o.jsonSchema=s,s}var Iu=(e,t)=>{switch(t.$refStrategy){case"root":return{$ref:e.path.join("/")};case"relative":return{$ref:iu(t.currentPath,e.path)};case"none":case"seen":return e.path.length<t.currentPath.length&&e.path.every(((e,n)=>t.currentPath[n]===e))?(console.warn("Recursive reference detected at ".concat(t.currentPath.join("/"),"! Defaulting to any")),{}):"seen"===t.$refStrategy?{}:void 0}},Cu=(e,t,n)=>(e.description&&(n.description=e.description),n),Tu=e=>{const t=(e=>"string"===typeof e?(0,o.A)((0,o.A)({},lu),{},{name:e}):(0,o.A)((0,o.A)({},lu),e))(e),n=void 0!==t.name?[...t.basePath,t.definitionPath,t.name]:t.basePath;return(0,o.A)((0,o.A)({},t),{},{currentPath:n,propertyPath:void 0,seen:new Map(Object.entries(t.definitions).map((e=>{let[n,r]=e;return[r._def,{def:r._def,path:[...t.basePath,t.definitionPath,n],jsonSchema:void 0}]})))})},Ou=(e,t)=>{var n;const r=Tu(t);let a="object"===typeof t&&t.definitions?Object.entries(t.definitions).reduce(((e,t)=>{let[n,a]=t;var i;return(0,o.A)((0,o.A)({},e),{},{[n]:null!=(i=Su(a._def,(0,o.A)((0,o.A)({},r),{},{currentPath:[...r.basePath,r.definitionPath,n]}),!0))?i:{}})}),{}):void 0;const i="string"===typeof t?t:"title"===(null==t?void 0:t.nameStrategy)||null==t?void 0:t.name,s=null!=(n=Su(e._def,void 0===i?r:(0,o.A)((0,o.A)({},r),{},{currentPath:[...r.basePath,r.definitionPath,i]}),!1))?n:{},l="object"===typeof t&&void 0!==t.name&&"title"===t.nameStrategy?t.name:void 0;void 0!==l&&(s.title=l);const u=void 0===i?a?(0,o.A)((0,o.A)({},s),{},{[r.definitionPath]:a}):s:{$ref:[..."relative"===r.$refStrategy?[]:r.basePath,r.definitionPath,i].join("/"),[r.definitionPath]:(0,o.A)((0,o.A)({},a),{},{[i]:s})};return u.$schema="http://json-schema.org/draft-07/schema#",u};function Pu(e,t){var n;const r=null!=(n=null==t?void 0:t.useReferences)&&n;return Du((()=>function(e,t){if(e instanceof pa){const n=new Ka(t),r={};for(const t of e._idmap.entries()){const[e,r]=t;n.process(r)}const a={},i={registry:e,uri:null===t||void 0===t?void 0:t.uri,defs:r};for(const s of e._idmap.entries()){const[e,r]=s;a[e]=n.emit(r,(0,o.A)((0,o.A)({},t),{},{external:i}))}if(Object.keys(r).length>0){const e="draft-2020-12"===n.target?"$defs":"definitions";a.__shared={[e]:r}}return{schemas:a}}const n=new Ka(t);return n.process(e),n.emit(e,t)}(e,{target:"draft-7",io:"output",reused:r?"ref":"inline"})),{validate:async t=>{const n=await lo(e,t);return n.success?{success:!0,value:n.data}:{success:!1,error:n.error}}})}function Mu(e,t){return function(e){return"_zod"in e}(e)?Pu(e,t):function(e,t){var n;const r=null!=(n=null==t?void 0:t.useReferences)&&n;return Du((()=>Ou(e,{$refStrategy:r?"root":"none"})),{validate:async t=>{const n=await e.safeParseAsync(t);return n.success?{success:!0,value:n.data}:{success:!1,error:n.error}}})}(e,t)}var Nu=Symbol.for("vercel.ai.schema");function Ru(e){let t;return()=>(null==t&&(t=e()),t)}function Du(e){let{validate:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return{[Nu]:!0,_type:void 0,[Zl]:!0,get jsonSchema(){return"function"===typeof e&&(e=e()),e},validate:t}}function zu(e){return null==e?Du({properties:{},additionalProperties:!1}):"object"===typeof(t=e)&&null!==t&&Nu in t&&!0===t[Nu]&&"jsonSchema"in t&&"validate"in t?e:"function"===typeof e?e():Mu(e);var t}var{btoa:ju,atob:Lu}=globalThis;function Fu(e){const t=e.replace(/-/g,"+").replace(/_/g,"/"),n=Lu(t);return Uint8Array.from(n,(e=>e.codePointAt(0)))}function Uu(e){let t="";for(let n=0;n<e.length;n++)t+=String.fromCodePoint(e[n]);return ju(t)}function Bu(e){return e instanceof Uint8Array?Uu(e):e}function Zu(e){return null==e?void 0:e.replace(/\/$/,"")}function Wu(){return Wu=function(e){return function(){return new c(e.apply(this,arguments))}}((function(e){let{execute:t,input:n,options:r}=e;return function*(){const e=t(n,r);if(null!=(d=e)&&"function"===typeof d[Symbol.asyncIterator]){let t;var a,o=!1,s=!1;try{for(var l,c=i(e);o=!(l=yield u(c.next())).done;o=!1){const e=l.value;t=e,yield{type:"preliminary",output:e}}}catch(p){s=!0,a=p}finally{try{o&&null!=c.return&&(yield u(c.return()))}finally{if(s)throw a}}yield{type:"final",output:t}}else yield{type:"final",output:yield u(e)};var d}()})),Wu.apply(this,arguments)}var qu=n(327);const Vu=["abortSignal"];var $u,Ku,Hu,Qu,Ju,Gu,Yu,Xu,ec,tc,nc,rc,ac,oc,ic=Symbol.for("vercel.ai.gateway.error"),sc=class e extends(Ku=Error,$u=ic,Ku){constructor(e){let{message:t,statusCode:n=500,cause:r}=e;super(t),this[$u]=!0,this.statusCode=n,this.cause=r}static isInstance(t){return e.hasMarker(t)}static hasMarker(e){return"object"===typeof e&&null!==e&&ic in e&&!0===e[ic]}},lc="GatewayAuthenticationError",uc="vercel.ai.gateway.error.".concat(lc),cc=Symbol.for(uc),dc=class e extends(Qu=sc,Hu=cc,Qu){constructor(){let{message:e="Authentication failed",statusCode:t=401,cause:n}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super({message:e,statusCode:t,cause:n}),this[Hu]=!0,this.name=lc,this.type="authentication_error"}static isInstance(e){return sc.hasMarker(e)&&cc in e}static createContextualError(t){let n,{apiKeyProvided:r,oidcTokenProvided:a,message:o="Authentication failed",statusCode:i=401,cause:s}=t;return n=r?"AI Gateway authentication failed: Invalid API key provided.\n\nThe token is expected to be provided via the 'apiKey' option or 'AI_GATEWAY_API_KEY' environment variable.":a?"AI Gateway authentication failed: Invalid OIDC token provided.\n\nThe token is expected to be provided via the 'VERCEL_OIDC_TOKEN' environment variable. It expires every 12 hours.\n- make sure your Vercel project settings have OIDC enabled\n- if running locally with 'vercel dev', the token is automatically obtained and refreshed\n- if running locally with your own dev server, run 'vercel env pull' to fetch the token\n- in production/preview, the token is automatically obtained and refreshed\n\nAlternative: Provide an API key via 'apiKey' option or 'AI_GATEWAY_API_KEY' environment variable.":"AI Gateway authentication failed: No authentication provided.\n\nProvide either an API key or OIDC token.\n\nAPI key instructions:\n\nThe token is expected to be provided via the 'apiKey' option or 'AI_GATEWAY_API_KEY' environment variable.\n\nOIDC token instructions:\n\nThe token is expected to be provided via the 'VERCEL_OIDC_TOKEN' environment variable. It expires every 12 hours.\n- make sure your Vercel project settings have OIDC enabled\n- if running locally with 'vercel dev', the token is automatically obtained and refreshed\n- if running locally with your own dev server, run 'vercel env pull' to fetch the token\n- in production/preview, the token is automatically obtained and refreshed",new e({message:n,statusCode:i,cause:s})}},pc="GatewayInvalidRequestError",fc="vercel.ai.gateway.error.".concat(pc),hc=Symbol.for(fc),mc=class extends(Gu=sc,Ju=hc,Gu){constructor(){let{message:e="Invalid request",statusCode:t=400,cause:n}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super({message:e,statusCode:t,cause:n}),this[Ju]=!0,this.name=pc,this.type="invalid_request_error"}static isInstance(e){return sc.hasMarker(e)&&hc in e}},gc="GatewayRateLimitError",vc="vercel.ai.gateway.error.".concat(gc),yc=Symbol.for(vc),_c=class extends(Xu=sc,Yu=yc,Xu){constructor(){let{message:e="Rate limit exceeded",statusCode:t=429,cause:n}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super({message:e,statusCode:t,cause:n}),this[Yu]=!0,this.name=gc,this.type="rate_limit_exceeded"}static isInstance(e){return sc.hasMarker(e)&&yc in e}},bc="GatewayModelNotFoundError",wc="vercel.ai.gateway.error.".concat(bc),kc=Symbol.for(wc),Ac=Wl((()=>Mu(ii({modelId:wo()})))),xc=class extends(tc=sc,ec=kc,tc){constructor(){let{message:e="Model not found",statusCode:t=404,modelId:n,cause:r}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super({message:e,statusCode:t,cause:r}),this[ec]=!0,this.name=bc,this.type="model_not_found",this.modelId=n}static isInstance(e){return sc.hasMarker(e)&&kc in e}},Ec="GatewayInternalServerError",Sc="vercel.ai.gateway.error.".concat(Ec),Ic=Symbol.for(Sc),Cc=class extends(rc=sc,nc=Ic,rc){constructor(){let{message:e="Internal server error",statusCode:t=500,cause:n}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super({message:e,statusCode:t,cause:n}),this[nc]=!0,this.name=Ec,this.type="internal_server_error"}static isInstance(e){return sc.hasMarker(e)&&Ic in e}},Tc="GatewayResponseError",Oc="vercel.ai.gateway.error.".concat(Tc),Pc=Symbol.for(Oc),Mc=class extends(oc=sc,ac=Pc,oc){constructor(){let{message:e="Invalid response from Gateway",statusCode:t=502,response:n,validationError:r,cause:a}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super({message:e,statusCode:t,cause:a}),this[ac]=!0,this.name=Tc,this.type="response_error",this.response=n,this.validationError=r}static isInstance(e){return sc.hasMarker(e)&&Pc in e}};async function Nc(e){let{response:t,statusCode:n,defaultMessage:r="Gateway request failed",cause:a,authMethod:o}=e;const i=await $l({value:t,schema:Rc});if(!i.success)return new Mc({message:"Invalid error response format: ".concat(r),statusCode:n,response:t,validationError:i.error,cause:a});const s=i.value,l=s.error.type,u=s.error.message;switch(l){case"authentication_error":return dc.createContextualError({apiKeyProvided:"api-key"===o,oidcTokenProvided:"oidc"===o,statusCode:n,cause:a});case"invalid_request_error":return new mc({message:u,statusCode:n,cause:a});case"rate_limit_exceeded":return new _c({message:u,statusCode:n,cause:a});case"model_not_found":{const e=await $l({value:s.error.param,schema:Ac});return new xc({message:u,statusCode:n,modelId:e.success?e.value.modelId:void 0,cause:a})}default:return new Cc({message:u,statusCode:n,cause:a})}}var Rc=Wl((()=>Mu(ii({error:ii({message:wo(),type:wo().nullish(),param:ei().nullish(),code:ci([wo(),qo()]).nullish()})}))));function Dc(e,t){var n;return sc.isInstance(e)?e:b.isInstance(e)?Nc({response:zc(e),statusCode:null!=(n=e.statusCode)?n:500,defaultMessage:"Gateway request failed",cause:e,authMethod:t}):Nc({response:{},statusCode:500,defaultMessage:e instanceof Error?"Gateway request failed: ".concat(e.message):"Unknown Gateway error",cause:e,authMethod:t})}function zc(e){if(void 0!==e.data)return e.data;if(null!=e.responseBody)try{return JSON.parse(e.responseBody)}catch($m){return e.responseBody}return{}}var jc="ai-gateway-auth-method";async function Lc(e){const t=await $l({value:e[jc],schema:Fc});return t.success?t.value:void 0}var Fc=Wl((()=>Mu(ci([_i("api-key"),_i("oidc")])))),Uc=class{constructor(e){this.config=e}async getAvailableModels(){try{const{value:e}=await Rl({url:"".concat(this.config.baseURL,"/config"),headers:await nu(this.config.headers()),successfulResponseHandler:ou(Bc),failedResponseHandler:ru({errorSchema:Yo(),errorToMessage:e=>e}),fetch:this.config.fetch});return e}catch(e){throw await Dc(e)}}async getCredits(){try{const e=new URL(this.config.baseURL),{value:t}=await Rl({url:"".concat(e.origin,"/v1/credits"),headers:await nu(this.config.headers()),successfulResponseHandler:ou(Zc),failedResponseHandler:ru({errorSchema:Yo(),errorToMessage:e=>e}),fetch:this.config.fetch});return t}catch(e){throw await Dc(e)}}},Bc=Wl((()=>Mu(ii({models:ai(ii({id:wo(),name:wo(),description:wo().nullish(),pricing:ii({input:wo(),output:wo(),input_cache_read:wo().nullish(),input_cache_write:wo().nullish()}).transform((e=>{let{input:t,output:n,input_cache_read:r,input_cache_write:a}=e;return(0,o.A)((0,o.A)({input:t,output:n},r?{cachedInputTokens:r}:{}),a?{cacheCreationInputTokens:a}:{})})).nullish(),specification:ii({specificationVersion:_i("v2"),provider:wo(),modelId:wo()}),modelType:vi(["language","embedding","image"]).nullish()}))})))),Zc=Wl((()=>Mu(ii({balance:wo(),total_used:wo()}).transform((e=>{let{balance:t,total_used:n}=e;return{balance:t,totalUsed:n}}))))),Wc=class{constructor(e,t){this.modelId=e,this.config=t,this.specificationVersion="v2",this.supportedUrls={"*/*":[/.*/]}}get provider(){return this.config.provider}async getArgs(e){const{abortSignal:t}=e,n=a(e,Vu);return{args:this.maybeEncodeFileParts(n),warnings:[]}}async doGenerate(e){const{args:t,warnings:n}=await this.getArgs(e),{abortSignal:r}=e,a=await nu(this.config.headers());try{const{responseHeaders:i,value:s,rawValue:l}=await Yl((0,o.A)((0,o.A)({url:this.getUrl(),headers:wl(a,e.headers,this.getModelConfigHeaders(this.modelId,!1),await nu(this.config.o11yHeaders)),body:t,successfulResponseHandler:ou(Yo()),failedResponseHandler:ru({errorSchema:Yo(),errorToMessage:e=>e})},r&&{abortSignal:r}),{},{fetch:this.config.fetch}));return(0,o.A)((0,o.A)({},s),{},{request:{body:t},response:{headers:i,body:l},warnings:n})}catch(i){throw await Dc(i,await Lc(a))}}async doStream(e){const{args:t,warnings:n}=await this.getArgs(e),{abortSignal:r}=e,a=await nu(this.config.headers());try{const{value:i,responseHeaders:s}=await Yl((0,o.A)((0,o.A)({url:this.getUrl(),headers:wl(a,e.headers,this.getModelConfigHeaders(this.modelId,!0),await nu(this.config.o11yHeaders)),body:t,successfulResponseHandler:au(Yo()),failedResponseHandler:ru({errorSchema:Yo(),errorToMessage:e=>e})},r&&{abortSignal:r}),{},{fetch:this.config.fetch}));return{stream:i.pipeThrough(new TransformStream({start(e){n.length>0&&e.enqueue({type:"stream-start",warnings:n})},transform(t,n){if(t.success){const r=t.value;if("raw"===r.type&&!e.includeRawChunks)return;"response-metadata"===r.type&&r.timestamp&&"string"===typeof r.timestamp&&(r.timestamp=new Date(r.timestamp)),n.enqueue(r)}else n.error(t.error)}})),request:{body:t},response:{headers:s}}}catch(i){throw await Dc(i,await Lc(a))}}isFilePart(e){return e&&"object"===typeof e&&"type"in e&&"file"===e.type}maybeEncodeFileParts(e){for(const t of e.prompt)for(const e of t.content)if(this.isFilePart(e)){const t=e;if(t.data instanceof Uint8Array){const e=Uint8Array.from(t.data),n=Buffer.from(e).toString("base64");t.data=new URL("data:".concat(t.mediaType||"application/octet-stream",";base64,").concat(n))}}return e}getUrl(){return"".concat(this.config.baseURL,"/language-model")}getModelConfigHeaders(e,t){return{"ai-language-model-specification-version":"2","ai-language-model-id":e,"ai-language-model-streaming":String(t)}}},qc=class{constructor(e,t){this.modelId=e,this.config=t,this.specificationVersion="v2",this.maxEmbeddingsPerCall=2048,this.supportsParallelCalls=!0}get provider(){return this.config.provider}async doEmbed(e){let{values:t,headers:n,abortSignal:r,providerOptions:a}=e;var i;const s=await nu(this.config.headers());try{const{responseHeaders:e,value:l,rawValue:u}=await Yl((0,o.A)((0,o.A)({url:this.getUrl(),headers:wl(s,null!=n?n:{},this.getModelConfigHeaders(),await nu(this.config.o11yHeaders)),body:(0,o.A)({input:1===t.length?t[0]:t},a?{providerOptions:a}:{}),successfulResponseHandler:ou(Vc),failedResponseHandler:ru({errorSchema:Yo(),errorToMessage:e=>e})},r&&{abortSignal:r}),{},{fetch:this.config.fetch}));return{embeddings:l.embeddings,usage:null!=(i=l.usage)?i:void 0,providerMetadata:l.providerMetadata,response:{headers:e,body:u}}}catch(l){throw await Dc(l,await Lc(s))}}getUrl(){return"".concat(this.config.baseURL,"/embedding-model")}getModelConfigHeaders(){return{"ai-embedding-model-specification-version":"2","ai-model-id":this.modelId}}},Vc=Wl((()=>Mu(ii({embeddings:ai(ai(qo())),usage:ii({tokens:qo()}).nullish(),providerMetadata:mi(wo(),mi(wo(),ei())).optional()}))));var $c=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var t,n;let r=null,a=null;const i=null!=(t=e.metadataCacheRefreshMillis)?t:3e5;let s=0;const l=null!=(n=Zu(e.baseURL))?n:"https://ai-gateway.vercel.sh/v1/ai",u=async()=>{const t=await async function(e){const t=jl({settingValue:e.apiKey,environmentVariableName:"AI_GATEWAY_API_KEY"});if(t)return{token:t,authMethod:"api-key"};try{return{token:await(0,qu.getVercelOidcToken)(),authMethod:"oidc"}}catch($m){return null}}(e);if(t)return Pl((0,o.A)({Authorization:"Bearer ".concat(t.token),"ai-gateway-protocol-version":"0.0.1",[jc]:t.authMethod},e.headers),"ai-sdk/gateway/".concat("1.0.39"));throw dc.createContextualError({apiKeyProvided:!1,oidcTokenProvided:!1,statusCode:401})},c=()=>{const e=jl({settingValue:void 0,environmentVariableName:"VERCEL_DEPLOYMENT_ID"}),t=jl({settingValue:void 0,environmentVariableName:"VERCEL_ENV"}),n=jl({settingValue:void 0,environmentVariableName:"VERCEL_REGION"});return async()=>{const r=await async function(){var e;return null==(e=(0,qu.getContext)().headers)?void 0:e["x-vercel-id"]}();return(0,o.A)((0,o.A)((0,o.A)((0,o.A)({},e&&{"ai-o11y-deployment-id":e}),t&&{"ai-o11y-environment":t}),n&&{"ai-o11y-region":n}),r&&{"ai-o11y-request-id":r})}},d=t=>new Wc(t,{provider:"gateway",baseURL:l,headers:u,fetch:e.fetch,o11yHeaders:c()}),p=function(e){if(new.target)throw new Error("The Gateway Provider model function cannot be called with the new keyword.");return d(e)};return p.getAvailableModels=async()=>{var t,n,o;const c=null!=(o=null==(n=null==(t=e._internal)?void 0:t.currentDate)?void 0:n.call(t).getTime())?o:Date.now();return(!r||c-s>i)&&(s=c,r=new Uc({baseURL:l,headers:u,fetch:e.fetch}).getAvailableModels().then((e=>(a=e,e))).catch((async e=>{throw await Dc(e,await Lc(await u()))}))),a?Promise.resolve(a):r},p.getCredits=async()=>new Uc({baseURL:l,headers:u,fetch:e.fetch}).getCredits().catch((async e=>{throw await Dc(e,await Lc(await u()))})),p.imageModel=e=>{throw new le({modelId:e,modelType:"imageModel"})},p.languageModel=d,p.textEmbeddingModel=t=>new qc(t,{provider:"gateway",baseURL:l,headers:u,fetch:e.fetch,o11yHeaders:c()}),p}();var Kc="object"===typeof globalThis?globalThis:"object"===typeof self?self:"object"===typeof window?window:"object"===typeof n.g?n.g:{},Hc="1.9.0",Qc=/^(\d+)\.(\d+)\.(\d+)(-(.+))?$/;var Jc=function(e){var t=new Set([e]),n=new Set,r=e.match(Qc);if(!r)return function(){return!1};var a=+r[1],o=+r[2],i=+r[3];if(null!=r[4])return function(t){return t===e};function s(e){return n.add(e),!1}function l(e){return t.add(e),!0}return function(e){if(t.has(e))return!0;if(n.has(e))return!1;var r=e.match(Qc);if(!r)return s(e);var u=+r[1],c=+r[2],d=+r[3];return null!=r[4]||a!==u?s(e):0===a?o===c&&i<=d?l(e):s(e):o<=c?l(e):s(e)}}(Hc),Gc=Hc.split(".")[0],Yc=Symbol.for("opentelemetry.js.api."+Gc),Xc=Kc;function ed(e,t,n,r){var a;void 0===r&&(r=!1);var o=Xc[Yc]=null!==(a=Xc[Yc])&&void 0!==a?a:{version:Hc};if(!r&&o[e]){var i=new Error("@opentelemetry/api: Attempted duplicate registration of API: "+e);return n.error(i.stack||i.message),!1}if(o.version!==Hc){i=new Error("@opentelemetry/api: Registration of version v"+o.version+" for "+e+" does not match previously registered API v"+Hc);return n.error(i.stack||i.message),!1}return o[e]=t,n.debug("@opentelemetry/api: Registered a global for "+e+" v"+Hc+"."),!0}function td(e){var t,n,r=null===(t=Xc[Yc])||void 0===t?void 0:t.version;if(r&&Jc(r))return null===(n=Xc[Yc])||void 0===n?void 0:n[e]}function nd(e,t){t.debug("@opentelemetry/api: Unregistering a global for "+e+" v"+Hc+".");var n=Xc[Yc];n&&delete n[e]}var rd,ad=new function e(t){var n=this;n._currentContext=t?new Map(t):new Map,n.getValue=function(e){return n._currentContext.get(e)},n.setValue=function(t,r){var a=new e(n._currentContext);return a._currentContext.set(t,r),a},n.deleteValue=function(t){var r=new e(n._currentContext);return r._currentContext.delete(t),r}},od=function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,a,o=n.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)i.push(r.value)}catch(s){a={error:s}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(a)throw a.error}}return i},id=function(e,t,n){if(n||2===arguments.length)for(var r,a=0,o=t.length;a<o;a++)!r&&a in t||(r||(r=Array.prototype.slice.call(t,0,a)),r[a]=t[a]);return e.concat(r||Array.prototype.slice.call(t))},sd=function(){function e(){}return e.prototype.active=function(){return ad},e.prototype.with=function(e,t,n){for(var r=[],a=3;a<arguments.length;a++)r[a-3]=arguments[a];return t.call.apply(t,id([n],od(r),!1))},e.prototype.bind=function(e,t){return t},e.prototype.enable=function(){return this},e.prototype.disable=function(){return this},e}(),ld=function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,a,o=n.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)i.push(r.value)}catch(s){a={error:s}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(a)throw a.error}}return i},ud=function(e,t,n){if(n||2===arguments.length)for(var r,a=0,o=t.length;a<o;a++)!r&&a in t||(r||(r=Array.prototype.slice.call(t,0,a)),r[a]=t[a]);return e.concat(r||Array.prototype.slice.call(t))},cd=function(){function e(e){this._namespace=e.namespace||"DiagComponentLogger"}return e.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return dd("debug",this._namespace,e)},e.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return dd("error",this._namespace,e)},e.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return dd("info",this._namespace,e)},e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return dd("warn",this._namespace,e)},e.prototype.verbose=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return dd("verbose",this._namespace,e)},e}();function dd(e,t,n){var r=td("diag");if(r)return n.unshift(t),r[e].apply(r,ud([],ld(n),!1))}!function(e){e[e.NONE=0]="NONE",e[e.ERROR=30]="ERROR",e[e.WARN=50]="WARN",e[e.INFO=60]="INFO",e[e.DEBUG=70]="DEBUG",e[e.VERBOSE=80]="VERBOSE",e[e.ALL=9999]="ALL"}(rd||(rd={}));var pd,fd=function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,a,o=n.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)i.push(r.value)}catch(s){a={error:s}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(a)throw a.error}}return i},hd=function(e,t,n){if(n||2===arguments.length)for(var r,a=0,o=t.length;a<o;a++)!r&&a in t||(r||(r=Array.prototype.slice.call(t,0,a)),r[a]=t[a]);return e.concat(r||Array.prototype.slice.call(t))},md=function(){function e(){function e(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=td("diag");if(r)return r[e].apply(r,hd([],fd(t),!1))}}var t=this;t.setLogger=function(e,n){var r,a,o;if(void 0===n&&(n={logLevel:rd.INFO}),e===t){var i=new Error("Cannot use diag as the logger for itself. Please use a DiagLogger implementation like ConsoleDiagLogger or a custom implementation");return t.error(null!==(r=i.stack)&&void 0!==r?r:i.message),!1}"number"===typeof n&&(n={logLevel:n});var s=td("diag"),l=function(e,t){function n(n,r){var a=t[n];return"function"===typeof a&&e>=r?a.bind(t):function(){}}return e<rd.NONE?e=rd.NONE:e>rd.ALL&&(e=rd.ALL),t=t||{},{error:n("error",rd.ERROR),warn:n("warn",rd.WARN),info:n("info",rd.INFO),debug:n("debug",rd.DEBUG),verbose:n("verbose",rd.VERBOSE)}}(null!==(a=n.logLevel)&&void 0!==a?a:rd.INFO,e);if(s&&!n.suppressOverrideMessage){var u=null!==(o=(new Error).stack)&&void 0!==o?o:"<failed to generate stacktrace>";s.warn("Current logger will be overwritten from "+u),l.warn("Current logger will overwrite one already registered from "+u)}return ed("diag",l,t,!0)},t.disable=function(){nd("diag",t)},t.createComponentLogger=function(e){return new cd(e)},t.verbose=e("verbose"),t.debug=e("debug"),t.info=e("info"),t.warn=e("warn"),t.error=e("error")}return e.instance=function(){return this._instance||(this._instance=new e),this._instance},e}(),gd=function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,a,o=n.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)i.push(r.value)}catch(s){a={error:s}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(a)throw a.error}}return i},vd=function(e,t,n){if(n||2===arguments.length)for(var r,a=0,o=t.length;a<o;a++)!r&&a in t||(r||(r=Array.prototype.slice.call(t,0,a)),r[a]=t[a]);return e.concat(r||Array.prototype.slice.call(t))},yd="context",_d=new sd,bd=function(){function e(){}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.setGlobalContextManager=function(e){return ed(yd,e,md.instance())},e.prototype.active=function(){return this._getContextManager().active()},e.prototype.with=function(e,t,n){for(var r,a=[],o=3;o<arguments.length;o++)a[o-3]=arguments[o];return(r=this._getContextManager()).with.apply(r,vd([e,t,n],gd(a),!1))},e.prototype.bind=function(e,t){return this._getContextManager().bind(e,t)},e.prototype._getContextManager=function(){return td(yd)||_d},e.prototype.disable=function(){this._getContextManager().disable(),nd(yd,md.instance())},e}();!function(e){e[e.NONE=0]="NONE",e[e.SAMPLED=1]="SAMPLED"}(pd||(pd={}));var wd,kd="0000000000000000",Ad="00000000000000000000000000000000",xd={traceId:Ad,spanId:kd,traceFlags:pd.NONE},Ed=function(){function e(e){void 0===e&&(e=xd),this._spanContext=e}return e.prototype.spanContext=function(){return this._spanContext},e.prototype.setAttribute=function(e,t){return this},e.prototype.setAttributes=function(e){return this},e.prototype.addEvent=function(e,t){return this},e.prototype.addLink=function(e){return this},e.prototype.addLinks=function(e){return this},e.prototype.setStatus=function(e){return this},e.prototype.updateName=function(e){return this},e.prototype.end=function(e){},e.prototype.isRecording=function(){return!1},e.prototype.recordException=function(e,t){},e}(),Sd=(wd="OpenTelemetry Context Key SPAN",Symbol.for(wd));function Id(e){return e.getValue(Sd)||void 0}function Cd(){return Id(bd.getInstance().active())}function Td(e,t){return e.setValue(Sd,t)}function Od(e){return e.deleteValue(Sd)}function Pd(e,t){return Td(e,new Ed(t))}function Md(e){var t;return null===(t=Id(e))||void 0===t?void 0:t.spanContext()}var Nd=/^([0-9a-f]{32})$/i,Rd=/^[0-9a-f]{16}$/i;function Dd(e){return n=e.traceId,Nd.test(n)&&n!==Ad&&(t=e.spanId,Rd.test(t)&&t!==kd);var t,n}function zd(e){return new Ed(e)}var jd=bd.getInstance(),Ld=function(){function e(){}return e.prototype.startSpan=function(e,t,n){if(void 0===n&&(n=jd.active()),Boolean(null===t||void 0===t?void 0:t.root))return new Ed;var r,a=n&&Md(n);return"object"===typeof(r=a)&&"string"===typeof r.spanId&&"string"===typeof r.traceId&&"number"===typeof r.traceFlags&&Dd(a)?new Ed(a):new Ed},e.prototype.startActiveSpan=function(e,t,n,r){var a,o,i;if(!(arguments.length<2)){2===arguments.length?i=t:3===arguments.length?(a=t,i=n):(a=t,o=n,i=r);var s=null!==o&&void 0!==o?o:jd.active(),l=this.startSpan(e,a,s),u=Td(s,l);return jd.with(u,i,void 0,l)}},e}();var Fd,Ud=new Ld,Bd=function(){function e(e,t,n,r){this._provider=e,this.name=t,this.version=n,this.options=r}return e.prototype.startSpan=function(e,t,n){return this._getTracer().startSpan(e,t,n)},e.prototype.startActiveSpan=function(e,t,n,r){var a=this._getTracer();return Reflect.apply(a.startActiveSpan,a,arguments)},e.prototype._getTracer=function(){if(this._delegate)return this._delegate;var e=this._provider.getDelegateTracer(this.name,this.version,this.options);return e?(this._delegate=e,this._delegate):Ud},e}(),Zd=new(function(){function e(){}return e.prototype.getTracer=function(e,t,n){return new Ld},e}()),Wd=function(){function e(){}return e.prototype.getTracer=function(e,t,n){var r;return null!==(r=this.getDelegateTracer(e,t,n))&&void 0!==r?r:new Bd(this,e,t,n)},e.prototype.getDelegate=function(){var e;return null!==(e=this._delegate)&&void 0!==e?e:Zd},e.prototype.setDelegate=function(e){this._delegate=e},e.prototype.getDelegateTracer=function(e,t,n){var r;return null===(r=this._delegate)||void 0===r?void 0:r.getTracer(e,t,n)},e}(),qd="trace",Vd=function(){function e(){this._proxyTracerProvider=new Wd,this.wrapSpanContext=zd,this.isSpanContextValid=Dd,this.deleteSpan=Od,this.getSpan=Id,this.getActiveSpan=Cd,this.getSpanContext=Md,this.setSpan=Td,this.setSpanContext=Pd}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.setGlobalTracerProvider=function(e){var t=ed(qd,this._proxyTracerProvider,md.instance());return t&&this._proxyTracerProvider.setDelegate(e),t},e.prototype.getTracerProvider=function(){return td(qd)||this._proxyTracerProvider},e.prototype.getTracer=function(e,t){return this.getTracerProvider().getTracer(e,t)},e.prototype.disable=function(){nd(qd,md.instance()),this._proxyTracerProvider=new Wd},e}(),$d=Vd.getInstance();!function(e){e[e.UNSET=0]="UNSET",e[e.OK=1]="OK",e[e.ERROR=2]="ERROR"}(Fd||(Fd={}));const Kd=["model","tools","toolChoice","system","prompt","messages","maxRetries","abortSignal","headers","stopWhen","experimental_output","experimental_telemetry","providerOptions","experimental_activeTools","activeTools","experimental_prepareStep","prepareStep","experimental_repairToolCall","experimental_download","experimental_context","_internal","onStepFinish"];var Hd,Qd=Object.defineProperty,Jd="AI_NoOutputSpecifiedError",Gd="vercel.ai.error.".concat(Jd),Yd=Symbol.for(Gd),Xd=class extends g{constructor(){let{message:e="No output specified."}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super({name:Jd,message:e}),this[Hd]=!0}static isInstance(e){return g.hasMarker(e,Gd)}};function ep(e){const t="AI SDK Warning:";switch(e.type){case"unsupported-setting":{let n="".concat(t,' The "').concat(e.setting,'" setting is not supported by this model');return e.details&&(n+=" - ".concat(e.details)),n}case"unsupported-tool":{const n="name"in e.tool?e.tool.name:"unknown tool";let r="".concat(t,' The tool "').concat(n,'" is not supported by this model');return e.details&&(r+=" - ".concat(e.details)),r}case"other":return"".concat(t," ").concat(e.message);default:return"".concat(t," ").concat(JSON.stringify(e,null,2))}}Hd=Yd;var tp,np=!1,rp=e=>{if(0===e.length)return;const t=globalThis.AI_SDK_LOG_WARNINGS;if(!1!==t)if("function"!==typeof t){np||(np=!0,console.info("AI SDK Warning System: To turn off warning logging, set the AI_SDK_LOG_WARNINGS global to false."));for(const t of e)console.warn(ep(t))}else t(e)},ap="AI_InvalidArgumentError",op="vercel.ai.error.".concat(ap),ip=Symbol.for(op),sp=class extends g{constructor(e){let{parameter:t,value:n,message:r}=e;super({name:ap,message:"Invalid argument for parameter ".concat(t,": ").concat(r)}),this[tp]=!0,this.parameter=t,this.value=n}static isInstance(e){return g.hasMarker(e,op)}};tp=ip;var lp="AI_InvalidStreamPartError",up="vercel.ai.error.".concat(lp),cp=Symbol.for(up);var dp,pp="AI_InvalidToolInputError",fp="vercel.ai.error.".concat(pp),hp=Symbol.for(fp),mp=class extends g{constructor(e){let{toolInput:t,toolName:n,cause:r,message:a="Invalid input for tool ".concat(n,": ").concat(S(r))}=e;super({name:pp,message:a,cause:r}),this[dp]=!0,this.toolInput=t,this.toolName=n}static isInstance(e){return g.hasMarker(e,fp)}};dp=hp;var gp="vercel.ai.error.".concat("AI_MCPClientError"),vp=Symbol.for(gp);var yp="AI_NoImageGeneratedError",_p="vercel.ai.error.".concat(yp),bp=Symbol.for(_p);var wp,kp="AI_NoObjectGeneratedError",Ap="vercel.ai.error.".concat(kp),xp=Symbol.for(Ap),Ep=class extends g{constructor(e){let{message:t="No object generated.",cause:n,text:r,response:a,usage:o,finishReason:i}=e;super({name:kp,message:t,cause:n}),this[wp]=!0,this.text=r,this.response=a,this.usage=o,this.finishReason=i}static isInstance(e){return g.hasMarker(e,Ap)}};wp=xp;var Sp="AI_NoOutputGeneratedError",Ip="vercel.ai.error.".concat(Sp),Cp=Symbol.for(Ip);var Tp,Op="AI_NoSuchToolError",Pp="vercel.ai.error.".concat(Op),Mp=Symbol.for(Pp),Np=class extends g{constructor(e){let{toolName:t,availableTools:n,message:r="Model tried to call unavailable tool '".concat(t,"'. ").concat(void 0===n?"No tools are available.":"Available tools: ".concat(n.join(", "),"."))}=e;super({name:Op,message:r}),this[Tp]=!0,this.toolName=t,this.availableTools=n}static isInstance(e){return g.hasMarker(e,Pp)}};Tp=Mp;var Rp,Dp="AI_ToolCallRepairError",zp="vercel.ai.error.".concat(Dp),jp=Symbol.for(zp),Lp=class extends g{constructor(e){let{cause:t,originalError:n,message:r="Error repairing tool call: ".concat(S(t))}=e;super({name:Dp,message:r,cause:t}),this[Rp]=!0,this.originalError=n}static isInstance(e){return g.hasMarker(e,zp)}};Rp=jp;var Fp=class extends g{constructor(e){super({name:"AI_UnsupportedModelVersionError",message:"Unsupported model version ".concat(e.version,' for provider "').concat(e.provider,'" and model "').concat(e.modelId,'". AI SDK 5 only supports models that implement specification version "v2".')}),this.version=e.version,this.provider=e.provider,this.modelId=e.modelId}},Up="AI_InvalidDataContentError",Bp="vercel.ai.error.".concat(Up),Zp=Symbol.for(Bp);var Wp,qp="AI_InvalidMessageRoleError",Vp="vercel.ai.error.".concat(qp),$p=Symbol.for(Vp),Kp=class extends g{constructor(e){let{role:t,message:n="Invalid message role: '".concat(t,'\'. Must be one of: "system", "user", "assistant", "tool".')}=e;super({name:qp,message:n}),this[Wp]=!0,this.role=t}static isInstance(e){return g.hasMarker(e,Vp)}};Wp=$p;var Hp="AI_MessageConversionError",Qp="vercel.ai.error.".concat(Hp),Jp=Symbol.for(Qp);var Gp,Yp="AI_DownloadError",Xp="vercel.ai.error.".concat(Yp),ef=Symbol.for(Xp),tf=class extends g{constructor(e){let{url:t,statusCode:n,statusText:r,cause:a,message:o=(null==a?"Failed to download ".concat(t,": ").concat(n," ").concat(r):"Failed to download ".concat(t,": ").concat(a))}=e;super({name:Yp,message:o,cause:a}),this[Gp]=!0,this.url=t,this.statusCode=n,this.statusText=r}static isInstance(e){return g.hasMarker(e,Xp)}};Gp=ef;var nf,rf="AI_RetryError",af="vercel.ai.error.".concat(rf),of=Symbol.for(af),sf=class extends g{constructor(e){let{message:t,reason:n,errors:r}=e;super({name:rf,message:t}),this[nf]=!0,this.reason=n,this.errors=r,this.lastError=r[r.length-1]}static isInstance(e){return g.hasMarker(e,af)}};function lf(e){if("string"!==typeof e){if("v2"!==e.specificationVersion)throw new Fp({version:e.specificationVersion,provider:e.provider,modelId:e.modelId});return e}return uf().languageModel(e)}function uf(){var e;return null!=(e=globalThis.AI_SDK_DEFAULT_PROVIDER)?e:$c}nf=of;var cf=[{mediaType:"image/gif",bytesPrefix:[71,73,70]},{mediaType:"image/png",bytesPrefix:[137,80,78,71]},{mediaType:"image/jpeg",bytesPrefix:[255,216]},{mediaType:"image/webp",bytesPrefix:[82,73,70,70,null,null,null,null,87,69,66,80]},{mediaType:"image/bmp",bytesPrefix:[66,77]},{mediaType:"image/tiff",bytesPrefix:[73,73,42,0]},{mediaType:"image/tiff",bytesPrefix:[77,77,0,42]},{mediaType:"image/avif",bytesPrefix:[0,0,0,32,102,116,121,112,97,118,105,102]},{mediaType:"image/heic",bytesPrefix:[0,0,0,32,102,116,121,112,104,101,105,99]}],df=e=>{const t="string"===typeof e?Fu(e):e,n=(127&t[6])<<21|(127&t[7])<<14|(127&t[8])<<7|127&t[9];return t.slice(n+10)};function pf(e){let{data:t,signatures:n}=e;const r=function(e){return"string"===typeof e&&e.startsWith("SUQz")||"string"!==typeof e&&e.length>10&&73===e[0]&&68===e[1]&&51===e[2]?df(e):e}(t),a="string"===typeof r?Fu(r.substring(0,Math.min(r.length,24))):r;for(const o of n)if(a.length>=o.bytesPrefix.length&&o.bytesPrefix.every(((e,t)=>null===e||a[t]===e)))return o.mediaType}var ff="5.0.68",hf=async e=>{let{url:t}=e;var n;const r=t.toString();try{const e=await fetch(r,{headers:Pl({},"ai-sdk/".concat(ff),Ol())});if(!e.ok)throw new tf({url:r,statusCode:e.status,statusText:e.statusText});return{data:new Uint8Array(await e.arrayBuffer()),mediaType:null!=(n=e.headers.get("content-type"))?n:void 0}}catch(a){if(tf.isInstance(a))throw a;throw new tf({url:r,cause:a})}},mf=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:hf;return t=>Promise.all(t.map((async t=>t.isUrlSupportedByModel?null:e(t))))};var gf=ci([wo(),ji(Uint8Array),ji(ArrayBuffer),zi((e=>{var t,n;return null!=(n=null==(t=globalThis.Buffer)?void 0:t.isBuffer(e))&&n}),{message:"Must be a Buffer"})]);function vf(e){if(e instanceof Uint8Array)return{data:e,mediaType:void 0};if(e instanceof ArrayBuffer)return{data:new Uint8Array(e),mediaType:void 0};if("string"===typeof e)try{e=new URL(e)}catch(t){}if(e instanceof URL&&"data:"===e.protocol){const{mediaType:n,base64Content:r}=function(e){try{const[t,n]=e.split(",");return{mediaType:t.split(";")[0].split(":")[1],base64Content:n}}catch(t){return{mediaType:void 0,base64Content:void 0}}}(e.toString());if(null==n||null==r)throw new g({name:"InvalidDataContentError",message:"Invalid data URL format in content ".concat(e.toString())});return{data:r,mediaType:n}}return{data:e,mediaType:void 0}}async function yf(e){let{prompt:t,supportedUrls:n,download:r=mf()}=e;const a=await async function(e,t,n){const r=e.filter((e=>"user"===e.role)).map((e=>e.content)).filter((e=>Array.isArray(e))).flat().filter((e=>"image"===e.type||"file"===e.type)).map((e=>{var t;const n=null!=(t=e.mediaType)?t:"image"===e.type?"image/*":void 0;let r="image"===e.type?e.image:e.data;if("string"===typeof r)try{r=new URL(r)}catch(a){}return{mediaType:n,data:r}})).filter((e=>e.data instanceof URL)).map((e=>({url:e.data,isUrlSupportedByModel:null!=e.mediaType&&Dl({url:e.data.toString(),mediaType:e.mediaType,supportedUrls:n})}))),a=await t(r);return Object.fromEntries(a.map(((e,t)=>null==e?null:[r[t].url.toString(),{data:e.data,mediaType:e.mediaType}])).filter((e=>null!=e)))}(t.messages,r,n);return[...null!=t.system?[{role:"system",content:t.system}]:[],...t.messages.map((e=>function(e){let{message:t,downloadedAssets:n}=e;const r=t.role;switch(r){case"system":return{role:"system",content:t.content,providerOptions:t.providerOptions};case"user":return"string"===typeof t.content?{role:"user",content:[{type:"text",text:t.content}],providerOptions:t.providerOptions}:{role:"user",content:t.content.map((e=>function(e,t){var n;if("text"===e.type)return{type:"text",text:e.text,providerOptions:e.providerOptions};let r;const a=e.type;switch(a){case"image":r=e.image;break;case"file":r=e.data;break;default:throw new Error("Unsupported part type: ".concat(a))}const{data:o,mediaType:i}=vf(r);let s=null!=i?i:e.mediaType,l=o;if(l instanceof URL){const e=t[l.toString()];e&&(l=e.data,null!=s||(s=e.mediaType))}switch(a){case"image":return(l instanceof Uint8Array||"string"===typeof l)&&(s=null!=(n=pf({data:l,signatures:cf}))?n:s),{type:"file",mediaType:null!=s?s:"image/*",filename:void 0,data:l,providerOptions:e.providerOptions};case"file":if(null==s)throw new Error("Media type is missing for file part");return{type:"file",mediaType:s,filename:e.filename,data:l,providerOptions:e.providerOptions}}}(e,n))).filter((e=>"text"!==e.type||""!==e.text)),providerOptions:t.providerOptions};case"assistant":return"string"===typeof t.content?{role:"assistant",content:[{type:"text",text:t.content}],providerOptions:t.providerOptions}:{role:"assistant",content:t.content.filter((e=>"text"!==e.type||""!==e.text||null!=e.providerOptions)).map((e=>{const t=e.providerOptions;switch(e.type){case"file":{const{data:n,mediaType:r}=vf(e.data);return{type:"file",data:n,filename:e.filename,mediaType:null!=r?r:e.mediaType,providerOptions:t}}case"reasoning":return{type:"reasoning",text:e.text,providerOptions:t};case"text":return{type:"text",text:e.text,providerOptions:t};case"tool-call":return{type:"tool-call",toolCallId:e.toolCallId,toolName:e.toolName,input:e.input,providerExecuted:e.providerExecuted,providerOptions:t};case"tool-result":return{type:"tool-result",toolCallId:e.toolCallId,toolName:e.toolName,output:e.output,providerOptions:t}}})),providerOptions:t.providerOptions};case"tool":return{role:"tool",content:t.content.map((e=>({type:"tool-result",toolCallId:e.toolCallId,toolName:e.toolName,output:e.output,providerOptions:e.providerOptions}))),providerOptions:t.providerOptions};default:throw new Kp({role:r})}}({message:e,downloadedAssets:a})))]}function _f(e){let{maxOutputTokens:t,temperature:n,topP:r,topK:a,presencePenalty:o,frequencyPenalty:i,seed:s,stopSequences:l}=e;if(null!=t){if(!Number.isInteger(t))throw new sp({parameter:"maxOutputTokens",value:t,message:"maxOutputTokens must be an integer"});if(t<1)throw new sp({parameter:"maxOutputTokens",value:t,message:"maxOutputTokens must be >= 1"})}if(null!=n&&"number"!==typeof n)throw new sp({parameter:"temperature",value:n,message:"temperature must be a number"});if(null!=r&&"number"!==typeof r)throw new sp({parameter:"topP",value:r,message:"topP must be a number"});if(null!=a&&"number"!==typeof a)throw new sp({parameter:"topK",value:a,message:"topK must be a number"});if(null!=o&&"number"!==typeof o)throw new sp({parameter:"presencePenalty",value:o,message:"presencePenalty must be a number"});if(null!=i&&"number"!==typeof i)throw new sp({parameter:"frequencyPenalty",value:i,message:"frequencyPenalty must be a number"});if(null!=s&&!Number.isInteger(s))throw new sp({parameter:"seed",value:s,message:"seed must be an integer"});return{maxOutputTokens:t,temperature:n,topP:r,topK:a,presencePenalty:o,frequencyPenalty:i,stopSequences:l,seed:s}}function bf(e){let{tools:t,toolChoice:n,activeTools:r}=e;if(!(null!=(a=t)&&Object.keys(a).length>0))return{tools:void 0,toolChoice:void 0};var a;return{tools:(null!=r?Object.entries(t).filter((e=>{let[t]=e;return r.includes(t)})):Object.entries(t)).map((e=>{let[t,n]=e;const r=n.type;switch(r){case void 0:case"dynamic":case"function":return{type:"function",name:t,description:n.description,inputSchema:zu(n.inputSchema).jsonSchema,providerOptions:n.providerOptions};case"provider-defined":return{type:"provider-defined",name:t,id:n.id,args:n.args};default:throw new Error("Unsupported tool type: ".concat(r))}})),toolChoice:null==n?{type:"auto"}:"string"===typeof n?{type:n}:{type:"tool",toolName:n.toolName}}}var wf=Ri((()=>ci([Jo(),wo(),qo(),Ho(),mi(wo(),wf),ai(wf)]))),kf=mi(wo(),mi(wo(),wf)),Af=ii({type:_i("text"),text:wo(),providerOptions:kf.optional()}),xf=ii({type:_i("image"),image:ci([gf,ji(URL)]),mediaType:wo().optional(),providerOptions:kf.optional()}),Ef=ii({type:_i("file"),data:ci([gf,ji(URL)]),filename:wo().optional(),mediaType:wo(),providerOptions:kf.optional()}),Sf=ii({type:_i("reasoning"),text:wo(),providerOptions:kf.optional()}),If=ii({type:_i("tool-call"),toolCallId:wo(),toolName:wo(),input:ei(),providerOptions:kf.optional(),providerExecuted:Ho().optional()}),Cf=pi("type",[ii({type:_i("text"),value:wo()}),ii({type:_i("json"),value:wf}),ii({type:_i("error-text"),value:wo()}),ii({type:_i("error-json"),value:wf}),ii({type:_i("content"),value:ai(ci([ii({type:_i("text"),text:wo()}),ii({type:_i("media"),data:wo(),mediaType:wo()})]))})]),Tf=ii({type:_i("tool-result"),toolCallId:wo(),toolName:wo(),output:Cf,providerOptions:kf.optional()}),Of=ii({role:_i("system"),content:wo(),providerOptions:kf.optional()}),Pf=ii({role:_i("user"),content:ci([wo(),ai(ci([Af,xf,Ef]))]),providerOptions:kf.optional()}),Mf=ii({role:_i("assistant"),content:ci([wo(),ai(ci([Af,Ef,Sf,If,Tf]))]),providerOptions:kf.optional()}),Nf=ii({role:_i("tool"),content:ai(Tf),providerOptions:kf.optional()}),Rf=ci([Of,Pf,Mf,Nf]);async function Df(e){if(null==e.prompt&&null==e.messages)throw new z({prompt:e,message:"prompt or messages must be defined"});if(null!=e.prompt&&null!=e.messages)throw new z({prompt:e,message:"prompt and messages cannot be defined at the same time"});if(null!=e.system&&"string"!==typeof e.system)throw new z({prompt:e,message:"system must be a string"});let t;if(null!=e.prompt&&"string"===typeof e.prompt)t=[{role:"user",content:e.prompt}];else if(null!=e.prompt&&Array.isArray(e.prompt))t=e.prompt;else{if(null==e.messages)throw new z({prompt:e,message:"prompt or messages must be defined"});t=e.messages}if(0===t.length)throw new z({prompt:e,message:"messages must not be empty"});const n=await $l({value:t,schema:ai(Rf)});if(!n.success)throw new z({prompt:e,message:"The messages must be a ModelMessage[]. If you have passed a UIMessage[], you can use convertToModelMessages to convert them.",cause:n.error});return{messages:t,system:e.system}}function zf(e){return dc.isInstance(e)||xc.isInstance(e)?new g({name:"GatewayError",message:"Vercel AI Gateway access failed. If you want to use AI SDK providers directly, use the providers, e.g. @ai-sdk/openai, or register a different global default provider.",cause:e}):e}function jf(e){let{operationId:t,telemetry:n}=e;return{"operation.name":"".concat(t).concat(null!=(null==n?void 0:n.functionId)?" ".concat(n.functionId):""),"resource.name":null==n?void 0:n.functionId,"ai.operationId":t,"ai.telemetry.functionId":null==n?void 0:n.functionId}}function Lf(e){let{model:t,settings:n,telemetry:r,headers:a}=e;var i;return(0,o.A)((0,o.A)((0,o.A)({"ai.model.provider":t.provider,"ai.model.id":t.modelId},Object.entries(n).reduce(((e,t)=>{let[n,r]=t;return e["ai.settings.".concat(n)]=r,e}),{})),Object.entries(null!=(i=null==r?void 0:r.metadata)?i:{}).reduce(((e,t)=>{let[n,r]=t;return e["ai.telemetry.metadata.".concat(n)]=r,e}),{})),Object.entries(null!=a?a:{}).reduce(((e,t)=>{let[n,r]=t;return void 0!==r&&(e["ai.request.headers.".concat(n)]=r),e}),{}))}var Ff={startSpan:()=>Uf,startActiveSpan:(e,t,n,r)=>"function"===typeof t?t(Uf):"function"===typeof n?n(Uf):"function"===typeof r?r(Uf):void 0},Uf={spanContext:()=>Bf,setAttribute(){return this},setAttributes(){return this},addEvent(){return this},addLink(){return this},addLinks(){return this},setStatus(){return this},updateName(){return this},end(){return this},isRecording:()=>!1,recordException(){return this}},Bf={traceId:"",spanId:"",traceFlags:0};function Zf(){let{isEnabled:e=!1,tracer:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e?t||$d.getTracer("ai"):Ff}function Wf(e){let{name:t,tracer:n,attributes:r,fn:a,endWhenDone:o=!0}=e;return n.startActiveSpan(t,{attributes:r},(async e=>{try{const t=await a(e);return o&&e.end(),t}catch(t){try{qf(e,t)}finally{e.end()}throw t}}))}function qf(e,t){t instanceof Error?(e.recordException({name:t.name,message:t.message,stack:t.stack}),e.setStatus({code:Fd.ERROR,message:t.message})):e.setStatus({code:Fd.ERROR})}function Vf(e){let{telemetry:t,attributes:n}=e;return!0!==(null==t?void 0:t.isEnabled)?{}:Object.entries(n).reduce(((e,n)=>{let[r,a]=n;if(null==a)return e;if("object"===typeof a&&"input"in a&&"function"===typeof a.input){if(!1===(null==t?void 0:t.recordInputs))return e;const n=a.input();return null==n?e:(0,o.A)((0,o.A)({},e),{},{[r]:n})}if("object"===typeof a&&"output"in a&&"function"===typeof a.output){if(!1===(null==t?void 0:t.recordOutputs))return e;const n=a.output();return null==n?e:(0,o.A)((0,o.A)({},e),{},{[r]:n})}return(0,o.A)((0,o.A)({},e),{},{[r]:a})}),{})}function $f(e){return JSON.stringify(e.map((e=>(0,o.A)((0,o.A)({},e),{},{content:"string"===typeof e.content?e.content:e.content.map((e=>{return"file"===e.type?(0,o.A)((0,o.A)({},e),{},{data:e.data instanceof Uint8Array?(t=e.data,"string"===typeof t?t:t instanceof ArrayBuffer?Uu(new Uint8Array(t)):Uu(t)):e.data}):e;var t}))}))))}function Kf(e,t){return{inputTokens:Hf(e.inputTokens,t.inputTokens),outputTokens:Hf(e.outputTokens,t.outputTokens),totalTokens:Hf(e.totalTokens,t.totalTokens),reasoningTokens:Hf(e.reasoningTokens,t.reasoningTokens),cachedInputTokens:Hf(e.cachedInputTokens,t.cachedInputTokens)}}function Hf(e,t){return null==e&&null==t?void 0:(null!=e?e:0)+(null!=t?t:0)}function Qf(e){return void 0===e?[]:Array.isArray(e)?e:[e]}var Jf=function(){let{maxRetries:e=2,initialDelayInMs:t=2e3,backoffFactor:n=2,abortSignal:r}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return async a=>Gf(a,{maxRetries:e,delayInMs:t,backoffFactor:n,abortSignal:r})};async function Gf(e,t){let{maxRetries:n,delayInMs:r,backoffFactor:a,abortSignal:o}=t,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];try{return await e()}catch(s){if(Il(s))throw s;if(0===n)throw s;const t=Sl(s),l=[...i,s],u=l.length;if(u>n)throw new sf({message:"Failed after ".concat(u," attempts. Last error: ").concat(t),reason:"maxRetriesExceeded",errors:l});if(s instanceof Error&&b.isInstance(s)&&!0===s.isRetryable&&u<=n)return await async function(e,t){if(null==e)return Promise.resolve();const n=null==t?void 0:t.abortSignal;return new Promise(((t,r)=>{if(null==n?void 0:n.aborted)return void r(kl());const a=setTimeout((()=>{o(),t()}),e),o=()=>{clearTimeout(a),null==n||n.removeEventListener("abort",i)},i=()=>{o(),r(kl())};null==n||n.addEventListener("abort",i)}))}(function(e){let{error:t,exponentialBackoffDelay:n}=e;const r=t.responseHeaders;if(!r)return n;let a;const o=r["retry-after-ms"];if(o){const e=parseFloat(o);Number.isNaN(e)||(a=e)}const i=r["retry-after"];if(i&&void 0===a){const e=parseFloat(i);a=Number.isNaN(e)?Date.parse(i)-Date.now():1e3*e}return null!=a&&!Number.isNaN(a)&&0<=a&&(a<6e4||a<n)?a:n}({error:s,exponentialBackoffDelay:r}),{abortSignal:o}),Gf(e,{maxRetries:n,delayInMs:a*r,backoffFactor:a,abortSignal:o},l);if(1===u)throw s;throw new sf({message:"Failed after ".concat(u," attempts with non-retryable error: '").concat(t,"'"),reason:"errorNotRetryable",errors:l})}}function Yf(e){let{maxRetries:t,abortSignal:n}=e;if(null!=t){if(!Number.isInteger(t))throw new sp({parameter:"maxRetries",value:t,message:"maxRetries must be an integer"});if(t<0)throw new sp({parameter:"maxRetries",value:t,message:"maxRetries must be >= 0"})}const r=null!=t?t:2;return{maxRetries:r,retry:Jf({maxRetries:r,abortSignal:n})}}function Xf(e){const t=e.filter((e=>"text"===e.type));if(0!==t.length)return t.map((e=>e.text)).join("")}var eh=class{constructor(e){let{data:t,mediaType:n}=e;const r=t instanceof Uint8Array;this.base64Data=r?void 0:t,this.uint8ArrayData=r?t:void 0,this.mediaType=n}get base64(){return null==this.base64Data&&(this.base64Data=Uu(this.uint8ArrayData)),this.base64Data}get uint8Array(){return null==this.uint8ArrayData&&(this.uint8ArrayData=Fu(this.base64Data)),this.uint8ArrayData}};async function th(e){let{toolCall:t,tools:n,repairToolCall:r,system:a,messages:o}=e;try{if(null==n)throw new Np({toolName:t.toolName});try{return await nh({toolCall:t,tools:n})}catch(i){if(null==r||!Np.isInstance(i)&&!mp.isInstance(i))throw i;let e=null;try{e=await r({toolCall:t,tools:n,inputSchema:e=>{let{toolName:t}=e;const{inputSchema:r}=n[t];return zu(r).jsonSchema},system:a,messages:o,error:i})}catch(s){throw new Lp({cause:s,originalError:i})}if(null==e)throw i;return await nh({toolCall:e,tools:n})}}catch(i){const e=await Kl({text:t.input}),n=e.success?e.value:t.input;return{type:"tool-call",toolCallId:t.toolCallId,toolName:t.toolName,input:n,dynamic:!0,invalid:!0,error:i}}}async function nh(e){let{toolCall:t,tools:n}=e;const r=t.toolName,a=n[r];if(null==a)throw new Np({toolName:t.toolName,availableTools:Object.keys(n)});const o=zu(a.inputSchema),i=""===t.input.trim()?await $l({value:{},schema:o}):await Kl({text:t.input,schema:o});if(!1===i.success)throw new mp({toolName:r,toolInput:t.input,cause:i.error});return"dynamic"===a.type?{type:"tool-call",toolCallId:t.toolCallId,toolName:t.toolName,input:i.value,providerExecuted:t.providerExecuted,providerMetadata:t.providerMetadata,dynamic:!0}:{type:"tool-call",toolCallId:t.toolCallId,toolName:r,input:i.value,providerExecuted:t.providerExecuted,providerMetadata:t.providerMetadata}}var rh=class{constructor(e){let{content:t,finishReason:n,usage:r,warnings:a,request:o,response:i,providerMetadata:s}=e;this.content=t,this.finishReason=n,this.usage=r,this.warnings=a,this.request=o,this.response=i,this.providerMetadata=s}get text(){return this.content.filter((e=>"text"===e.type)).map((e=>e.text)).join("")}get reasoning(){return this.content.filter((e=>"reasoning"===e.type))}get reasoningText(){return 0===this.reasoning.length?void 0:this.reasoning.map((e=>e.text)).join("")}get files(){return this.content.filter((e=>"file"===e.type)).map((e=>e.file))}get sources(){return this.content.filter((e=>"source"===e.type))}get toolCalls(){return this.content.filter((e=>"tool-call"===e.type))}get staticToolCalls(){return this.toolCalls.filter((e=>!0!==e.dynamic))}get dynamicToolCalls(){return this.toolCalls.filter((e=>!0===e.dynamic))}get toolResults(){return this.content.filter((e=>"tool-result"===e.type))}get staticToolResults(){return this.toolResults.filter((e=>!0!==e.dynamic))}get dynamicToolResults(){return this.toolResults.filter((e=>!0===e.dynamic))}};function ah(e){return t=>{let{steps:n}=t;return n.length===e}}async function oh(e){let{stopConditions:t,steps:n}=e;return(await Promise.all(t.map((e=>e({steps:n}))))).some((e=>e))}function ih(e){let{output:t,tool:n,errorMode:r}=e;return"text"===r?{type:"error-text",value:S(t)}:"json"===r?{type:"error-json",value:sh(t)}:(null==n?void 0:n.toModelOutput)?n.toModelOutput(t):"string"===typeof t?{type:"text",value:t}:{type:"json",value:sh(t)}}function sh(e){return void 0===e?null:e}function lh(e){let{content:t,tools:n}=e;const r=[],a=t.filter((e=>"source"!==e.type)).filter((e=>("tool-result"!==e.type||e.providerExecuted)&&("tool-error"!==e.type||e.providerExecuted))).filter((e=>"text"!==e.type||e.text.length>0)).map((e=>{switch(e.type){case"text":return{type:"text",text:e.text,providerOptions:e.providerMetadata};case"reasoning":return{type:"reasoning",text:e.text,providerOptions:e.providerMetadata};case"file":return{type:"file",data:e.file.base64,mediaType:e.file.mediaType,providerOptions:e.providerMetadata};case"tool-call":return{type:"tool-call",toolCallId:e.toolCallId,toolName:e.toolName,input:e.input,providerExecuted:e.providerExecuted,providerOptions:e.providerMetadata};case"tool-result":return{type:"tool-result",toolCallId:e.toolCallId,toolName:e.toolName,output:ih({tool:null==n?void 0:n[e.toolName],output:e.output,errorMode:"none"}),providerExecuted:!0,providerOptions:e.providerMetadata};case"tool-error":return{type:"tool-result",toolCallId:e.toolCallId,toolName:e.toolName,output:ih({tool:null==n?void 0:n[e.toolName],output:e.error,errorMode:"json"}),providerOptions:e.providerMetadata}}}));a.length>0&&r.push({role:"assistant",content:a});const o=t.filter((e=>"tool-result"===e.type||"tool-error"===e.type)).filter((e=>!e.providerExecuted)).map((e=>({type:"tool-result",toolCallId:e.toolCallId,toolName:e.toolName,output:ih({tool:null==n?void 0:n[e.toolName],output:"tool-result"===e.type?e.output:e.error,errorMode:"tool-error"===e.type?"text":"none"})})));return o.length>0&&r.push({role:"tool",content:o}),r}var uh=xl({prefix:"aitxt",size:24});async function ch(e){let{model:t,tools:n,toolChoice:r,system:i,prompt:s,messages:l,maxRetries:u,abortSignal:c,headers:d,stopWhen:p=ah(1),experimental_output:f,experimental_telemetry:h,providerOptions:m,experimental_activeTools:g,activeTools:v=g,experimental_prepareStep:y,prepareStep:_=y,experimental_repairToolCall:b,experimental_download:w,experimental_context:k,_internal:{generateId:A=uh,currentDate:x=(()=>new Date)}={},onStepFinish:E}=e,S=a(e,Kd);const I=lf(t),C=Qf(p),{maxRetries:T,retry:O}=Yf({maxRetries:u,abortSignal:c}),P=_f(S),M=Pl(null!=d?d:{},"ai/".concat(ff)),N=Lf({model:I,telemetry:h,headers:M,settings:(0,o.A)((0,o.A)({},P),{},{maxRetries:T})}),R=await Df({system:i,prompt:s,messages:l}),D=Zf(h);try{return await Wf({name:"ai.generateText",attributes:Vf({telemetry:h,attributes:(0,o.A)((0,o.A)((0,o.A)({},jf({operationId:"ai.generateText",telemetry:h})),N),{},{"ai.model.provider":I.provider,"ai.model.id":I.modelId,"ai.prompt":{input:()=>JSON.stringify({system:i,prompt:s,messages:l})}})}),tracer:D,fn:async e=>{var t,a,s,l,u,d,p;const g=_f(S);let y,T=[],P=[];const z=[],j=[];do{const e=[...R.messages,...z],C=await(null==_?void 0:_({model:I,steps:j,stepNumber:j.length,messages:e})),L=lf(null!=(t=null==C?void 0:C.model)?t:I),F=await yf({prompt:{system:null!=(a=null==C?void 0:C.system)?a:R.system,messages:null!=(s=null==C?void 0:C.messages)?s:e},supportedUrls:await L.supportedUrls,download:w}),{toolChoice:U,tools:B}=bf({tools:n,toolChoice:null!=(l=null==C?void 0:C.toolChoice)?l:r,activeTools:null!=(u=null==C?void 0:C.activeTools)?u:v});y=await O((()=>{var e;return Wf({name:"ai.generateText.doGenerate",attributes:Vf({telemetry:h,attributes:(0,o.A)((0,o.A)((0,o.A)({},jf({operationId:"ai.generateText.doGenerate",telemetry:h})),N),{},{"ai.model.provider":L.provider,"ai.model.id":L.modelId,"ai.prompt.messages":{input:()=>$f(F)},"ai.prompt.tools":{input:()=>null==B?void 0:B.map((e=>JSON.stringify(e)))},"ai.prompt.toolChoice":{input:()=>null!=U?JSON.stringify(U):void 0},"gen_ai.system":L.provider,"gen_ai.request.model":L.modelId,"gen_ai.request.frequency_penalty":S.frequencyPenalty,"gen_ai.request.max_tokens":S.maxOutputTokens,"gen_ai.request.presence_penalty":S.presencePenalty,"gen_ai.request.stop_sequences":S.stopSequences,"gen_ai.request.temperature":null!=(e=S.temperature)?e:void 0,"gen_ai.request.top_k":S.topK,"gen_ai.request.top_p":S.topP})}),tracer:D,fn:async e=>{var t,n,r,a,i,s,l,u;const d=await L.doGenerate((0,o.A)((0,o.A)({},g),{},{tools:B,toolChoice:U,responseFormat:null==f?void 0:f.responseFormat,prompt:F,providerOptions:m,abortSignal:c,headers:M})),p={id:null!=(n=null==(t=d.response)?void 0:t.id)?n:A(),timestamp:null!=(a=null==(r=d.response)?void 0:r.timestamp)?a:x(),modelId:null!=(s=null==(i=d.response)?void 0:i.modelId)?s:L.modelId,headers:null==(l=d.response)?void 0:l.headers,body:null==(u=d.response)?void 0:u.body};return e.setAttributes(Vf({telemetry:h,attributes:{"ai.response.finishReason":d.finishReason,"ai.response.text":{output:()=>Xf(d.content)},"ai.response.toolCalls":{output:()=>{const e=fh(d.content);return null==e?void 0:JSON.stringify(e)}},"ai.response.id":p.id,"ai.response.model":p.modelId,"ai.response.timestamp":p.timestamp.toISOString(),"ai.response.providerMetadata":JSON.stringify(d.providerMetadata),"ai.usage.promptTokens":d.usage.inputTokens,"ai.usage.completionTokens":d.usage.outputTokens,"gen_ai.response.finish_reasons":[d.finishReason],"gen_ai.response.id":p.id,"gen_ai.response.model":p.modelId,"gen_ai.usage.input_tokens":d.usage.inputTokens,"gen_ai.usage.output_tokens":d.usage.outputTokens}})),(0,o.A)((0,o.A)({},d),{},{response:p})}})}));const Z=await Promise.all(y.content.filter((e=>"tool-call"===e.type)).map((t=>th({toolCall:t,tools:n,repairToolCall:b,system:i,messages:e}))));for(const t of Z){if(t.invalid)continue;const r=n[t.toolName];null!=(null==r?void 0:r.onInputAvailable)&&await r.onInputAvailable({input:t.input,toolCallId:t.toolCallId,messages:e,abortSignal:c,experimental_context:k})}const W=Z.filter((e=>e.invalid&&e.dynamic));P=[];for(const t of W)P.push({type:"tool-error",toolCallId:t.toolCallId,toolName:t.toolName,input:t.input,error:Sl(t.error),dynamic:!0});T=Z.filter((e=>!e.providerExecuted)),null!=n&&P.push(...await dh({toolCalls:T.filter((e=>!e.invalid)),tools:n,tracer:D,telemetry:h,messages:e,abortSignal:c,experimental_context:k}));const q=hh({content:y.content,toolCalls:Z,toolOutputs:P});z.push(...lh({content:q,tools:n}));const V=new rh({content:q,finishReason:y.finishReason,usage:y.usage,warnings:y.warnings,providerMetadata:y.providerMetadata,request:null!=(d=y.request)?d:{},response:(0,o.A)((0,o.A)({},y.response),{},{messages:structuredClone(z)})});rp(null!=(p=y.warnings)?p:[]),j.push(V),await(null==E?void 0:E(V))}while(T.length>0&&P.length===T.length&&!await oh({stopConditions:C,steps:j}));e.setAttributes(Vf({telemetry:h,attributes:{"ai.response.finishReason":y.finishReason,"ai.response.text":{output:()=>Xf(y.content)},"ai.response.toolCalls":{output:()=>{const e=fh(y.content);return null==e?void 0:JSON.stringify(e)}},"ai.response.providerMetadata":JSON.stringify(y.providerMetadata),"ai.usage.promptTokens":y.usage.inputTokens,"ai.usage.completionTokens":y.usage.outputTokens}}));const L=j[j.length-1];let F;return"stop"===L.finishReason&&(F=await(null==f?void 0:f.parseOutput({text:L.text},{response:L.response,usage:L.usage,finishReason:L.finishReason}))),new ph({steps:j,resolvedOutput:F})}})}catch(z){throw zf(z)}}async function dh(e){let{toolCalls:t,tools:n,tracer:r,telemetry:a,messages:s,abortSignal:l,experimental_context:u}=e;const c=await Promise.all(t.map((async e=>{let{toolCallId:t,toolName:c,input:d}=e;const p=n[c];if(null!=(null==p?void 0:p.execute))return Wf({name:"ai.toolCall",attributes:Vf({telemetry:a,attributes:(0,o.A)((0,o.A)({},jf({operationId:"ai.toolCall",telemetry:a})),{},{"ai.toolCall.name":c,"ai.toolCall.id":t,"ai.toolCall.args":{output:()=>JSON.stringify(d)}})}),tracer:r,fn:async e=>{try{const v=function(e){return Wu.apply(this,arguments)}({execute:p.execute.bind(p),input:d,options:{toolCallId:t,messages:s,abortSignal:l,experimental_context:u}});let y;var n,r=!1,o=!1;try{for(var f,h=i(v);r=!(f=await h.next()).done;r=!1){const e=f.value;"final"===e.type&&(y=e.output)}}catch(m){o=!0,n=m}finally{try{r&&null!=h.return&&await h.return()}finally{if(o)throw n}}try{e.setAttributes(Vf({telemetry:a,attributes:{"ai.toolCall.result":{output:()=>JSON.stringify(y)}}}))}catch(g){}return{type:"tool-result",toolCallId:t,toolName:c,input:d,output:y,dynamic:"dynamic"===p.type}}catch(v){return qf(e,v),{type:"tool-error",toolCallId:t,toolName:c,input:d,error:v,dynamic:"dynamic"===p.type}}}})})));return c.filter((e=>null!=e))}var ph=class{constructor(e){this.steps=e.steps,this.resolvedOutput=e.resolvedOutput}get finalStep(){return this.steps[this.steps.length-1]}get content(){return this.finalStep.content}get text(){return this.finalStep.text}get files(){return this.finalStep.files}get reasoningText(){return this.finalStep.reasoningText}get reasoning(){return this.finalStep.reasoning}get toolCalls(){return this.finalStep.toolCalls}get staticToolCalls(){return this.finalStep.staticToolCalls}get dynamicToolCalls(){return this.finalStep.dynamicToolCalls}get toolResults(){return this.finalStep.toolResults}get staticToolResults(){return this.finalStep.staticToolResults}get dynamicToolResults(){return this.finalStep.dynamicToolResults}get sources(){return this.finalStep.sources}get finishReason(){return this.finalStep.finishReason}get warnings(){return this.finalStep.warnings}get providerMetadata(){return this.finalStep.providerMetadata}get response(){return this.finalStep.response}get request(){return this.finalStep.request}get usage(){return this.finalStep.usage}get totalUsage(){return this.steps.reduce(((e,t)=>Kf(e,t.usage)),{inputTokens:void 0,outputTokens:void 0,totalTokens:void 0,reasoningTokens:void 0,cachedInputTokens:void 0})}get experimental_output(){if(null==this.resolvedOutput)throw new Xd;return this.resolvedOutput}};function fh(e){const t=e.filter((e=>"tool-call"===e.type));if(0!==t.length)return t.map((e=>({toolCallId:e.toolCallId,toolName:e.toolName,input:e.input})))}function hh(e){let{content:t,toolCalls:n,toolOutputs:r}=e;return[...t.map((e=>{switch(e.type){case"text":case"reasoning":case"source":return e;case"file":return{type:"file",file:new eh(e)};case"tool-call":return n.find((t=>t.toolCallId===e.toolCallId));case"tool-result":{const t=n.find((t=>t.toolCallId===e.toolCallId));if(null==t)throw new Error("Tool call ".concat(e.toolCallId," not found."));return e.isError?{type:"tool-error",toolCallId:e.toolCallId,toolName:e.toolName,input:t.input,error:e.result,providerExecuted:!0,dynamic:t.dynamic}:{type:"tool-result",toolCallId:e.toolCallId,toolName:e.toolName,input:t.input,output:e.result,providerExecuted:!0,dynamic:t.dynamic}}}})),...r]}TransformStream;Wl((()=>Mu(ci([si({type:_i("text-start"),id:wo(),providerMetadata:kf.optional()}),si({type:_i("text-delta"),id:wo(),delta:wo(),providerMetadata:kf.optional()}),si({type:_i("text-end"),id:wo(),providerMetadata:kf.optional()}),si({type:_i("error"),errorText:wo()}),si({type:_i("tool-input-start"),toolCallId:wo(),toolName:wo(),providerExecuted:Ho().optional(),dynamic:Ho().optional()}),si({type:_i("tool-input-delta"),toolCallId:wo(),inputTextDelta:wo()}),si({type:_i("tool-input-available"),toolCallId:wo(),toolName:wo(),input:ei(),providerExecuted:Ho().optional(),providerMetadata:kf.optional(),dynamic:Ho().optional()}),si({type:_i("tool-input-error"),toolCallId:wo(),toolName:wo(),input:ei(),providerExecuted:Ho().optional(),providerMetadata:kf.optional(),dynamic:Ho().optional(),errorText:wo()}),si({type:_i("tool-output-available"),toolCallId:wo(),output:ei(),providerExecuted:Ho().optional(),dynamic:Ho().optional(),preliminary:Ho().optional()}),si({type:_i("tool-output-error"),toolCallId:wo(),errorText:wo(),providerExecuted:Ho().optional(),dynamic:Ho().optional()}),si({type:_i("reasoning-start"),id:wo(),providerMetadata:kf.optional()}),si({type:_i("reasoning-delta"),id:wo(),delta:wo(),providerMetadata:kf.optional()}),si({type:_i("reasoning-end"),id:wo(),providerMetadata:kf.optional()}),si({type:_i("source-url"),sourceId:wo(),url:wo(),title:wo().optional(),providerMetadata:kf.optional()}),si({type:_i("source-document"),sourceId:wo(),mediaType:wo(),title:wo(),filename:wo().optional(),providerMetadata:kf.optional()}),si({type:_i("file"),url:wo(),mediaType:wo(),providerMetadata:kf.optional()}),si({type:zi((e=>"string"===typeof e&&e.startsWith("data-")),{message:'Type must start with "data-"'}),id:wo().optional(),data:ei(),transient:Ho().optional()}),si({type:_i("start-step")}),si({type:_i("finish-step")}),si({type:_i("start"),messageId:wo().optional(),messageMetadata:ei().optional()}),si({type:_i("finish"),messageMetadata:ei().optional()}),si({type:_i("abort")}),si({type:_i("message-metadata"),messageMetadata:ei()})]))));function mh(e){const t=["ROOT"];let n=-1,r=null;function a(e,a,o){switch(e){case'"':n=a,t.pop(),t.push(o),t.push("INSIDE_STRING");break;case"f":case"t":case"n":n=a,r=a,t.pop(),t.push(o),t.push("INSIDE_LITERAL");break;case"-":t.pop(),t.push(o),t.push("INSIDE_NUMBER");break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":n=a,t.pop(),t.push(o),t.push("INSIDE_NUMBER");break;case"{":n=a,t.pop(),t.push(o),t.push("INSIDE_OBJECT_START");break;case"[":n=a,t.pop(),t.push(o),t.push("INSIDE_ARRAY_START")}}function o(e,r){switch(e){case",":t.pop(),t.push("INSIDE_OBJECT_AFTER_COMMA");break;case"}":n=r,t.pop()}}function i(e,r){switch(e){case",":t.pop(),t.push("INSIDE_ARRAY_AFTER_COMMA");break;case"]":n=r,t.pop()}}for(let l=0;l<e.length;l++){const s=e[l];switch(t[t.length-1]){case"ROOT":a(s,l,"FINISH");break;case"INSIDE_OBJECT_START":switch(s){case'"':t.pop(),t.push("INSIDE_OBJECT_KEY");break;case"}":n=l,t.pop()}break;case"INSIDE_OBJECT_AFTER_COMMA":if('"'===s)t.pop(),t.push("INSIDE_OBJECT_KEY");break;case"INSIDE_OBJECT_KEY":if('"'===s)t.pop(),t.push("INSIDE_OBJECT_AFTER_KEY");break;case"INSIDE_OBJECT_AFTER_KEY":if(":"===s)t.pop(),t.push("INSIDE_OBJECT_BEFORE_VALUE");break;case"INSIDE_OBJECT_BEFORE_VALUE":a(s,l,"INSIDE_OBJECT_AFTER_VALUE");break;case"INSIDE_OBJECT_AFTER_VALUE":o(s,l);break;case"INSIDE_STRING":switch(s){case'"':t.pop(),n=l;break;case"\\":t.push("INSIDE_STRING_ESCAPE");break;default:n=l}break;case"INSIDE_ARRAY_START":if("]"===s)n=l,t.pop();else n=l,a(s,l,"INSIDE_ARRAY_AFTER_VALUE");break;case"INSIDE_ARRAY_AFTER_VALUE":switch(s){case",":t.pop(),t.push("INSIDE_ARRAY_AFTER_COMMA");break;case"]":n=l,t.pop();break;default:n=l}break;case"INSIDE_ARRAY_AFTER_COMMA":a(s,l,"INSIDE_ARRAY_AFTER_VALUE");break;case"INSIDE_STRING_ESCAPE":t.pop(),n=l;break;case"INSIDE_NUMBER":switch(s){case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":n=l;break;case"e":case"E":case"-":case".":break;case",":t.pop(),"INSIDE_ARRAY_AFTER_VALUE"===t[t.length-1]&&i(s,l),"INSIDE_OBJECT_AFTER_VALUE"===t[t.length-1]&&o(s,l);break;case"}":t.pop(),"INSIDE_OBJECT_AFTER_VALUE"===t[t.length-1]&&o(s,l);break;case"]":t.pop(),"INSIDE_ARRAY_AFTER_VALUE"===t[t.length-1]&&i(s,l);break;default:t.pop()}break;case"INSIDE_LITERAL":{const a=e.substring(r,l+1);"false".startsWith(a)||"true".startsWith(a)||"null".startsWith(a)?n=l:(t.pop(),"INSIDE_OBJECT_AFTER_VALUE"===t[t.length-1]?o(s,l):"INSIDE_ARRAY_AFTER_VALUE"===t[t.length-1]&&i(s,l));break}}}let s=e.slice(0,n+1);for(let l=t.length-1;l>=0;l--){switch(t[l]){case"INSIDE_STRING":s+='"';break;case"INSIDE_OBJECT_KEY":case"INSIDE_OBJECT_AFTER_KEY":case"INSIDE_OBJECT_AFTER_COMMA":case"INSIDE_OBJECT_START":case"INSIDE_OBJECT_BEFORE_VALUE":case"INSIDE_OBJECT_AFTER_VALUE":s+="}";break;case"INSIDE_ARRAY_START":case"INSIDE_ARRAY_AFTER_COMMA":case"INSIDE_ARRAY_AFTER_VALUE":s+="]";break;case"INSIDE_LITERAL":{const t=e.substring(r,e.length);"true".startsWith(t)?s+="true".slice(t.length):"false".startsWith(t)?s+="false".slice(t.length):"null".startsWith(t)&&(s+="null".slice(t.length))}}}return s}async function gh(e){if(void 0===e)return{value:void 0,state:"undefined-input"};let t=await Kl({text:e});return t.success?{value:t.value,state:"successful-parse"}:(t=await Kl({text:mh(e)}),t.success?{value:t.value,state:"repaired-parse"}:{value:void 0,state:"failed-parse"})}xl({prefix:"aitxt",size:24});xl({prefix:"aiobj",size:24});xl({prefix:"aiobj",size:24});((e,t)=>{for(var n in t)Qd(e,n,{get:t[n],enumerable:!0})})({},{object:()=>yh,text:()=>vh});var vh=()=>({type:"text",responseFormat:{type:"text"},async parsePartial(e){let{text:t}=e;return{partial:t}},async parseOutput(e){let{text:t}=e;return t}}),yh=e=>{let{schema:t}=e;const n=zu(t);return{type:"object",responseFormat:{type:"json",schema:n.jsonSchema},async parsePartial(e){let{text:t}=e;const n=await gh(t);switch(n.state){case"failed-parse":case"undefined-input":return;case"repaired-parse":case"successful-parse":return{partial:n.value};default:{const e=n.state;throw new Error("Unsupported parse state: ".concat(e))}}},async parseOutput(e,t){let{text:r}=e;const a=await Kl({text:r});if(!a.success)throw new Ep({message:"No object generated: could not parse the response.",cause:a.error,text:r,response:t.response,usage:t.usage,finishReason:t.finishReason});const o=await $l({value:a.value,schema:n});if(!o.success)throw new Ep({message:"No object generated: response did not match schema.",cause:o.error,text:r,response:t.response,usage:t.usage,finishReason:t.finishReason});return o.value}}};var _h="AI_NoSuchProviderError",bh="vercel.ai.error.".concat(_h),wh=Symbol.for(bh);var kh=li({name:wo(),version:wo()}),Ah=li({_meta:Ai(ii({}).loose())}),xh=Ah,Eh=ii({method:wo(),params:Ai(Ah)}),Sh=li({experimental:Ai(ii({}).loose()),logging:Ai(ii({}).loose()),prompts:Ai(li({listChanged:Ai(Ho())})),resources:Ai(li({subscribe:Ai(Ho()),listChanged:Ai(Ho())})),tools:Ai(li({listChanged:Ai(Ho())}))}),Ih=(xh.extend({protocolVersion:wo(),capabilities:Sh,serverInfo:kh,instructions:Ai(wo())}),xh.extend({nextCursor:Ai(wo())})),Ch=ii({name:wo(),description:Ai(wo()),inputSchema:ii({type:_i("object"),properties:Ai(ii({}).loose())}).loose()}).loose(),Th=(Ih.extend({tools:ai(Ch)}),ii({type:_i("text"),text:wo()}).loose()),Oh=ii({type:_i("image"),data:Fo(),mimeType:wo()}).loose(),Ph=ii({uri:wo(),mimeType:Ai(wo())}).loose(),Mh=Ph.extend({text:wo()}),Nh=Ph.extend({blob:Fo()}),Rh=ii({type:_i("resource"),resource:ci([Mh,Nh])}).loose(),Dh=(xh.extend({content:ai(ci([Th,Oh,Rh])),isError:Ho().default(!1).optional()}).or(xh.extend({toolResult:ei()})),"2.0"),zh=ii({jsonrpc:_i(Dh),id:ci([wo(),qo().int()])}).merge(Eh).strict(),jh=ii({jsonrpc:_i(Dh),id:ci([wo(),qo().int()]),result:xh}).strict(),Lh=ii({jsonrpc:_i(Dh),id:ci([wo(),qo().int()]),error:ii({code:qo().int(),message:wo(),data:Ai(ei())})}).strict();ci([zh,ii({jsonrpc:_i(Dh)}).merge(ii({method:wo(),params:Ai(Ah)})).strict(),jh,Lh]);Wl((()=>Mu(ai(ii({id:wo(),role:vi(["system","user","assistant"]),metadata:ei().optional(),parts:ai(ci([ii({type:_i("text"),text:wo(),state:vi(["streaming","done"]).optional(),providerMetadata:kf.optional()}),ii({type:_i("reasoning"),text:wo(),state:vi(["streaming","done"]).optional(),providerMetadata:kf.optional()}),ii({type:_i("source-url"),sourceId:wo(),url:wo(),title:wo().optional(),providerMetadata:kf.optional()}),ii({type:_i("source-document"),sourceId:wo(),mediaType:wo(),title:wo(),filename:wo().optional(),providerMetadata:kf.optional()}),ii({type:_i("file"),mediaType:wo(),filename:wo().optional(),url:wo(),providerMetadata:kf.optional()}),ii({type:_i("step-start")}),ii({type:wo().startsWith("data-"),id:wo().optional(),data:ei()}),ii({type:_i("dynamic-tool"),toolName:wo(),toolCallId:wo(),state:_i("input-streaming"),input:ei().optional(),output:ni().optional(),errorText:ni().optional()}),ii({type:_i("dynamic-tool"),toolName:wo(),toolCallId:wo(),state:_i("input-available"),input:ei(),output:ni().optional(),errorText:ni().optional(),callProviderMetadata:kf.optional()}),ii({type:_i("dynamic-tool"),toolName:wo(),toolCallId:wo(),state:_i("output-available"),input:ei(),output:ei(),errorText:ni().optional(),callProviderMetadata:kf.optional(),preliminary:Ho().optional()}),ii({type:_i("dynamic-tool"),toolName:wo(),toolCallId:wo(),state:_i("output-error"),input:ei(),output:ni().optional(),errorText:wo(),callProviderMetadata:kf.optional()}),ii({type:wo().startsWith("tool-"),toolCallId:wo(),state:_i("input-streaming"),providerExecuted:Ho().optional(),input:ei().optional(),output:ni().optional(),errorText:ni().optional(),approval:ni().optional()}),ii({type:wo().startsWith("tool-"),toolCallId:wo(),state:_i("input-available"),providerExecuted:Ho().optional(),input:ei(),output:ni().optional(),errorText:ni().optional(),callProviderMetadata:kf.optional(),approval:ni().optional()}),ii({type:wo().startsWith("tool-"),toolCallId:wo(),state:_i("approval-requested"),input:ei(),providerExecuted:Ho().optional(),output:ni().optional(),errorText:ni().optional(),callProviderMetadata:kf.optional(),approval:ii({id:wo(),approved:ni().optional(),reason:ni().optional()})}),ii({type:wo().startsWith("tool-"),toolCallId:wo(),state:_i("approval-responded"),input:ei(),providerExecuted:Ho().optional(),output:ni().optional(),errorText:ni().optional(),callProviderMetadata:kf.optional(),approval:ii({id:wo(),approved:Ho(),reason:wo().optional()})}),ii({type:wo().startsWith("tool-"),toolCallId:wo(),state:_i("output-available"),providerExecuted:Ho().optional(),input:ei(),output:ei(),errorText:ni().optional(),callProviderMetadata:kf.optional(),preliminary:Ho().optional(),approval:ii({id:wo(),approved:_i(!0),reason:wo().optional()}).optional()}),ii({type:wo().startsWith("tool-"),toolCallId:wo(),state:_i("output-error"),providerExecuted:Ho().optional(),input:ei(),output:ni().optional(),errorText:wo(),callProviderMetadata:kf.optional(),approval:ii({id:wo(),approved:_i(!0),reason:wo().optional()}).optional()}),ii({type:wo().startsWith("tool-"),toolCallId:wo(),state:_i("output-denied"),providerExecuted:Ho().optional(),input:ei(),output:ni().optional(),errorText:ni().optional(),callProviderMetadata:kf.optional(),approval:ii({id:wo(),approved:_i(!1),reason:wo().optional()})})]))})))));var Fh=ii({error:ii({message:wo(),type:wo().nullish(),param:Yo().nullish(),code:ci([wo(),qo()]).nullish()})}),Uh=ru({errorSchema:Fh,errorToMessage:e=>e.error.message});function Bh(e){let{id:t,model:n,created:r}=e;return{id:null!=t?t:void 0,modelId:null!=n?n:void 0,timestamp:null!=r?new Date(1e3*r):void 0}}function Zh(e){switch(e){case"stop":return"stop";case"length":return"length";case"content_filter":return"content-filter";case"function_call":case"tool_calls":return"tool-calls";default:return"unknown"}}var Wh=Wl((()=>Mu(ii({id:wo().nullish(),created:qo().nullish(),model:wo().nullish(),choices:ai(ii({message:ii({role:_i("assistant").nullish(),content:wo().nullish(),tool_calls:ai(ii({id:wo().nullish(),type:_i("function"),function:ii({name:wo(),arguments:wo()})})).nullish(),annotations:ai(ii({type:_i("url_citation"),start_index:qo(),end_index:qo(),url:wo(),title:wo()})).nullish()}),index:qo(),logprobs:ii({content:ai(ii({token:wo(),logprob:qo(),top_logprobs:ai(ii({token:wo(),logprob:qo()}))})).nullish()}).nullish(),finish_reason:wo().nullish()})),usage:ii({prompt_tokens:qo().nullish(),completion_tokens:qo().nullish(),total_tokens:qo().nullish(),prompt_tokens_details:ii({cached_tokens:qo().nullish()}).nullish(),completion_tokens_details:ii({reasoning_tokens:qo().nullish(),accepted_prediction_tokens:qo().nullish(),rejected_prediction_tokens:qo().nullish()}).nullish()}).nullish()})))),qh=Wl((()=>Mu(ci([ii({id:wo().nullish(),created:qo().nullish(),model:wo().nullish(),choices:ai(ii({delta:ii({role:vi(["assistant"]).nullish(),content:wo().nullish(),tool_calls:ai(ii({index:qo(),id:wo().nullish(),type:_i("function").nullish(),function:ii({name:wo().nullish(),arguments:wo().nullish()})})).nullish(),annotations:ai(ii({type:_i("url_citation"),start_index:qo(),end_index:qo(),url:wo(),title:wo()})).nullish()}).nullish(),logprobs:ii({content:ai(ii({token:wo(),logprob:qo(),top_logprobs:ai(ii({token:wo(),logprob:qo()}))})).nullish()}).nullish(),finish_reason:wo().nullish(),index:qo()})),usage:ii({prompt_tokens:qo().nullish(),completion_tokens:qo().nullish(),total_tokens:qo().nullish(),prompt_tokens_details:ii({cached_tokens:qo().nullish()}).nullish(),completion_tokens_details:ii({reasoning_tokens:qo().nullish(),accepted_prediction_tokens:qo().nullish(),rejected_prediction_tokens:qo().nullish()}).nullish()}).nullish()}),Fh])))),Vh=Wl((()=>Mu(ii({logitBias:mi(Fi(),qo()).optional(),logprobs:ci([Ho(),qo()]).optional(),parallelToolCalls:Ho().optional(),user:wo().optional(),reasoningEffort:vi(["minimal","low","medium","high"]).optional(),maxCompletionTokens:qo().optional(),store:Ho().optional(),metadata:mi(wo().max(64),wo().max(512)).optional(),prediction:mi(wo(),Yo()).optional(),structuredOutputs:Ho().optional(),serviceTier:vi(["auto","flex","priority","default"]).optional(),strictJsonSchema:Ho().optional(),textVerbosity:vi(["low","medium","high"]).optional(),promptCacheKey:wo().optional(),safetyIdentifier:wo().optional()}))));var $h=class{constructor(e,t){this.specificationVersion="v2",this.supportedUrls={"image/*":[/^https?:\/\/.*$/]},this.modelId=e,this.config=t}get provider(){return this.config.provider}async getArgs(e){let{prompt:t,maxOutputTokens:n,temperature:r,topP:a,topK:i,frequencyPenalty:s,presencePenalty:l,stopSequences:u,responseFormat:c,seed:d,tools:p,toolChoice:f,providerOptions:h}=e;var m,g,v,y;const _=[],b=null!=(m=await Jl({provider:"openai",providerOptions:h,schema:Vh}))?m:{},w=null==(g=b.structuredOutputs)||g;null!=i&&_.push({type:"unsupported-setting",setting:"topK"}),"json"!==(null==c?void 0:c.type)||null==c.schema||w||_.push({type:"unsupported-setting",setting:"responseFormat",details:"JSON response format schema is only supported with structuredOutputs"});const{messages:k,warnings:A}=function(e){let{prompt:t,systemMessageMode:n="system"}=e;const r=[],a=[];for(const{role:o,content:i}of t)switch(o){case"system":switch(n){case"system":r.push({role:"system",content:i});break;case"developer":r.push({role:"developer",content:i});break;case"remove":a.push({type:"other",message:"system messages are removed for this model"});break;default:throw new Error("Unsupported system message mode: ".concat(n))}break;case"user":if(1===i.length&&"text"===i[0].type){r.push({role:"user",content:i[0].text});break}r.push({role:"user",content:i.map(((e,t)=>{var n,r,a;switch(e.type){case"text":return{type:"text",text:e.text};case"file":if(e.mediaType.startsWith("image/")){const t="image/*"===e.mediaType?"image/jpeg":e.mediaType;return{type:"image_url",image_url:{url:e.data instanceof URL?e.data.toString():"data:".concat(t,";base64,").concat(Bu(e.data)),detail:null==(r=null==(n=e.providerOptions)?void 0:n.openai)?void 0:r.imageDetail}}}if(!e.mediaType.startsWith("audio/")){if("application/pdf"===e.mediaType){if(e.data instanceof URL)throw new Ae({functionality:"PDF file parts with URLs"});return{type:"file",file:"string"===typeof e.data&&e.data.startsWith("file-")?{file_id:e.data}:{filename:null!=(a=e.filename)?a:"part-".concat(t,".pdf"),file_data:"data:application/pdf;base64,".concat(Bu(e.data))}}}throw new Ae({functionality:"file part media type ".concat(e.mediaType)})}if(e.data instanceof URL)throw new Ae({functionality:"audio file parts with URLs"});switch(e.mediaType){case"audio/wav":return{type:"input_audio",input_audio:{data:Bu(e.data),format:"wav"}};case"audio/mp3":case"audio/mpeg":return{type:"input_audio",input_audio:{data:Bu(e.data),format:"mp3"}};default:throw new Ae({functionality:"audio content parts with media type ".concat(e.mediaType)})}}}))});break;case"assistant":{let e="";const t=[];for(const n of i)switch(n.type){case"text":e+=n.text;break;case"tool-call":t.push({id:n.toolCallId,type:"function",function:{name:n.toolName,arguments:JSON.stringify(n.input)}})}r.push({role:"assistant",content:e,tool_calls:t.length>0?t:void 0});break}case"tool":for(const e of i){const t=e.output;let n;switch(t.type){case"text":case"error-text":n=t.value;break;case"content":case"json":case"error-json":n=JSON.stringify(t.value)}r.push({role:"tool",tool_call_id:e.toolCallId,content:n})}break;default:throw new Error("Unsupported role: ".concat(o))}return{messages:r,warnings:a}}({prompt:t,systemMessageMode:Hh(this.modelId)});_.push(...A);const x=null!=(v=b.strictJsonSchema)&&v,E={model:this.modelId,logit_bias:b.logitBias,logprobs:!0===b.logprobs||"number"===typeof b.logprobs||void 0,top_logprobs:"number"===typeof b.logprobs?b.logprobs:"boolean"===typeof b.logprobs&&b.logprobs?0:void 0,user:b.user,parallel_tool_calls:b.parallelToolCalls,max_tokens:n,temperature:r,top_p:a,frequency_penalty:s,presence_penalty:l,response_format:"json"===(null==c?void 0:c.type)?w&&null!=c.schema?{type:"json_schema",json_schema:{schema:c.schema,strict:x,name:null!=(y=c.name)?y:"response",description:c.description}}:{type:"json_object"}:void 0,stop:u,seed:d,verbosity:b.textVerbosity,max_completion_tokens:b.maxCompletionTokens,store:b.store,metadata:b.metadata,prediction:b.prediction,reasoning_effort:b.reasoningEffort,service_tier:b.serviceTier,prompt_cache_key:b.promptCacheKey,safety_identifier:b.safetyIdentifier,messages:k};var S;Kh(this.modelId)?(null!=E.temperature&&(E.temperature=void 0,_.push({type:"unsupported-setting",setting:"temperature",details:"temperature is not supported for reasoning models"})),null!=E.top_p&&(E.top_p=void 0,_.push({type:"unsupported-setting",setting:"topP",details:"topP is not supported for reasoning models"})),null!=E.frequency_penalty&&(E.frequency_penalty=void 0,_.push({type:"unsupported-setting",setting:"frequencyPenalty",details:"frequencyPenalty is not supported for reasoning models"})),null!=E.presence_penalty&&(E.presence_penalty=void 0,_.push({type:"unsupported-setting",setting:"presencePenalty",details:"presencePenalty is not supported for reasoning models"})),null!=E.logit_bias&&(E.logit_bias=void 0,_.push({type:"other",message:"logitBias is not supported for reasoning models"})),null!=E.logprobs&&(E.logprobs=void 0,_.push({type:"other",message:"logprobs is not supported for reasoning models"})),null!=E.top_logprobs&&(E.top_logprobs=void 0,_.push({type:"other",message:"topLogprobs is not supported for reasoning models"})),null!=E.max_tokens&&(null==E.max_completion_tokens&&(E.max_completion_tokens=E.max_tokens),E.max_tokens=void 0)):(this.modelId.startsWith("gpt-4o-search-preview")||this.modelId.startsWith("gpt-4o-mini-search-preview"))&&null!=E.temperature&&(E.temperature=void 0,_.push({type:"unsupported-setting",setting:"temperature",details:"temperature is not supported for the search preview models and has been removed."})),"flex"!==b.serviceTier||((S=this.modelId).startsWith("o3")||S.startsWith("o4-mini")||S.startsWith("gpt-5")&&!S.startsWith("gpt-5-chat"))||(_.push({type:"unsupported-setting",setting:"serviceTier",details:"flex processing is only available for o3, o4-mini, and gpt-5 models"}),E.service_tier=void 0),"priority"!==b.serviceTier||function(e){return e.startsWith("gpt-4")||e.startsWith("gpt-5-mini")||e.startsWith("gpt-5")&&!e.startsWith("gpt-5-nano")&&!e.startsWith("gpt-5-chat")||e.startsWith("o3")||e.startsWith("o4-mini")}(this.modelId)||(_.push({type:"unsupported-setting",setting:"serviceTier",details:"priority processing is only available for supported models (gpt-4, gpt-5, gpt-5-mini, o3, o4-mini) and requires Enterprise access. gpt-5-nano is not supported"}),E.service_tier=void 0);const{tools:I,toolChoice:C,toolWarnings:T}=function(e){let{tools:t,toolChoice:n,structuredOutputs:r,strictJsonSchema:a}=e;t=(null==t?void 0:t.length)?t:void 0;const o=[];if(null==t)return{tools:void 0,toolChoice:void 0,toolWarnings:o};const i=[];for(const l of t)"function"===l.type?i.push({type:"function",function:{name:l.name,description:l.description,parameters:l.inputSchema,strict:r?a:void 0}}):o.push({type:"unsupported-tool",tool:l});if(null==n)return{tools:i,toolChoice:void 0,toolWarnings:o};const s=n.type;switch(s){case"auto":case"none":case"required":return{tools:i,toolChoice:s,toolWarnings:o};case"tool":return{tools:i,toolChoice:{type:"function",function:{name:n.toolName}},toolWarnings:o};default:throw new Ae({functionality:"tool choice type: ".concat(s)})}}({tools:p,toolChoice:f,structuredOutputs:w,strictJsonSchema:x});return{args:(0,o.A)((0,o.A)({},E),{},{tools:I,tool_choice:C}),warnings:[..._,...T]}}async doGenerate(e){var t,n,r,a,i,s,l,u,c,d,p,f,h,m;const{args:g,warnings:v}=await this.getArgs(e),{responseHeaders:y,value:_,rawValue:b}=await Yl({url:this.config.url({path:"/chat/completions",modelId:this.modelId}),headers:wl(this.config.headers(),e.headers),body:g,failedResponseHandler:Uh,successfulResponseHandler:ou(Wh),abortSignal:e.abortSignal,fetch:this.config.fetch}),w=_.choices[0],k=[],A=w.message.content;null!=A&&A.length>0&&k.push({type:"text",text:A});for(const o of null!=(t=w.message.tool_calls)?t:[])k.push({type:"tool-call",toolCallId:null!=(n=o.id)?n:El(),toolName:o.function.name,input:o.function.arguments});for(const o of null!=(r=w.message.annotations)?r:[])k.push({type:"source",sourceType:"url",id:El(),url:o.url,title:o.title});const x=null==(a=_.usage)?void 0:a.completion_tokens_details,E=null==(i=_.usage)?void 0:i.prompt_tokens_details,S={openai:{}};return null!=(null==x?void 0:x.accepted_prediction_tokens)&&(S.openai.acceptedPredictionTokens=null==x?void 0:x.accepted_prediction_tokens),null!=(null==x?void 0:x.rejected_prediction_tokens)&&(S.openai.rejectedPredictionTokens=null==x?void 0:x.rejected_prediction_tokens),null!=(null==(s=w.logprobs)?void 0:s.content)&&(S.openai.logprobs=w.logprobs.content),{content:k,finishReason:Zh(w.finish_reason),usage:{inputTokens:null!=(u=null==(l=_.usage)?void 0:l.prompt_tokens)?u:void 0,outputTokens:null!=(d=null==(c=_.usage)?void 0:c.completion_tokens)?d:void 0,totalTokens:null!=(f=null==(p=_.usage)?void 0:p.total_tokens)?f:void 0,reasoningTokens:null!=(h=null==x?void 0:x.reasoning_tokens)?h:void 0,cachedInputTokens:null!=(m=null==E?void 0:E.cached_tokens)?m:void 0},request:{body:g},response:(0,o.A)((0,o.A)({},Bh(_)),{},{headers:y,body:b}),warnings:v,providerMetadata:S}}async doStream(e){const{args:t,warnings:n}=await this.getArgs(e),r=(0,o.A)((0,o.A)({},t),{},{stream:!0,stream_options:{include_usage:!0}}),{responseHeaders:a,value:i}=await Yl({url:this.config.url({path:"/chat/completions",modelId:this.modelId}),headers:wl(this.config.headers(),e.headers),body:r,failedResponseHandler:Uh,successfulResponseHandler:au(qh),abortSignal:e.abortSignal,fetch:this.config.fetch}),s=[];let l="unknown";const u={inputTokens:void 0,outputTokens:void 0,totalTokens:void 0};let c=!0,d=!1;const p={openai:{}};return{stream:i.pipeThrough(new TransformStream({start(e){e.enqueue({type:"stream-start",warnings:n})},transform(t,n){var r,a,i,f,h,m,g,v,y,_,b,w,k,A,x,E,S,I,C,T,O,P,M,N;if(e.includeRawChunks&&n.enqueue({type:"raw",rawValue:t.rawValue}),!t.success)return l="error",void n.enqueue({type:"error",error:t.error});const R=t.value;if("error"in R)return l="error",void n.enqueue({type:"error",error:R.error});c&&(c=!1,n.enqueue((0,o.A)({type:"response-metadata"},Bh(R)))),null!=R.usage&&(u.inputTokens=null!=(r=R.usage.prompt_tokens)?r:void 0,u.outputTokens=null!=(a=R.usage.completion_tokens)?a:void 0,u.totalTokens=null!=(i=R.usage.total_tokens)?i:void 0,u.reasoningTokens=null!=(h=null==(f=R.usage.completion_tokens_details)?void 0:f.reasoning_tokens)?h:void 0,u.cachedInputTokens=null!=(g=null==(m=R.usage.prompt_tokens_details)?void 0:m.cached_tokens)?g:void 0,null!=(null==(v=R.usage.completion_tokens_details)?void 0:v.accepted_prediction_tokens)&&(p.openai.acceptedPredictionTokens=null==(y=R.usage.completion_tokens_details)?void 0:y.accepted_prediction_tokens),null!=(null==(_=R.usage.completion_tokens_details)?void 0:_.rejected_prediction_tokens)&&(p.openai.rejectedPredictionTokens=null==(b=R.usage.completion_tokens_details)?void 0:b.rejected_prediction_tokens));const D=R.choices[0];if(null!=(null==D?void 0:D.finish_reason)&&(l=Zh(D.finish_reason)),null!=(null==(w=null==D?void 0:D.logprobs)?void 0:w.content)&&(p.openai.logprobs=D.logprobs.content),null==(null==D?void 0:D.delta))return;const z=D.delta;if(null!=z.content&&(d||(n.enqueue({type:"text-start",id:"0"}),d=!0),n.enqueue({type:"text-delta",id:"0",delta:z.content})),null!=z.tool_calls)for(const e of z.tool_calls){const t=e.index;if(null==s[t]){if("function"!==e.type)throw new B({data:e,message:"Expected 'function' type."});if(null==e.id)throw new B({data:e,message:"Expected 'id' to be a string."});if(null==(null==(k=e.function)?void 0:k.name))throw new B({data:e,message:"Expected 'function.name' to be a string."});n.enqueue({type:"tool-input-start",id:e.id,toolName:e.function.name}),s[t]={id:e.id,type:"function",function:{name:e.function.name,arguments:null!=(A=e.function.arguments)?A:""},hasFinished:!1};const r=s[t];null!=(null==(x=r.function)?void 0:x.name)&&null!=(null==(E=r.function)?void 0:E.arguments)&&(r.function.arguments.length>0&&n.enqueue({type:"tool-input-delta",id:r.id,delta:r.function.arguments}),Hl(r.function.arguments)&&(n.enqueue({type:"tool-input-end",id:r.id}),n.enqueue({type:"tool-call",toolCallId:null!=(S=r.id)?S:El(),toolName:r.function.name,input:r.function.arguments}),r.hasFinished=!0));continue}const r=s[t];r.hasFinished||(null!=(null==(I=e.function)?void 0:I.arguments)&&(r.function.arguments+=null!=(T=null==(C=e.function)?void 0:C.arguments)?T:""),n.enqueue({type:"tool-input-delta",id:r.id,delta:null!=(O=e.function.arguments)?O:""}),null!=(null==(P=r.function)?void 0:P.name)&&null!=(null==(M=r.function)?void 0:M.arguments)&&Hl(r.function.arguments)&&(n.enqueue({type:"tool-input-end",id:r.id}),n.enqueue({type:"tool-call",toolCallId:null!=(N=r.id)?N:El(),toolName:r.function.name,input:r.function.arguments}),r.hasFinished=!0))}if(null!=z.annotations)for(const e of z.annotations)n.enqueue({type:"source",sourceType:"url",id:El(),url:e.url,title:e.title})},flush(e){d&&e.enqueue({type:"text-end",id:"0"}),e.enqueue((0,o.A)({type:"finish",finishReason:l,usage:u},null!=p?{providerMetadata:p}:{}))}})),request:{body:r},response:{headers:a}}}};function Kh(e){return(e.startsWith("o")||e.startsWith("gpt-5"))&&!e.startsWith("gpt-5-chat")}function Hh(e){var t,n;return Kh(e)?null!=(n=null==(t=Qh[e])?void 0:t.systemMessageMode)?n:"developer":"system"}var Qh={"o1-mini":{systemMessageMode:"remove"},"o1-mini-2024-09-12":{systemMessageMode:"remove"},"o1-preview":{systemMessageMode:"remove"},"o1-preview-2024-09-12":{systemMessageMode:"remove"},o3:{systemMessageMode:"developer"},"o3-2025-04-16":{systemMessageMode:"developer"},"o3-mini":{systemMessageMode:"developer"},"o3-mini-2025-01-31":{systemMessageMode:"developer"},"o4-mini":{systemMessageMode:"developer"},"o4-mini-2025-04-16":{systemMessageMode:"developer"}};function Jh(e){let{id:t,model:n,created:r}=e;return{id:null!=t?t:void 0,modelId:null!=n?n:void 0,timestamp:null!=r?new Date(1e3*r):void 0}}function Gh(e){switch(e){case"stop":return"stop";case"length":return"length";case"content_filter":return"content-filter";case"function_call":case"tool_calls":return"tool-calls";default:return"unknown"}}var Yh=Wl((()=>Mu(ii({id:wo().nullish(),created:qo().nullish(),model:wo().nullish(),choices:ai(ii({text:wo(),finish_reason:wo(),logprobs:ii({tokens:ai(wo()),token_logprobs:ai(qo()),top_logprobs:ai(mi(wo(),qo())).nullish()}).nullish()})),usage:ii({prompt_tokens:qo(),completion_tokens:qo(),total_tokens:qo()}).nullish()})))),Xh=Wl((()=>Mu(ci([ii({id:wo().nullish(),created:qo().nullish(),model:wo().nullish(),choices:ai(ii({text:wo(),finish_reason:wo().nullish(),index:qo(),logprobs:ii({tokens:ai(wo()),token_logprobs:ai(qo()),top_logprobs:ai(mi(wo(),qo())).nullish()}).nullish()})),usage:ii({prompt_tokens:qo(),completion_tokens:qo(),total_tokens:qo()}).nullish()}),Fh])))),em=Wl((()=>Mu(ii({echo:Ho().optional(),logitBias:mi(wo(),qo()).optional(),suffix:wo().optional(),user:wo().optional(),logprobs:ci([Ho(),qo()]).optional()})))),tm=class{constructor(e,t){this.specificationVersion="v2",this.supportedUrls={},this.modelId=e,this.config=t}get providerOptionsName(){return this.config.provider.split(".")[0].trim()}get provider(){return this.config.provider}async getArgs(e){let{prompt:t,maxOutputTokens:n,temperature:r,topP:a,topK:i,frequencyPenalty:s,presencePenalty:l,stopSequences:u,responseFormat:c,tools:d,toolChoice:p,seed:f,providerOptions:h}=e;const m=[],g=(0,o.A)((0,o.A)({},await Jl({provider:"openai",providerOptions:h,schema:em})),await Jl({provider:this.providerOptionsName,providerOptions:h,schema:em}));null!=i&&m.push({type:"unsupported-setting",setting:"topK"}),(null==d?void 0:d.length)&&m.push({type:"unsupported-setting",setting:"tools"}),null!=p&&m.push({type:"unsupported-setting",setting:"toolChoice"}),null!=c&&"text"!==c.type&&m.push({type:"unsupported-setting",setting:"responseFormat",details:"JSON response format is not supported."});const{prompt:v,stopSequences:y}=function(e){let{prompt:t,user:n="user",assistant:r="assistant"}=e,a="";"system"===t[0].role&&(a+="".concat(t[0].content,"\n\n"),t=t.slice(1));for(const{role:o,content:i}of t)switch(o){case"system":throw new z({message:"Unexpected system message in prompt: ${content}",prompt:t});case"user":{const e=i.map((e=>{if("text"===e.type)return e.text})).filter(Boolean).join("");a+="".concat(n,":\n").concat(e,"\n\n");break}case"assistant":{const e=i.map((e=>{switch(e.type){case"text":return e.text;case"tool-call":throw new Ae({functionality:"tool-call messages"})}})).join("");a+="".concat(r,":\n").concat(e,"\n\n");break}case"tool":throw new Ae({functionality:"tool messages"});default:throw new Error("Unsupported role: ".concat(o))}return a+="".concat(r,":\n"),{prompt:a,stopSequences:["\n".concat(n,":")]}}({prompt:t}),_=[...null!=y?y:[],...null!=u?u:[]];return{args:{model:this.modelId,echo:g.echo,logit_bias:g.logitBias,logprobs:!0===(null==g?void 0:g.logprobs)?0:!1===(null==g?void 0:g.logprobs)||null==g?void 0:g.logprobs,suffix:g.suffix,user:g.user,max_tokens:n,temperature:r,top_p:a,frequency_penalty:s,presence_penalty:l,seed:f,prompt:v,stop:_.length>0?_:void 0},warnings:m}}async doGenerate(e){var t,n,r;const{args:a,warnings:i}=await this.getArgs(e),{responseHeaders:s,value:l,rawValue:u}=await Yl({url:this.config.url({path:"/completions",modelId:this.modelId}),headers:wl(this.config.headers(),e.headers),body:a,failedResponseHandler:Uh,successfulResponseHandler:ou(Yh),abortSignal:e.abortSignal,fetch:this.config.fetch}),c=l.choices[0],d={openai:{}};return null!=c.logprobs&&(d.openai.logprobs=c.logprobs),{content:[{type:"text",text:c.text}],usage:{inputTokens:null==(t=l.usage)?void 0:t.prompt_tokens,outputTokens:null==(n=l.usage)?void 0:n.completion_tokens,totalTokens:null==(r=l.usage)?void 0:r.total_tokens},finishReason:Gh(c.finish_reason),request:{body:a},response:(0,o.A)((0,o.A)({},Jh(l)),{},{headers:s,body:u}),providerMetadata:d,warnings:i}}async doStream(e){const{args:t,warnings:n}=await this.getArgs(e),r=(0,o.A)((0,o.A)({},t),{},{stream:!0,stream_options:{include_usage:!0}}),{responseHeaders:a,value:i}=await Yl({url:this.config.url({path:"/completions",modelId:this.modelId}),headers:wl(this.config.headers(),e.headers),body:r,failedResponseHandler:Uh,successfulResponseHandler:au(Xh),abortSignal:e.abortSignal,fetch:this.config.fetch});let s="unknown";const l={openai:{}},u={inputTokens:void 0,outputTokens:void 0,totalTokens:void 0};let c=!0;return{stream:i.pipeThrough(new TransformStream({start(e){e.enqueue({type:"stream-start",warnings:n})},transform(t,n){if(e.includeRawChunks&&n.enqueue({type:"raw",rawValue:t.rawValue}),!t.success)return s="error",void n.enqueue({type:"error",error:t.error});const r=t.value;if("error"in r)return s="error",void n.enqueue({type:"error",error:r.error});c&&(c=!1,n.enqueue((0,o.A)({type:"response-metadata"},Jh(r))),n.enqueue({type:"text-start",id:"0"})),null!=r.usage&&(u.inputTokens=r.usage.prompt_tokens,u.outputTokens=r.usage.completion_tokens,u.totalTokens=r.usage.total_tokens);const a=r.choices[0];null!=(null==a?void 0:a.finish_reason)&&(s=Gh(a.finish_reason)),null!=(null==a?void 0:a.logprobs)&&(l.openai.logprobs=a.logprobs),null!=(null==a?void 0:a.text)&&a.text.length>0&&n.enqueue({type:"text-delta",id:"0",delta:a.text})},flush(e){c||e.enqueue({type:"text-end",id:"0"}),e.enqueue({type:"finish",finishReason:s,providerMetadata:l,usage:u})}})),request:{body:r},response:{headers:a}}}},nm=Wl((()=>Mu(ii({dimensions:qo().optional(),user:wo().optional()})))),rm=Wl((()=>Mu(ii({data:ai(ii({embedding:ai(qo())})),usage:ii({prompt_tokens:qo()}).nullish()})))),am=class{constructor(e,t){this.specificationVersion="v2",this.maxEmbeddingsPerCall=2048,this.supportsParallelCalls=!0,this.modelId=e,this.config=t}get provider(){return this.config.provider}async doEmbed(e){let{values:t,headers:n,abortSignal:r,providerOptions:a}=e;var o;if(t.length>this.maxEmbeddingsPerCall)throw new fe({provider:this.provider,modelId:this.modelId,maxEmbeddingsPerCall:this.maxEmbeddingsPerCall,values:t});const i=null!=(o=await Jl({provider:"openai",providerOptions:a,schema:nm}))?o:{},{responseHeaders:s,value:l,rawValue:u}=await Yl({url:this.config.url({path:"/embeddings",modelId:this.modelId}),headers:wl(this.config.headers(),n),body:{model:this.modelId,input:t,encoding_format:"float",dimensions:i.dimensions,user:i.user},failedResponseHandler:Uh,successfulResponseHandler:ou(rm),abortSignal:r,fetch:this.config.fetch});return{embeddings:l.data.map((e=>e.embedding)),usage:l.usage?{tokens:l.usage.prompt_tokens}:void 0,response:{headers:s,body:u}}}},om=Wl((()=>Mu(ii({data:ai(ii({b64_json:wo(),revised_prompt:wo().optional()}))})))),im={"dall-e-3":1,"dall-e-2":10,"gpt-image-1":10,"gpt-image-1-mini":10},sm=new Set(["gpt-image-1","gpt-image-1-mini"]),lm=class{constructor(e,t){this.modelId=e,this.config=t,this.specificationVersion="v2"}get maxImagesPerCall(){var e;return null!=(e=im[this.modelId])?e:1}get provider(){return this.config.provider}async doGenerate(e){let{prompt:t,n:n,size:r,aspectRatio:a,seed:i,providerOptions:s,headers:l,abortSignal:u}=e;var c,d,p,f;const h=[];null!=a&&h.push({type:"unsupported-setting",setting:"aspectRatio",details:"This model does not support aspect ratio. Use `size` instead."}),null!=i&&h.push({type:"unsupported-setting",setting:"seed"});const m=null!=(p=null==(d=null==(c=this.config._internal)?void 0:c.currentDate)?void 0:d.call(c))?p:new Date,{value:g,responseHeaders:v}=await Yl({url:this.config.url({path:"/images/generations",modelId:this.modelId}),headers:wl(this.config.headers(),l),body:(0,o.A)((0,o.A)({model:this.modelId,prompt:t,n:n,size:r},null!=(f=s.openai)?f:{}),sm.has(this.modelId)?{}:{response_format:"b64_json"}),failedResponseHandler:Uh,successfulResponseHandler:ou(om),abortSignal:u,fetch:this.config.fetch});return{images:g.data.map((e=>e.b64_json)),warnings:h,response:{timestamp:m,modelId:this.modelId,headers:v},providerMetadata:{openai:{images:g.data.map((e=>e.revised_prompt?{revisedPrompt:e.revised_prompt}:null))}}}}},um=Ru((()=>Mu(ii({code:wo().nullish(),containerId:wo()})))),cm=Ru((()=>Mu(ii({outputs:ai(pi("type",[ii({type:_i("logs"),logs:wo()}),ii({type:_i("image"),url:wo()})])).nullish()})))),dm=Ru((()=>Mu(ii({container:ci([wo(),ii({fileIds:ai(wo()).optional()})]).optional()})))),pm=tu({id:"openai.code_interpreter",name:"code_interpreter",inputSchema:um,outputSchema:cm}),fm=ii({key:wo(),type:vi(["eq","ne","gt","gte","lt","lte"]),value:ci([wo(),qo(),Ho()])}),hm=ii({type:vi(["and","or"]),filters:ai(ci([fm,Ri((()=>hm))]))}),mm=Ru((()=>Mu(ii({vectorStoreIds:ai(wo()),maxNumResults:qo().optional(),ranking:ii({ranker:wo().optional(),scoreThreshold:qo().optional()}).optional(),filters:ci([fm,hm]).optional()})))),gm=Ru((()=>Mu(ii({queries:ai(wo()),results:ai(ii({attributes:mi(wo(),ei()),fileId:wo(),filename:wo(),score:qo(),text:wo()})).nullable()})))),vm=tu({id:"openai.file_search",name:"file_search",inputSchema:ii({}),outputSchema:gm}),ym=Ru((()=>Mu(ii({background:vi(["auto","opaque","transparent"]).optional(),inputFidelity:vi(["low","high"]).optional(),inputImageMask:ii({fileId:wo().optional(),imageUrl:wo().optional()}).optional(),model:wo().optional(),moderation:vi(["auto"]).optional(),outputCompression:qo().int().min(0).max(100).optional(),outputFormat:vi(["png","jpeg","webp"]).optional(),partialImages:qo().int().min(0).max(3).optional(),quality:vi(["auto","low","medium","high"]).optional(),size:vi(["1024x1024","1024x1536","1536x1024","auto"]).optional()}).strict()))),_m=tu({id:"openai.image_generation",name:"image_generation",inputSchema:Ru((()=>Mu(ii({})))),outputSchema:Ru((()=>Mu(ii({result:wo()}))))}),bm=Ru((()=>Mu(ii({action:ii({type:_i("exec"),command:ai(wo()),timeoutMs:qo().optional(),user:wo().optional(),workingDirectory:wo().optional(),env:mi(wo(),wo()).optional()})})))),wm=Ru((()=>Mu(ii({output:wo()})))),km=tu({id:"openai.local_shell",name:"local_shell",inputSchema:bm,outputSchema:wm}),Am=Ru((()=>Mu(ii({filters:ii({allowedDomains:ai(wo()).optional()}).optional(),searchContextSize:vi(["low","medium","high"]).optional(),userLocation:ii({type:_i("approximate"),country:wo().optional(),city:wo().optional(),region:wo().optional(),timezone:wo().optional()}).optional()})))),xm=eu({id:"openai.web_search",name:"web_search",inputSchema:Ru((()=>Mu(ii({action:pi("type",[ii({type:_i("search"),query:wo().nullish()}),ii({type:_i("open_page"),url:wo()}),ii({type:_i("find"),url:wo(),pattern:wo()})]).nullish()}))))}),Em=Ru((()=>Mu(ii({searchContextSize:vi(["low","medium","high"]).optional(),userLocation:ii({type:_i("approximate"),country:wo().optional(),city:wo().optional(),region:wo().optional(),timezone:wo().optional()}).optional()})))),Sm={codeInterpreter:function(){return pm(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})},fileSearch:vm,imageGeneration:function(){return _m(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})},localShell:km,webSearchPreview:eu({id:"openai.web_search_preview",name:"web_search_preview",inputSchema:Ru((()=>Mu(ii({action:pi("type",[ii({type:_i("search"),query:wo().nullish()}),ii({type:_i("open_page"),url:wo()}),ii({type:_i("find"),url:wo(),pattern:wo()})]).nullish()}))))}),webSearch:function(){return xm(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})}};function Im(e,t){return!!t&&t.some((t=>e.startsWith(t)))}var Cm=ii({itemId:wo().nullish(),reasoningEncryptedContent:wo().nullish()});function Tm(e){let{finishReason:t,hasFunctionCall:n}=e;switch(t){case void 0:case null:return n?"tool-calls":"stop";case"max_output_tokens":return"length";case"content_filter":return"content-filter";default:return n?"tool-calls":"unknown"}}var Om=Wl((()=>Mu(ci([ii({type:_i("response.output_text.delta"),item_id:wo(),delta:wo(),logprobs:ai(ii({token:wo(),logprob:qo(),top_logprobs:ai(ii({token:wo(),logprob:qo()}))})).nullish()}),ii({type:vi(["response.completed","response.incomplete"]),response:ii({incomplete_details:ii({reason:wo()}).nullish(),usage:ii({input_tokens:qo(),input_tokens_details:ii({cached_tokens:qo().nullish()}).nullish(),output_tokens:qo(),output_tokens_details:ii({reasoning_tokens:qo().nullish()}).nullish()}),service_tier:wo().nullish()})}),ii({type:_i("response.created"),response:ii({id:wo(),created_at:qo(),model:wo(),service_tier:wo().nullish()})}),ii({type:_i("response.output_item.added"),output_index:qo(),item:pi("type",[ii({type:_i("message"),id:wo()}),ii({type:_i("reasoning"),id:wo(),encrypted_content:wo().nullish()}),ii({type:_i("function_call"),id:wo(),call_id:wo(),name:wo(),arguments:wo()}),ii({type:_i("web_search_call"),id:wo(),status:wo(),action:ii({type:_i("search"),query:wo().optional()}).nullish()}),ii({type:_i("computer_call"),id:wo(),status:wo()}),ii({type:_i("file_search_call"),id:wo()}),ii({type:_i("image_generation_call"),id:wo()}),ii({type:_i("code_interpreter_call"),id:wo(),container_id:wo(),code:wo().nullable(),outputs:ai(pi("type",[ii({type:_i("logs"),logs:wo()}),ii({type:_i("image"),url:wo()})])).nullable(),status:wo()})])}),ii({type:_i("response.output_item.done"),output_index:qo(),item:pi("type",[ii({type:_i("message"),id:wo()}),ii({type:_i("reasoning"),id:wo(),encrypted_content:wo().nullish()}),ii({type:_i("function_call"),id:wo(),call_id:wo(),name:wo(),arguments:wo(),status:_i("completed")}),ii({type:_i("code_interpreter_call"),id:wo(),code:wo().nullable(),container_id:wo(),outputs:ai(pi("type",[ii({type:_i("logs"),logs:wo()}),ii({type:_i("image"),url:wo()})])).nullable()}),ii({type:_i("image_generation_call"),id:wo(),result:wo()}),ii({type:_i("web_search_call"),id:wo(),status:wo(),action:pi("type",[ii({type:_i("search"),query:wo().nullish()}),ii({type:_i("open_page"),url:wo()}),ii({type:_i("find"),url:wo(),pattern:wo()})]).nullish()}),ii({type:_i("file_search_call"),id:wo(),queries:ai(wo()),results:ai(ii({attributes:mi(wo(),ei()),file_id:wo(),filename:wo(),score:qo(),text:wo()})).nullish()}),ii({type:_i("local_shell_call"),id:wo(),call_id:wo(),action:ii({type:_i("exec"),command:ai(wo()),timeout_ms:qo().optional(),user:wo().optional(),working_directory:wo().optional(),env:mi(wo(),wo()).optional()})}),ii({type:_i("computer_call"),id:wo(),status:_i("completed")})])}),ii({type:_i("response.function_call_arguments.delta"),item_id:wo(),output_index:qo(),delta:wo()}),ii({type:_i("response.image_generation_call.partial_image"),item_id:wo(),output_index:qo(),partial_image_b64:wo()}),ii({type:_i("response.code_interpreter_call_code.delta"),item_id:wo(),output_index:qo(),delta:wo()}),ii({type:_i("response.code_interpreter_call_code.done"),item_id:wo(),output_index:qo(),code:wo()}),ii({type:_i("response.output_text.annotation.added"),annotation:pi("type",[ii({type:_i("url_citation"),url:wo(),title:wo()}),ii({type:_i("file_citation"),file_id:wo(),filename:wo().nullish(),index:qo().nullish(),start_index:qo().nullish(),end_index:qo().nullish(),quote:wo().nullish()})])}),ii({type:_i("response.reasoning_summary_part.added"),item_id:wo(),summary_index:qo()}),ii({type:_i("response.reasoning_summary_text.delta"),item_id:wo(),summary_index:qo(),delta:wo()}),ii({type:_i("error"),code:wo(),message:wo(),param:wo().nullish(),sequence_number:qo()}),ii({type:wo()}).loose().transform((e=>({type:"unknown_chunk",message:e.type})))])))),Pm=Wl((()=>Mu(ii({id:wo(),created_at:qo(),error:ii({code:wo(),message:wo()}).nullish(),model:wo(),output:ai(pi("type",[ii({type:_i("message"),role:_i("assistant"),id:wo(),content:ai(ii({type:_i("output_text"),text:wo(),logprobs:ai(ii({token:wo(),logprob:qo(),top_logprobs:ai(ii({token:wo(),logprob:qo()}))})).nullish(),annotations:ai(pi("type",[ii({type:_i("url_citation"),start_index:qo(),end_index:qo(),url:wo(),title:wo()}),ii({type:_i("file_citation"),file_id:wo(),filename:wo().nullish(),index:qo().nullish(),start_index:qo().nullish(),end_index:qo().nullish(),quote:wo().nullish()}),ii({type:_i("container_file_citation")})]))}))}),ii({type:_i("web_search_call"),id:wo(),status:wo(),action:pi("type",[ii({type:_i("search"),query:wo().nullish()}),ii({type:_i("open_page"),url:wo()}),ii({type:_i("find"),url:wo(),pattern:wo()})]).nullish()}),ii({type:_i("file_search_call"),id:wo(),queries:ai(wo()),results:ai(ii({attributes:mi(wo(),ei()),file_id:wo(),filename:wo(),score:qo(),text:wo()})).nullish()}),ii({type:_i("code_interpreter_call"),id:wo(),code:wo().nullable(),container_id:wo(),outputs:ai(pi("type",[ii({type:_i("logs"),logs:wo()}),ii({type:_i("image"),url:wo()})])).nullable()}),ii({type:_i("image_generation_call"),id:wo(),result:wo()}),ii({type:_i("local_shell_call"),id:wo(),call_id:wo(),action:ii({type:_i("exec"),command:ai(wo()),timeout_ms:qo().optional(),user:wo().optional(),working_directory:wo().optional(),env:mi(wo(),wo()).optional()})}),ii({type:_i("function_call"),call_id:wo(),name:wo(),arguments:wo(),id:wo()}),ii({type:_i("computer_call"),id:wo(),status:wo().optional()}),ii({type:_i("reasoning"),id:wo(),encrypted_content:wo().nullish(),summary:ai(ii({type:_i("summary_text"),text:wo()}))})])),service_tier:wo().nullish(),incomplete_details:ii({reason:wo()}).nullish(),usage:ii({input_tokens:qo(),input_tokens_details:ii({cached_tokens:qo().nullish()}).nullish(),output_tokens:qo(),output_tokens_details:ii({reasoning_tokens:qo().nullish()}).nullish()})})))),Mm=Wl((()=>Mu(ii({include:ai(vi(["reasoning.encrypted_content","file_search_call.results","message.output_text.logprobs"])).nullish(),instructions:wo().nullish(),logprobs:ci([Ho(),qo().min(1).max(20)]).optional(),maxToolCalls:qo().nullish(),metadata:Yo().nullish(),parallelToolCalls:Ho().nullish(),previousResponseId:wo().nullish(),promptCacheKey:wo().nullish(),reasoningEffort:wo().nullish(),reasoningSummary:wo().nullish(),safetyIdentifier:wo().nullish(),serviceTier:vi(["auto","flex","priority","default"]).nullish(),store:Ho().nullish(),strictJsonSchema:Ho().nullish(),textVerbosity:vi(["low","medium","high"]).nullish(),user:wo().nullish()}))));var Nm=class{constructor(e,t){this.specificationVersion="v2",this.supportedUrls={"image/*":[/^https?:\/\/.*$/],"application/pdf":[/^https?:\/\/.*$/]},this.modelId=e,this.config=t}get provider(){return this.config.provider}async getArgs(e){let{maxOutputTokens:t,temperature:n,stopSequences:r,topP:a,topK:i,presencePenalty:s,frequencyPenalty:l,seed:u,prompt:c,providerOptions:d,tools:p,toolChoice:f,responseFormat:h}=e;var m,g,v,y;const _=[],b=function(e){const t=e.startsWith("o3")||e.startsWith("o4-mini")||e.startsWith("gpt-5")&&!e.startsWith("gpt-5-chat"),n=e.startsWith("gpt-4")||e.startsWith("gpt-5-mini")||e.startsWith("gpt-5")&&!e.startsWith("gpt-5-nano")&&!e.startsWith("gpt-5-chat")||e.startsWith("o3")||e.startsWith("o4-mini"),r={requiredAutoTruncation:!1,systemMessageMode:"system",supportsFlexProcessing:t,supportsPriorityProcessing:n};if(e.startsWith("gpt-5-chat"))return(0,o.A)((0,o.A)({},r),{},{isReasoningModel:!1});if(e.startsWith("o")||e.startsWith("gpt-5")||e.startsWith("codex-")||e.startsWith("computer-use"))return e.startsWith("o1-mini")||e.startsWith("o1-preview")?(0,o.A)((0,o.A)({},r),{},{isReasoningModel:!0,systemMessageMode:"remove"}):(0,o.A)((0,o.A)({},r),{},{isReasoningModel:!0,systemMessageMode:"developer"});return(0,o.A)((0,o.A)({},r),{},{isReasoningModel:!1})}(this.modelId);null!=i&&_.push({type:"unsupported-setting",setting:"topK"}),null!=u&&_.push({type:"unsupported-setting",setting:"seed"}),null!=s&&_.push({type:"unsupported-setting",setting:"presencePenalty"}),null!=l&&_.push({type:"unsupported-setting",setting:"frequencyPenalty"}),null!=r&&_.push({type:"unsupported-setting",setting:"stopSequences"});const w=await Jl({provider:"openai",providerOptions:d,schema:Mm}),{input:k,warnings:A}=await async function(e){let{prompt:t,systemMessageMode:n,fileIdPrefixes:r,store:a,hasLocalShellTool:i=!1}=e;var s,l,u,c,d,p,f,h,m;const g=[],v=[];for(const{role:y,content:_}of t)switch(y){case"system":switch(n){case"system":g.push({role:"system",content:_});break;case"developer":g.push({role:"developer",content:_});break;case"remove":v.push({type:"other",message:"system messages are removed for this model"});break;default:throw new Error("Unsupported system message mode: ".concat(n))}break;case"user":g.push({role:"user",content:_.map(((e,t)=>{var n,a,i;switch(e.type){case"text":return{type:"input_text",text:e.text};case"file":if(e.mediaType.startsWith("image/")){const t="image/*"===e.mediaType?"image/jpeg":e.mediaType;return(0,o.A)((0,o.A)({type:"input_image"},e.data instanceof URL?{image_url:e.data.toString()}:"string"===typeof e.data&&Im(e.data,r)?{file_id:e.data}:{image_url:"data:".concat(t,";base64,").concat(Bu(e.data))}),{},{detail:null==(a=null==(n=e.providerOptions)?void 0:n.openai)?void 0:a.imageDetail})}if("application/pdf"===e.mediaType)return e.data instanceof URL?{type:"input_file",file_url:e.data.toString()}:(0,o.A)({type:"input_file"},"string"===typeof e.data&&Im(e.data,r)?{file_id:e.data}:{filename:null!=(i=e.filename)?i:"part-".concat(t,".pdf"),file_data:"data:application/pdf;base64,".concat(Bu(e.data))});throw new Ae({functionality:"file part media type ".concat(e.mediaType)})}}))});break;case"assistant":{const e={},t={};for(const n of _)switch(n.type){case"text":g.push({role:"assistant",content:[{type:"output_text",text:n.text}],id:null!=(u=null==(l=null==(s=n.providerOptions)?void 0:s.openai)?void 0:l.itemId)?u:void 0});break;case"tool-call":if(t[n.toolCallId]=n,n.providerExecuted)break;if(i&&"local_shell"===n.toolName){const e=await Vl({value:n.input,schema:bm});g.push({type:"local_shell_call",call_id:n.toolCallId,id:null!=(p=null==(d=null==(c=n.providerOptions)?void 0:c.openai)?void 0:d.itemId)?p:void 0,action:{type:"exec",command:e.action.command,timeout_ms:e.action.timeoutMs,user:e.action.user,working_directory:e.action.workingDirectory,env:e.action.env}});break}g.push({type:"function_call",call_id:n.toolCallId,name:n.toolName,arguments:JSON.stringify(n.input),id:null!=(m=null==(h=null==(f=n.providerOptions)?void 0:f.openai)?void 0:h.itemId)?m:void 0});break;case"tool-result":a?g.push({type:"item_reference",id:n.toolCallId}):v.push({type:"other",message:"Results for OpenAI tool ".concat(n.toolName," are not sent to the API when store is false")});break;case"reasoning":{const t=await Jl({provider:"openai",providerOptions:n.providerOptions,schema:Cm}),r=null==t?void 0:t.itemId;if(null!=r){const o=e[r];if(a)void 0===o&&(g.push({type:"item_reference",id:r}),e[r]={type:"reasoning",id:r,summary:[]});else{const a=[];n.text.length>0?a.push({type:"summary_text",text:n.text}):void 0!==o&&v.push({type:"other",message:"Cannot append empty reasoning part to existing reasoning sequence. Skipping reasoning part: ".concat(JSON.stringify(n),".")}),void 0===o?(e[r]={type:"reasoning",id:r,encrypted_content:null==t?void 0:t.reasoningEncryptedContent,summary:a},g.push(e[r])):o.summary.push(...a)}}else v.push({type:"other",message:"Non-OpenAI reasoning parts are not supported. Skipping reasoning part: ".concat(JSON.stringify(n),".")});break}}break}case"tool":for(const e of _){const t=e.output;if(i&&"local_shell"===e.toolName&&"json"===t.type){const n=await Vl({value:t.value,schema:wm});g.push({type:"local_shell_call_output",call_id:e.toolCallId,output:n.output});break}let n;switch(t.type){case"text":case"error-text":n=t.value;break;case"json":case"error-json":n=JSON.stringify(t.value);break;case"content":n=t.value.map((e=>{switch(e.type){case"text":return{type:"input_text",text:e.text};case"media":return e.mediaType.startsWith("image/")?{type:"input_image",image_url:"data:".concat(e.mediaType,";base64,").concat(e.data)}:{type:"input_file",filename:"data",file_data:"data:".concat(e.mediaType,";base64,").concat(e.data)}}}))}g.push({type:"function_call_output",call_id:e.toolCallId,output:n})}break;default:throw new Error("Unsupported role: ".concat(y))}return{input:g,warnings:v}}({prompt:c,systemMessageMode:b.systemMessageMode,fileIdPrefixes:this.config.fileIdPrefixes,store:null==(m=null==w?void 0:w.store)||m,hasLocalShellTool:I("openai.local_shell")});_.push(...A);const x=null!=(g=null==w?void 0:w.strictJsonSchema)&&g;let E=null==w?void 0:w.include;function S(e){null==E?E=[e]:E.includes(e)||(E=[...E,e])}function I(e){return null!=(null==p?void 0:p.find((t=>"provider-defined"===t.type&&t.id===e)))}const C="number"===typeof(null==w?void 0:w.logprobs)?null==w?void 0:w.logprobs:!0===(null==w?void 0:w.logprobs)?20:void 0;C&&S("message.output_text.logprobs");const T=null==(v=null==p?void 0:p.find((e=>"provider-defined"===e.type&&("openai.web_search"===e.id||"openai.web_search_preview"===e.id))))?void 0:v.name;T&&S("web_search_call.action.sources"),I("openai.code_interpreter")&&S("code_interpreter_call.outputs");const O=null==w?void 0:w.store;!1===O&&b.isReasoningModel&&S("reasoning.encrypted_content");const P=(0,o.A)((0,o.A)((0,o.A)({model:this.modelId,input:k,temperature:n,top_p:a,max_output_tokens:t},("json"===(null==h?void 0:h.type)||(null==w?void 0:w.textVerbosity))&&{text:(0,o.A)((0,o.A)({},"json"===(null==h?void 0:h.type)&&{format:null!=h.schema?{type:"json_schema",strict:x,name:null!=(y=h.name)?y:"response",description:h.description,schema:h.schema}:{type:"json_object"}}),(null==w?void 0:w.textVerbosity)&&{verbosity:w.textVerbosity})}),{},{max_tool_calls:null==w?void 0:w.maxToolCalls,metadata:null==w?void 0:w.metadata,parallel_tool_calls:null==w?void 0:w.parallelToolCalls,previous_response_id:null==w?void 0:w.previousResponseId,store:O,user:null==w?void 0:w.user,instructions:null==w?void 0:w.instructions,service_tier:null==w?void 0:w.serviceTier,include:E,prompt_cache_key:null==w?void 0:w.promptCacheKey,safety_identifier:null==w?void 0:w.safetyIdentifier,top_logprobs:C},b.isReasoningModel&&(null!=(null==w?void 0:w.reasoningEffort)||null!=(null==w?void 0:w.reasoningSummary))&&{reasoning:(0,o.A)((0,o.A)({},null!=(null==w?void 0:w.reasoningEffort)&&{effort:w.reasoningEffort}),null!=(null==w?void 0:w.reasoningSummary)&&{summary:w.reasoningSummary})}),b.requiredAutoTruncation&&{truncation:"auto"});b.isReasoningModel?(null!=P.temperature&&(P.temperature=void 0,_.push({type:"unsupported-setting",setting:"temperature",details:"temperature is not supported for reasoning models"})),null!=P.top_p&&(P.top_p=void 0,_.push({type:"unsupported-setting",setting:"topP",details:"topP is not supported for reasoning models"}))):(null!=(null==w?void 0:w.reasoningEffort)&&_.push({type:"unsupported-setting",setting:"reasoningEffort",details:"reasoningEffort is not supported for non-reasoning models"}),null!=(null==w?void 0:w.reasoningSummary)&&_.push({type:"unsupported-setting",setting:"reasoningSummary",details:"reasoningSummary is not supported for non-reasoning models"})),"flex"!==(null==w?void 0:w.serviceTier)||b.supportsFlexProcessing||(_.push({type:"unsupported-setting",setting:"serviceTier",details:"flex processing is only available for o3, o4-mini, and gpt-5 models"}),delete P.service_tier),"priority"!==(null==w?void 0:w.serviceTier)||b.supportsPriorityProcessing||(_.push({type:"unsupported-setting",setting:"serviceTier",details:"priority processing is only available for supported models (gpt-4, gpt-5, gpt-5-mini, o3, o4-mini) and requires Enterprise access. gpt-5-nano is not supported"}),delete P.service_tier);const{tools:M,toolChoice:N,toolWarnings:R}=await async function(e){let{tools:t,toolChoice:n,strictJsonSchema:r}=e;t=(null==t?void 0:t.length)?t:void 0;const a=[];if(null==t)return{tools:void 0,toolChoice:void 0,toolWarnings:a};const o=[];for(const s of t)switch(s.type){case"function":o.push({type:"function",name:s.name,description:s.description,parameters:s.inputSchema,strict:r});break;case"provider-defined":switch(s.id){case"openai.file_search":{const e=await Vl({value:s.args,schema:mm});o.push({type:"file_search",vector_store_ids:e.vectorStoreIds,max_num_results:e.maxNumResults,ranking_options:e.ranking?{ranker:e.ranking.ranker,score_threshold:e.ranking.scoreThreshold}:void 0,filters:e.filters});break}case"openai.local_shell":o.push({type:"local_shell"});break;case"openai.web_search_preview":{const e=await Vl({value:s.args,schema:Em});o.push({type:"web_search_preview",search_context_size:e.searchContextSize,user_location:e.userLocation});break}case"openai.web_search":{const e=await Vl({value:s.args,schema:Am});o.push({type:"web_search",filters:null!=e.filters?{allowed_domains:e.filters.allowedDomains}:void 0,search_context_size:e.searchContextSize,user_location:e.userLocation});break}case"openai.code_interpreter":{const e=await Vl({value:s.args,schema:dm});o.push({type:"code_interpreter",container:null==e.container?{type:"auto",file_ids:void 0}:"string"===typeof e.container?e.container:{type:"auto",file_ids:e.container.fileIds}});break}case"openai.image_generation":{const e=await Vl({value:s.args,schema:ym});o.push({type:"image_generation",background:e.background,input_fidelity:e.inputFidelity,input_image_mask:e.inputImageMask?{file_id:e.inputImageMask.fileId,image_url:e.inputImageMask.imageUrl}:void 0,model:e.model,size:e.size,quality:e.quality,moderation:e.moderation,output_format:e.outputFormat,output_compression:e.outputCompression});break}}break;default:a.push({type:"unsupported-tool",tool:s})}if(null==n)return{tools:o,toolChoice:void 0,toolWarnings:a};const i=n.type;switch(i){case"auto":case"none":case"required":return{tools:o,toolChoice:i,toolWarnings:a};case"tool":return{tools:o,toolChoice:"code_interpreter"===n.toolName||"file_search"===n.toolName||"image_generation"===n.toolName||"web_search_preview"===n.toolName||"web_search"===n.toolName?{type:n.toolName}:{type:"function",name:n.toolName},toolWarnings:a};default:throw new Ae({functionality:"tool choice type: ".concat(i)})}}({tools:p,toolChoice:f,strictJsonSchema:x});return{webSearchToolName:T,args:(0,o.A)((0,o.A)({},P),{},{tools:M,tool_choice:N}),warnings:[..._,...R]}}async doGenerate(e){var t,n,r,a,o,i,s,l,u,c,d,p,f,h,m,g,v,y,_;const{args:w,warnings:k,webSearchToolName:A}=await this.getArgs(e),x=this.config.url({path:"/responses",modelId:this.modelId}),{responseHeaders:E,value:S,rawValue:I}=await Yl({url:x,headers:wl(this.config.headers(),e.headers),body:w,failedResponseHandler:Uh,successfulResponseHandler:ou(Pm),abortSignal:e.abortSignal,fetch:this.config.fetch});if(S.error)throw new b({message:S.error.message,url:x,requestBodyValues:w,statusCode:400,responseHeaders:E,responseBody:I,isRetryable:!1});const C=[],T=[];let O=!1;for(const b of S.output)switch(b.type){case"reasoning":0===b.summary.length&&b.summary.push({type:"summary_text",text:""});for(const e of b.summary)C.push({type:"reasoning",text:e.text,providerMetadata:{openai:{itemId:b.id,reasoningEncryptedContent:null!=(t=b.encrypted_content)?t:null}}});break;case"image_generation_call":C.push({type:"tool-call",toolCallId:b.id,toolName:"image_generation",input:"{}",providerExecuted:!0}),C.push({type:"tool-result",toolCallId:b.id,toolName:"image_generation",result:{result:b.result},providerExecuted:!0});break;case"local_shell_call":C.push({type:"tool-call",toolCallId:b.call_id,toolName:"local_shell",input:JSON.stringify({action:b.action}),providerMetadata:{openai:{itemId:b.id}}});break;case"message":for(const t of b.content){(null==(r=null==(n=e.providerOptions)?void 0:n.openai)?void 0:r.logprobs)&&t.logprobs&&T.push(t.logprobs),C.push({type:"text",text:t.text,providerMetadata:{openai:{itemId:b.id}}});for(const e of t.annotations)"url_citation"===e.type?C.push({type:"source",sourceType:"url",id:null!=(i=null==(o=(a=this.config).generateId)?void 0:o.call(a))?i:El(),url:e.url,title:e.title}):"file_citation"===e.type&&C.push({type:"source",sourceType:"document",id:null!=(u=null==(l=(s=this.config).generateId)?void 0:l.call(s))?u:El(),mediaType:"text/plain",title:null!=(d=null!=(c=e.quote)?c:e.filename)?d:"Document",filename:null!=(p=e.filename)?p:e.file_id})}break;case"function_call":O=!0,C.push({type:"tool-call",toolCallId:b.call_id,toolName:b.name,input:b.arguments,providerMetadata:{openai:{itemId:b.id}}});break;case"web_search_call":C.push({type:"tool-call",toolCallId:b.id,toolName:null!=A?A:"web_search",input:JSON.stringify({action:b.action}),providerExecuted:!0}),C.push({type:"tool-result",toolCallId:b.id,toolName:null!=A?A:"web_search",result:{status:b.status},providerExecuted:!0});break;case"computer_call":C.push({type:"tool-call",toolCallId:b.id,toolName:"computer_use",input:"",providerExecuted:!0}),C.push({type:"tool-result",toolCallId:b.id,toolName:"computer_use",result:{type:"computer_use_tool_result",status:b.status||"completed"},providerExecuted:!0});break;case"file_search_call":C.push({type:"tool-call",toolCallId:b.id,toolName:"file_search",input:"{}",providerExecuted:!0}),C.push({type:"tool-result",toolCallId:b.id,toolName:"file_search",result:{queries:b.queries,results:null!=(h=null==(f=b.results)?void 0:f.map((e=>({attributes:e.attributes,fileId:e.file_id,filename:e.filename,score:e.score,text:e.text}))))?h:null},providerExecuted:!0});break;case"code_interpreter_call":C.push({type:"tool-call",toolCallId:b.id,toolName:"code_interpreter",input:JSON.stringify({code:b.code,containerId:b.container_id}),providerExecuted:!0}),C.push({type:"tool-result",toolCallId:b.id,toolName:"code_interpreter",result:{outputs:b.outputs},providerExecuted:!0})}const P={openai:{responseId:S.id}};return T.length>0&&(P.openai.logprobs=T),"string"===typeof S.service_tier&&(P.openai.serviceTier=S.service_tier),{content:C,finishReason:Tm({finishReason:null==(m=S.incomplete_details)?void 0:m.reason,hasFunctionCall:O}),usage:{inputTokens:S.usage.input_tokens,outputTokens:S.usage.output_tokens,totalTokens:S.usage.input_tokens+S.usage.output_tokens,reasoningTokens:null!=(v=null==(g=S.usage.output_tokens_details)?void 0:g.reasoning_tokens)?v:void 0,cachedInputTokens:null!=(_=null==(y=S.usage.input_tokens_details)?void 0:y.cached_tokens)?_:void 0},request:{body:w},response:{id:S.id,timestamp:new Date(1e3*S.created_at),modelId:S.model,headers:E,body:I},providerMetadata:P,warnings:k}}async doStream(e){const{args:t,warnings:n,webSearchToolName:r}=await this.getArgs(e),{responseHeaders:a,value:i}=await Yl({url:this.config.url({path:"/responses",modelId:this.modelId}),headers:wl(this.config.headers(),e.headers),body:(0,o.A)((0,o.A)({},t),{},{stream:!0}),failedResponseHandler:Uh,successfulResponseHandler:au(Om),abortSignal:e.abortSignal,fetch:this.config.fetch}),s=this;let l="unknown";const u={inputTokens:void 0,outputTokens:void 0,totalTokens:void 0},c=[];let d=null;const p={};let f=!1;const h={};let m;return{stream:i.pipeThrough(new TransformStream({start(e){e.enqueue({type:"stream-start",warnings:n})},transform(t,n){var a,o,i,g,v,y,_,b,w,k,A,x,E,S,I,C,T,O,P,M,N,R,D;if(e.includeRawChunks&&n.enqueue({type:"raw",rawValue:t.rawValue}),!t.success)return l="error",void n.enqueue({type:"error",error:t.error});const z=t.value;if(Dm(z))"function_call"===z.item.type?(p[z.output_index]={toolName:z.item.name,toolCallId:z.item.call_id},n.enqueue({type:"tool-input-start",id:z.item.call_id,toolName:z.item.name})):"web_search_call"===z.item.type?(p[z.output_index]={toolName:null!=r?r:"web_search",toolCallId:z.item.id},n.enqueue({type:"tool-input-start",id:z.item.id,toolName:null!=r?r:"web_search",providerExecuted:!0})):"computer_call"===z.item.type?(p[z.output_index]={toolName:"computer_use",toolCallId:z.item.id},n.enqueue({type:"tool-input-start",id:z.item.id,toolName:"computer_use",providerExecuted:!0})):"code_interpreter_call"===z.item.type?(p[z.output_index]={toolName:"code_interpreter",toolCallId:z.item.id,codeInterpreter:{containerId:z.item.container_id}},n.enqueue({type:"tool-input-start",id:z.item.id,toolName:"code_interpreter",providerExecuted:!0}),n.enqueue({type:"tool-input-delta",id:z.item.id,delta:'{"containerId":"'.concat(z.item.container_id,'","code":"')})):"file_search_call"===z.item.type?n.enqueue({type:"tool-call",toolCallId:z.item.id,toolName:"file_search",input:"{}",providerExecuted:!0}):"image_generation_call"===z.item.type?n.enqueue({type:"tool-call",toolCallId:z.item.id,toolName:"image_generation",input:"{}",providerExecuted:!0}):"message"===z.item.type?n.enqueue({type:"text-start",id:z.item.id,providerMetadata:{openai:{itemId:z.item.id}}}):function(e){return Dm(e)&&"reasoning"===e.item.type}(z)&&(h[z.item.id]={encryptedContent:z.item.encrypted_content,summaryParts:[0]},n.enqueue({type:"reasoning-start",id:"".concat(z.item.id,":0"),providerMetadata:{openai:{itemId:z.item.id,reasoningEncryptedContent:null!=(a=z.item.encrypted_content)?a:null}}}));else if(Rm(z)){if("function_call"===z.item.type)p[z.output_index]=void 0,f=!0,n.enqueue({type:"tool-input-end",id:z.item.call_id}),n.enqueue({type:"tool-call",toolCallId:z.item.call_id,toolName:z.item.name,input:z.item.arguments,providerMetadata:{openai:{itemId:z.item.id}}});else if("web_search_call"===z.item.type)p[z.output_index]=void 0,n.enqueue({type:"tool-input-end",id:z.item.id}),n.enqueue({type:"tool-call",toolCallId:z.item.id,toolName:"web_search",input:JSON.stringify({action:z.item.action}),providerExecuted:!0}),n.enqueue({type:"tool-result",toolCallId:z.item.id,toolName:"web_search",result:{status:z.item.status},providerExecuted:!0});else if("computer_call"===z.item.type)p[z.output_index]=void 0,n.enqueue({type:"tool-input-end",id:z.item.id}),n.enqueue({type:"tool-call",toolCallId:z.item.id,toolName:"computer_use",input:"",providerExecuted:!0}),n.enqueue({type:"tool-result",toolCallId:z.item.id,toolName:"computer_use",result:{type:"computer_use_tool_result",status:z.item.status||"completed"},providerExecuted:!0});else if("file_search_call"===z.item.type)p[z.output_index]=void 0,n.enqueue({type:"tool-result",toolCallId:z.item.id,toolName:"file_search",result:{queries:z.item.queries,results:null!=(i=null==(o=z.item.results)?void 0:o.map((e=>({attributes:e.attributes,fileId:e.file_id,filename:e.filename,score:e.score,text:e.text}))))?i:null},providerExecuted:!0});else if("code_interpreter_call"===z.item.type)p[z.output_index]=void 0,n.enqueue({type:"tool-result",toolCallId:z.item.id,toolName:"code_interpreter",result:{outputs:z.item.outputs},providerExecuted:!0});else if("image_generation_call"===z.item.type)n.enqueue({type:"tool-result",toolCallId:z.item.id,toolName:"image_generation",result:{result:z.item.result},providerExecuted:!0});else if("local_shell_call"===z.item.type)p[z.output_index]=void 0,n.enqueue({type:"tool-call",toolCallId:z.item.call_id,toolName:"local_shell",input:JSON.stringify({action:{type:"exec",command:z.item.action.command,timeoutMs:z.item.action.timeout_ms,user:z.item.action.user,workingDirectory:z.item.action.working_directory,env:z.item.action.env}}),providerMetadata:{openai:{itemId:z.item.id}}});else if("message"===z.item.type)n.enqueue({type:"text-end",id:z.item.id});else if(function(e){return Rm(e)&&"reasoning"===e.item.type}(z)){const e=h[z.item.id];for(const t of e.summaryParts)n.enqueue({type:"reasoning-end",id:"".concat(z.item.id,":").concat(t),providerMetadata:{openai:{itemId:z.item.id,reasoningEncryptedContent:null!=(g=z.item.encrypted_content)?g:null}}});delete h[z.item.id]}}else if(function(e){return"response.function_call_arguments.delta"===e.type}(z)){const e=p[z.output_index];null!=e&&n.enqueue({type:"tool-input-delta",id:e.toolCallId,delta:z.delta})}else if(function(e){return"response.code_interpreter_call_code.delta"===e.type}(z)){const e=p[z.output_index];null!=e&&n.enqueue({type:"tool-input-delta",id:e.toolCallId,delta:JSON.stringify(z.delta).slice(1,-1)})}else if(function(e){return"response.code_interpreter_call_code.done"===e.type}(z)){const e=p[z.output_index];null!=e&&(n.enqueue({type:"tool-input-delta",id:e.toolCallId,delta:'"}'}),n.enqueue({type:"tool-input-end",id:e.toolCallId}),n.enqueue({type:"tool-call",toolCallId:e.toolCallId,toolName:"code_interpreter",input:JSON.stringify({code:z.code,containerId:e.codeInterpreter.containerId}),providerExecuted:!0}))}else!function(e){return"response.created"===e.type}(z)?!function(e){return"response.output_text.delta"===e.type}(z)?!function(e){return"response.reasoning_summary_part.added"===e.type}(z)?!function(e){return"response.reasoning_summary_text.delta"===e.type}(z)?!function(e){return"response.completed"===e.type||"response.incomplete"===e.type}(z)?!function(e){return"response.output_text.annotation.added"===e.type}(z)?function(e){return"error"===e.type}(z)&&n.enqueue({type:"error",error:z}):"url_citation"===z.annotation.type?n.enqueue({type:"source",sourceType:"url",id:null!=(T=null==(C=(I=s.config).generateId)?void 0:C.call(I))?T:El(),url:z.annotation.url,title:z.annotation.title}):"file_citation"===z.annotation.type&&n.enqueue({type:"source",sourceType:"document",id:null!=(M=null==(P=(O=s.config).generateId)?void 0:P.call(O))?M:El(),mediaType:"text/plain",title:null!=(R=null!=(N=z.annotation.quote)?N:z.annotation.filename)?R:"Document",filename:null!=(D=z.annotation.filename)?D:z.annotation.file_id}):(l=Tm({finishReason:null==(k=z.response.incomplete_details)?void 0:k.reason,hasFunctionCall:f}),u.inputTokens=z.response.usage.input_tokens,u.outputTokens=z.response.usage.output_tokens,u.totalTokens=z.response.usage.input_tokens+z.response.usage.output_tokens,u.reasoningTokens=null!=(x=null==(A=z.response.usage.output_tokens_details)?void 0:A.reasoning_tokens)?x:void 0,u.cachedInputTokens=null!=(S=null==(E=z.response.usage.input_tokens_details)?void 0:E.cached_tokens)?S:void 0,"string"===typeof z.response.service_tier&&(m=z.response.service_tier)):n.enqueue({type:"reasoning-delta",id:"".concat(z.item_id,":").concat(z.summary_index),delta:z.delta,providerMetadata:{openai:{itemId:z.item_id}}}):z.summary_index>0&&(null==(_=h[z.item_id])||_.summaryParts.push(z.summary_index),n.enqueue({type:"reasoning-start",id:"".concat(z.item_id,":").concat(z.summary_index),providerMetadata:{openai:{itemId:z.item_id,reasoningEncryptedContent:null!=(w=null==(b=h[z.item_id])?void 0:b.encryptedContent)?w:null}}})):(n.enqueue({type:"text-delta",id:z.item_id,delta:z.delta}),(null==(y=null==(v=e.providerOptions)?void 0:v.openai)?void 0:y.logprobs)&&z.logprobs&&c.push(z.logprobs)):(d=z.response.id,n.enqueue({type:"response-metadata",id:z.response.id,timestamp:new Date(1e3*z.response.created_at),modelId:z.response.model}))},flush(e){const t={openai:{responseId:d}};c.length>0&&(t.openai.logprobs=c),void 0!==m&&(t.openai.serviceTier=m),e.enqueue({type:"finish",finishReason:l,usage:u,providerMetadata:t})}})),request:{body:t},response:{headers:a}}}};function Rm(e){return"response.output_item.done"===e.type}function Dm(e){return"response.output_item.added"===e.type}var zm=Wl((()=>Mu(ii({instructions:wo().nullish(),speed:qo().min(.25).max(4).default(1).nullish()})))),jm=class{constructor(e,t){this.modelId=e,this.config=t,this.specificationVersion="v2"}get provider(){return this.config.provider}async getArgs(e){let{text:t,voice:n="alloy",outputFormat:r="mp3",speed:a,instructions:o,language:i,providerOptions:s}=e;const l=[],u=await Jl({provider:"openai",providerOptions:s,schema:zm}),c={model:this.modelId,input:t,voice:n,response_format:"mp3",speed:a,instructions:o};if(r&&(["mp3","opus","aac","flac","wav","pcm"].includes(r)?c.response_format=r:l.push({type:"unsupported-setting",setting:"outputFormat",details:"Unsupported output format: ".concat(r,". Using mp3 instead.")})),u){const e={};for(const t in e){const n=e[t];void 0!==n&&(c[t]=n)}}return i&&l.push({type:"unsupported-setting",setting:"language",details:'OpenAI speech models do not support language selection. Language parameter "'.concat(i,'" was ignored.')}),{requestBody:c,warnings:l}}async doGenerate(e){var t,n,r;const a=null!=(r=null==(n=null==(t=this.config._internal)?void 0:t.currentDate)?void 0:n.call(t))?r:new Date,{requestBody:o,warnings:i}=await this.getArgs(e),{value:s,responseHeaders:l,rawValue:u}=await Yl({url:this.config.url({path:"/audio/speech",modelId:this.modelId}),headers:wl(this.config.headers(),e.headers),body:o,failedResponseHandler:Uh,successfulResponseHandler:async e=>{let{response:t,url:n,requestBodyValues:r}=e;const a=Al(t);if(!t.body)throw new b({message:"Response body is empty",url:n,requestBodyValues:r,statusCode:t.status,responseHeaders:a,responseBody:void 0});try{const e=await t.arrayBuffer();return{responseHeaders:a,value:new Uint8Array(e)}}catch(o){throw new b({message:"Failed to read response as array buffer",url:n,requestBodyValues:r,statusCode:t.status,responseHeaders:a,responseBody:void 0,cause:o})}},abortSignal:e.abortSignal,fetch:this.config.fetch});return{audio:s,warnings:i,request:{body:JSON.stringify(o)},response:{timestamp:a,modelId:this.modelId,headers:l,body:u}}}},Lm=Wl((()=>Mu(ii({text:wo(),language:wo().nullish(),duration:qo().nullish(),words:ai(ii({word:wo(),start:qo(),end:qo()})).nullish(),segments:ai(ii({id:qo(),seek:qo(),start:qo(),end:qo(),text:wo(),tokens:ai(qo()),temperature:qo(),avg_logprob:qo(),compression_ratio:qo(),no_speech_prob:qo()})).nullish()})))),Fm=Wl((()=>Mu(ii({include:ai(wo()).optional(),language:wo().optional(),prompt:wo().optional(),temperature:qo().min(0).max(1).default(0).optional(),timestampGranularities:ai(vi(["word","segment"])).default(["segment"]).optional()})))),Um={afrikaans:"af",arabic:"ar",armenian:"hy",azerbaijani:"az",belarusian:"be",bosnian:"bs",bulgarian:"bg",catalan:"ca",chinese:"zh",croatian:"hr",czech:"cs",danish:"da",dutch:"nl",english:"en",estonian:"et",finnish:"fi",french:"fr",galician:"gl",german:"de",greek:"el",hebrew:"he",hindi:"hi",hungarian:"hu",icelandic:"is",indonesian:"id",italian:"it",japanese:"ja",kannada:"kn",kazakh:"kk",korean:"ko",latvian:"lv",lithuanian:"lt",macedonian:"mk",malay:"ms",marathi:"mr",maori:"mi",nepali:"ne",norwegian:"no",persian:"fa",polish:"pl",portuguese:"pt",romanian:"ro",russian:"ru",serbian:"sr",slovak:"sk",slovenian:"sl",spanish:"es",swahili:"sw",swedish:"sv",tagalog:"tl",tamil:"ta",thai:"th",turkish:"tr",ukrainian:"uk",urdu:"ur",vietnamese:"vi",welsh:"cy"},Bm=class{constructor(e,t){this.modelId=e,this.config=t,this.specificationVersion="v2"}get provider(){return this.config.provider}async getArgs(e){let{audio:t,mediaType:n,providerOptions:r}=e;const a=await Jl({provider:"openai",providerOptions:r,schema:Fm}),o=new FormData,i=t instanceof Uint8Array?new Blob([t]):new Blob([Fu(t)]);o.append("model",this.modelId);const s=function(e){var t;const[n,r=""]=e.toLowerCase().split("/");return null!=(t={mpeg:"mp3","x-wav":"wav",opus:"ogg",mp4:"m4a","x-m4a":"m4a"}[r])?t:r}(n);if(o.append("file",new File([i],"audio",{type:n}),"audio.".concat(s)),a){const e={include:a.include,language:a.language,prompt:a.prompt,response_format:["gpt-4o-transcribe","gpt-4o-mini-transcribe"].includes(this.modelId)?"json":"verbose_json",temperature:a.temperature,timestamp_granularities:a.timestampGranularities};for(const[t,n]of Object.entries(e))if(null!=n)if(Array.isArray(n))for(const e of n)o.append("".concat(t,"[]"),String(e));else o.append(t,String(n))}return{formData:o,warnings:[]}}async doGenerate(e){var t,n,r,a,o,i,s,l;const u=null!=(r=null==(n=null==(t=this.config._internal)?void 0:t.currentDate)?void 0:n.call(t))?r:new Date,{formData:c,warnings:d}=await this.getArgs(e),{value:p,responseHeaders:f,rawValue:h}=await(async e=>{let{url:t,headers:n,formData:r,failedResponseHandler:a,successfulResponseHandler:o,abortSignal:i,fetch:s}=e;return Xl({url:t,headers:n,body:{content:r,values:Object.fromEntries(r.entries())},failedResponseHandler:a,successfulResponseHandler:o,abortSignal:i,fetch:s})})({url:this.config.url({path:"/audio/transcriptions",modelId:this.modelId}),headers:wl(this.config.headers(),e.headers),formData:c,failedResponseHandler:Uh,successfulResponseHandler:ou(Lm),abortSignal:e.abortSignal,fetch:this.config.fetch}),m=null!=p.language&&p.language in Um?Um[p.language]:void 0;return{text:p.text,segments:null!=(s=null!=(i=null==(a=p.segments)?void 0:a.map((e=>({text:e.text,startSecond:e.start,endSecond:e.end}))))?i:null==(o=p.words)?void 0:o.map((e=>({text:e.word,startSecond:e.start,endSecond:e.end}))))?s:[],language:m,durationInSeconds:null!=(l=p.duration)?l:void 0,warnings:d,response:{timestamp:u,modelId:this.modelId,headers:f,body:h}}}},Zm="2.0.49";function Wm(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var t,n;const r=null!=(t=Zu(jl({settingValue:e.baseURL,environmentVariableName:"OPENAI_BASE_URL"})))?t:"https://api.openai.com/v1",a=null!=(n=e.name)?n:"openai",i=()=>Pl((0,o.A)({Authorization:"Bearer ".concat(zl({apiKey:e.apiKey,environmentVariableName:"OPENAI_API_KEY",description:"OpenAI"})),"OpenAI-Organization":e.organization,"OpenAI-Project":e.project},e.headers),"ai-sdk/openai/".concat(Zm)),s=t=>new am(t,{provider:"".concat(a,".embedding"),url:e=>{let{path:t}=e;return"".concat(r).concat(t)},headers:i,fetch:e.fetch}),l=t=>new lm(t,{provider:"".concat(a,".image"),url:e=>{let{path:t}=e;return"".concat(r).concat(t)},headers:i,fetch:e.fetch}),u=t=>new Bm(t,{provider:"".concat(a,".transcription"),url:e=>{let{path:t}=e;return"".concat(r).concat(t)},headers:i,fetch:e.fetch}),c=t=>new jm(t,{provider:"".concat(a,".speech"),url:e=>{let{path:t}=e;return"".concat(r).concat(t)},headers:i,fetch:e.fetch}),d=e=>{if(new.target)throw new Error("The OpenAI model function cannot be called with the new keyword.");return p(e)},p=t=>new Nm(t,{provider:"".concat(a,".responses"),url:e=>{let{path:t}=e;return"".concat(r).concat(t)},headers:i,fetch:e.fetch,fileIdPrefixes:["file-"]}),f=function(e){return d(e)};return f.languageModel=d,f.chat=t=>new $h(t,{provider:"".concat(a,".chat"),url:e=>{let{path:t}=e;return"".concat(r).concat(t)},headers:i,fetch:e.fetch}),f.completion=t=>new tm(t,{provider:"".concat(a,".completion"),url:e=>{let{path:t}=e;return"".concat(r).concat(t)},headers:i,fetch:e.fetch}),f.responses=p,f.embedding=s,f.textEmbedding=s,f.textEmbeddingModel=s,f.image=l,f.imageModel=l,f.transcription=u,f.transcriptionModel=u,f.speech=c,f.speechModel=c,f.tools=Sm,f}Wm();function qm(e,t){return new Promise((function(n,r){let a;return Vm(e).then((function(e){try{return a=e,n(new Blob([t.slice(0,2),a,t.slice(2)],{type:"image/jpeg"}))}catch(e){return r(e)}}),r)}))}const Vm=e=>new Promise(((t,n)=>{const r=new FileReader;r.addEventListener("load",(e=>{let{target:{result:r}}=e;const a=new DataView(r);let o=0;if(65496!==a.getUint16(o))return n("not a valid JPEG");for(o+=2;;){const e=a.getUint16(o);if(65498===e)break;const i=a.getUint16(o+2);if(65505===e&&1165519206===a.getUint32(o+4)){const e=o+10;let s;switch(a.getUint16(e)){case 18761:s=!0;break;case 19789:s=!1;break;default:return n("TIFF header contains invalid endian")}if(42!==a.getUint16(e+2,s))return n("TIFF header contains invalid version");const l=a.getUint32(e+4,s),u=e+l+2+12*a.getUint16(e+l,s);for(let t=e+l+2;t<u;t+=12)if(274==a.getUint16(t,s)){if(3!==a.getUint16(t+2,s))return n("Orientation data type is invalid");if(1!==a.getUint32(t+4,s))return n("Orientation data count is invalid");a.setUint16(t+8,1,s);break}return t(r.slice(o,o+2+i))}o+=2+i}return t(new Blob)})),r.readAsArrayBuffer(e)}));var $m={},Km={get exports(){return $m},set exports(e){$m=e}};!function(e){var t,n,r={};Km.exports=r,r.parse=function(e,t){for(var n=r.bin.readUshort,a=r.bin.readUint,o=0,i={},s=new Uint8Array(e),l=s.length-4;101010256!=a(s,l);)l--;o=l,o+=4;var u=n(s,o+=4);n(s,o+=2);var c=a(s,o+=2),d=a(s,o+=4);o+=4,o=d;for(var p=0;p<u;p++){a(s,o),o+=4,o+=4,o+=4,a(s,o+=4),c=a(s,o+=4);var f=a(s,o+=4),h=n(s,o+=4),m=n(s,o+2),g=n(s,o+4);o+=6;var v=a(s,o+=8);o+=4,o+=h+m+g,r._readLocal(s,v,i,c,f,t)}return i},r._readLocal=function(e,t,n,a,o,i){var s=r.bin.readUshort,l=r.bin.readUint;l(e,t),s(e,t+=4),s(e,t+=2);var u=s(e,t+=2);l(e,t+=2),l(e,t+=4),t+=4;var c=s(e,t+=8),d=s(e,t+=2);t+=2;var p=r.bin.readUTF8(e,t,c);if(t+=c,t+=d,i)n[p]={size:o,csize:a};else{var f=new Uint8Array(e.buffer,t);if(0==u)n[p]=new Uint8Array(f.buffer.slice(t,t+a));else{if(8!=u)throw"unknown compression method: "+u;var h=new Uint8Array(o);r.inflateRaw(f,h),n[p]=h}}},r.inflateRaw=function(e,t){return r.F.inflate(e,t)},r.inflate=function(e,t){return e[0],e[1],r.inflateRaw(new Uint8Array(e.buffer,e.byteOffset+2,e.length-6),t)},r.deflate=function(e,t){null==t&&(t={level:6});var n=0,a=new Uint8Array(50+Math.floor(1.1*e.length));a[n]=120,a[n+1]=156,n+=2,n=r.F.deflateRaw(e,a,n,t.level);var o=r.adler(e,0,e.length);return a[n+0]=o>>>24&255,a[n+1]=o>>>16&255,a[n+2]=o>>>8&255,a[n+3]=o>>>0&255,new Uint8Array(a.buffer,0,n+4)},r.deflateRaw=function(e,t){null==t&&(t={level:6});var n=new Uint8Array(50+Math.floor(1.1*e.length)),a=r.F.deflateRaw(e,n,a,t.level);return new Uint8Array(n.buffer,0,a)},r.encode=function(e,t){null==t&&(t=!1);var n=0,a=r.bin.writeUint,o=r.bin.writeUshort,i={};for(var s in e){var l=!r._noNeed(s)&&!t,u=e[s],c=r.crc.crc(u,0,u.length);i[s]={cpr:l,usize:u.length,crc:c,file:l?r.deflateRaw(u):u}}for(var s in i)n+=i[s].file.length+30+46+2*r.bin.sizeUTF8(s);n+=22;var d=new Uint8Array(n),p=0,f=[];for(var s in i){var h=i[s];f.push(p),p=r._writeHeader(d,p,s,h,0)}var m=0,g=p;for(var s in i)h=i[s],f.push(p),p=r._writeHeader(d,p,s,h,1,f[m++]);var v=p-g;return a(d,p,101010256),p+=4,o(d,p+=4,m),o(d,p+=2,m),a(d,p+=2,v),a(d,p+=4,g),p+=4,p+=2,d.buffer},r._noNeed=function(e){var t=e.split(".").pop().toLowerCase();return-1!="png,jpg,jpeg,zip".indexOf(t)},r._writeHeader=function(e,t,n,a,o,i){var s=r.bin.writeUint,l=r.bin.writeUshort,u=a.file;return s(e,t,0==o?67324752:33639248),t+=4,1==o&&(t+=2),l(e,t,20),l(e,t+=2,0),l(e,t+=2,a.cpr?8:0),s(e,t+=2,0),s(e,t+=4,a.crc),s(e,t+=4,u.length),s(e,t+=4,a.usize),l(e,t+=4,r.bin.sizeUTF8(n)),l(e,t+=2,0),t+=2,1==o&&(t+=2,t+=2,s(e,t+=6,i),t+=4),t+=r.bin.writeUTF8(e,t,n),0==o&&(e.set(u,t),t+=u.length),t},r.crc={table:function(){for(var e=new Uint32Array(256),t=0;t<256;t++){for(var n=t,r=0;r<8;r++)1&n?n=3988292384^n>>>1:n>>>=1;e[t]=n}return e}(),update:function(e,t,n,a){for(var o=0;o<a;o++)e=r.crc.table[255&(e^t[n+o])]^e>>>8;return e},crc:function(e,t,n){return 4294967295^r.crc.update(4294967295,e,t,n)}},r.adler=function(e,t,n){for(var r=1,a=0,o=t,i=t+n;o<i;){for(var s=Math.min(o+5552,i);o<s;)a+=r+=e[o++];r%=65521,a%=65521}return a<<16|r},r.bin={readUshort:function(e,t){return e[t]|e[t+1]<<8},writeUshort:function(e,t,n){e[t]=255&n,e[t+1]=n>>8&255},readUint:function(e,t){return 16777216*e[t+3]+(e[t+2]<<16|e[t+1]<<8|e[t])},writeUint:function(e,t,n){e[t]=255&n,e[t+1]=n>>8&255,e[t+2]=n>>16&255,e[t+3]=n>>24&255},readASCII:function(e,t,n){for(var r="",a=0;a<n;a++)r+=String.fromCharCode(e[t+a]);return r},writeASCII:function(e,t,n){for(var r=0;r<n.length;r++)e[t+r]=n.charCodeAt(r)},pad:function(e){return e.length<2?"0"+e:e},readUTF8:function(e,t,n){for(var a,o="",i=0;i<n;i++)o+="%"+r.bin.pad(e[t+i].toString(16));try{a=decodeURIComponent(o)}catch(a){return r.bin.readASCII(e,t,n)}return a},writeUTF8:function(e,t,n){for(var r=n.length,a=0,o=0;o<r;o++){var i=n.charCodeAt(o);if(0==(4294967168&i))e[t+a]=i,a++;else if(0==(4294965248&i))e[t+a]=192|i>>6,e[t+a+1]=128|63&i,a+=2;else if(0==(4294901760&i))e[t+a]=224|i>>12,e[t+a+1]=128|i>>6&63,e[t+a+2]=128|63&i,a+=3;else{if(0!=(4292870144&i))throw"e";e[t+a]=240|i>>18,e[t+a+1]=128|i>>12&63,e[t+a+2]=128|i>>6&63,e[t+a+3]=128|63&i,a+=4}}return a},sizeUTF8:function(e){for(var t=e.length,n=0,r=0;r<t;r++){var a=e.charCodeAt(r);if(0==(4294967168&a))n++;else if(0==(4294965248&a))n+=2;else if(0==(4294901760&a))n+=3;else{if(0!=(4292870144&a))throw"e";n+=4}}return n}},r.F={},r.F.deflateRaw=function(e,t,n,a){var o=[[0,0,0,0,0],[4,4,8,4,0],[4,5,16,8,0],[4,6,16,16,0],[4,10,16,32,0],[8,16,32,32,0],[8,16,128,128,0],[8,32,128,256,0],[32,128,258,1024,1],[32,258,258,4096,1]][a],i=r.F.U,s=r.F._goodIndex;r.F._hash;var l=r.F._putsE,u=0,c=n<<3,d=0,p=e.length;if(0==a){for(;u<p;)l(t,c,u+(x=Math.min(65535,p-u))==p?1:0),c=r.F._copyExact(e,u,x,t,c+8),u+=x;return c>>>3}var f=i.lits,h=i.strt,m=i.prev,g=0,v=0,y=0,_=0,b=0,w=0;for(p>2&&(h[w=r.F._hash(e,0)]=0),u=0;u<p;u++){if(b=w,u+1<p-2){w=r.F._hash(e,u+1);var k=u+1&32767;m[k]=h[w],h[w]=k}if(d<=u){(g>14e3||v>26697)&&p-u>100&&(d<u&&(f[g]=u-d,g+=2,d=u),c=r.F._writeBlock(u==p-1||d==p?1:0,f,g,_,e,y,u-y,t,c),g=v=_=0,y=u);var A=0;u<p-2&&(A=r.F._bestMatch(e,u,m,b,Math.min(o[2],p-u),o[3]));var x=A>>>16,E=65535&A;if(0!=A){E=65535&A;var S=s(x=A>>>16,i.of0);i.lhst[257+S]++;var I=s(E,i.df0);i.dhst[I]++,_+=i.exb[S]+i.dxb[I],f[g]=x<<23|u-d,f[g+1]=E<<16|S<<8|I,g+=2,d=u+x}else i.lhst[e[u]]++;v++}}for(y==u&&0!=e.length||(d<u&&(f[g]=u-d,g+=2,d=u),c=r.F._writeBlock(1,f,g,_,e,y,u-y,t,c),g=0,v=0,g=v=_=0,y=u);0!=(7&c);)c++;return c>>>3},r.F._bestMatch=function(e,t,n,a,o,i){var s=32767&t,l=n[s],u=s-l+32768&32767;if(l==s||a!=r.F._hash(e,t-u))return 0;for(var c=0,d=0,p=Math.min(32767,t);u<=p&&0!=--i&&l!=s;){if(0==c||e[t+c]==e[t+c-u]){var f=r.F._howLong(e,t,u);if(f>c){if(d=u,(c=f)>=o)break;u+2<f&&(f=u+2);for(var h=0,m=0;m<f-2;m++){var g=t-u+m+32768&32767,v=g-n[g]+32768&32767;v>h&&(h=v,l=g)}}}u+=(s=l)-(l=n[s])+32768&32767}return c<<16|d},r.F._howLong=function(e,t,n){if(e[t]!=e[t-n]||e[t+1]!=e[t+1-n]||e[t+2]!=e[t+2-n])return 0;var r=t,a=Math.min(e.length,t+258);for(t+=3;t<a&&e[t]==e[t-n];)t++;return t-r},r.F._hash=function(e,t){return(e[t]<<8|e[t+1])+(e[t+2]<<4)&65535},r.saved=0,r.F._writeBlock=function(e,t,n,a,o,i,s,l,u){var c,d,p,f,h,m,g,v,y,_=r.F.U,b=r.F._putsF,w=r.F._putsE;_.lhst[256]++,d=(c=r.F.getTrees())[0],p=c[1],f=c[2],h=c[3],m=c[4],g=c[5],v=c[6],y=c[7];var k=32+(0==(u+3&7)?0:8-(u+3&7))+(s<<3),A=a+r.F.contSize(_.fltree,_.lhst)+r.F.contSize(_.fdtree,_.dhst),x=a+r.F.contSize(_.ltree,_.lhst)+r.F.contSize(_.dtree,_.dhst);x+=14+3*g+r.F.contSize(_.itree,_.ihst)+(2*_.ihst[16]+3*_.ihst[17]+7*_.ihst[18]);for(var E=0;E<286;E++)_.lhst[E]=0;for(E=0;E<30;E++)_.dhst[E]=0;for(E=0;E<19;E++)_.ihst[E]=0;var S=k<A&&k<x?0:A<x?1:2;if(b(l,u,e),b(l,u+1,S),u+=3,0==S){for(;0!=(7&u);)u++;u=r.F._copyExact(o,i,s,l,u)}else{var I,C;if(1==S&&(I=_.fltree,C=_.fdtree),2==S){r.F.makeCodes(_.ltree,d),r.F.revCodes(_.ltree,d),r.F.makeCodes(_.dtree,p),r.F.revCodes(_.dtree,p),r.F.makeCodes(_.itree,f),r.F.revCodes(_.itree,f),I=_.ltree,C=_.dtree,w(l,u,h-257),w(l,u+=5,m-1),w(l,u+=5,g-4),u+=4;for(var T=0;T<g;T++)w(l,u+3*T,_.itree[1+(_.ordr[T]<<1)]);u+=3*g,u=r.F._codeTiny(v,_.itree,l,u),u=r.F._codeTiny(y,_.itree,l,u)}for(var O=i,P=0;P<n;P+=2){for(var M=t[P],N=M>>>23,R=O+(8388607&M);O<R;)u=r.F._writeLit(o[O++],I,l,u);if(0!=N){var D=t[P+1],z=D>>16,j=D>>8&255,L=255&D;w(l,u=r.F._writeLit(257+j,I,l,u),N-_.of0[j]),u+=_.exb[j],b(l,u=r.F._writeLit(L,C,l,u),z-_.df0[L]),u+=_.dxb[L],O+=N}}u=r.F._writeLit(256,I,l,u)}return u},r.F._copyExact=function(e,t,n,r,a){var o=a>>>3;return r[o]=n,r[o+1]=n>>>8,r[o+2]=255-r[o],r[o+3]=255-r[o+1],o+=4,r.set(new Uint8Array(e.buffer,t,n),o),a+(n+4<<3)},r.F.getTrees=function(){for(var e=r.F.U,t=r.F._hufTree(e.lhst,e.ltree,15),n=r.F._hufTree(e.dhst,e.dtree,15),a=[],o=r.F._lenCodes(e.ltree,a),i=[],s=r.F._lenCodes(e.dtree,i),l=0;l<a.length;l+=2)e.ihst[a[l]]++;for(l=0;l<i.length;l+=2)e.ihst[i[l]]++;for(var u=r.F._hufTree(e.ihst,e.itree,7),c=19;c>4&&0==e.itree[1+(e.ordr[c-1]<<1)];)c--;return[t,n,u,o,s,c,a,i]},r.F.getSecond=function(e){for(var t=[],n=0;n<e.length;n+=2)t.push(e[n+1]);return t},r.F.nonZero=function(e){for(var t="",n=0;n<e.length;n+=2)0!=e[n+1]&&(t+=(n>>1)+",");return t},r.F.contSize=function(e,t){for(var n=0,r=0;r<t.length;r++)n+=t[r]*e[1+(r<<1)];return n},r.F._codeTiny=function(e,t,n,a){for(var o=0;o<e.length;o+=2){var i=e[o],s=e[o+1];a=r.F._writeLit(i,t,n,a);var l=16==i?2:17==i?3:7;i>15&&(r.F._putsE(n,a,s,l),a+=l)}return a},r.F._lenCodes=function(e,t){for(var n=e.length;2!=n&&0==e[n-1];)n-=2;for(var r=0;r<n;r+=2){var a=e[r+1],o=r+3<n?e[r+3]:-1,i=r+5<n?e[r+5]:-1,s=0==r?-1:e[r-1];if(0==a&&o==a&&i==a){for(var l=r+5;l+2<n&&e[l+2]==a;)l+=2;(u=Math.min(l+1-r>>>1,138))<11?t.push(17,u-3):t.push(18,u-11),r+=2*u-2}else if(a==s&&o==a&&i==a){for(l=r+5;l+2<n&&e[l+2]==a;)l+=2;var u=Math.min(l+1-r>>>1,6);t.push(16,u-3),r+=2*u-2}else t.push(a,0)}return n>>>1},r.F._hufTree=function(e,t,n){var a=[],o=e.length,i=t.length,s=0;for(s=0;s<i;s+=2)t[s]=0,t[s+1]=0;for(s=0;s<o;s++)0!=e[s]&&a.push({lit:s,f:e[s]});var l=a.length,u=a.slice(0);if(0==l)return 0;if(1==l){var c=a[0].lit;return u=0==c?1:0,t[1+(c<<1)]=1,t[1+(u<<1)]=1,1}a.sort((function(e,t){return e.f-t.f}));var d=a[0],p=a[1],f=0,h=1,m=2;for(a[0]={lit:-1,f:d.f+p.f,l:d,r:p,d:0};h!=l-1;)d=f!=h&&(m==l||a[f].f<a[m].f)?a[f++]:a[m++],p=f!=h&&(m==l||a[f].f<a[m].f)?a[f++]:a[m++],a[h++]={lit:-1,f:d.f+p.f,l:d,r:p};var g=r.F.setDepth(a[h-1],0);for(g>n&&(r.F.restrictDepth(u,n,g),g=n),s=0;s<l;s++)t[1+(u[s].lit<<1)]=u[s].d;return g},r.F.setDepth=function(e,t){return-1!=e.lit?(e.d=t,t):Math.max(r.F.setDepth(e.l,t+1),r.F.setDepth(e.r,t+1))},r.F.restrictDepth=function(e,t,n){var r=0,a=1<<n-t,o=0;for(e.sort((function(e,t){return t.d==e.d?e.f-t.f:t.d-e.d})),r=0;r<e.length&&e[r].d>t;r++){var i=e[r].d;e[r].d=t,o+=a-(1<<n-i)}for(o>>>=n-t;o>0;)(i=e[r].d)<t?(e[r].d++,o-=1<<t-i-1):r++;for(;r>=0;r--)e[r].d==t&&o<0&&(e[r].d--,o++);0!=o&&console.log("debt left")},r.F._goodIndex=function(e,t){var n=0;return t[16|n]<=e&&(n|=16),t[8|n]<=e&&(n|=8),t[4|n]<=e&&(n|=4),t[2|n]<=e&&(n|=2),t[1|n]<=e&&(n|=1),n},r.F._writeLit=function(e,t,n,a){return r.F._putsF(n,a,t[e<<1]),a+t[1+(e<<1)]},r.F.inflate=function(e,t){var n=Uint8Array;if(3==e[0]&&0==e[1])return t||new n(0);var a=r.F,o=a._bitsF,i=a._bitsE,s=a._decodeTiny,l=a.makeCodes,u=a.codes2map,c=a._get17,d=a.U,p=null==t;p&&(t=new n(e.length>>>2<<3));for(var f,h,m=0,g=0,v=0,y=0,_=0,b=0,w=0,k=0,A=0;0==m;)if(m=o(e,A,1),g=o(e,A+1,2),A+=3,0!=g){if(p&&(t=r.F._check(t,k+(1<<17))),1==g&&(f=d.flmap,h=d.fdmap,b=511,w=31),2==g){v=i(e,A,5)+257,y=i(e,A+5,5)+1,_=i(e,A+10,4)+4,A+=14;for(var x=0;x<38;x+=2)d.itree[x]=0,d.itree[x+1]=0;var E=1;for(x=0;x<_;x++){var S=i(e,A+3*x,3);d.itree[1+(d.ordr[x]<<1)]=S,S>E&&(E=S)}A+=3*_,l(d.itree,E),u(d.itree,E,d.imap),f=d.lmap,h=d.dmap,A=s(d.imap,(1<<E)-1,v+y,e,A,d.ttree);var I=a._copyOut(d.ttree,0,v,d.ltree);b=(1<<I)-1;var C=a._copyOut(d.ttree,v,y,d.dtree);w=(1<<C)-1,l(d.ltree,I),u(d.ltree,I,f),l(d.dtree,C),u(d.dtree,C,h)}for(;;){var T=f[c(e,A)&b];A+=15&T;var O=T>>>4;if(O>>>8==0)t[k++]=O;else{if(256==O)break;var P=k+O-254;if(O>264){var M=d.ldef[O-257];P=k+(M>>>3)+i(e,A,7&M),A+=7&M}var N=h[c(e,A)&w];A+=15&N;var R=N>>>4,D=d.ddef[R],z=(D>>>4)+o(e,A,15&D);for(A+=15&D,p&&(t=r.F._check(t,k+(1<<17)));k<P;)t[k]=t[k++-z],t[k]=t[k++-z],t[k]=t[k++-z],t[k]=t[k++-z];k=P}}}else{0!=(7&A)&&(A+=8-(7&A));var j=4+(A>>>3),L=e[j-4]|e[j-3]<<8;p&&(t=r.F._check(t,k+L)),t.set(new n(e.buffer,e.byteOffset+j,L),k),A=j+L<<3,k+=L}return t.length==k?t:t.slice(0,k)},r.F._check=function(e,t){var n=e.length;if(t<=n)return e;var r=new Uint8Array(Math.max(n<<1,t));return r.set(e,0),r},r.F._decodeTiny=function(e,t,n,a,o,i){for(var s=r.F._bitsE,l=r.F._get17,u=0;u<n;){var c=e[l(a,o)&t];o+=15&c;var d=c>>>4;if(d<=15)i[u]=d,u++;else{var p=0,f=0;16==d?(f=3+s(a,o,2),o+=2,p=i[u-1]):17==d?(f=3+s(a,o,3),o+=3):18==d&&(f=11+s(a,o,7),o+=7);for(var h=u+f;u<h;)i[u]=p,u++}}return o},r.F._copyOut=function(e,t,n,r){for(var a=0,o=0,i=r.length>>>1;o<n;){var s=e[o+t];r[o<<1]=0,r[1+(o<<1)]=s,s>a&&(a=s),o++}for(;o<i;)r[o<<1]=0,r[1+(o<<1)]=0,o++;return a},r.F.makeCodes=function(e,t){for(var n,a,o,i,s=r.F.U,l=e.length,u=s.bl_count,c=0;c<=t;c++)u[c]=0;for(c=1;c<l;c+=2)u[e[c]]++;var d=s.next_code;for(n=0,u[0]=0,a=1;a<=t;a++)n=n+u[a-1]<<1,d[a]=n;for(o=0;o<l;o+=2)0!=(i=e[o+1])&&(e[o]=d[i],d[i]++)},r.F.codes2map=function(e,t,n){for(var a=e.length,o=r.F.U.rev15,i=0;i<a;i+=2)if(0!=e[i+1])for(var s=i>>1,l=e[i+1],u=s<<4|l,c=t-l,d=e[i]<<c,p=d+(1<<c);d!=p;)n[o[d]>>>15-t]=u,d++},r.F.revCodes=function(e,t){for(var n=r.F.U.rev15,a=15-t,o=0;o<e.length;o+=2){var i=e[o]<<t-e[o+1];e[o]=n[i]>>>a}},r.F._putsE=function(e,t,n){n<<=7&t;var r=t>>>3;e[r]|=n,e[r+1]|=n>>>8},r.F._putsF=function(e,t,n){n<<=7&t;var r=t>>>3;e[r]|=n,e[r+1]|=n>>>8,e[r+2]|=n>>>16},r.F._bitsE=function(e,t,n){return(e[t>>>3]|e[1+(t>>>3)]<<8)>>>(7&t)&(1<<n)-1},r.F._bitsF=function(e,t,n){return(e[t>>>3]|e[1+(t>>>3)]<<8|e[2+(t>>>3)]<<16)>>>(7&t)&(1<<n)-1},r.F._get17=function(e,t){return(e[t>>>3]|e[1+(t>>>3)]<<8|e[2+(t>>>3)]<<16)>>>(7&t)},r.F._get25=function(e,t){return(e[t>>>3]|e[1+(t>>>3)]<<8|e[2+(t>>>3)]<<16|e[3+(t>>>3)]<<24)>>>(7&t)},r.F.U=(t=Uint16Array,n=Uint32Array,{next_code:new t(16),bl_count:new t(16),ordr:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],of0:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],exb:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],ldef:new t(32),df0:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],dxb:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],ddef:new n(32),flmap:new t(512),fltree:[],fdmap:new t(32),fdtree:[],lmap:new t(32768),ltree:[],ttree:[],dmap:new t(32768),dtree:[],imap:new t(512),itree:[],rev15:new t(32768),lhst:new n(286),dhst:new n(30),ihst:new n(19),lits:new n(15e3),strt:new t(65536),prev:new t(32768)}),function(){for(var e=r.F.U,t=0;t<32768;t++){var n=t;n=(4278255360&(n=(4042322160&(n=(3435973836&(n=(2863311530&n)>>>1|(1431655765&n)<<1))>>>2|(858993459&n)<<2))>>>4|(252645135&n)<<4))>>>8|(16711935&n)<<8,e.rev15[t]=(n>>>16|n<<16)>>>17}function a(e,t,n){for(;0!=t--;)e.push(0,n)}for(t=0;t<32;t++)e.ldef[t]=e.of0[t]<<3|e.exb[t],e.ddef[t]=e.df0[t]<<4|e.dxb[t];a(e.fltree,144,8),a(e.fltree,112,9),a(e.fltree,24,7),a(e.fltree,8,8),r.F.makeCodes(e.fltree,9),r.F.codes2map(e.fltree,9,e.flmap),r.F.revCodes(e.fltree,9),a(e.fdtree,32,5),r.F.makeCodes(e.fdtree,5),r.F.codes2map(e.fdtree,5,e.fdmap),r.F.revCodes(e.fdtree,5),a(e.itree,19,0),a(e.ltree,286,0),a(e.dtree,30,0),a(e.ttree,320,0)}()}();var Hm=function(e,t){return t.forEach((function(t){t&&"string"!=typeof t&&!Array.isArray(t)&&Object.keys(t).forEach((function(n){if("default"!==n&&!(n in e)){var r=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(e,n,r.get?r:{enumerable:!0,get:function(){return t[n]}})}}))})),Object.freeze(e)}({__proto__:null,default:$m},[$m]);const Qm=function(){var e={nextZero(e,t){for(;0!=e[t];)t++;return t},readUshort:(e,t)=>e[t]<<8|e[t+1],writeUshort(e,t,n){e[t]=n>>8&255,e[t+1]=255&n},readUint:(e,t)=>16777216*e[t]+(e[t+1]<<16|e[t+2]<<8|e[t+3]),writeUint(e,t,n){e[t]=n>>24&255,e[t+1]=n>>16&255,e[t+2]=n>>8&255,e[t+3]=255&n},readASCII(e,t,n){let r="";for(let a=0;a<n;a++)r+=String.fromCharCode(e[t+a]);return r},writeASCII(e,t,n){for(let r=0;r<n.length;r++)e[t+r]=n.charCodeAt(r)},readBytes(e,t,n){const r=[];for(let a=0;a<n;a++)r.push(e[t+a]);return r},pad:e=>e.length<2?"0".concat(e):e,readUTF8(t,n,r){let a,o="";for(let i=0;i<r;i++)o+="%".concat(e.pad(t[n+i].toString(16)));try{a=decodeURIComponent(o)}catch(a){return e.readASCII(t,n,r)}return a}};function t(t,n,r,a){const i=n*r,s=o(a),l=Math.ceil(n*s/8),u=new Uint8Array(4*i),c=new Uint32Array(u.buffer),{ctype:d}=a,{depth:p}=a,f=e.readUshort;if(6==d){const e=i<<2;if(8==p)for(var h=0;h<e;h+=4)u[h]=t[h],u[h+1]=t[h+1],u[h+2]=t[h+2],u[h+3]=t[h+3];if(16==p)for(h=0;h<e;h++)u[h]=t[h<<1]}else if(2==d){const e=a.tabs.tRNS;if(null==e){if(8==p)for(h=0;h<i;h++){var m=3*h;c[h]=255<<24|t[m+2]<<16|t[m+1]<<8|t[m]}if(16==p)for(h=0;h<i;h++)m=6*h,c[h]=255<<24|t[m+4]<<16|t[m+2]<<8|t[m]}else{var g=e[0];const n=e[1],r=e[2];if(8==p)for(h=0;h<i;h++){var v=h<<2;m=3*h,c[h]=255<<24|t[m+2]<<16|t[m+1]<<8|t[m],t[m]==g&&t[m+1]==n&&t[m+2]==r&&(u[v+3]=0)}if(16==p)for(h=0;h<i;h++)v=h<<2,m=6*h,c[h]=255<<24|t[m+4]<<16|t[m+2]<<8|t[m],f(t,m)==g&&f(t,m+2)==n&&f(t,m+4)==r&&(u[v+3]=0)}}else if(3==d){const e=a.tabs.PLTE,o=a.tabs.tRNS,s=o?o.length:0;if(1==p)for(var y=0;y<r;y++){var _=y*l,b=y*n;for(h=0;h<n;h++){v=b+h<<2;var w=3*(k=t[_+(h>>3)]>>7-(7&h)&1);u[v]=e[w],u[v+1]=e[w+1],u[v+2]=e[w+2],u[v+3]=k<s?o[k]:255}}if(2==p)for(y=0;y<r;y++)for(_=y*l,b=y*n,h=0;h<n;h++)v=b+h<<2,w=3*(k=t[_+(h>>2)]>>6-((3&h)<<1)&3),u[v]=e[w],u[v+1]=e[w+1],u[v+2]=e[w+2],u[v+3]=k<s?o[k]:255;if(4==p)for(y=0;y<r;y++)for(_=y*l,b=y*n,h=0;h<n;h++)v=b+h<<2,w=3*(k=t[_+(h>>1)]>>4-((1&h)<<2)&15),u[v]=e[w],u[v+1]=e[w+1],u[v+2]=e[w+2],u[v+3]=k<s?o[k]:255;if(8==p)for(h=0;h<i;h++){var k;v=h<<2,w=3*(k=t[h]),u[v]=e[w],u[v+1]=e[w+1],u[v+2]=e[w+2],u[v+3]=k<s?o[k]:255}}else if(4==d){if(8==p)for(h=0;h<i;h++){v=h<<2;var A=t[x=h<<1];u[v]=A,u[v+1]=A,u[v+2]=A,u[v+3]=t[x+1]}if(16==p)for(h=0;h<i;h++){var x;v=h<<2,A=t[x=h<<2],u[v]=A,u[v+1]=A,u[v+2]=A,u[v+3]=t[x+2]}}else if(0==d)for(g=a.tabs.tRNS?a.tabs.tRNS:-1,y=0;y<r;y++){const e=y*l,r=y*n;if(1==p)for(var E=0;E<n;E++){var S=(A=255*(t[e+(E>>>3)]>>>7-(7&E)&1))==255*g?0:255;c[r+E]=S<<24|A<<16|A<<8|A}else if(2==p)for(E=0;E<n;E++)S=(A=85*(t[e+(E>>>2)]>>>6-((3&E)<<1)&3))==85*g?0:255,c[r+E]=S<<24|A<<16|A<<8|A;else if(4==p)for(E=0;E<n;E++)S=(A=17*(t[e+(E>>>1)]>>>4-((1&E)<<2)&15))==17*g?0:255,c[r+E]=S<<24|A<<16|A<<8|A;else if(8==p)for(E=0;E<n;E++)S=(A=t[e+E])==g?0:255,c[r+E]=S<<24|A<<16|A<<8|A;else if(16==p)for(E=0;E<n;E++)A=t[e+(E<<1)],S=f(t,e+(E<<1))==g?0:255,c[r+E]=S<<24|A<<16|A<<8|A}return u}function n(e,t,n,s){const l=o(e),u=Math.ceil(n*l/8),c=new Uint8Array((u+1+e.interlace)*s);return t=e.tabs.CgBI?a(t,c):r(t,c),0==e.interlace?t=i(t,e,0,n,s):1==e.interlace&&(t=function(e,t){const n=t.width,r=t.height,a=o(t),s=a>>3,l=Math.ceil(n*a/8),u=new Uint8Array(r*l);let c=0;const d=[0,0,4,0,2,0,1],p=[0,4,0,2,0,1,0],f=[8,8,8,4,4,2,2],h=[8,8,4,4,2,2,1];let m=0;for(;m<7;){const o=f[m],v=h[m];let y=0,_=0,b=d[m];for(;b<r;)b+=o,_++;let w=p[m];for(;w<n;)w+=v,y++;const k=Math.ceil(y*a/8);i(e,t,c,y,_);let A=0,x=d[m];for(;x<r;){let t=p[m],r=c+A*k<<3;for(;t<n;){var g;if(1==a&&(g=(g=e[r>>3])>>7-(7&r)&1,u[x*l+(t>>3)]|=g<<7-(7&t)),2==a&&(g=(g=e[r>>3])>>6-(7&r)&3,u[x*l+(t>>2)]|=g<<6-((3&t)<<1)),4==a&&(g=(g=e[r>>3])>>4-(7&r)&15,u[x*l+(t>>1)]|=g<<4-((1&t)<<2)),a>=8){const n=x*l+t*s;for(let t=0;t<s;t++)u[n+t]=e[(r>>3)+t]}r+=a,t+=v}A++,x+=o}y*_!=0&&(c+=_*(1+k)),m+=1}return u}(t,e)),t}function r(e,t){return a(new Uint8Array(e.buffer,2,e.length-6),t)}var a=function(){const e={H:{}};return e.H.N=function(t,n){const r=Uint8Array;let a,o,i=0,s=0,l=0,u=0,c=0,d=0,p=0,f=0,h=0;if(3==t[0]&&0==t[1])return n||new r(0);const m=e.H,g=m.b,v=m.e,y=m.R,_=m.n,b=m.A,w=m.Z,k=m.m,A=null==n;for(A&&(n=new r(t.length>>>2<<5));0==i;)if(i=g(t,h,1),s=g(t,h+1,2),h+=3,0!=s){if(A&&(n=e.H.W(n,f+(1<<17))),1==s&&(a=k.J,o=k.h,d=511,p=31),2==s){l=v(t,h,5)+257,u=v(t,h+5,5)+1,c=v(t,h+10,4)+4,h+=14;let e=1;for(var x=0;x<38;x+=2)k.Q[x]=0,k.Q[x+1]=0;for(x=0;x<c;x++){const n=v(t,h+3*x,3);k.Q[1+(k.X[x]<<1)]=n,n>e&&(e=n)}h+=3*c,_(k.Q,e),b(k.Q,e,k.u),a=k.w,o=k.d,h=y(k.u,(1<<e)-1,l+u,t,h,k.v);const n=m.V(k.v,0,l,k.C);d=(1<<n)-1;const r=m.V(k.v,l,u,k.D);p=(1<<r)-1,_(k.C,n),b(k.C,n,a),_(k.D,r),b(k.D,r,o)}for(;;){const e=a[w(t,h)&d];h+=15&e;const r=e>>>4;if(r>>>8==0)n[f++]=r;else{if(256==r)break;{let e=f+r-254;if(r>264){const n=k.q[r-257];e=f+(n>>>3)+v(t,h,7&n),h+=7&n}const a=o[w(t,h)&p];h+=15&a;const i=a>>>4,s=k.c[i],l=(s>>>4)+g(t,h,15&s);for(h+=15&s;f<e;)n[f]=n[f++-l],n[f]=n[f++-l],n[f]=n[f++-l],n[f]=n[f++-l];f=e}}}}else{0!=(7&h)&&(h+=8-(7&h));const a=4+(h>>>3),o=t[a-4]|t[a-3]<<8;A&&(n=e.H.W(n,f+o)),n.set(new r(t.buffer,t.byteOffset+a,o),f),h=a+o<<3,f+=o}return n.length==f?n:n.slice(0,f)},e.H.W=function(e,t){const n=e.length;if(t<=n)return e;const r=new Uint8Array(n<<1);return r.set(e,0),r},e.H.R=function(t,n,r,a,o,i){const s=e.H.e,l=e.H.Z;let u=0;for(;u<r;){const e=t[l(a,o)&n];o+=15&e;const r=e>>>4;if(r<=15)i[u]=r,u++;else{let e=0,t=0;16==r?(t=3+s(a,o,2),o+=2,e=i[u-1]):17==r?(t=3+s(a,o,3),o+=3):18==r&&(t=11+s(a,o,7),o+=7);const n=u+t;for(;u<n;)i[u]=e,u++}}return o},e.H.V=function(e,t,n,r){let a=0,o=0;const i=r.length>>>1;for(;o<n;){const n=e[o+t];r[o<<1]=0,r[1+(o<<1)]=n,n>a&&(a=n),o++}for(;o<i;)r[o<<1]=0,r[1+(o<<1)]=0,o++;return a},e.H.n=function(t,n){const r=e.H.m,a=t.length;let o,i,s,l;const u=r.j;for(var c=0;c<=n;c++)u[c]=0;for(c=1;c<a;c+=2)u[t[c]]++;const d=r.K;for(o=0,u[0]=0,i=1;i<=n;i++)o=o+u[i-1]<<1,d[i]=o;for(s=0;s<a;s+=2)l=t[s+1],0!=l&&(t[s]=d[l],d[l]++)},e.H.A=function(t,n,r){const a=t.length,o=e.H.m.r;for(let e=0;e<a;e+=2)if(0!=t[e+1]){const a=e>>1,i=t[e+1],s=a<<4|i,l=n-i;let u=t[e]<<l;const c=u+(1<<l);for(;u!=c;)r[o[u]>>>15-n]=s,u++}},e.H.l=function(t,n){const r=e.H.m.r,a=15-n;for(let e=0;e<t.length;e+=2){const o=t[e]<<n-t[e+1];t[e]=r[o]>>>a}},e.H.M=function(e,t,n){n<<=7&t;const r=t>>>3;e[r]|=n,e[r+1]|=n>>>8},e.H.I=function(e,t,n){n<<=7&t;const r=t>>>3;e[r]|=n,e[r+1]|=n>>>8,e[r+2]|=n>>>16},e.H.e=function(e,t,n){return(e[t>>>3]|e[1+(t>>>3)]<<8)>>>(7&t)&(1<<n)-1},e.H.b=function(e,t,n){return(e[t>>>3]|e[1+(t>>>3)]<<8|e[2+(t>>>3)]<<16)>>>(7&t)&(1<<n)-1},e.H.Z=function(e,t){return(e[t>>>3]|e[1+(t>>>3)]<<8|e[2+(t>>>3)]<<16)>>>(7&t)},e.H.i=function(e,t){return(e[t>>>3]|e[1+(t>>>3)]<<8|e[2+(t>>>3)]<<16|e[3+(t>>>3)]<<24)>>>(7&t)},e.H.m=function(){const e=Uint16Array,t=Uint32Array;return{K:new e(16),j:new e(16),X:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],S:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],T:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],q:new e(32),p:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],z:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],c:new t(32),J:new e(512),_:[],h:new e(32),$:[],w:new e(32768),C:[],v:[],d:new e(32768),D:[],u:new e(512),Q:[],r:new e(32768),s:new t(286),Y:new t(30),a:new t(19),t:new t(15e3),k:new e(65536),g:new e(32768)}}(),function(){const t=e.H.m;for(var n=0;n<32768;n++){let e=n;e=(2863311530&e)>>>1|(1431655765&e)<<1,e=(3435973836&e)>>>2|(858993459&e)<<2,e=(4042322160&e)>>>4|(252645135&e)<<4,e=(4278255360&e)>>>8|(16711935&e)<<8,t.r[n]=(e>>>16|e<<16)>>>17}function r(e,t,n){for(;0!=t--;)e.push(0,n)}for(n=0;n<32;n++)t.q[n]=t.S[n]<<3|t.T[n],t.c[n]=t.p[n]<<4|t.z[n];r(t._,144,8),r(t._,112,9),r(t._,24,7),r(t._,8,8),e.H.n(t._,9),e.H.A(t._,9,t.J),e.H.l(t._,9),r(t.$,32,5),e.H.n(t.$,5),e.H.A(t.$,5,t.h),e.H.l(t.$,5),r(t.Q,19,0),r(t.C,286,0),r(t.D,30,0),r(t.v,320,0)}(),e.H.N}();function o(e){return[1,null,3,1,2,null,4][e.ctype]*e.depth}function i(e,t,n,r,a){let i=o(t);const l=Math.ceil(r*i/8);let u,c;i=Math.ceil(i/8);let d=e[n],p=0;if(d>1&&(e[n]=[0,0,1][d-2]),3==d)for(p=i;p<l;p++)e[p+1]=e[p+1]+(e[p+1-i]>>>1)&255;for(let o=0;o<a;o++)if(u=n+o*l,c=u+o+1,d=e[c-1],p=0,0==d)for(;p<l;p++)e[u+p]=e[c+p];else if(1==d){for(;p<i;p++)e[u+p]=e[c+p];for(;p<l;p++)e[u+p]=e[c+p]+e[u+p-i]}else if(2==d)for(;p<l;p++)e[u+p]=e[c+p]+e[u+p-l];else if(3==d){for(;p<i;p++)e[u+p]=e[c+p]+(e[u+p-l]>>>1);for(;p<l;p++)e[u+p]=e[c+p]+(e[u+p-l]+e[u+p-i]>>>1)}else{for(;p<i;p++)e[u+p]=e[c+p]+s(0,e[u+p-l],0);for(;p<l;p++)e[u+p]=e[c+p]+s(e[u+p-i],e[u+p-l],e[u+p-i-l])}return e}function s(e,t,n){const r=e+t-n,a=r-e,o=r-t,i=r-n;return a*a<=o*o&&a*a<=i*i?e:o*o<=i*i?t:n}function l(t,n,r){r.width=e.readUint(t,n),n+=4,r.height=e.readUint(t,n),n+=4,r.depth=t[n],n++,r.ctype=t[n],n++,r.compress=t[n],n++,r.filter=t[n],n++,r.interlace=t[n],n++}function u(e,t,n,r,a,o,i,s,l){const u=Math.min(t,a),c=Math.min(n,o);let d=0,p=0;for(let w=0;w<c;w++)for(let n=0;n<u;n++)if(i>=0&&s>=0?(d=w*t+n<<2,p=(s+w)*a+i+n<<2):(d=(-s+w)*t-i+n<<2,p=w*a+n<<2),0==l)r[p]=e[d],r[p+1]=e[d+1],r[p+2]=e[d+2],r[p+3]=e[d+3];else if(1==l){var f=e[d+3]*(1/255),h=e[d]*f,m=e[d+1]*f,g=e[d+2]*f,v=r[p+3]*(1/255),y=r[p]*v,_=r[p+1]*v,b=r[p+2]*v;const t=1-f,n=f+v*t,a=0==n?0:1/n;r[p+3]=255*n,r[p+0]=(h+y*t)*a,r[p+1]=(m+_*t)*a,r[p+2]=(g+b*t)*a}else if(2==l)f=e[d+3],h=e[d],m=e[d+1],g=e[d+2],v=r[p+3],y=r[p],_=r[p+1],b=r[p+2],f==v&&h==y&&m==_&&g==b?(r[p]=0,r[p+1]=0,r[p+2]=0,r[p+3]=0):(r[p]=h,r[p+1]=m,r[p+2]=g,r[p+3]=f);else if(3==l){if(f=e[d+3],h=e[d],m=e[d+1],g=e[d+2],v=r[p+3],y=r[p],_=r[p+1],b=r[p+2],f==v&&h==y&&m==_&&g==b)continue;if(f<220&&v>20)return!1}return!0}return{decode:function(t){const o=new Uint8Array(t);let i=8;const s=e,u=s.readUshort,c=s.readUint,d={tabs:{},frames:[]},p=new Uint8Array(o.length);let f,h=0,m=0;const g=[137,80,78,71,13,10,26,10];for(var v=0;v<8;v++)if(o[v]!=g[v])throw"The input is not a PNG file!";for(;i<o.length;){const t=s.readUint(o,i);i+=4;const g=s.readASCII(o,i,4);if(i+=4,"IHDR"==g)l(o,i,d);else if("iCCP"==g){for(var y=i;0!=o[y];)y++;s.readASCII(o,i,y-i),o[y+1];const n=o.slice(y+2,i+t);let l=null;try{l=r(n)}catch(e){l=a(n)}d.tabs[g]=l}else if("CgBI"==g)d.tabs[g]=o.slice(i,i+4);else if("IDAT"==g){for(v=0;v<t;v++)p[h+v]=o[i+v];h+=t}else if("acTL"==g)d.tabs[g]={num_frames:c(o,i),num_plays:c(o,i+4)},f=new Uint8Array(o.length);else if("fcTL"==g){0!=m&&((x=d.frames[d.frames.length-1]).data=n(d,f.slice(0,m),x.rect.width,x.rect.height),m=0);const e={x:c(o,i+12),y:c(o,i+16),width:c(o,i+4),height:c(o,i+8)};let t=u(o,i+22);t=u(o,i+20)/(0==t?100:t);const r={rect:e,delay:Math.round(1e3*t),dispose:o[i+24],blend:o[i+25]};d.frames.push(r)}else if("fdAT"==g){for(v=0;v<t-4;v++)f[m+v]=o[i+v+4];m+=t-4}else if("pHYs"==g)d.tabs[g]=[s.readUint(o,i),s.readUint(o,i+4),o[i+8]];else if("cHRM"==g)for(d.tabs[g]=[],v=0;v<8;v++)d.tabs[g].push(s.readUint(o,i+4*v));else if("tEXt"==g||"zTXt"==g){null==d.tabs[g]&&(d.tabs[g]={});var _=s.nextZero(o,i),b=s.readASCII(o,i,_-i),w=i+t-_-1;if("tEXt"==g)A=s.readASCII(o,_+1,w);else{var k=r(o.slice(_+2,_+2+w));A=s.readUTF8(k,0,k.length)}d.tabs[g][b]=A}else if("iTXt"==g){null==d.tabs[g]&&(d.tabs[g]={}),_=0,y=i,_=s.nextZero(o,y),b=s.readASCII(o,y,_-y);const e=o[y=_+1];var A;o[y+1],y+=2,_=s.nextZero(o,y),s.readASCII(o,y,_-y),y=_+1,_=s.nextZero(o,y),s.readUTF8(o,y,_-y),w=t-((y=_+1)-i),0==e?A=s.readUTF8(o,y,w):(k=r(o.slice(y,y+w)),A=s.readUTF8(k,0,k.length)),d.tabs[g][b]=A}else if("PLTE"==g)d.tabs[g]=s.readBytes(o,i,t);else if("hIST"==g){const e=d.tabs.PLTE.length/3;for(d.tabs[g]=[],v=0;v<e;v++)d.tabs[g].push(u(o,i+2*v))}else if("tRNS"==g)3==d.ctype?d.tabs[g]=s.readBytes(o,i,t):0==d.ctype?d.tabs[g]=u(o,i):2==d.ctype&&(d.tabs[g]=[u(o,i),u(o,i+2),u(o,i+4)]);else if("gAMA"==g)d.tabs[g]=s.readUint(o,i)/1e5;else if("sRGB"==g)d.tabs[g]=o[i];else if("bKGD"==g)0==d.ctype||4==d.ctype?d.tabs[g]=[u(o,i)]:2==d.ctype||6==d.ctype?d.tabs[g]=[u(o,i),u(o,i+2),u(o,i+4)]:3==d.ctype&&(d.tabs[g]=o[i]);else if("IEND"==g)break;i+=t,s.readUint(o,i),i+=4}var x;return 0!=m&&((x=d.frames[d.frames.length-1]).data=n(d,f.slice(0,m),x.rect.width,x.rect.height)),d.data=n(d,p,d.width,d.height),delete d.compress,delete d.interlace,delete d.filter,d},toRGBA8:function(e){const n=e.width,r=e.height;if(null==e.tabs.acTL)return[t(e.data,n,r,e).buffer];const a=[];null==e.frames[0].data&&(e.frames[0].data=e.data);const o=n*r*4,i=new Uint8Array(o),s=new Uint8Array(o),l=new Uint8Array(o);for(let d=0;d<e.frames.length;d++){const p=e.frames[d],f=p.rect.x,h=p.rect.y,m=p.rect.width,g=p.rect.height,v=t(p.data,m,g,e);if(0!=d)for(var c=0;c<o;c++)l[c]=i[c];if(0==p.blend?u(v,m,g,i,n,r,f,h,0):1==p.blend&&u(v,m,g,i,n,r,f,h,1),a.push(i.buffer.slice(0)),0==p.dispose);else if(1==p.dispose)u(s,m,g,i,n,r,f,h,0);else if(2==p.dispose)for(c=0;c<o;c++)i[c]=l[c]}return a},_paeth:s,_copyTile:u,_bin:e}}();!function(){const{_copyTile:e}=Qm,{_bin:t}=Qm,n=Qm._paeth;var r={table:function(){const e=new Uint32Array(256);for(let t=0;t<256;t++){let n=t;for(let e=0;e<8;e++)1&n?n=3988292384^n>>>1:n>>>=1;e[t]=n}return e}(),update(e,t,n,a){for(let o=0;o<a;o++)e=r.table[255&(e^t[n+o])]^e>>>8;return e},crc:(e,t,n)=>4294967295^r.update(4294967295,e,t,n)};function a(e,t,n,r){t[n]+=e[0]*r>>4,t[n+1]+=e[1]*r>>4,t[n+2]+=e[2]*r>>4,t[n+3]+=e[3]*r>>4}function o(e){return Math.max(0,Math.min(255,e))}function i(e,t){const n=e[0]-t[0],r=e[1]-t[1],a=e[2]-t[2],o=e[3]-t[3];return n*n+r*r+a*a+o*o}function s(e,t,n,r,s,l,u){null==u&&(u=1);const c=r.length,d=[];for(var p=0;p<c;p++){const e=r[p];d.push([e>>>0&255,e>>>8&255,e>>>16&255,e>>>24&255])}for(p=0;p<c;p++){let e=4294967295;for(var f=0,h=0;h<c;h++){var m=i(d[p],d[h]);h!=p&&m<e&&(e=m,f=h)}}const g=new Uint32Array(s.buffer),v=new Int16Array(t*n*4),y=[0,8,2,10,12,4,14,6,3,11,1,9,15,7,13,5];for(p=0;p<y.length;p++)y[p]=255*((y[p]+.5)/16-.5);for(let b=0;b<n;b++)for(let s=0;s<t;s++){var _;p=4*(b*t+s),2!=u?_=[o(e[p]+v[p]),o(e[p+1]+v[p+1]),o(e[p+2]+v[p+2]),o(e[p+3]+v[p+3])]:(m=y[4*(3&b)+(3&s)],_=[o(e[p]+m),o(e[p+1]+m),o(e[p+2]+m),o(e[p+3]+m)]),f=0;let w=16777215;for(h=0;h<c;h++){const e=i(_,d[h]);e<w&&(w=e,f=h)}const k=d[f],A=[_[0]-k[0],_[1]-k[1],_[2]-k[2],_[3]-k[3]];1==u&&(s!=t-1&&a(A,v,p+4,7),b!=n-1&&(0!=s&&a(A,v,p+4*t-4,3),a(A,v,p+4*t,5),s!=t-1&&a(A,v,p+4*t+4,1))),l[p>>2]=f,g[p>>2]=r[f]}}function l(e,n,a,o,i){null==i&&(i={});const{crc:s}=r,l=t.writeUint,u=t.writeUshort,c=t.writeASCII;let d=8;const p=e.frames.length>1;let f,h=!1,m=33+(p?20:0);if(null!=i.sRGB&&(m+=13),null!=i.pHYs&&(m+=21),null!=i.iCCP&&(f=pako.deflate(i.iCCP),m+=21+f.length+4),3==e.ctype){for(var g=e.plte.length,v=0;v<g;v++)e.plte[v]>>>24!=255&&(h=!0);m+=8+3*g+4+(h?8+1*g+4:0)}for(var y=0;y<e.frames.length;y++)p&&(m+=38),m+=(k=e.frames[y]).cimg.length+12,0!=y&&(m+=4);m+=12;const _=new Uint8Array(m),b=[137,80,78,71,13,10,26,10];for(v=0;v<8;v++)_[v]=b[v];if(l(_,d,13),d+=4,c(_,d,"IHDR"),d+=4,l(_,d,n),d+=4,l(_,d,a),d+=4,_[d]=e.depth,d++,_[d]=e.ctype,d++,_[d]=0,d++,_[d]=0,d++,_[d]=0,d++,l(_,d,s(_,d-17,17)),d+=4,null!=i.sRGB&&(l(_,d,1),d+=4,c(_,d,"sRGB"),d+=4,_[d]=i.sRGB,d++,l(_,d,s(_,d-5,5)),d+=4),null!=i.iCCP){const e=13+f.length;l(_,d,e),d+=4,c(_,d,"iCCP"),d+=4,c(_,d,"ICC profile"),d+=11,d+=2,_.set(f,d),d+=f.length,l(_,d,s(_,d-(e+4),e+4)),d+=4}if(null!=i.pHYs&&(l(_,d,9),d+=4,c(_,d,"pHYs"),d+=4,l(_,d,i.pHYs[0]),d+=4,l(_,d,i.pHYs[1]),d+=4,_[d]=i.pHYs[2],d++,l(_,d,s(_,d-13,13)),d+=4),p&&(l(_,d,8),d+=4,c(_,d,"acTL"),d+=4,l(_,d,e.frames.length),d+=4,l(_,d,null!=i.loop?i.loop:0),d+=4,l(_,d,s(_,d-12,12)),d+=4),3==e.ctype){for(l(_,d,3*(g=e.plte.length)),d+=4,c(_,d,"PLTE"),d+=4,v=0;v<g;v++){const t=3*v,n=e.plte[v],r=255&n,a=n>>>8&255,o=n>>>16&255;_[d+t+0]=r,_[d+t+1]=a,_[d+t+2]=o}if(d+=3*g,l(_,d,s(_,d-3*g-4,3*g+4)),d+=4,h){for(l(_,d,g),d+=4,c(_,d,"tRNS"),d+=4,v=0;v<g;v++)_[d+v]=e.plte[v]>>>24&255;d+=g,l(_,d,s(_,d-g-4,g+4)),d+=4}}let w=0;for(y=0;y<e.frames.length;y++){var k=e.frames[y];p&&(l(_,d,26),d+=4,c(_,d,"fcTL"),d+=4,l(_,d,w++),d+=4,l(_,d,k.rect.width),d+=4,l(_,d,k.rect.height),d+=4,l(_,d,k.rect.x),d+=4,l(_,d,k.rect.y),d+=4,u(_,d,o[y]),d+=2,u(_,d,1e3),d+=2,_[d]=k.dispose,d++,_[d]=k.blend,d++,l(_,d,s(_,d-30,30)),d+=4);const t=k.cimg;l(_,d,(g=t.length)+(0==y?0:4)),d+=4;const n=d;c(_,d,0==y?"IDAT":"fdAT"),d+=4,0!=y&&(l(_,d,w++),d+=4),_.set(t,d),d+=g,l(_,d,s(_,n,d-n)),d+=4}return l(_,d,0),d+=4,c(_,d,"IEND"),d+=4,l(_,d,s(_,d-4,4)),d+=4,_.buffer}function u(e,t,n){for(let r=0;r<e.frames.length;r++){const a=e.frames[r];a.rect.width;const o=a.rect.height,i=new Uint8Array(o*a.bpl+o);a.cimg=f(a.img,o,a.bpp,a.bpl,i,t,n)}}function c(t,n,r,a,o){const i=o[0],l=o[1],u=o[2],c=o[3],f=o[4],h=o[5];let g=6,v=8,y=255;for(var _=0;_<t.length;_++){const e=new Uint8Array(t[_]);for(var b=e.length,w=0;w<b;w+=4)y&=e[w+3]}const k=255!=y,A=function(t,n,r,a,o,i){const s=[];for(var l=0;l<t.length;l++){const d=new Uint8Array(t[l]),f=new Uint32Array(d.buffer);var u;let m=0,g=0,v=n,y=r,_=a?1:0;if(0!=l){const b=i||a||1==l||0!=s[l-2].dispose?1:2;let w=0,k=1e9;for(let e=0;e<b;e++){var c=new Uint8Array(t[l-1-e]);const a=new Uint32Array(t[l-1-e]);let i=n,s=r,u=-1,d=-1;for(let e=0;e<r;e++)for(let t=0;t<n;t++)f[h=e*n+t]!=a[h]&&(t<i&&(i=t),t>u&&(u=t),e<s&&(s=e),e>d&&(d=e));-1==u&&(i=s=u=d=0),o&&(1==(1&i)&&i--,1==(1&s)&&s--);const p=(u-i+1)*(d-s+1);p<k&&(k=p,w=e,m=i,g=s,v=u-i+1,y=d-s+1)}c=new Uint8Array(t[l-1-w]),1==w&&(s[l-1].dispose=2),u=new Uint8Array(v*y*4),e(c,n,r,u,v,y,-m,-g,0),_=e(d,n,r,u,v,y,-m,-g,3)?1:0,1==_?p(d,n,r,u,{x:m,y:g,width:v,height:y}):e(d,n,r,u,v,y,-m,-g,0)}else u=d.slice(0);s.push({rect:{x:m,y:g,width:v,height:y},img:u,blend:_,dispose:0})}if(a)for(l=0;l<s.length;l++){if(1==(m=s[l]).blend)continue;const e=m.rect,a=s[l-1].rect,i=Math.min(e.x,a.x),u=Math.min(e.y,a.y),c={x:i,y:u,width:Math.max(e.x+e.width,a.x+a.width)-i,height:Math.max(e.y+e.height,a.y+a.height)-u};s[l-1].dispose=1,l-1!=0&&d(t,n,r,s,l-1,c,o),d(t,n,r,s,l,c,o)}let f=0;if(1!=t.length)for(var h=0;h<s.length;h++){var m;f+=(m=s[h]).rect.width*m.rect.height}return s}(t,n,r,i,l,u),x={},E=[],S=[];if(0!=a){const e=[];for(w=0;w<A.length;w++)e.push(A[w].img.buffer);const t=function(e){let t=0;for(var n=0;n<e.length;n++)t+=e[n].byteLength;const r=new Uint8Array(t);let a=0;for(n=0;n<e.length;n++){const t=new Uint8Array(e[n]),o=t.length;for(let e=0;e<o;e+=4){let n=t[e],o=t[e+1],i=t[e+2];const s=t[e+3];0==s&&(n=o=i=0),r[a+e]=n,r[a+e+1]=o,r[a+e+2]=i,r[a+e+3]=s}a+=o}return r.buffer}(e),n=m(t,a);for(w=0;w<n.plte.length;w++)E.push(n.plte[w].est.rgba);let r=0;for(w=0;w<A.length;w++){const e=(C=A[w]).img.length;var I=new Uint8Array(n.inds.buffer,r>>2,e>>2);S.push(I);const t=new Uint8Array(n.abuf,r,e);h&&s(C.img,C.rect.width,C.rect.height,E,t,I),C.img.set(t),r+=e}}else for(_=0;_<A.length;_++){var C=A[_];const e=new Uint32Array(C.img.buffer);var T=C.rect.width;for(b=e.length,I=new Uint8Array(b),S.push(I),w=0;w<b;w++){const t=e[w];if(0!=w&&t==e[w-1])I[w]=I[w-1];else if(w>T&&t==e[w-T])I[w]=I[w-T];else{let e=x[t];if(null==e&&(x[t]=e=E.length,E.push(t),E.length>=300))break;I[w]=e}}}const O=E.length;for(O<=256&&0==f&&(v=O<=2?1:O<=4?2:O<=16?4:8,v=Math.max(v,c)),_=0;_<A.length;_++){(C=A[_]).rect.x,C.rect.y,T=C.rect.width;const e=C.rect.height;let t=C.img;new Uint32Array(t.buffer);let n=4*T,r=4;if(O<=256&&0==f){n=Math.ceil(v*T/8);var P=new Uint8Array(n*e);const a=S[_];for(let t=0;t<e;t++){w=t*n;const e=t*T;if(8==v)for(var M=0;M<T;M++)P[w+M]=a[e+M];else if(4==v)for(M=0;M<T;M++)P[w+(M>>1)]|=a[e+M]<<4-4*(1&M);else if(2==v)for(M=0;M<T;M++)P[w+(M>>2)]|=a[e+M]<<6-2*(3&M);else if(1==v)for(M=0;M<T;M++)P[w+(M>>3)]|=a[e+M]<<7-1*(7&M)}t=P,g=3,r=1}else if(0==k&&1==A.length){P=new Uint8Array(T*e*3);const a=T*e;for(w=0;w<a;w++){const e=3*w,n=4*w;P[e]=t[n],P[e+1]=t[n+1],P[e+2]=t[n+2]}t=P,g=2,r=3,n=3*T}C.img=t,C.bpl=n,C.bpp=r}return{ctype:g,depth:v,plte:E,frames:A}}function d(t,n,r,a,o,i,s){const l=Uint8Array,u=Uint32Array,c=new l(t[o-1]),d=new u(t[o-1]),f=o+1<t.length?new l(t[o+1]):null,h=new l(t[o]),m=new u(h.buffer);let g=n,v=r,y=-1,_=-1;for(let e=0;e<i.height;e++)for(let t=0;t<i.width;t++){const r=i.x+t,s=i.y+e,l=s*n+r,u=m[l];0==u||0==a[o-1].dispose&&d[l]==u&&(null==f||0!=f[4*l+3])||(r<g&&(g=r),r>y&&(y=r),s<v&&(v=s),s>_&&(_=s))}-1==y&&(g=v=y=_=0),s&&(1==(1&g)&&g--,1==(1&v)&&v--),i={x:g,y:v,width:y-g+1,height:_-v+1};const b=a[o];b.rect=i,b.blend=1,b.img=new Uint8Array(i.width*i.height*4),0==a[o-1].dispose?(e(c,n,r,b.img,i.width,i.height,-i.x,-i.y,0),p(h,n,r,b.img,i)):e(h,n,r,b.img,i.width,i.height,-i.x,-i.y,0)}function p(t,n,r,a,o){e(t,n,r,a,o.width,o.height,-o.x,-o.y,2)}function f(e,t,n,r,a,o,i){const s=[];let l,u=[0,1,2,3,4];-1!=o?u=[o]:(t*r>5e5||1==n)&&(u=[0]),i&&(l={level:0});const c=Hm;for(var d=0;d<u.length;d++){for(let o=0;o<t;o++)h(a,e,o,r,n,u[d]);s.push(c.deflate(a,l))}let p,f=1e9;for(d=0;d<s.length;d++)s[d].length<f&&(p=d,f=s[d].length);return s[p]}function h(e,t,r,a,o,i){const s=r*a;let l=s+r;if(e[l]=i,l++,0==i)if(a<500)for(var u=0;u<a;u++)e[l+u]=t[s+u];else e.set(new Uint8Array(t.buffer,s,a),l);else if(1==i){for(u=0;u<o;u++)e[l+u]=t[s+u];for(u=o;u<a;u++)e[l+u]=t[s+u]-t[s+u-o]+256&255}else if(0==r){for(u=0;u<o;u++)e[l+u]=t[s+u];if(2==i)for(u=o;u<a;u++)e[l+u]=t[s+u];if(3==i)for(u=o;u<a;u++)e[l+u]=t[s+u]-(t[s+u-o]>>1)+256&255;if(4==i)for(u=o;u<a;u++)e[l+u]=t[s+u]-n(t[s+u-o],0,0)+256&255}else{if(2==i)for(u=0;u<a;u++)e[l+u]=t[s+u]+256-t[s+u-a]&255;if(3==i){for(u=0;u<o;u++)e[l+u]=t[s+u]+256-(t[s+u-a]>>1)&255;for(u=o;u<a;u++)e[l+u]=t[s+u]+256-(t[s+u-a]+t[s+u-o]>>1)&255}if(4==i){for(u=0;u<o;u++)e[l+u]=t[s+u]+256-n(0,t[s+u-a],0)&255;for(u=o;u<a;u++)e[l+u]=t[s+u]+256-n(t[s+u-o],t[s+u-a],t[s+u-o-a])&255}}}function m(e,t){const n=new Uint8Array(e),r=n.slice(0),a=new Uint32Array(r.buffer),o=g(r,t),i=o[0],s=o[1],l=n.length,u=new Uint8Array(l>>2);let c;if(n.length<2e7)for(var d=0;d<l;d+=4)c=v(i,p=n[d]*(1/255),f=n[d+1]*(1/255),h=n[d+2]*(1/255),m=n[d+3]*(1/255)),u[d>>2]=c.ind,a[d>>2]=c.est.rgba;else for(d=0;d<l;d+=4){var p=n[d]*(1/255),f=n[d+1]*(1/255),h=n[d+2]*(1/255),m=n[d+3]*(1/255);for(c=i;c.left;)c=y(c.est,p,f,h,m)<=0?c.left:c.right;u[d>>2]=c.ind,a[d>>2]=c.est.rgba}return{abuf:r.buffer,inds:u,plte:s}}function g(e,t,n){null==n&&(n=1e-4);const r=new Uint32Array(e.buffer),a={i0:0,i1:e.length,bst:null,est:null,tdst:0,left:null,right:null};a.bst=w(e,a.i0,a.i1),a.est=k(a.bst);const o=[a];for(;o.length<t;){let t=0,a=0;for(var i=0;i<o.length;i++)o[i].est.L>t&&(t=o[i].est.L,a=i);if(t<n)break;const s=o[a],l=_(e,r,s.i0,s.i1,s.est.e,s.est.eMq255);if(s.i0>=l||s.i1<=l){s.est.L=0;continue}const u={i0:s.i0,i1:l,bst:null,est:null,tdst:0,left:null,right:null};u.bst=w(e,u.i0,u.i1),u.est=k(u.bst);const c={i0:l,i1:s.i1,bst:null,est:null,tdst:0,left:null,right:null};for(c.bst={R:[],m:[],N:s.bst.N-u.bst.N},i=0;i<16;i++)c.bst.R[i]=s.bst.R[i]-u.bst.R[i];for(i=0;i<4;i++)c.bst.m[i]=s.bst.m[i]-u.bst.m[i];c.est=k(c.bst),s.left=u,s.right=c,o[a]=u,o.push(c)}for(o.sort(((e,t)=>t.bst.N-e.bst.N)),i=0;i<o.length;i++)o[i].ind=i;return[a,o]}function v(e,t,n,r,a){if(null==e.left)return e.tdst=function(e,t,n,r,a){const o=t-e[0],i=n-e[1],s=r-e[2],l=a-e[3];return o*o+i*i+s*s+l*l}(e.est.q,t,n,r,a),e;const o=y(e.est,t,n,r,a);let i=e.left,s=e.right;o>0&&(i=e.right,s=e.left);const l=v(i,t,n,r,a);if(l.tdst<=o*o)return l;const u=v(s,t,n,r,a);return u.tdst<l.tdst?u:l}function y(e,t,n,r,a){const{e:o}=e;return o[0]*t+o[1]*n+o[2]*r+o[3]*a-e.eMq}function _(e,t,n,r,a,o){for(r-=4;n<r;){for(;b(e,n,a)<=o;)n+=4;for(;b(e,r,a)>o;)r-=4;if(n>=r)break;const i=t[n>>2];t[n>>2]=t[r>>2],t[r>>2]=i,n+=4,r-=4}for(;b(e,n,a)>o;)n-=4;return n+4}function b(e,t,n){return e[t]*n[0]+e[t+1]*n[1]+e[t+2]*n[2]+e[t+3]*n[3]}function w(e,t,n){const r=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],a=[0,0,0,0],o=n-t>>2;for(let i=t;i<n;i+=4){const t=e[i]*(1/255),n=e[i+1]*(1/255),o=e[i+2]*(1/255),s=e[i+3]*(1/255);a[0]+=t,a[1]+=n,a[2]+=o,a[3]+=s,r[0]+=t*t,r[1]+=t*n,r[2]+=t*o,r[3]+=t*s,r[5]+=n*n,r[6]+=n*o,r[7]+=n*s,r[10]+=o*o,r[11]+=o*s,r[15]+=s*s}return r[4]=r[1],r[8]=r[2],r[9]=r[6],r[12]=r[3],r[13]=r[7],r[14]=r[11],{R:r,m:a,N:o}}function k(e){const{R:t}=e,{m:n}=e,{N:r}=e,a=n[0],o=n[1],i=n[2],s=n[3],l=0==r?0:1/r,u=[t[0]-a*a*l,t[1]-a*o*l,t[2]-a*i*l,t[3]-a*s*l,t[4]-o*a*l,t[5]-o*o*l,t[6]-o*i*l,t[7]-o*s*l,t[8]-i*a*l,t[9]-i*o*l,t[10]-i*i*l,t[11]-i*s*l,t[12]-s*a*l,t[13]-s*o*l,t[14]-s*i*l,t[15]-s*s*l],c=u,d=A;let p=[Math.random(),Math.random(),Math.random(),Math.random()],f=0,h=0;if(0!=r)for(let g=0;g<16&&(p=d.multVec(c,p),h=Math.sqrt(d.dot(p,p)),p=d.sml(1/h,p),!(0!=g&&Math.abs(h-f)<1e-9));g++)f=h;const m=[a*l,o*l,i*l,s*l];return{Cov:u,q:m,e:p,L:f,eMq255:d.dot(d.sml(255,m),p),eMq:d.dot(p,m),rgba:(Math.round(255*m[3])<<24|Math.round(255*m[2])<<16|Math.round(255*m[1])<<8|Math.round(255*m[0]))>>>0}}var A={multVec:(e,t)=>[e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+e[3]*t[3],e[4]*t[0]+e[5]*t[1]+e[6]*t[2]+e[7]*t[3],e[8]*t[0]+e[9]*t[1]+e[10]*t[2]+e[11]*t[3],e[12]*t[0]+e[13]*t[1]+e[14]*t[2]+e[15]*t[3]],dot:(e,t)=>e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+e[3]*t[3],sml:(e,t)=>[e*t[0],e*t[1],e*t[2],e*t[3]]};Qm.encode=function(e,t,n,r,a,o,i){null==r&&(r=0),null==i&&(i=!1);const s=c(e,t,n,r,[!1,!1,!1,0,i,!1]);return u(s,-1),l(s,t,n,a,o)},Qm.encodeLL=function(e,t,n,r,a,o,i,s){const c={ctype:0+(1==r?0:2)+(0==a?0:4),depth:o,frames:[]},d=(r+a)*o,p=d*t;for(let l=0;l<e.length;l++)c.frames.push({rect:{x:0,y:0,width:t,height:n},img:new Uint8Array(e[l]),blend:0,dispose:1,bpp:Math.ceil(d/8),bpl:Math.ceil(p/8)});return u(c,0,!0),l(c,t,n,i,s)},Qm.encode.compress=c,Qm.encode.dither=s,Qm.quantize=m,Qm.quantize.getKDtree=g,Qm.quantize.getNearest=v}();const Jm={toArrayBuffer(e,t){const n=e.width,r=e.height,a=n<<2,o=e.getContext("2d").getImageData(0,0,n,r),i=new Uint32Array(o.data.buffer),s=(32*n+31)/32<<2,l=s*r,u=122+l,c=new ArrayBuffer(u),d=new DataView(c),p=1<<20;let f,h,m,g,v=p,y=0,_=0,b=0;function w(e){d.setUint16(_,e,!0),_+=2}function k(e){d.setUint32(_,e,!0),_+=4}function A(e){_+=e}w(19778),k(u),A(4),k(122),k(108),k(n),k(-r>>>0),w(1),w(32),k(3),k(l),k(2835),k(2835),A(8),k(16711680),k(65280),k(255),k(4278190080),k(1466527264),function e(){for(;y<r&&v>0;){for(g=122+y*s,f=0;f<a;)v--,h=i[b++],m=h>>>24,d.setUint32(g+f,h<<8|m),f+=4;y++}b<i.length?(v=p,setTimeout(e,Jm._dly)):t(c)}()},toBlob(e,t){this.toArrayBuffer(e,(e=>{t(new Blob([e],{type:"image/bmp"}))}))},_dly:9};var Gm={CHROME:"CHROME",FIREFOX:"FIREFOX",DESKTOP_SAFARI:"DESKTOP_SAFARI",IE:"IE",IOS:"IOS",ETC:"ETC"},Ym={[Gm.CHROME]:16384,[Gm.FIREFOX]:11180,[Gm.DESKTOP_SAFARI]:16384,[Gm.IE]:8192,[Gm.IOS]:4096,[Gm.ETC]:8192};const Xm="undefined"!=typeof window,eg="undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope,tg=Xm&&window.cordova&&window.cordova.require&&window.cordova.require("cordova/modulemapper"),ng=(Xm||eg)&&(tg&&tg.getOriginalSymbol(window,"File")||"undefined"!=typeof File&&File),rg=(Xm||eg)&&(tg&&tg.getOriginalSymbol(window,"FileReader")||"undefined"!=typeof FileReader&&FileReader);function ag(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Date.now();return new Promise((r=>{const a=e.split(","),o=a[0].match(/:(.*?);/)[1],i=globalThis.atob(a[1]);let s=i.length;const l=new Uint8Array(s);for(;s--;)l[s]=i.charCodeAt(s);const u=new Blob([l],{type:o});u.name=t,u.lastModified=n,r(u)}))}function og(e){return new Promise(((t,n)=>{const r=new rg;r.onload=()=>t(r.result),r.onerror=e=>n(e),r.readAsDataURL(e)}))}function ig(e){return new Promise(((t,n)=>{const r=new Image;r.onload=()=>t(r),r.onerror=e=>n(e),r.src=e}))}function sg(){if(void 0!==sg.cachedResult)return sg.cachedResult;let e=Gm.ETC;const{userAgent:t}=navigator;return/Chrom(e|ium)/i.test(t)?e=Gm.CHROME:/iP(ad|od|hone)/i.test(t)&&/WebKit/i.test(t)?e=Gm.IOS:/Safari/i.test(t)?e=Gm.DESKTOP_SAFARI:/Firefox/i.test(t)?e=Gm.FIREFOX:(/MSIE/i.test(t)||1==!!document.documentMode)&&(e=Gm.IE),sg.cachedResult=e,sg.cachedResult}function lg(e,t){const n=sg(),r=Ym[n];let a=e,o=t,i=a*o;const s=a>o?o/a:a/o;for(;i>r*r;){const e=(r+a)/2,t=(r+o)/2;e<t?(o=t,a=t*s):(o=e*s,a=e),i=a*o}return{width:a,height:o}}function ug(e,t){let n,r;try{if(n=new OffscreenCanvas(e,t),r=n.getContext("2d"),null===r)throw new Error("getContext of OffscreenCanvas returns null")}catch(e){n=document.createElement("canvas"),r=n.getContext("2d")}return n.width=e,n.height=t,[n,r]}function cg(e,t){const{width:n,height:r}=lg(e.width,e.height),[a,o]=ug(n,r);return t&&/jpe?g/.test(t)&&(o.fillStyle="white",o.fillRect(0,0,a.width,a.height)),o.drawImage(e,0,0,a.width,a.height),a}function dg(){return void 0!==dg.cachedResult||(dg.cachedResult=["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"undefined"!=typeof document&&"ontouchend"in document),dg.cachedResult}function pg(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise((function(n,r){let a,o;var i=function(){try{return o=cg(a,t.fileType||e.type),n([a,o])}catch(e){return r(e)}},s=function(t){try{var n=function(e){try{throw e}catch(e){return r(e)}};try{let t;return og(e).then((function(e){try{return t=e,ig(t).then((function(e){try{return a=e,function(){try{return i()}catch(e){return r(e)}}()}catch(e){return n(e)}}),n)}catch(e){return n(e)}}),n)}catch(e){n(e)}}catch(e){return r(e)}};try{if(dg()||[Gm.DESKTOP_SAFARI,Gm.MOBILE_SAFARI].includes(sg()))throw new Error("Skip createImageBitmap on IOS and Safari");return createImageBitmap(e).then((function(e){try{return a=e,i()}catch(e){return s()}}),s)}catch(e){s()}}))}function fg(e,t,n,r){let a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1;return new Promise((function(o,i){let s;if("image/png"===t){let u,c,d;return u=e.getContext("2d"),({data:c}=u.getImageData(0,0,e.width,e.height)),d=Qm.encode([c.buffer],e.width,e.height,4096*a),s=new Blob([d],{type:t}),s.name=n,s.lastModified=r,l.call(this)}{if("image/bmp"===t)return new Promise((t=>Jm.toBlob(e,t))).then(function(e){try{return s=e,s.name=n,s.lastModified=r,p.call(this)}catch(e){return i(e)}}.bind(this),i);{if("function"==typeof OffscreenCanvas&&e instanceof OffscreenCanvas)return e.convertToBlob({type:t,quality:a}).then(function(e){try{return s=e,s.name=n,s.lastModified=r,f.call(this)}catch(e){return i(e)}}.bind(this),i);{let h;return h=e.toDataURL(t,a),ag(h,n,r).then(function(e){try{return s=e,f.call(this)}catch(e){return i(e)}}.bind(this),i)}function f(){return p.call(this)}}function p(){return l.call(this)}}function l(){return o(s)}}))}function hg(e){e.width=0,e.height=0}function mg(){return new Promise((function(e,t){let n,r,a,o,i;return void 0!==mg.cachedResult?e(mg.cachedResult):(n="data:image/jpeg;base64,/9j/4QAiRXhpZgAATU0AKgAAAAgAAQESAAMAAAABAAYAAAAAAAD/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/AABEIAAEAAgMBEQACEQEDEQH/xABKAAEAAAAAAAAAAAAAAAAAAAALEAEAAAAAAAAAAAAAAAAAAAAAAQEAAAAAAAAAAAAAAAAAAAAAEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwA/8H//2Q==",ag("data:image/jpeg;base64,/9j/4QAiRXhpZgAATU0AKgAAAAgAAQESAAMAAAABAAYAAAAAAAD/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/AABEIAAEAAgMBEQACEQEDEQH/xABKAAEAAAAAAAAAAAAAAAAAAAALEAEAAAAAAAAAAAAAAAAAAAAAAQEAAAAAAAAAAAAAAAAAAAAAEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwA/8H//2Q==","test.jpg",Date.now()).then((function(n){try{return r=n,pg(r).then((function(n){try{return a=n[1],fg(a,r.type,r.name,r.lastModified).then((function(n){try{return o=n,hg(a),pg(o).then((function(n){try{return i=n[0],mg.cachedResult=1===i.width&&2===i.height,e(mg.cachedResult)}catch(e){return t(e)}}),t)}catch(e){return t(e)}}),t)}catch(e){return t(e)}}),t)}catch(e){return t(e)}}),t))}))}function gg(e){return new Promise(((t,n)=>{const r=new rg;r.onload=e=>{const n=new DataView(e.target.result);if(65496!=n.getUint16(0,!1))return t(-2);const r=n.byteLength;let a=2;for(;a<r;){if(n.getUint16(a+2,!1)<=8)return t(-1);const e=n.getUint16(a,!1);if(a+=2,65505==e){if(1165519206!=n.getUint32(a+=2,!1))return t(-1);const e=18761==n.getUint16(a+=6,!1);a+=n.getUint32(a+4,e);const r=n.getUint16(a,e);a+=2;for(let o=0;o<r;o++)if(274==n.getUint16(a+12*o,e))return t(n.getUint16(a+12*o+8,e))}else{if(65280!=(65280&e))break;a+=n.getUint16(a,!1)}}return t(-1)},r.onerror=e=>n(e),r.readAsArrayBuffer(e)}))}function vg(e,t){const{width:n}=e,{height:r}=e,{maxWidthOrHeight:a}=t;let o,i=e;return isFinite(a)&&(n>a||r>a)&&([i,o]=ug(n,r),n>r?(i.width=a,i.height=r/n*a):(i.width=n/r*a,i.height=a),o.drawImage(e,0,0,i.width,i.height),hg(e)),i}function yg(e,t){const{width:n}=e,{height:r}=e,[a,o]=ug(n,r);switch(t>4&&t<9?(a.width=r,a.height=n):(a.width=n,a.height=r),t){case 2:o.transform(-1,0,0,1,n,0);break;case 3:o.transform(-1,0,0,-1,n,r);break;case 4:o.transform(1,0,0,-1,0,r);break;case 5:o.transform(0,1,1,0,0,0);break;case 6:o.transform(0,1,-1,0,r,0);break;case 7:o.transform(0,-1,-1,0,r,n);break;case 8:o.transform(0,-1,1,0,0,n)}return o.drawImage(e,0,0,n,r),hg(e),a}function _g(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return new Promise((function(r,a){let o,i,s,l,u,c,d,p,f,h,m,g,v,y,_,b,w,k,A,x;function E(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5;if(t.signal&&t.signal.aborted)throw t.signal.reason;o+=e,t.onProgress(Math.min(o,100))}function S(e){if(t.signal&&t.signal.aborted)throw t.signal.reason;o=Math.min(Math.max(e,o),100),t.onProgress(o)}return o=n,i=t.maxIteration||10,s=1024*t.maxSizeMB*1024,E(),pg(e,t).then(function(n){try{return[,l]=n,E(),u=vg(l,t),E(),new Promise((function(n,r){var a;if(!(a=t.exifOrientation))return gg(e).then(function(e){try{return a=e,o.call(this)}catch(e){return r(e)}}.bind(this),r);function o(){return n(a)}return o.call(this)})).then(function(n){try{return c=n,E(),mg().then(function(n){try{return d=n?u:yg(u,c),E(),p=t.initialQuality||1,f=t.fileType||e.type,fg(d,f,e.name,e.lastModified,p).then(function(n){try{{if(h=n,E(),m=h.size>s,g=h.size>e.size,!m&&!g)return S(100),r(h);var o;function I(){if(i--&&(_>s||_>v)){let t,n;return t=x?.95*A.width:A.width,n=x?.95*A.height:A.height,[w,k]=ug(t,n),k.drawImage(A,0,0,t,n),p*="image/png"===f?.85:.95,fg(w,f,e.name,e.lastModified,p).then((function(e){try{return b=e,hg(A),A=w,_=b.size,S(Math.min(99,Math.floor((y-_)/(y-s)*100))),I}catch(e){return a(e)}}),a)}return[1]}return v=e.size,y=h.size,_=y,A=d,x=!t.alwaysKeepResolution&&m,(o=function(e){for(;e;){if(e.then)return void e.then(o,a);try{if(e.pop){if(e.length)return e.pop()?C.call(this):e;e=I}else e=e.call(this)}catch(e){return a(e)}}}.bind(this))(I);function C(){return hg(A),hg(w),hg(u),hg(d),hg(l),S(100),r(b)}}}catch(c){return a(c)}}.bind(this),a)}catch(e){return a(e)}}.bind(this),a)}catch(e){return a(e)}}.bind(this),a)}catch(e){return a(e)}}.bind(this),a)}))}const bg="\nlet scriptImported = false\nself.addEventListener('message', async (e) => {\n  const { file, id, imageCompressionLibUrl, options } = e.data\n  options.onProgress = (progress) => self.postMessage({ progress, id })\n  try {\n    if (!scriptImported) {\n      // console.log('[worker] importScripts', imageCompressionLibUrl)\n      self.importScripts(imageCompressionLibUrl)\n      scriptImported = true\n    }\n    // console.log('[worker] self', self)\n    const compressedFile = await imageCompression(file, options)\n    self.postMessage({ file: compressedFile, id })\n  } catch (e) {\n    // console.error('[worker] error', e)\n    self.postMessage({ error: e.message + '\\n' + e.stack, id })\n  }\n})\n";let wg;function kg(e,t){return new Promise(((n,r)=>{wg||(wg=function(e){const t=[];return"function"==typeof e?t.push("(".concat(e,")()")):t.push(e),URL.createObjectURL(new Blob(t))}(bg));const a=new Worker(wg);a.addEventListener("message",(function(e){if(t.signal&&t.signal.aborted)a.terminate();else if(void 0===e.data.progress){if(e.data.error)return r(new Error(e.data.error)),void a.terminate();n(e.data.file),a.terminate()}else t.onProgress(e.data.progress)})),a.addEventListener("error",r),t.signal&&t.signal.addEventListener("abort",(()=>{r(t.signal.reason),a.terminate()})),a.postMessage({file:e,imageCompressionLibUrl:t.libURL,options:(0,o.A)((0,o.A)({},t),{},{onProgress:void 0,signal:void 0})})}))}function Ag(e,t){return new Promise((function(n,r){let a,i,s,l,u,c;if(a=(0,o.A)({},t),s=0,({onProgress:l}=a),a.maxSizeMB=a.maxSizeMB||Number.POSITIVE_INFINITY,u="boolean"!=typeof a.useWebWorker||a.useWebWorker,delete a.useWebWorker,a.onProgress=e=>{s=e,"function"==typeof l&&l(s)},!(e instanceof Blob||e instanceof ng))return r(new Error("The file given is not an instance of Blob or File"));if(!/^image/.test(e.type))return r(new Error("The file given is not an image"));if(c="undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope,!u||"function"!=typeof Worker||c)return _g(e,a).then(function(e){try{return i=e,f.call(this)}catch(e){return r(e)}}.bind(this),r);var d=function(){try{return f.call(this)}catch(e){return r(e)}}.bind(this),p=function(t){try{return _g(e,a).then((function(e){try{return i=e,d()}catch(e){return r(e)}}),r)}catch(e){return r(e)}};try{return a.libURL=a.libURL||"https://cdn.jsdelivr.net/npm/browser-image-compression@2.0.2/dist/browser-image-compression.js",kg(e,a).then((function(e){try{return i=e,d()}catch(e){return p()}}),p)}catch(e){p()}function f(){try{i.name=e.name,i.lastModified=e.lastModified}catch(e){}try{a.preserveExif&&"image/jpeg"===e.type&&(!a.fileType||a.fileType&&a.fileType===e.type)&&(i=qm(e,i))}catch(e){}return n(i)}}))}async function xg(e,t){if("image/heic"===e.type||"image/heif"===e.type||e.name.toLowerCase().endsWith(".heic")||e.name.toLowerCase().endsWith(".heif"))throw new Error("HEIC/HEIF format is not supported. Please convert to JPEG or PNG first.");console.log("Original image:",e.size,"bytes, type:",e.type);const n=await async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1048576;const n={maxSizeMB:t/1048576,maxWidthOrHeight:2048,useWebWorker:!1,fileType:"image/jpeg"};try{const t=await Ag(e,n);return console.log("Compressed image: ".concat(e.size," bytes -> ").concat(t.size," bytes")),t}catch(r){throw console.error("Image compression failed:",r),new Error("Failed to compress image")}}(e);console.log("Compressed image:",n.size,"bytes, type:",n.type);const r=await async function(e){return new Promise(((t,n)=>{const r=new FileReader;r.onload=()=>{const e=r.result;if("undefined"!==typeof process&&process.versions&&process.versions.node){if(e instanceof ArrayBuffer)t(new Uint8Array(e));else if("string"===typeof e){const r=e.match(/^data:image\/\w+;base64,(.+)$/);if(r){const e=r[1],n=atob(e),a=new Uint8Array(n.length);for(let t=0;t<n.length;t++)a[t]=n.charCodeAt(t);t(a)}else n(new Error("Invalid data URL format"))}}else t(e)},r.onerror=n,"undefined"!==typeof process&&process.versions&&process.versions.node?r.readAsArrayBuffer(e):r.readAsDataURL(e)}))}(n),a=Wm({baseURL:"https://openrouter.ai/api/v1",apiKey:t,headers:{"HTTP-Referer":"undefined"!==typeof window?window.location.origin:"http://localhost","X-Title":"Dinner Debt"}});console.log("Calling OpenRouter API...");const o=(await ch({model:a.chat("openai/gpt-4o-mini"),messages:[{role:"user",content:[{type:"image",image:r},{type:"text",text:'Extract all items from this receipt and return valid JSON.\n\nReturn your response as valid JSON with this structure:\n{\n  "items": [{"name": "string", "cost": number}, ...],\n  "subtotal": number,\n  "total": number,\n  "tipIncludedInTotal": boolean,\n  "tip": number (optional, only if explicitly shown and NOT included in total)\n}\n\nImportant edge cases:\n- If tip is hand-written, set tipIncludedInTotal to false and set tip to the amount of the tip.\n- Ignore hand-written total if present. For subtotal and total, use the printed values.\n- Otherwise, if gratuity/tip is included in the printed total and there is no hand-written tip: set tipIncludedInTotal to true and tip to 0.\n- If an item shows "x2" or quantity multiplier: create separate duplicate items'}]}]})).text;if(console.log("AI Response:",o),o.trim().startsWith("<"))throw console.error("Received HTML response instead of JSON:",o.substring(0,200)),new Error("OpenRouter returned an error. Check your API key and credits.");const i=o.match(/\{[\s\S]*\}/);if(!i)throw console.error("No JSON found in response:",o),new Error("Could not parse response from AI. Response was: ".concat(o.substring(0,100),"..."));try{return JSON.parse(i[0])}catch(s){throw console.error("JSON parse error:",s),console.error("Attempted to parse:",i[0]),new Error("Failed to parse JSON from AI response")}}Ag.getDataUrlFromFile=og,Ag.getFilefromDataUrl=ag,Ag.loadImage=ig,Ag.drawImageInCanvas=cg,Ag.drawFileInCanvas=pg,Ag.canvasToFile=fg,Ag.getExifOrientation=gg,Ag.handleMaxWidthOrHeight=vg,Ag.followExifOrientation=yg,Ag.cleanupCanvasMemory=hg,Ag.isAutoOrientationInBrowser=mg,Ag.approximateBelowMaximumCanvasSizeOfBrowser=lg,Ag.copyExifWithoutOrientation=qm,Ag.getBrowserName=sg,Ag.version="2.0.2"},812:e=>{"use strict";var t,n=Object.defineProperty,r=Object.getOwnPropertyDescriptor,a=Object.getOwnPropertyNames,o=Object.prototype.hasOwnProperty,i={};((e,t)=>{for(var r in t)n(e,r,{get:t[r],enumerable:!0})})(i,{SYMBOL_FOR_REQ_CONTEXT:()=>s,getContext:()=>l}),e.exports=(t=i,((e,t,i,s)=>{if(t&&"object"===typeof t||"function"===typeof t)for(let l of a(t))o.call(e,l)||l===i||n(e,l,{get:()=>t[l],enumerable:!(s=r(t,l))||s.enumerable});return e})(n({},"__esModule",{value:!0}),t));const s=Symbol.for("@vercel/request-context");function l(){var e,t,n;return null!==(e=null===(t=globalThis[s])||void 0===t||null===(n=t.get)||void 0===n?void 0:n.call(t))&&void 0!==e?e:{}}},327:(e,t,n)=>{"use strict";var r,a=Object.defineProperty,o=Object.getOwnPropertyDescriptor,i=Object.getOwnPropertyNames,s=Object.prototype.hasOwnProperty,l={};((e,t)=>{for(var n in t)a(e,n,{get:t[n],enumerable:!0})})(l,{getContext:()=>u.getContext,getVercelOidcToken:()=>c,getVercelOidcTokenSync:()=>d}),e.exports=(r=l,((e,t,n,r)=>{if(t&&"object"===typeof t||"function"===typeof t)for(let l of i(t))s.call(e,l)||l===n||a(e,l,{get:()=>t[l],enumerable:!(r=o(t,l))||r.enumerable});return e})(a({},"__esModule",{value:!0}),r));var u=n(812);async function c(){return""}function d(){return""}},497:(e,t,n)=>{"use strict";var r=n(218);function a(){}function o(){}o.resetWarningCache=a,e.exports=function(){function e(e,t,n,a,o,i){if(i!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:a};return n.PropTypes=n,n}},173:(e,t,n)=>{e.exports=n(497)()},218:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},343:(e,t,n)=>{var r=n(957);function a(e){this.mode=r.MODE_8BIT_BYTE,this.data=e}a.prototype={getLength:function(e){return this.data.length},write:function(e){for(var t=0;t<this.data.length;t++)e.put(this.data.charCodeAt(t),8)}},e.exports=a},813:e=>{function t(){this.buffer=new Array,this.length=0}t.prototype={get:function(e){var t=Math.floor(e/8);return 1==(this.buffer[t]>>>7-e%8&1)},put:function(e,t){for(var n=0;n<t;n++)this.putBit(1==(e>>>t-n-1&1))},getLengthInBits:function(){return this.length},putBit:function(e){var t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0),e&&(this.buffer[t]|=128>>>this.length%8),this.length++}},e.exports=t},742:e=>{e.exports={L:1,M:0,Q:3,H:2}},392:(e,t,n)=>{var r=n(460);function a(e,t){if(void 0==e.length)throw new Error(e.length+"/"+t);for(var n=0;n<e.length&&0==e[n];)n++;this.num=new Array(e.length-n+t);for(var r=0;r<e.length-n;r++)this.num[r]=e[r+n]}a.prototype={get:function(e){return this.num[e]},getLength:function(){return this.num.length},multiply:function(e){for(var t=new Array(this.getLength()+e.getLength()-1),n=0;n<this.getLength();n++)for(var o=0;o<e.getLength();o++)t[n+o]^=r.gexp(r.glog(this.get(n))+r.glog(e.get(o)));return new a(t,0)},mod:function(e){if(this.getLength()-e.getLength()<0)return this;for(var t=r.glog(this.get(0))-r.glog(e.get(0)),n=new Array(this.getLength()),o=0;o<this.getLength();o++)n[o]=this.get(o);for(o=0;o<e.getLength();o++)n[o]^=r.gexp(r.glog(e.get(o))+t);return new a(n,0).mod(e)}},e.exports=a},612:(e,t,n)=>{var r=n(343),a=n(436),o=n(813),i=n(898),s=n(392);function l(e,t){this.typeNumber=e,this.errorCorrectLevel=t,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}var u=l.prototype;u.addData=function(e){var t=new r(e);this.dataList.push(t),this.dataCache=null},u.isDark=function(e,t){if(e<0||this.moduleCount<=e||t<0||this.moduleCount<=t)throw new Error(e+","+t);return this.modules[e][t]},u.getModuleCount=function(){return this.moduleCount},u.make=function(){if(this.typeNumber<1){var e=1;for(e=1;e<40;e++){for(var t=a.getRSBlocks(e,this.errorCorrectLevel),n=new o,r=0,s=0;s<t.length;s++)r+=t[s].dataCount;for(s=0;s<this.dataList.length;s++){var l=this.dataList[s];n.put(l.mode,4),n.put(l.getLength(),i.getLengthInBits(l.mode,e)),l.write(n)}if(n.getLengthInBits()<=8*r)break}this.typeNumber=e}this.makeImpl(!1,this.getBestMaskPattern())},u.makeImpl=function(e,t){this.moduleCount=4*this.typeNumber+17,this.modules=new Array(this.moduleCount);for(var n=0;n<this.moduleCount;n++){this.modules[n]=new Array(this.moduleCount);for(var r=0;r<this.moduleCount;r++)this.modules[n][r]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(e,t),this.typeNumber>=7&&this.setupTypeNumber(e),null==this.dataCache&&(this.dataCache=l.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,t)},u.setupPositionProbePattern=function(e,t){for(var n=-1;n<=7;n++)if(!(e+n<=-1||this.moduleCount<=e+n))for(var r=-1;r<=7;r++)t+r<=-1||this.moduleCount<=t+r||(this.modules[e+n][t+r]=0<=n&&n<=6&&(0==r||6==r)||0<=r&&r<=6&&(0==n||6==n)||2<=n&&n<=4&&2<=r&&r<=4)},u.getBestMaskPattern=function(){for(var e=0,t=0,n=0;n<8;n++){this.makeImpl(!0,n);var r=i.getLostPoint(this);(0==n||e>r)&&(e=r,t=n)}return t},u.createMovieClip=function(e,t,n){var r=e.createEmptyMovieClip(t,n);this.make();for(var a=0;a<this.modules.length;a++)for(var o=1*a,i=0;i<this.modules[a].length;i++){var s=1*i;this.modules[a][i]&&(r.beginFill(0,100),r.moveTo(s,o),r.lineTo(s+1,o),r.lineTo(s+1,o+1),r.lineTo(s,o+1),r.endFill())}return r},u.setupTimingPattern=function(){for(var e=8;e<this.moduleCount-8;e++)null==this.modules[e][6]&&(this.modules[e][6]=e%2==0);for(var t=8;t<this.moduleCount-8;t++)null==this.modules[6][t]&&(this.modules[6][t]=t%2==0)},u.setupPositionAdjustPattern=function(){for(var e=i.getPatternPosition(this.typeNumber),t=0;t<e.length;t++)for(var n=0;n<e.length;n++){var r=e[t],a=e[n];if(null==this.modules[r][a])for(var o=-2;o<=2;o++)for(var s=-2;s<=2;s++)this.modules[r+o][a+s]=-2==o||2==o||-2==s||2==s||0==o&&0==s}},u.setupTypeNumber=function(e){for(var t=i.getBCHTypeNumber(this.typeNumber),n=0;n<18;n++){var r=!e&&1==(t>>n&1);this.modules[Math.floor(n/3)][n%3+this.moduleCount-8-3]=r}for(n=0;n<18;n++){r=!e&&1==(t>>n&1);this.modules[n%3+this.moduleCount-8-3][Math.floor(n/3)]=r}},u.setupTypeInfo=function(e,t){for(var n=this.errorCorrectLevel<<3|t,r=i.getBCHTypeInfo(n),a=0;a<15;a++){var o=!e&&1==(r>>a&1);a<6?this.modules[a][8]=o:a<8?this.modules[a+1][8]=o:this.modules[this.moduleCount-15+a][8]=o}for(a=0;a<15;a++){o=!e&&1==(r>>a&1);a<8?this.modules[8][this.moduleCount-a-1]=o:a<9?this.modules[8][15-a-1+1]=o:this.modules[8][15-a-1]=o}this.modules[this.moduleCount-8][8]=!e},u.mapData=function(e,t){for(var n=-1,r=this.moduleCount-1,a=7,o=0,s=this.moduleCount-1;s>0;s-=2)for(6==s&&s--;;){for(var l=0;l<2;l++)if(null==this.modules[r][s-l]){var u=!1;o<e.length&&(u=1==(e[o]>>>a&1)),i.getMask(t,r,s-l)&&(u=!u),this.modules[r][s-l]=u,-1==--a&&(o++,a=7)}if((r+=n)<0||this.moduleCount<=r){r-=n,n=-n;break}}},l.PAD0=236,l.PAD1=17,l.createData=function(e,t,n){for(var r=a.getRSBlocks(e,t),s=new o,u=0;u<n.length;u++){var c=n[u];s.put(c.mode,4),s.put(c.getLength(),i.getLengthInBits(c.mode,e)),c.write(s)}var d=0;for(u=0;u<r.length;u++)d+=r[u].dataCount;if(s.getLengthInBits()>8*d)throw new Error("code length overflow. ("+s.getLengthInBits()+">"+8*d+")");for(s.getLengthInBits()+4<=8*d&&s.put(0,4);s.getLengthInBits()%8!=0;)s.putBit(!1);for(;!(s.getLengthInBits()>=8*d)&&(s.put(l.PAD0,8),!(s.getLengthInBits()>=8*d));)s.put(l.PAD1,8);return l.createBytes(s,r)},l.createBytes=function(e,t){for(var n=0,r=0,a=0,o=new Array(t.length),l=new Array(t.length),u=0;u<t.length;u++){var c=t[u].dataCount,d=t[u].totalCount-c;r=Math.max(r,c),a=Math.max(a,d),o[u]=new Array(c);for(var p=0;p<o[u].length;p++)o[u][p]=255&e.buffer[p+n];n+=c;var f=i.getErrorCorrectPolynomial(d),h=new s(o[u],f.getLength()-1).mod(f);l[u]=new Array(f.getLength()-1);for(p=0;p<l[u].length;p++){var m=p+h.getLength()-l[u].length;l[u][p]=m>=0?h.get(m):0}}var g=0;for(p=0;p<t.length;p++)g+=t[p].totalCount;var v=new Array(g),y=0;for(p=0;p<r;p++)for(u=0;u<t.length;u++)p<o[u].length&&(v[y++]=o[u][p]);for(p=0;p<a;p++)for(u=0;u<t.length;u++)p<l[u].length&&(v[y++]=l[u][p]);return v},e.exports=l},436:(e,t,n)=>{var r=n(742);function a(e,t){this.totalCount=e,this.dataCount=t}a.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],a.getRSBlocks=function(e,t){var n=a.getRsBlockTable(e,t);if(void 0==n)throw new Error("bad rs block @ typeNumber:"+e+"/errorCorrectLevel:"+t);for(var r=n.length/3,o=new Array,i=0;i<r;i++)for(var s=n[3*i+0],l=n[3*i+1],u=n[3*i+2],c=0;c<s;c++)o.push(new a(l,u));return o},a.getRsBlockTable=function(e,t){switch(t){case r.L:return a.RS_BLOCK_TABLE[4*(e-1)+0];case r.M:return a.RS_BLOCK_TABLE[4*(e-1)+1];case r.Q:return a.RS_BLOCK_TABLE[4*(e-1)+2];case r.H:return a.RS_BLOCK_TABLE[4*(e-1)+3];default:return}},e.exports=a},460:e=>{for(var t={glog:function(e){if(e<1)throw new Error("glog("+e+")");return t.LOG_TABLE[e]},gexp:function(e){for(;e<0;)e+=255;for(;e>=256;)e-=255;return t.EXP_TABLE[e]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)},n=0;n<8;n++)t.EXP_TABLE[n]=1<<n;for(n=8;n<256;n++)t.EXP_TABLE[n]=t.EXP_TABLE[n-4]^t.EXP_TABLE[n-5]^t.EXP_TABLE[n-6]^t.EXP_TABLE[n-8];for(n=0;n<255;n++)t.LOG_TABLE[t.EXP_TABLE[n]]=n;e.exports=t},957:e=>{e.exports={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8}},898:(e,t,n)=>{var r=n(957),a=n(392),o=n(460),i=0,s=1,l=2,u=3,c=4,d=5,p=6,f=7,h={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(e){for(var t=e<<10;h.getBCHDigit(t)-h.getBCHDigit(h.G15)>=0;)t^=h.G15<<h.getBCHDigit(t)-h.getBCHDigit(h.G15);return(e<<10|t)^h.G15_MASK},getBCHTypeNumber:function(e){for(var t=e<<12;h.getBCHDigit(t)-h.getBCHDigit(h.G18)>=0;)t^=h.G18<<h.getBCHDigit(t)-h.getBCHDigit(h.G18);return e<<12|t},getBCHDigit:function(e){for(var t=0;0!=e;)t++,e>>>=1;return t},getPatternPosition:function(e){return h.PATTERN_POSITION_TABLE[e-1]},getMask:function(e,t,n){switch(e){case i:return(t+n)%2==0;case s:return t%2==0;case l:return n%3==0;case u:return(t+n)%3==0;case c:return(Math.floor(t/2)+Math.floor(n/3))%2==0;case d:return t*n%2+t*n%3==0;case p:return(t*n%2+t*n%3)%2==0;case f:return(t*n%3+(t+n)%2)%2==0;default:throw new Error("bad maskPattern:"+e)}},getErrorCorrectPolynomial:function(e){for(var t=new a([1],0),n=0;n<e;n++)t=t.multiply(new a([1,o.gexp(n)],0));return t},getLengthInBits:function(e,t){if(1<=t&&t<10)switch(e){case r.MODE_NUMBER:return 10;case r.MODE_ALPHA_NUM:return 9;case r.MODE_8BIT_BYTE:case r.MODE_KANJI:return 8;default:throw new Error("mode:"+e)}else if(t<27)switch(e){case r.MODE_NUMBER:return 12;case r.MODE_ALPHA_NUM:return 11;case r.MODE_8BIT_BYTE:return 16;case r.MODE_KANJI:return 10;default:throw new Error("mode:"+e)}else{if(!(t<41))throw new Error("type:"+t);switch(e){case r.MODE_NUMBER:return 14;case r.MODE_ALPHA_NUM:return 13;case r.MODE_8BIT_BYTE:return 16;case r.MODE_KANJI:return 12;default:throw new Error("mode:"+e)}}},getLostPoint:function(e){for(var t=e.getModuleCount(),n=0,r=0;r<t;r++)for(var a=0;a<t;a++){for(var o=0,i=e.isDark(r,a),s=-1;s<=1;s++)if(!(r+s<0||t<=r+s))for(var l=-1;l<=1;l++)a+l<0||t<=a+l||0==s&&0==l||i==e.isDark(r+s,a+l)&&o++;o>5&&(n+=3+o-5)}for(r=0;r<t-1;r++)for(a=0;a<t-1;a++){var u=0;e.isDark(r,a)&&u++,e.isDark(r+1,a)&&u++,e.isDark(r,a+1)&&u++,e.isDark(r+1,a+1)&&u++,0!=u&&4!=u||(n+=3)}for(r=0;r<t;r++)for(a=0;a<t-6;a++)e.isDark(r,a)&&!e.isDark(r,a+1)&&e.isDark(r,a+2)&&e.isDark(r,a+3)&&e.isDark(r,a+4)&&!e.isDark(r,a+5)&&e.isDark(r,a+6)&&(n+=40);for(a=0;a<t;a++)for(r=0;r<t-6;r++)e.isDark(r,a)&&!e.isDark(r+1,a)&&e.isDark(r+2,a)&&e.isDark(r+3,a)&&e.isDark(r+4,a)&&!e.isDark(r+5,a)&&e.isDark(r+6,a)&&(n+=40);var c=0;for(a=0;a<t;a++)for(r=0;r<t;r++)e.isDark(r,a)&&c++;return n+=10*(Math.abs(100*c/t/t-50)/5)}};e.exports=h},730:(e,t,n)=>{"use strict";var r=n(43),a=n(853);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,s={};function l(e,t){u(e,t),u(e+"Capture",t)}function u(e,t){for(s[e]=t,e=0;e<t.length;e++)i.add(t[e])}var c=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},h={};function m(e,t,n,r,a,o,i){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=a,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=i}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){g[e]=new m(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];g[t]=new m(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){g[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){g[e]=new m(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){g[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){g[e]=new m(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){g[e]=new m(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){g[e]=new m(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){g[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)}));var v=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function _(e,t,n,r){var a=g.hasOwnProperty(t)?g[t]:null;(null!==a?0!==a.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,a,r)&&(n=null),r||null===a?function(e){return!!d.call(h,e)||!d.call(f,e)&&(p.test(e)?h[e]=!0:(f[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):a.mustUseProperty?e[a.propertyName]=null===n?3!==a.type&&"":n:(t=a.attributeName,r=a.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(a=a.type)||4===a&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)})),g.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)}));var b=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),k=Symbol.for("react.portal"),A=Symbol.for("react.fragment"),x=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),S=Symbol.for("react.provider"),I=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),T=Symbol.for("react.suspense"),O=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),M=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var N=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var R=Symbol.iterator;function D(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=R&&e[R]||e["@@iterator"])?e:null}var z,j=Object.assign;function L(e){if(void 0===z)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);z=t&&t[1]||""}return"\n"+z+e}var F=!1;function U(e,t){if(!e||F)return"";F=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&"string"===typeof u.stack){for(var a=u.stack.split("\n"),o=r.stack.split("\n"),i=a.length-1,s=o.length-1;1<=i&&0<=s&&a[i]!==o[s];)s--;for(;1<=i&&0<=s;i--,s--)if(a[i]!==o[s]){if(1!==i||1!==s)do{if(i--,0>--s||a[i]!==o[s]){var l="\n"+a[i].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=i&&0<=s);break}}}finally{F=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?L(e):""}function B(e){switch(e.tag){case 5:return L(e.type);case 16:return L("Lazy");case 13:return L("Suspense");case 19:return L("SuspenseList");case 0:case 2:case 15:return e=U(e.type,!1);case 11:return e=U(e.type.render,!1);case 1:return e=U(e.type,!0);default:return""}}function Z(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case A:return"Fragment";case k:return"Portal";case E:return"Profiler";case x:return"StrictMode";case T:return"Suspense";case O:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case I:return(e.displayName||"Context")+".Consumer";case S:return(e._context.displayName||"Context")+".Provider";case C:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case P:return null!==(t=e.displayName||null)?t:Z(e.type)||"Memo";case M:t=e._payload,e=e._init;try{return Z(e(t))}catch(n){}}return null}function W(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Z(t);case 8:return t===x?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function q(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function V(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function $(e){e._valueTracker||(e._valueTracker=function(e){var t=V(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var a=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function K(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=V(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function H(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Q(e,t){var n=t.checked;return j({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function J(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=q(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function G(e,t){null!=(t=t.checked)&&_(e,"checked",t,!1)}function Y(e,t){G(e,t);var n=q(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,q(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function X(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&H(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var a=0;a<n.length;a++)t["$"+n[a]]=!0;for(n=0;n<e.length;n++)a=t.hasOwnProperty("$"+e[n].value),e[n].selected!==a&&(e[n].selected=a),a&&r&&(e[n].defaultSelected=!0)}else{for(n=""+q(n),t=null,a=0;a<e.length;a++){if(e[a].value===n)return e[a].selected=!0,void(r&&(e[a].defaultSelected=!0));null!==t||e[a].disabled||(t=e[a])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return j({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ae(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(te(n)){if(1<n.length)throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:q(n)}}function oe(e,t){var n=q(t.value),r=q(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ie(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function se(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?se(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ue,ce,de=(ce=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ue=ue||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ue.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ce(e,t)}))}:ce);function pe(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var fe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},he=["Webkit","ms","Moz","O"];function me(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||fe.hasOwnProperty(e)&&fe[e]?(""+t).trim():t+"px"}function ge(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),a=me(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,a):e[n]=a}}Object.keys(fe).forEach((function(e){he.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),fe[t]=fe[e]}))}));var ve=j({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(ve[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(o(62))}}function _e(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var be=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var ke=null,Ae=null,xe=null;function Ee(e){if(e=_a(e)){if("function"!==typeof ke)throw Error(o(280));var t=e.stateNode;t&&(t=wa(t),ke(e.stateNode,e.type,t))}}function Se(e){Ae?xe?xe.push(e):xe=[e]:Ae=e}function Ie(){if(Ae){var e=Ae,t=xe;if(xe=Ae=null,Ee(e),t)for(e=0;e<t.length;e++)Ee(t[e])}}function Ce(e,t){return e(t)}function Te(){}var Oe=!1;function Pe(e,t,n){if(Oe)return e(t,n);Oe=!0;try{return Ce(e,t,n)}finally{Oe=!1,(null!==Ae||null!==xe)&&(Te(),Ie())}}function Me(e,t){var n=e.stateNode;if(null===n)return null;var r=wa(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}var Ne=!1;if(c)try{var Re={};Object.defineProperty(Re,"passive",{get:function(){Ne=!0}}),window.addEventListener("test",Re,Re),window.removeEventListener("test",Re,Re)}catch(ce){Ne=!1}function De(e,t,n,r,a,o,i,s,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(c){this.onError(c)}}var ze=!1,je=null,Le=!1,Fe=null,Ue={onError:function(e){ze=!0,je=e}};function Be(e,t,n,r,a,o,i,s,l){ze=!1,je=null,De.apply(Ue,arguments)}function Ze(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function We(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function qe(e){if(Ze(e)!==e)throw Error(o(188))}function Ve(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ze(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var a=n.return;if(null===a)break;var i=a.alternate;if(null===i){if(null!==(r=a.return)){n=r;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===n)return qe(a),e;if(i===r)return qe(a),t;i=i.sibling}throw Error(o(188))}if(n.return!==r.return)n=a,r=i;else{for(var s=!1,l=a.child;l;){if(l===n){s=!0,n=a,r=i;break}if(l===r){s=!0,r=a,n=i;break}l=l.sibling}if(!s){for(l=i.child;l;){if(l===n){s=!0,n=i,r=a;break}if(l===r){s=!0,r=i,n=a;break}l=l.sibling}if(!s)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e))?$e(e):null}function $e(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=$e(e);if(null!==t)return t;e=e.sibling}return null}var Ke=a.unstable_scheduleCallback,He=a.unstable_cancelCallback,Qe=a.unstable_shouldYield,Je=a.unstable_requestPaint,Ge=a.unstable_now,Ye=a.unstable_getCurrentPriorityLevel,Xe=a.unstable_ImmediatePriority,et=a.unstable_UserBlockingPriority,tt=a.unstable_NormalPriority,nt=a.unstable_LowPriority,rt=a.unstable_IdlePriority,at=null,ot=null;var it=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(st(e)/lt|0)|0},st=Math.log,lt=Math.LN2;var ut=64,ct=4194304;function dt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function pt(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,a=e.suspendedLanes,o=e.pingedLanes,i=268435455&n;if(0!==i){var s=i&~a;0!==s?r=dt(s):0!==(o&=i)&&(r=dt(o))}else 0!==(i=n&~a)?r=dt(i):0!==o&&(r=dt(o));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&a)&&((a=r&-r)>=(o=t&-t)||16===a&&0!==(4194240&o)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)a=1<<(n=31-it(t)),r|=e[n],t&=~a;return r}function ft(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function ht(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function mt(){var e=ut;return 0===(4194240&(ut<<=1))&&(ut=64),e}function gt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function vt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-it(t)]=n}function yt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-it(n),a=1<<r;a&t|e[r]&t&&(e[r]|=t),n&=~a}}var _t=0;function bt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var wt,kt,At,xt,Et,St=!1,It=[],Ct=null,Tt=null,Ot=null,Pt=new Map,Mt=new Map,Nt=[],Rt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Dt(e,t){switch(e){case"focusin":case"focusout":Ct=null;break;case"dragenter":case"dragleave":Tt=null;break;case"mouseover":case"mouseout":Ot=null;break;case"pointerover":case"pointerout":Pt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Mt.delete(t.pointerId)}}function zt(e,t,n,r,a,o){return null===e||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[a]},null!==t&&(null!==(t=_a(t))&&kt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==a&&-1===t.indexOf(a)&&t.push(a),e)}function jt(e){var t=ya(e.target);if(null!==t){var n=Ze(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=We(n)))return e.blockedOn=t,void Et(e.priority,(function(){At(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Lt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Qt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=_a(n))&&kt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);be=r,n.target.dispatchEvent(r),be=null,t.shift()}return!0}function Ft(e,t,n){Lt(e)&&n.delete(t)}function Ut(){St=!1,null!==Ct&&Lt(Ct)&&(Ct=null),null!==Tt&&Lt(Tt)&&(Tt=null),null!==Ot&&Lt(Ot)&&(Ot=null),Pt.forEach(Ft),Mt.forEach(Ft)}function Bt(e,t){e.blockedOn===t&&(e.blockedOn=null,St||(St=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,Ut)))}function Zt(e){function t(t){return Bt(t,e)}if(0<It.length){Bt(It[0],e);for(var n=1;n<It.length;n++){var r=It[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Ct&&Bt(Ct,e),null!==Tt&&Bt(Tt,e),null!==Ot&&Bt(Ot,e),Pt.forEach(t),Mt.forEach(t),n=0;n<Nt.length;n++)(r=Nt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Nt.length&&null===(n=Nt[0]).blockedOn;)jt(n),null===n.blockedOn&&Nt.shift()}var Wt=b.ReactCurrentBatchConfig,qt=!0;function Vt(e,t,n,r){var a=_t,o=Wt.transition;Wt.transition=null;try{_t=1,Kt(e,t,n,r)}finally{_t=a,Wt.transition=o}}function $t(e,t,n,r){var a=_t,o=Wt.transition;Wt.transition=null;try{_t=4,Kt(e,t,n,r)}finally{_t=a,Wt.transition=o}}function Kt(e,t,n,r){if(qt){var a=Qt(e,t,n,r);if(null===a)qr(e,t,r,Ht,n),Dt(e,r);else if(function(e,t,n,r,a){switch(t){case"focusin":return Ct=zt(Ct,e,t,n,r,a),!0;case"dragenter":return Tt=zt(Tt,e,t,n,r,a),!0;case"mouseover":return Ot=zt(Ot,e,t,n,r,a),!0;case"pointerover":var o=a.pointerId;return Pt.set(o,zt(Pt.get(o)||null,e,t,n,r,a)),!0;case"gotpointercapture":return o=a.pointerId,Mt.set(o,zt(Mt.get(o)||null,e,t,n,r,a)),!0}return!1}(a,e,t,n,r))r.stopPropagation();else if(Dt(e,r),4&t&&-1<Rt.indexOf(e)){for(;null!==a;){var o=_a(a);if(null!==o&&wt(o),null===(o=Qt(e,t,n,r))&&qr(e,t,r,Ht,n),o===a)break;a=o}null!==a&&r.stopPropagation()}else qr(e,t,r,null,n)}}var Ht=null;function Qt(e,t,n,r){if(Ht=null,null!==(e=ya(e=we(r))))if(null===(t=Ze(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=We(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Ht=e,null}function Jt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ye()){case Xe:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Gt=null,Yt=null,Xt=null;function en(){if(Xt)return Xt;var e,t,n=Yt,r=n.length,a="value"in Gt?Gt.value:Gt.textContent,o=a.length;for(e=0;e<r&&n[e]===a[e];e++);var i=r-e;for(t=1;t<=i&&n[r-t]===a[o-t];t++);return Xt=a.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function an(e){function t(t,n,r,a,o){for(var i in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=a,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(i)&&(t=e[i],this[i]=t?t(a):a[i]);return this.isDefaultPrevented=(null!=a.defaultPrevented?a.defaultPrevented:!1===a.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return j(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var on,sn,ln,un={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cn=an(un),dn=j({},un,{view:0,detail:0}),pn=an(dn),fn=j({},dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:En,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(on=e.screenX-ln.screenX,sn=e.screenY-ln.screenY):sn=on=0,ln=e),on)},movementY:function(e){return"movementY"in e?e.movementY:sn}}),hn=an(fn),mn=an(j({},fn,{dataTransfer:0})),gn=an(j({},dn,{relatedTarget:0})),vn=an(j({},un,{animationName:0,elapsedTime:0,pseudoElement:0})),yn=j({},un,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),_n=an(yn),bn=an(j({},un,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},kn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},An={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function xn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=An[e])&&!!t[e]}function En(){return xn}var Sn=j({},dn,{key:function(e){if(e.key){var t=wn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?kn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:En,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),In=an(Sn),Cn=an(j({},fn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Tn=an(j({},dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:En})),On=an(j({},un,{propertyName:0,elapsedTime:0,pseudoElement:0})),Pn=j({},fn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Mn=an(Pn),Nn=[9,13,27,32],Rn=c&&"CompositionEvent"in window,Dn=null;c&&"documentMode"in document&&(Dn=document.documentMode);var zn=c&&"TextEvent"in window&&!Dn,jn=c&&(!Rn||Dn&&8<Dn&&11>=Dn),Ln=String.fromCharCode(32),Fn=!1;function Un(e,t){switch(e){case"keyup":return-1!==Nn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Bn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Zn=!1;var Wn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function qn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Wn[e.type]:"textarea"===t}function Vn(e,t,n,r){Se(r),0<(t=$r(t,"onChange")).length&&(n=new cn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var $n=null,Kn=null;function Hn(e){Lr(e,0)}function Qn(e){if(K(ba(e)))return e}function Jn(e,t){if("change"===e)return t}var Gn=!1;if(c){var Yn;if(c){var Xn="oninput"in document;if(!Xn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Xn="function"===typeof er.oninput}Yn=Xn}else Yn=!1;Gn=Yn&&(!document.documentMode||9<document.documentMode)}function tr(){$n&&($n.detachEvent("onpropertychange",nr),Kn=$n=null)}function nr(e){if("value"===e.propertyName&&Qn(Kn)){var t=[];Vn(t,Kn,e,we(e)),Pe(Hn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Kn=n,($n=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ar(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Qn(Kn)}function or(e,t){if("click"===e)return Qn(t)}function ir(e,t){if("input"===e||"change"===e)return Qn(t)}var sr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function lr(e,t){if(sr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var a=n[r];if(!d.call(t,a)||!sr(e[a],t[a]))return!1}return!0}function ur(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function cr(e,t){var n,r=ur(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=ur(r)}}function dr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?dr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function pr(){for(var e=window,t=H();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=H((e=t.contentWindow).document)}return t}function fr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function hr(e){var t=pr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&dr(n.ownerDocument.documentElement,n)){if(null!==r&&fr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var a=n.textContent.length,o=Math.min(r.start,a);r=void 0===r.end?o:Math.min(r.end,a),!e.extend&&o>r&&(a=r,r=o,o=a),a=cr(n,o);var i=cr(n,r);a&&i&&(1!==e.rangeCount||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&((t=t.createRange()).setStart(a.node,a.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var mr=c&&"documentMode"in document&&11>=document.documentMode,gr=null,vr=null,yr=null,_r=!1;function br(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;_r||null==gr||gr!==H(r)||("selectionStart"in(r=gr)&&fr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},yr&&lr(yr,r)||(yr=r,0<(r=$r(vr,"onSelect")).length&&(t=new cn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=gr)))}function wr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var kr={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionend:wr("Transition","TransitionEnd")},Ar={},xr={};function Er(e){if(Ar[e])return Ar[e];if(!kr[e])return e;var t,n=kr[e];for(t in n)if(n.hasOwnProperty(t)&&t in xr)return Ar[e]=n[t];return e}c&&(xr=document.createElement("div").style,"AnimationEvent"in window||(delete kr.animationend.animation,delete kr.animationiteration.animation,delete kr.animationstart.animation),"TransitionEvent"in window||delete kr.transitionend.transition);var Sr=Er("animationend"),Ir=Er("animationiteration"),Cr=Er("animationstart"),Tr=Er("transitionend"),Or=new Map,Pr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Mr(e,t){Or.set(e,t),l(t,[e])}for(var Nr=0;Nr<Pr.length;Nr++){var Rr=Pr[Nr];Mr(Rr.toLowerCase(),"on"+(Rr[0].toUpperCase()+Rr.slice(1)))}Mr(Sr,"onAnimationEnd"),Mr(Ir,"onAnimationIteration"),Mr(Cr,"onAnimationStart"),Mr("dblclick","onDoubleClick"),Mr("focusin","onFocus"),Mr("focusout","onBlur"),Mr(Tr,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Dr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),zr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Dr));function jr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,a,i,s,l,u){if(Be.apply(this,arguments),ze){if(!ze)throw Error(o(198));var c=je;ze=!1,je=null,Le||(Le=!0,Fe=c)}}(r,t,void 0,e),e.currentTarget=null}function Lr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],a=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var i=r.length-1;0<=i;i--){var s=r[i],l=s.instance,u=s.currentTarget;if(s=s.listener,l!==o&&a.isPropagationStopped())break e;jr(a,s,u),o=l}else for(i=0;i<r.length;i++){if(l=(s=r[i]).instance,u=s.currentTarget,s=s.listener,l!==o&&a.isPropagationStopped())break e;jr(a,s,u),o=l}}}if(Le)throw e=Fe,Le=!1,Fe=null,e}function Fr(e,t){var n=t[ma];void 0===n&&(n=t[ma]=new Set);var r=e+"__bubble";n.has(r)||(Wr(t,e,2,!1),n.add(r))}function Ur(e,t,n){var r=0;t&&(r|=4),Wr(n,e,r,t)}var Br="_reactListening"+Math.random().toString(36).slice(2);function Zr(e){if(!e[Br]){e[Br]=!0,i.forEach((function(t){"selectionchange"!==t&&(zr.has(t)||Ur(t,!1,e),Ur(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Br]||(t[Br]=!0,Ur("selectionchange",!1,t))}}function Wr(e,t,n,r){switch(Jt(t)){case 1:var a=Vt;break;case 4:a=$t;break;default:a=Kt}n=a.bind(null,t,n,e),a=void 0,!Ne||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(a=!0),r?void 0!==a?e.addEventListener(t,n,{capture:!0,passive:a}):e.addEventListener(t,n,!0):void 0!==a?e.addEventListener(t,n,{passive:a}):e.addEventListener(t,n,!1)}function qr(e,t,n,r,a){var o=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var i=r.tag;if(3===i||4===i){var s=r.stateNode.containerInfo;if(s===a||8===s.nodeType&&s.parentNode===a)break;if(4===i)for(i=r.return;null!==i;){var l=i.tag;if((3===l||4===l)&&((l=i.stateNode.containerInfo)===a||8===l.nodeType&&l.parentNode===a))return;i=i.return}for(;null!==s;){if(null===(i=ya(s)))return;if(5===(l=i.tag)||6===l){r=o=i;continue e}s=s.parentNode}}r=r.return}Pe((function(){var r=o,a=we(n),i=[];e:{var s=Or.get(e);if(void 0!==s){var l=cn,u=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=In;break;case"focusin":u="focus",l=gn;break;case"focusout":u="blur",l=gn;break;case"beforeblur":case"afterblur":l=gn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=hn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=mn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Tn;break;case Sr:case Ir:case Cr:l=vn;break;case Tr:l=On;break;case"scroll":l=pn;break;case"wheel":l=Mn;break;case"copy":case"cut":case"paste":l=_n;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Cn}var c=0!==(4&t),d=!c&&"scroll"===e,p=c?null!==s?s+"Capture":null:s;c=[];for(var f,h=r;null!==h;){var m=(f=h).stateNode;if(5===f.tag&&null!==m&&(f=m,null!==p&&(null!=(m=Me(h,p))&&c.push(Vr(h,m,f)))),d)break;h=h.return}0<c.length&&(s=new l(s,u,null,n,a),i.push({event:s,listeners:c}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===be||!(u=n.relatedTarget||n.fromElement)||!ya(u)&&!u[ha])&&(l||s)&&(s=a.window===a?a:(s=a.ownerDocument)?s.defaultView||s.parentWindow:window,l?(l=r,null!==(u=(u=n.relatedTarget||n.toElement)?ya(u):null)&&(u!==(d=Ze(u))||5!==u.tag&&6!==u.tag)&&(u=null)):(l=null,u=r),l!==u)){if(c=hn,m="onMouseLeave",p="onMouseEnter",h="mouse","pointerout"!==e&&"pointerover"!==e||(c=Cn,m="onPointerLeave",p="onPointerEnter",h="pointer"),d=null==l?s:ba(l),f=null==u?s:ba(u),(s=new c(m,h+"leave",l,n,a)).target=d,s.relatedTarget=f,m=null,ya(a)===r&&((c=new c(p,h+"enter",u,n,a)).target=f,c.relatedTarget=d,m=c),d=m,l&&u)e:{for(p=u,h=0,f=c=l;f;f=Kr(f))h++;for(f=0,m=p;m;m=Kr(m))f++;for(;0<h-f;)c=Kr(c),h--;for(;0<f-h;)p=Kr(p),f--;for(;h--;){if(c===p||null!==p&&c===p.alternate)break e;c=Kr(c),p=Kr(p)}c=null}else c=null;null!==l&&Hr(i,s,l,c,!1),null!==u&&null!==d&&Hr(i,d,u,c,!0)}if("select"===(l=(s=r?ba(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===l&&"file"===s.type)var g=Jn;else if(qn(s))if(Gn)g=ir;else{g=ar;var v=rr}else(l=s.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(g=or);switch(g&&(g=g(e,r))?Vn(i,g,n,a):(v&&v(e,s,r),"focusout"===e&&(v=s._wrapperState)&&v.controlled&&"number"===s.type&&ee(s,"number",s.value)),v=r?ba(r):window,e){case"focusin":(qn(v)||"true"===v.contentEditable)&&(gr=v,vr=r,yr=null);break;case"focusout":yr=vr=gr=null;break;case"mousedown":_r=!0;break;case"contextmenu":case"mouseup":case"dragend":_r=!1,br(i,n,a);break;case"selectionchange":if(mr)break;case"keydown":case"keyup":br(i,n,a)}var y;if(Rn)e:{switch(e){case"compositionstart":var _="onCompositionStart";break e;case"compositionend":_="onCompositionEnd";break e;case"compositionupdate":_="onCompositionUpdate";break e}_=void 0}else Zn?Un(e,n)&&(_="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(_="onCompositionStart");_&&(jn&&"ko"!==n.locale&&(Zn||"onCompositionStart"!==_?"onCompositionEnd"===_&&Zn&&(y=en()):(Yt="value"in(Gt=a)?Gt.value:Gt.textContent,Zn=!0)),0<(v=$r(r,_)).length&&(_=new bn(_,e,null,n,a),i.push({event:_,listeners:v}),y?_.data=y:null!==(y=Bn(n))&&(_.data=y))),(y=zn?function(e,t){switch(e){case"compositionend":return Bn(t);case"keypress":return 32!==t.which?null:(Fn=!0,Ln);case"textInput":return(e=t.data)===Ln&&Fn?null:e;default:return null}}(e,n):function(e,t){if(Zn)return"compositionend"===e||!Rn&&Un(e,t)?(e=en(),Xt=Yt=Gt=null,Zn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return jn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=$r(r,"onBeforeInput")).length&&(a=new bn("onBeforeInput","beforeinput",null,n,a),i.push({event:a,listeners:r}),a.data=y))}Lr(i,t)}))}function Vr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function $r(e,t){for(var n=t+"Capture",r=[];null!==e;){var a=e,o=a.stateNode;5===a.tag&&null!==o&&(a=o,null!=(o=Me(e,n))&&r.unshift(Vr(e,o,a)),null!=(o=Me(e,t))&&r.push(Vr(e,o,a))),e=e.return}return r}function Kr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Hr(e,t,n,r,a){for(var o=t._reactName,i=[];null!==n&&n!==r;){var s=n,l=s.alternate,u=s.stateNode;if(null!==l&&l===r)break;5===s.tag&&null!==u&&(s=u,a?null!=(l=Me(n,o))&&i.unshift(Vr(n,l,s)):a||null!=(l=Me(n,o))&&i.push(Vr(n,l,s))),n=n.return}0!==i.length&&e.push({event:t,listeners:i})}var Qr=/\r\n?/g,Jr=/\u0000|\uFFFD/g;function Gr(e){return("string"===typeof e?e:""+e).replace(Qr,"\n").replace(Jr,"")}function Yr(e,t,n){if(t=Gr(t),Gr(e)!==t&&n)throw Error(o(425))}function Xr(){}var ea=null,ta=null;function na(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ra="function"===typeof setTimeout?setTimeout:void 0,aa="function"===typeof clearTimeout?clearTimeout:void 0,oa="function"===typeof Promise?Promise:void 0,ia="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof oa?function(e){return oa.resolve(null).then(e).catch(sa)}:ra;function sa(e){setTimeout((function(){throw e}))}function la(e,t){var n=t,r=0;do{var a=n.nextSibling;if(e.removeChild(n),a&&8===a.nodeType)if("/$"===(n=a.data)){if(0===r)return e.removeChild(a),void Zt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=a}while(n);Zt(t)}function ua(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ca(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var da=Math.random().toString(36).slice(2),pa="__reactFiber$"+da,fa="__reactProps$"+da,ha="__reactContainer$"+da,ma="__reactEvents$"+da,ga="__reactListeners$"+da,va="__reactHandles$"+da;function ya(e){var t=e[pa];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ha]||n[pa]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ca(e);null!==e;){if(n=e[pa])return n;e=ca(e)}return t}n=(e=n).parentNode}return null}function _a(e){return!(e=e[pa]||e[ha])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ba(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function wa(e){return e[fa]||null}var ka=[],Aa=-1;function xa(e){return{current:e}}function Ea(e){0>Aa||(e.current=ka[Aa],ka[Aa]=null,Aa--)}function Sa(e,t){Aa++,ka[Aa]=e.current,e.current=t}var Ia={},Ca=xa(Ia),Ta=xa(!1),Oa=Ia;function Pa(e,t){var n=e.type.contextTypes;if(!n)return Ia;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var a,o={};for(a in n)o[a]=t[a];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function Ma(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Na(){Ea(Ta),Ea(Ca)}function Ra(e,t,n){if(Ca.current!==Ia)throw Error(o(168));Sa(Ca,t),Sa(Ta,n)}function Da(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var a in r=r.getChildContext())if(!(a in t))throw Error(o(108,W(e)||"Unknown",a));return j({},n,r)}function za(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ia,Oa=Ca.current,Sa(Ca,e),Sa(Ta,Ta.current),!0}function ja(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=Da(e,t,Oa),r.__reactInternalMemoizedMergedChildContext=e,Ea(Ta),Ea(Ca),Sa(Ca,e)):Ea(Ta),Sa(Ta,n)}var La=null,Fa=!1,Ua=!1;function Ba(e){null===La?La=[e]:La.push(e)}function Za(){if(!Ua&&null!==La){Ua=!0;var e=0,t=_t;try{var n=La;for(_t=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}La=null,Fa=!1}catch(a){throw null!==La&&(La=La.slice(e+1)),Ke(Xe,Za),a}finally{_t=t,Ua=!1}}return null}var Wa=[],qa=0,Va=null,$a=0,Ka=[],Ha=0,Qa=null,Ja=1,Ga="";function Ya(e,t){Wa[qa++]=$a,Wa[qa++]=Va,Va=e,$a=t}function Xa(e,t,n){Ka[Ha++]=Ja,Ka[Ha++]=Ga,Ka[Ha++]=Qa,Qa=e;var r=Ja;e=Ga;var a=32-it(r)-1;r&=~(1<<a),n+=1;var o=32-it(t)+a;if(30<o){var i=a-a%5;o=(r&(1<<i)-1).toString(32),r>>=i,a-=i,Ja=1<<32-it(t)+a|n<<a|r,Ga=o+e}else Ja=1<<o|n<<a|r,Ga=e}function eo(e){null!==e.return&&(Ya(e,1),Xa(e,1,0))}function to(e){for(;e===Va;)Va=Wa[--qa],Wa[qa]=null,$a=Wa[--qa],Wa[qa]=null;for(;e===Qa;)Qa=Ka[--Ha],Ka[Ha]=null,Ga=Ka[--Ha],Ka[Ha]=null,Ja=Ka[--Ha],Ka[Ha]=null}var no=null,ro=null,ao=!1,oo=null;function io(e,t){var n=Mu(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function so(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,no=e,ro=ua(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,no=e,ro=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Qa?{id:Ja,overflow:Ga}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Mu(18,null,null,0)).stateNode=t,n.return=e,e.child=n,no=e,ro=null,!0);default:return!1}}function lo(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function uo(e){if(ao){var t=ro;if(t){var n=t;if(!so(e,t)){if(lo(e))throw Error(o(418));t=ua(n.nextSibling);var r=no;t&&so(e,t)?io(r,n):(e.flags=-4097&e.flags|2,ao=!1,no=e)}}else{if(lo(e))throw Error(o(418));e.flags=-4097&e.flags|2,ao=!1,no=e}}}function co(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;no=e}function po(e){if(e!==no)return!1;if(!ao)return co(e),ao=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!na(e.type,e.memoizedProps)),t&&(t=ro)){if(lo(e))throw fo(),Error(o(418));for(;t;)io(e,t),t=ua(t.nextSibling)}if(co(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ro=ua(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ro=null}}else ro=no?ua(e.stateNode.nextSibling):null;return!0}function fo(){for(var e=ro;e;)e=ua(e.nextSibling)}function ho(){ro=no=null,ao=!1}function mo(e){null===oo?oo=[e]:oo.push(e)}var go=b.ReactCurrentBatchConfig;function vo(e,t){if(e&&e.defaultProps){for(var n in t=j({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var yo=xa(null),_o=null,bo=null,wo=null;function ko(){wo=bo=_o=null}function Ao(e){var t=yo.current;Ea(yo),e._currentValue=t}function xo(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Eo(e,t){_o=e,wo=bo=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(bs=!0),e.firstContext=null)}function So(e){var t=e._currentValue;if(wo!==e)if(e={context:e,memoizedValue:t,next:null},null===bo){if(null===_o)throw Error(o(308));bo=e,_o.dependencies={lanes:0,firstContext:e}}else bo=bo.next=e;return t}var Io=null;function Co(e){null===Io?Io=[e]:Io.push(e)}function To(e,t,n,r){var a=t.interleaved;return null===a?(n.next=n,Co(t)):(n.next=a.next,a.next=n),t.interleaved=n,Oo(e,r)}function Oo(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Po=!1;function Mo(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function No(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ro(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Do(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Tl)){var a=r.pending;return null===a?t.next=t:(t.next=a.next,a.next=t),r.pending=t,Oo(e,n)}return null===(a=r.interleaved)?(t.next=t,Co(r)):(t.next=a.next,a.next=t),r.interleaved=t,Oo(e,n)}function zo(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}function jo(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var a=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var i={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?a=o=i:o=o.next=i,n=n.next}while(null!==n);null===o?a=o=t:o=o.next=t}else a=o=t;return n={baseState:r.baseState,firstBaseUpdate:a,lastBaseUpdate:o,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Lo(e,t,n,r){var a=e.updateQueue;Po=!1;var o=a.firstBaseUpdate,i=a.lastBaseUpdate,s=a.shared.pending;if(null!==s){a.shared.pending=null;var l=s,u=l.next;l.next=null,null===i?o=u:i.next=u,i=l;var c=e.alternate;null!==c&&((s=(c=c.updateQueue).lastBaseUpdate)!==i&&(null===s?c.firstBaseUpdate=u:s.next=u,c.lastBaseUpdate=l))}if(null!==o){var d=a.baseState;for(i=0,c=u=l=null,s=o;;){var p=s.lane,f=s.eventTime;if((r&p)===p){null!==c&&(c=c.next={eventTime:f,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var h=e,m=s;switch(p=t,f=n,m.tag){case 1:if("function"===typeof(h=m.payload)){d=h.call(f,d,p);break e}d=h;break e;case 3:h.flags=-65537&h.flags|128;case 0:if(null===(p="function"===typeof(h=m.payload)?h.call(f,d,p):h)||void 0===p)break e;d=j({},d,p);break e;case 2:Po=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,null===(p=a.effects)?a.effects=[s]:p.push(s))}else f={eventTime:f,lane:p,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===c?(u=c=f,l=d):c=c.next=f,i|=p;if(null===(s=s.next)){if(null===(s=a.shared.pending))break;s=(p=s).next,p.next=null,a.lastBaseUpdate=p,a.shared.pending=null}}if(null===c&&(l=d),a.baseState=l,a.firstBaseUpdate=u,a.lastBaseUpdate=c,null!==(t=a.shared.interleaved)){a=t;do{i|=a.lane,a=a.next}while(a!==t)}else null===o&&(a.shared.lanes=0);jl|=i,e.lanes=i,e.memoizedState=d}}function Fo(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],a=r.callback;if(null!==a){if(r.callback=null,r=n,"function"!==typeof a)throw Error(o(191,a));a.call(r)}}}var Uo=(new r.Component).refs;function Bo(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:j({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var Zo={isMounted:function(e){return!!(e=e._reactInternals)&&Ze(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=tu(),a=nu(e),o=Ro(r,a);o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=Do(e,o,a))&&(ru(t,e,a,r),zo(t,e,a))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=tu(),a=nu(e),o=Ro(r,a);o.tag=1,o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=Do(e,o,a))&&(ru(t,e,a,r),zo(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=tu(),r=nu(e),a=Ro(n,r);a.tag=2,void 0!==t&&null!==t&&(a.callback=t),null!==(t=Do(e,a,r))&&(ru(t,e,r,n),zo(t,e,r))}};function Wo(e,t,n,r,a,o,i){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,i):!t.prototype||!t.prototype.isPureReactComponent||(!lr(n,r)||!lr(a,o))}function qo(e,t,n){var r=!1,a=Ia,o=t.contextType;return"object"===typeof o&&null!==o?o=So(o):(a=Ma(t)?Oa:Ca.current,o=(r=null!==(r=t.contextTypes)&&void 0!==r)?Pa(e,a):Ia),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Zo,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=o),t}function Vo(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Zo.enqueueReplaceState(t,t.state,null)}function $o(e,t,n,r){var a=e.stateNode;a.props=n,a.state=e.memoizedState,a.refs=Uo,Mo(e);var o=t.contextType;"object"===typeof o&&null!==o?a.context=So(o):(o=Ma(t)?Oa:Ca.current,a.context=Pa(e,o)),a.state=e.memoizedState,"function"===typeof(o=t.getDerivedStateFromProps)&&(Bo(e,t,o,n),a.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof a.getSnapshotBeforeUpdate||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||(t=a.state,"function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount(),t!==a.state&&Zo.enqueueReplaceState(a,a.state,null),Lo(e,n,a,r),a.state=e.memoizedState),"function"===typeof a.componentDidMount&&(e.flags|=4194308)}function Ko(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var a=r,i=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===i?t.ref:(t=function(e){var t=a.refs;t===Uo&&(t=a.refs={}),null===e?delete t[i]:t[i]=e},t._stringRef=i,t)}if("string"!==typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function Ho(e,t){throw e=Object.prototype.toString.call(t),Error(o(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Qo(e){return(0,e._init)(e._payload)}function Jo(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function a(e,t){return(e=Ru(e,t)).index=0,e.sibling=null,e}function i(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Lu(n,e.mode,r)).return=e,t):((t=a(t,n)).return=e,t)}function u(e,t,n,r){var o=n.type;return o===A?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===o||"object"===typeof o&&null!==o&&o.$$typeof===M&&Qo(o)===t.type)?((r=a(t,n.props)).ref=Ko(e,t,n),r.return=e,r):((r=Du(n.type,n.key,n.props,null,e.mode,r)).ref=Ko(e,t,n),r.return=e,r)}function c(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Fu(n,e.mode,r)).return=e,t):((t=a(t,n.children||[])).return=e,t)}function d(e,t,n,r,o){return null===t||7!==t.tag?((t=zu(n,e.mode,r,o)).return=e,t):((t=a(t,n)).return=e,t)}function p(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Lu(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Du(t.type,t.key,t.props,null,e.mode,n)).ref=Ko(e,null,t),n.return=e,n;case k:return(t=Fu(t,e.mode,n)).return=e,t;case M:return p(e,(0,t._init)(t._payload),n)}if(te(t)||D(t))return(t=zu(t,e.mode,n,null)).return=e,t;Ho(e,t)}return null}function f(e,t,n,r){var a=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==a?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===a?u(e,t,n,r):null;case k:return n.key===a?c(e,t,n,r):null;case M:return f(e,t,(a=n._init)(n._payload),r)}if(te(n)||D(n))return null!==a?null:d(e,t,n,r,null);Ho(e,n)}return null}function h(e,t,n,r,a){if("string"===typeof r&&""!==r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,a);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return u(t,e=e.get(null===r.key?n:r.key)||null,r,a);case k:return c(t,e=e.get(null===r.key?n:r.key)||null,r,a);case M:return h(e,t,n,(0,r._init)(r._payload),a)}if(te(r)||D(r))return d(t,e=e.get(n)||null,r,a,null);Ho(t,r)}return null}function m(a,o,s,l){for(var u=null,c=null,d=o,m=o=0,g=null;null!==d&&m<s.length;m++){d.index>m?(g=d,d=null):g=d.sibling;var v=f(a,d,s[m],l);if(null===v){null===d&&(d=g);break}e&&d&&null===v.alternate&&t(a,d),o=i(v,o,m),null===c?u=v:c.sibling=v,c=v,d=g}if(m===s.length)return n(a,d),ao&&Ya(a,m),u;if(null===d){for(;m<s.length;m++)null!==(d=p(a,s[m],l))&&(o=i(d,o,m),null===c?u=d:c.sibling=d,c=d);return ao&&Ya(a,m),u}for(d=r(a,d);m<s.length;m++)null!==(g=h(d,a,m,s[m],l))&&(e&&null!==g.alternate&&d.delete(null===g.key?m:g.key),o=i(g,o,m),null===c?u=g:c.sibling=g,c=g);return e&&d.forEach((function(e){return t(a,e)})),ao&&Ya(a,m),u}function g(a,s,l,u){var c=D(l);if("function"!==typeof c)throw Error(o(150));if(null==(l=c.call(l)))throw Error(o(151));for(var d=c=null,m=s,g=s=0,v=null,y=l.next();null!==m&&!y.done;g++,y=l.next()){m.index>g?(v=m,m=null):v=m.sibling;var _=f(a,m,y.value,u);if(null===_){null===m&&(m=v);break}e&&m&&null===_.alternate&&t(a,m),s=i(_,s,g),null===d?c=_:d.sibling=_,d=_,m=v}if(y.done)return n(a,m),ao&&Ya(a,g),c;if(null===m){for(;!y.done;g++,y=l.next())null!==(y=p(a,y.value,u))&&(s=i(y,s,g),null===d?c=y:d.sibling=y,d=y);return ao&&Ya(a,g),c}for(m=r(a,m);!y.done;g++,y=l.next())null!==(y=h(m,a,g,y.value,u))&&(e&&null!==y.alternate&&m.delete(null===y.key?g:y.key),s=i(y,s,g),null===d?c=y:d.sibling=y,d=y);return e&&m.forEach((function(e){return t(a,e)})),ao&&Ya(a,g),c}return function e(r,o,i,l){if("object"===typeof i&&null!==i&&i.type===A&&null===i.key&&(i=i.props.children),"object"===typeof i&&null!==i){switch(i.$$typeof){case w:e:{for(var u=i.key,c=o;null!==c;){if(c.key===u){if((u=i.type)===A){if(7===c.tag){n(r,c.sibling),(o=a(c,i.props.children)).return=r,r=o;break e}}else if(c.elementType===u||"object"===typeof u&&null!==u&&u.$$typeof===M&&Qo(u)===c.type){n(r,c.sibling),(o=a(c,i.props)).ref=Ko(r,c,i),o.return=r,r=o;break e}n(r,c);break}t(r,c),c=c.sibling}i.type===A?((o=zu(i.props.children,r.mode,l,i.key)).return=r,r=o):((l=Du(i.type,i.key,i.props,null,r.mode,l)).ref=Ko(r,o,i),l.return=r,r=l)}return s(r);case k:e:{for(c=i.key;null!==o;){if(o.key===c){if(4===o.tag&&o.stateNode.containerInfo===i.containerInfo&&o.stateNode.implementation===i.implementation){n(r,o.sibling),(o=a(o,i.children||[])).return=r,r=o;break e}n(r,o);break}t(r,o),o=o.sibling}(o=Fu(i,r.mode,l)).return=r,r=o}return s(r);case M:return e(r,o,(c=i._init)(i._payload),l)}if(te(i))return m(r,o,i,l);if(D(i))return g(r,o,i,l);Ho(r,i)}return"string"===typeof i&&""!==i||"number"===typeof i?(i=""+i,null!==o&&6===o.tag?(n(r,o.sibling),(o=a(o,i)).return=r,r=o):(n(r,o),(o=Lu(i,r.mode,l)).return=r,r=o),s(r)):n(r,o)}}var Go=Jo(!0),Yo=Jo(!1),Xo={},ei=xa(Xo),ti=xa(Xo),ni=xa(Xo);function ri(e){if(e===Xo)throw Error(o(174));return e}function ai(e,t){switch(Sa(ni,t),Sa(ti,e),Sa(ei,Xo),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ea(ei),Sa(ei,t)}function oi(){Ea(ei),Ea(ti),Ea(ni)}function ii(e){ri(ni.current);var t=ri(ei.current),n=le(t,e.type);t!==n&&(Sa(ti,e),Sa(ei,n))}function si(e){ti.current===e&&(Ea(ei),Ea(ti))}var li=xa(0);function ui(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ci=[];function di(){for(var e=0;e<ci.length;e++)ci[e]._workInProgressVersionPrimary=null;ci.length=0}var pi=b.ReactCurrentDispatcher,fi=b.ReactCurrentBatchConfig,hi=0,mi=null,gi=null,vi=null,yi=!1,_i=!1,bi=0,wi=0;function ki(){throw Error(o(321))}function Ai(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!sr(e[n],t[n]))return!1;return!0}function xi(e,t,n,r,a,i){if(hi=i,mi=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,pi.current=null===e||null===e.memoizedState?ss:ls,e=n(r,a),_i){i=0;do{if(_i=!1,bi=0,25<=i)throw Error(o(301));i+=1,vi=gi=null,t.updateQueue=null,pi.current=us,e=n(r,a)}while(_i)}if(pi.current=is,t=null!==gi&&null!==gi.next,hi=0,vi=gi=mi=null,yi=!1,t)throw Error(o(300));return e}function Ei(){var e=0!==bi;return bi=0,e}function Si(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===vi?mi.memoizedState=vi=e:vi=vi.next=e,vi}function Ii(){if(null===gi){var e=mi.alternate;e=null!==e?e.memoizedState:null}else e=gi.next;var t=null===vi?mi.memoizedState:vi.next;if(null!==t)vi=t,gi=e;else{if(null===e)throw Error(o(310));e={memoizedState:(gi=e).memoizedState,baseState:gi.baseState,baseQueue:gi.baseQueue,queue:gi.queue,next:null},null===vi?mi.memoizedState=vi=e:vi=vi.next=e}return vi}function Ci(e,t){return"function"===typeof t?t(e):t}function Ti(e){var t=Ii(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=gi,a=r.baseQueue,i=n.pending;if(null!==i){if(null!==a){var s=a.next;a.next=i.next,i.next=s}r.baseQueue=a=i,n.pending=null}if(null!==a){i=a.next,r=r.baseState;var l=s=null,u=null,c=i;do{var d=c.lane;if((hi&d)===d)null!==u&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var p={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};null===u?(l=u=p,s=r):u=u.next=p,mi.lanes|=d,jl|=d}c=c.next}while(null!==c&&c!==i);null===u?s=r:u.next=l,sr(r,t.memoizedState)||(bs=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=u,n.lastRenderedState=r}if(null!==(e=n.interleaved)){a=e;do{i=a.lane,mi.lanes|=i,jl|=i,a=a.next}while(a!==e)}else null===a&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Oi(e){var t=Ii(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,a=n.pending,i=t.memoizedState;if(null!==a){n.pending=null;var s=a=a.next;do{i=e(i,s.action),s=s.next}while(s!==a);sr(i,t.memoizedState)||(bs=!0),t.memoizedState=i,null===t.baseQueue&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function Pi(){}function Mi(e,t){var n=mi,r=Ii(),a=t(),i=!sr(r.memoizedState,a);if(i&&(r.memoizedState=a,bs=!0),r=r.queue,qi(Di.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||null!==vi&&1&vi.memoizedState.tag){if(n.flags|=2048,Fi(9,Ri.bind(null,n,r,a,t),void 0,null),null===Ol)throw Error(o(349));0!==(30&hi)||Ni(n,t,a)}return a}function Ni(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=mi.updateQueue)?(t={lastEffect:null,stores:null},mi.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Ri(e,t,n,r){t.value=n,t.getSnapshot=r,zi(t)&&ji(e)}function Di(e,t,n){return n((function(){zi(t)&&ji(e)}))}function zi(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!sr(e,n)}catch(r){return!0}}function ji(e){var t=Oo(e,1);null!==t&&ru(t,e,1,-1)}function Li(e){var t=Si();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ci,lastRenderedState:e},t.queue=e,e=e.dispatch=ns.bind(null,mi,e),[t.memoizedState,e]}function Fi(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=mi.updateQueue)?(t={lastEffect:null,stores:null},mi.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Ui(){return Ii().memoizedState}function Bi(e,t,n,r){var a=Si();mi.flags|=e,a.memoizedState=Fi(1|t,n,void 0,void 0===r?null:r)}function Zi(e,t,n,r){var a=Ii();r=void 0===r?null:r;var o=void 0;if(null!==gi){var i=gi.memoizedState;if(o=i.destroy,null!==r&&Ai(r,i.deps))return void(a.memoizedState=Fi(t,n,o,r))}mi.flags|=e,a.memoizedState=Fi(1|t,n,o,r)}function Wi(e,t){return Bi(8390656,8,e,t)}function qi(e,t){return Zi(2048,8,e,t)}function Vi(e,t){return Zi(4,2,e,t)}function $i(e,t){return Zi(4,4,e,t)}function Ki(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Hi(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Zi(4,4,Ki.bind(null,t,e),n)}function Qi(){}function Ji(e,t){var n=Ii();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Ai(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Gi(e,t){var n=Ii();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Ai(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Yi(e,t,n){return 0===(21&hi)?(e.baseState&&(e.baseState=!1,bs=!0),e.memoizedState=n):(sr(n,t)||(n=mt(),mi.lanes|=n,jl|=n,e.baseState=!0),t)}function Xi(e,t){var n=_t;_t=0!==n&&4>n?n:4,e(!0);var r=fi.transition;fi.transition={};try{e(!1),t()}finally{_t=n,fi.transition=r}}function es(){return Ii().memoizedState}function ts(e,t,n){var r=nu(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},rs(e))as(t,n);else if(null!==(n=To(e,t,n,r))){ru(n,e,r,tu()),os(n,t,r)}}function ns(e,t,n){var r=nu(e),a={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(rs(e))as(t,a);else{var o=e.alternate;if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var i=t.lastRenderedState,s=o(i,n);if(a.hasEagerState=!0,a.eagerState=s,sr(s,i)){var l=t.interleaved;return null===l?(a.next=a,Co(t)):(a.next=l.next,l.next=a),void(t.interleaved=a)}}catch(u){}null!==(n=To(e,t,a,r))&&(ru(n,e,r,a=tu()),os(n,t,r))}}function rs(e){var t=e.alternate;return e===mi||null!==t&&t===mi}function as(e,t){_i=yi=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function os(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}var is={readContext:So,useCallback:ki,useContext:ki,useEffect:ki,useImperativeHandle:ki,useInsertionEffect:ki,useLayoutEffect:ki,useMemo:ki,useReducer:ki,useRef:ki,useState:ki,useDebugValue:ki,useDeferredValue:ki,useTransition:ki,useMutableSource:ki,useSyncExternalStore:ki,useId:ki,unstable_isNewReconciler:!1},ss={readContext:So,useCallback:function(e,t){return Si().memoizedState=[e,void 0===t?null:t],e},useContext:So,useEffect:Wi,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Bi(4194308,4,Ki.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Bi(4194308,4,e,t)},useInsertionEffect:function(e,t){return Bi(4,2,e,t)},useMemo:function(e,t){var n=Si();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Si();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=ts.bind(null,mi,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Si().memoizedState=e},useState:Li,useDebugValue:Qi,useDeferredValue:function(e){return Si().memoizedState=e},useTransition:function(){var e=Li(!1),t=e[0];return e=Xi.bind(null,e[1]),Si().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=mi,a=Si();if(ao){if(void 0===n)throw Error(o(407));n=n()}else{if(n=t(),null===Ol)throw Error(o(349));0!==(30&hi)||Ni(r,t,n)}a.memoizedState=n;var i={value:n,getSnapshot:t};return a.queue=i,Wi(Di.bind(null,r,i,e),[e]),r.flags|=2048,Fi(9,Ri.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=Si(),t=Ol.identifierPrefix;if(ao){var n=Ga;t=":"+t+"R"+(n=(Ja&~(1<<32-it(Ja)-1)).toString(32)+n),0<(n=bi++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=wi++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},ls={readContext:So,useCallback:Ji,useContext:So,useEffect:qi,useImperativeHandle:Hi,useInsertionEffect:Vi,useLayoutEffect:$i,useMemo:Gi,useReducer:Ti,useRef:Ui,useState:function(){return Ti(Ci)},useDebugValue:Qi,useDeferredValue:function(e){return Yi(Ii(),gi.memoizedState,e)},useTransition:function(){return[Ti(Ci)[0],Ii().memoizedState]},useMutableSource:Pi,useSyncExternalStore:Mi,useId:es,unstable_isNewReconciler:!1},us={readContext:So,useCallback:Ji,useContext:So,useEffect:qi,useImperativeHandle:Hi,useInsertionEffect:Vi,useLayoutEffect:$i,useMemo:Gi,useReducer:Oi,useRef:Ui,useState:function(){return Oi(Ci)},useDebugValue:Qi,useDeferredValue:function(e){var t=Ii();return null===gi?t.memoizedState=e:Yi(t,gi.memoizedState,e)},useTransition:function(){return[Oi(Ci)[0],Ii().memoizedState]},useMutableSource:Pi,useSyncExternalStore:Mi,useId:es,unstable_isNewReconciler:!1};function cs(e,t){try{var n="",r=t;do{n+=B(r),r=r.return}while(r);var a=n}catch(o){a="\nError generating stack: "+o.message+"\n"+o.stack}return{value:e,source:t,stack:a,digest:null}}function ds(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function ps(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var fs="function"===typeof WeakMap?WeakMap:Map;function hs(e,t,n){(n=Ro(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Vl||(Vl=!0,$l=r),ps(0,t)},n}function ms(e,t,n){(n=Ro(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var a=t.value;n.payload=function(){return r(a)},n.callback=function(){ps(0,t)}}var o=e.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(n.callback=function(){ps(0,t),"function"!==typeof r&&(null===Kl?Kl=new Set([this]):Kl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function gs(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new fs;var a=new Set;r.set(t,a)}else void 0===(a=r.get(t))&&(a=new Set,r.set(t,a));a.has(n)||(a.add(n),e=Su.bind(null,e,t,n),t.then(e,e))}function vs(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function ys(e,t,n,r,a){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Ro(-1,1)).tag=2,Do(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=a,e)}var _s=b.ReactCurrentOwner,bs=!1;function ws(e,t,n,r){t.child=null===e?Yo(t,null,n,r):Go(t,e.child,n,r)}function ks(e,t,n,r,a){n=n.render;var o=t.ref;return Eo(t,a),r=xi(e,t,n,r,o,a),n=Ei(),null===e||bs?(ao&&n&&eo(t),t.flags|=1,ws(e,t,r,a),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Vs(e,t,a))}function As(e,t,n,r,a){if(null===e){var o=n.type;return"function"!==typeof o||Nu(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Du(n.type,null,r,t,t.mode,a)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,xs(e,t,o,r,a))}if(o=e.child,0===(e.lanes&a)){var i=o.memoizedProps;if((n=null!==(n=n.compare)?n:lr)(i,r)&&e.ref===t.ref)return Vs(e,t,a)}return t.flags|=1,(e=Ru(o,r)).ref=t.ref,e.return=t,t.child=e}function xs(e,t,n,r,a){if(null!==e){var o=e.memoizedProps;if(lr(o,r)&&e.ref===t.ref){if(bs=!1,t.pendingProps=r=o,0===(e.lanes&a))return t.lanes=e.lanes,Vs(e,t,a);0!==(131072&e.flags)&&(bs=!0)}}return Is(e,t,n,r,a)}function Es(e,t,n){var r=t.pendingProps,a=r.children,o=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Sa(Rl,Nl),Nl|=n;else{if(0===(1073741824&n))return e=null!==o?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Sa(Rl,Nl),Nl|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==o?o.baseLanes:n,Sa(Rl,Nl),Nl|=r}else null!==o?(r=o.baseLanes|n,t.memoizedState=null):r=n,Sa(Rl,Nl),Nl|=r;return ws(e,t,a,n),t.child}function Ss(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Is(e,t,n,r,a){var o=Ma(n)?Oa:Ca.current;return o=Pa(t,o),Eo(t,a),n=xi(e,t,n,r,o,a),r=Ei(),null===e||bs?(ao&&r&&eo(t),t.flags|=1,ws(e,t,n,a),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Vs(e,t,a))}function Cs(e,t,n,r,a){if(Ma(n)){var o=!0;za(t)}else o=!1;if(Eo(t,a),null===t.stateNode)qs(e,t),qo(t,n,r),$o(t,n,r,a),r=!0;else if(null===e){var i=t.stateNode,s=t.memoizedProps;i.props=s;var l=i.context,u=n.contextType;"object"===typeof u&&null!==u?u=So(u):u=Pa(t,u=Ma(n)?Oa:Ca.current);var c=n.getDerivedStateFromProps,d="function"===typeof c||"function"===typeof i.getSnapshotBeforeUpdate;d||"function"!==typeof i.UNSAFE_componentWillReceiveProps&&"function"!==typeof i.componentWillReceiveProps||(s!==r||l!==u)&&Vo(t,i,r,u),Po=!1;var p=t.memoizedState;i.state=p,Lo(t,r,i,a),l=t.memoizedState,s!==r||p!==l||Ta.current||Po?("function"===typeof c&&(Bo(t,n,c,r),l=t.memoizedState),(s=Po||Wo(t,n,s,r,p,l,u))?(d||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||("function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount()),"function"===typeof i.componentDidMount&&(t.flags|=4194308)):("function"===typeof i.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),i.props=r,i.state=l,i.context=u,r=s):("function"===typeof i.componentDidMount&&(t.flags|=4194308),r=!1)}else{i=t.stateNode,No(e,t),s=t.memoizedProps,u=t.type===t.elementType?s:vo(t.type,s),i.props=u,d=t.pendingProps,p=i.context,"object"===typeof(l=n.contextType)&&null!==l?l=So(l):l=Pa(t,l=Ma(n)?Oa:Ca.current);var f=n.getDerivedStateFromProps;(c="function"===typeof f||"function"===typeof i.getSnapshotBeforeUpdate)||"function"!==typeof i.UNSAFE_componentWillReceiveProps&&"function"!==typeof i.componentWillReceiveProps||(s!==d||p!==l)&&Vo(t,i,r,l),Po=!1,p=t.memoizedState,i.state=p,Lo(t,r,i,a);var h=t.memoizedState;s!==d||p!==h||Ta.current||Po?("function"===typeof f&&(Bo(t,n,f,r),h=t.memoizedState),(u=Po||Wo(t,n,u,r,p,h,l)||!1)?(c||"function"!==typeof i.UNSAFE_componentWillUpdate&&"function"!==typeof i.componentWillUpdate||("function"===typeof i.componentWillUpdate&&i.componentWillUpdate(r,h,l),"function"===typeof i.UNSAFE_componentWillUpdate&&i.UNSAFE_componentWillUpdate(r,h,l)),"function"===typeof i.componentDidUpdate&&(t.flags|=4),"function"===typeof i.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof i.componentDidUpdate||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),"function"!==typeof i.getSnapshotBeforeUpdate||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=h),i.props=r,i.state=h,i.context=l,r=u):("function"!==typeof i.componentDidUpdate||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),"function"!==typeof i.getSnapshotBeforeUpdate||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),r=!1)}return Ts(e,t,n,r,o,a)}function Ts(e,t,n,r,a,o){Ss(e,t);var i=0!==(128&t.flags);if(!r&&!i)return a&&ja(t,n,!1),Vs(e,t,o);r=t.stateNode,_s.current=t;var s=i&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&i?(t.child=Go(t,e.child,null,o),t.child=Go(t,null,s,o)):ws(e,t,s,o),t.memoizedState=r.state,a&&ja(t,n,!0),t.child}function Os(e){var t=e.stateNode;t.pendingContext?Ra(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Ra(0,t.context,!1),ai(e,t.containerInfo)}function Ps(e,t,n,r,a){return ho(),mo(a),t.flags|=256,ws(e,t,n,r),t.child}var Ms,Ns,Rs,Ds,zs={dehydrated:null,treeContext:null,retryLane:0};function js(e){return{baseLanes:e,cachePool:null,transitions:null}}function Ls(e,t,n){var r,a=t.pendingProps,i=li.current,s=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&i)),r?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(i|=1),Sa(li,1&i),null===e)return uo(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=a.children,e=a.fallback,s?(a=t.mode,s=t.child,l={mode:"hidden",children:l},0===(1&a)&&null!==s?(s.childLanes=0,s.pendingProps=l):s=ju(l,a,0,null),e=zu(e,a,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=js(n),t.memoizedState=zs,e):Fs(t,l));if(null!==(i=e.memoizedState)&&null!==(r=i.dehydrated))return function(e,t,n,r,a,i,s){if(n)return 256&t.flags?(t.flags&=-257,Us(e,t,s,r=ds(Error(o(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(i=r.fallback,a=t.mode,r=ju({mode:"visible",children:r.children},a,0,null),(i=zu(i,a,s,null)).flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,0!==(1&t.mode)&&Go(t,e.child,null,s),t.child.memoizedState=js(s),t.memoizedState=zs,i);if(0===(1&t.mode))return Us(e,t,s,null);if("$!"===a.data){if(r=a.nextSibling&&a.nextSibling.dataset)var l=r.dgst;return r=l,Us(e,t,s,r=ds(i=Error(o(419)),r,void 0))}if(l=0!==(s&e.childLanes),bs||l){if(null!==(r=Ol)){switch(s&-s){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}0!==(a=0!==(a&(r.suspendedLanes|s))?0:a)&&a!==i.retryLane&&(i.retryLane=a,Oo(e,a),ru(r,e,a,-1))}return gu(),Us(e,t,s,r=ds(Error(o(421))))}return"$?"===a.data?(t.flags|=128,t.child=e.child,t=Cu.bind(null,e),a._reactRetry=t,null):(e=i.treeContext,ro=ua(a.nextSibling),no=t,ao=!0,oo=null,null!==e&&(Ka[Ha++]=Ja,Ka[Ha++]=Ga,Ka[Ha++]=Qa,Ja=e.id,Ga=e.overflow,Qa=t),t=Fs(t,r.children),t.flags|=4096,t)}(e,t,l,a,r,i,n);if(s){s=a.fallback,l=t.mode,r=(i=e.child).sibling;var u={mode:"hidden",children:a.children};return 0===(1&l)&&t.child!==i?((a=t.child).childLanes=0,a.pendingProps=u,t.deletions=null):(a=Ru(i,u)).subtreeFlags=14680064&i.subtreeFlags,null!==r?s=Ru(r,s):(s=zu(s,l,n,null)).flags|=2,s.return=t,a.return=t,a.sibling=s,t.child=a,a=s,s=t.child,l=null===(l=e.child.memoizedState)?js(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},s.memoizedState=l,s.childLanes=e.childLanes&~n,t.memoizedState=zs,a}return e=(s=e.child).sibling,a=Ru(s,{mode:"visible",children:a.children}),0===(1&t.mode)&&(a.lanes=n),a.return=t,a.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=a,t.memoizedState=null,a}function Fs(e,t){return(t=ju({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Us(e,t,n,r){return null!==r&&mo(r),Go(t,e.child,null,n),(e=Fs(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Bs(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),xo(e.return,t,n)}function Zs(e,t,n,r,a){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:a}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=a)}function Ws(e,t,n){var r=t.pendingProps,a=r.revealOrder,o=r.tail;if(ws(e,t,r.children,n),0!==(2&(r=li.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Bs(e,n,t);else if(19===e.tag)Bs(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Sa(li,r),0===(1&t.mode))t.memoizedState=null;else switch(a){case"forwards":for(n=t.child,a=null;null!==n;)null!==(e=n.alternate)&&null===ui(e)&&(a=n),n=n.sibling;null===(n=a)?(a=t.child,t.child=null):(a=n.sibling,n.sibling=null),Zs(t,!1,a,n,o);break;case"backwards":for(n=null,a=t.child,t.child=null;null!==a;){if(null!==(e=a.alternate)&&null===ui(e)){t.child=a;break}e=a.sibling,a.sibling=n,n=a,a=e}Zs(t,!0,n,null,o);break;case"together":Zs(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function qs(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Vs(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),jl|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=Ru(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Ru(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function $s(e,t){if(!ao)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ks(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var a=e.child;null!==a;)n|=a.lanes|a.childLanes,r|=14680064&a.subtreeFlags,r|=14680064&a.flags,a.return=e,a=a.sibling;else for(a=e.child;null!==a;)n|=a.lanes|a.childLanes,r|=a.subtreeFlags,r|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Hs(e,t,n){var r=t.pendingProps;switch(to(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ks(t),null;case 1:case 17:return Ma(t.type)&&Na(),Ks(t),null;case 3:return r=t.stateNode,oi(),Ea(Ta),Ea(Ca),di(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(po(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==oo&&(su(oo),oo=null))),Ns(e,t),Ks(t),null;case 5:si(t);var a=ri(ni.current);if(n=t.type,null!==e&&null!=t.stateNode)Rs(e,t,n,r,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(o(166));return Ks(t),null}if(e=ri(ei.current),po(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[pa]=t,r[fa]=i,e=0!==(1&t.mode),n){case"dialog":Fr("cancel",r),Fr("close",r);break;case"iframe":case"object":case"embed":Fr("load",r);break;case"video":case"audio":for(a=0;a<Dr.length;a++)Fr(Dr[a],r);break;case"source":Fr("error",r);break;case"img":case"image":case"link":Fr("error",r),Fr("load",r);break;case"details":Fr("toggle",r);break;case"input":J(r,i),Fr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Fr("invalid",r);break;case"textarea":ae(r,i),Fr("invalid",r)}for(var l in ye(n,i),a=null,i)if(i.hasOwnProperty(l)){var u=i[l];"children"===l?"string"===typeof u?r.textContent!==u&&(!0!==i.suppressHydrationWarning&&Yr(r.textContent,u,e),a=["children",u]):"number"===typeof u&&r.textContent!==""+u&&(!0!==i.suppressHydrationWarning&&Yr(r.textContent,u,e),a=["children",""+u]):s.hasOwnProperty(l)&&null!=u&&"onScroll"===l&&Fr("scroll",r)}switch(n){case"input":$(r),X(r,i,!0);break;case"textarea":$(r),ie(r);break;case"select":case"option":break;default:"function"===typeof i.onClick&&(r.onclick=Xr)}r=a,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===a.nodeType?a:a.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=se(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[pa]=t,e[fa]=r,Ms(e,t,!1,!1),t.stateNode=e;e:{switch(l=_e(n,r),n){case"dialog":Fr("cancel",e),Fr("close",e),a=r;break;case"iframe":case"object":case"embed":Fr("load",e),a=r;break;case"video":case"audio":for(a=0;a<Dr.length;a++)Fr(Dr[a],e);a=r;break;case"source":Fr("error",e),a=r;break;case"img":case"image":case"link":Fr("error",e),Fr("load",e),a=r;break;case"details":Fr("toggle",e),a=r;break;case"input":J(e,r),a=Q(e,r),Fr("invalid",e);break;case"option":default:a=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},a=j({},r,{value:void 0}),Fr("invalid",e);break;case"textarea":ae(e,r),a=re(e,r),Fr("invalid",e)}for(i in ye(n,a),u=a)if(u.hasOwnProperty(i)){var c=u[i];"style"===i?ge(e,c):"dangerouslySetInnerHTML"===i?null!=(c=c?c.__html:void 0)&&de(e,c):"children"===i?"string"===typeof c?("textarea"!==n||""!==c)&&pe(e,c):"number"===typeof c&&pe(e,""+c):"suppressContentEditableWarning"!==i&&"suppressHydrationWarning"!==i&&"autoFocus"!==i&&(s.hasOwnProperty(i)?null!=c&&"onScroll"===i&&Fr("scroll",e):null!=c&&_(e,i,c,l))}switch(n){case"input":$(e),X(e,r,!1);break;case"textarea":$(e),ie(e);break;case"option":null!=r.value&&e.setAttribute("value",""+q(r.value));break;case"select":e.multiple=!!r.multiple,null!=(i=r.value)?ne(e,!!r.multiple,i,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof a.onClick&&(e.onclick=Xr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Ks(t),null;case 6:if(e&&null!=t.stateNode)Ds(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(o(166));if(n=ri(ni.current),ri(ei.current),po(t)){if(r=t.stateNode,n=t.memoizedProps,r[pa]=t,(i=r.nodeValue!==n)&&null!==(e=no))switch(e.tag){case 3:Yr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Yr(r.nodeValue,n,0!==(1&e.mode))}i&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[pa]=t,t.stateNode=r}return Ks(t),null;case 13:if(Ea(li),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ao&&null!==ro&&0!==(1&t.mode)&&0===(128&t.flags))fo(),ho(),t.flags|=98560,i=!1;else if(i=po(t),null!==r&&null!==r.dehydrated){if(null===e){if(!i)throw Error(o(318));if(!(i=null!==(i=t.memoizedState)?i.dehydrated:null))throw Error(o(317));i[pa]=t}else ho(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Ks(t),i=!1}else null!==oo&&(su(oo),oo=null),i=!0;if(!i)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&li.current)?0===Dl&&(Dl=3):gu())),null!==t.updateQueue&&(t.flags|=4),Ks(t),null);case 4:return oi(),Ns(e,t),null===e&&Zr(t.stateNode.containerInfo),Ks(t),null;case 10:return Ao(t.type._context),Ks(t),null;case 19:if(Ea(li),null===(i=t.memoizedState))return Ks(t),null;if(r=0!==(128&t.flags),null===(l=i.rendering))if(r)$s(i,!1);else{if(0!==Dl||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=ui(e))){for(t.flags|=128,$s(i,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(i=n).flags&=14680066,null===(l=i.alternate)?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=l.childLanes,i.lanes=l.lanes,i.child=l.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=l.memoizedProps,i.memoizedState=l.memoizedState,i.updateQueue=l.updateQueue,i.type=l.type,e=l.dependencies,i.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Sa(li,1&li.current|2),t.child}e=e.sibling}null!==i.tail&&Ge()>Wl&&(t.flags|=128,r=!0,$s(i,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=ui(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),$s(i,!0),null===i.tail&&"hidden"===i.tailMode&&!l.alternate&&!ao)return Ks(t),null}else 2*Ge()-i.renderingStartTime>Wl&&1073741824!==n&&(t.flags|=128,r=!0,$s(i,!1),t.lanes=4194304);i.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=i.last)?n.sibling=l:t.child=l,i.last=l)}return null!==i.tail?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Ge(),t.sibling=null,n=li.current,Sa(li,r?1&n|2:1&n),t):(Ks(t),null);case 22:case 23:return pu(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Nl)&&(Ks(t),6&t.subtreeFlags&&(t.flags|=8192)):Ks(t),null;case 24:case 25:return null}throw Error(o(156,t.tag))}function Qs(e,t){switch(to(t),t.tag){case 1:return Ma(t.type)&&Na(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return oi(),Ea(Ta),Ea(Ca),di(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return si(t),null;case 13:if(Ea(li),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(o(340));ho()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ea(li),null;case 4:return oi(),null;case 10:return Ao(t.type._context),null;case 22:case 23:return pu(),null;default:return null}}Ms=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ns=function(){},Rs=function(e,t,n,r){var a=e.memoizedProps;if(a!==r){e=t.stateNode,ri(ei.current);var o,i=null;switch(n){case"input":a=Q(e,a),r=Q(e,r),i=[];break;case"select":a=j({},a,{value:void 0}),r=j({},r,{value:void 0}),i=[];break;case"textarea":a=re(e,a),r=re(e,r),i=[];break;default:"function"!==typeof a.onClick&&"function"===typeof r.onClick&&(e.onclick=Xr)}for(c in ye(n,r),n=null,a)if(!r.hasOwnProperty(c)&&a.hasOwnProperty(c)&&null!=a[c])if("style"===c){var l=a[c];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==c&&"children"!==c&&"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&"autoFocus"!==c&&(s.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in r){var u=r[c];if(l=null!=a?a[c]:void 0,r.hasOwnProperty(c)&&u!==l&&(null!=u||null!=l))if("style"===c)if(l){for(o in l)!l.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in u)u.hasOwnProperty(o)&&l[o]!==u[o]&&(n||(n={}),n[o]=u[o])}else n||(i||(i=[]),i.push(c,n)),n=u;else"dangerouslySetInnerHTML"===c?(u=u?u.__html:void 0,l=l?l.__html:void 0,null!=u&&l!==u&&(i=i||[]).push(c,u)):"children"===c?"string"!==typeof u&&"number"!==typeof u||(i=i||[]).push(c,""+u):"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&(s.hasOwnProperty(c)?(null!=u&&"onScroll"===c&&Fr("scroll",e),i||l===u||(i=[])):(i=i||[]).push(c,u))}n&&(i=i||[]).push("style",n);var c=i;(t.updateQueue=c)&&(t.flags|=4)}},Ds=function(e,t,n,r){n!==r&&(t.flags|=4)};var Js=!1,Gs=!1,Ys="function"===typeof WeakSet?WeakSet:Set,Xs=null;function el(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Eu(e,t,r)}else n.current=null}function tl(e,t,n){try{n()}catch(r){Eu(e,t,r)}}var nl=!1;function rl(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var a=r=r.next;do{if((a.tag&e)===e){var o=a.destroy;a.destroy=void 0,void 0!==o&&tl(t,n,o)}a=a.next}while(a!==r)}}function al(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function ol(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function il(e){var t=e.alternate;null!==t&&(e.alternate=null,il(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[pa],delete t[fa],delete t[ma],delete t[ga],delete t[va])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function sl(e){return 5===e.tag||3===e.tag||4===e.tag}function ll(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||sl(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ul(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Xr));else if(4!==r&&null!==(e=e.child))for(ul(e,t,n),e=e.sibling;null!==e;)ul(e,t,n),e=e.sibling}function cl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(cl(e,t,n),e=e.sibling;null!==e;)cl(e,t,n),e=e.sibling}var dl=null,pl=!1;function fl(e,t,n){for(n=n.child;null!==n;)hl(e,t,n),n=n.sibling}function hl(e,t,n){if(ot&&"function"===typeof ot.onCommitFiberUnmount)try{ot.onCommitFiberUnmount(at,n)}catch(s){}switch(n.tag){case 5:Gs||el(n,t);case 6:var r=dl,a=pl;dl=null,fl(e,t,n),pl=a,null!==(dl=r)&&(pl?(e=dl,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):dl.removeChild(n.stateNode));break;case 18:null!==dl&&(pl?(e=dl,n=n.stateNode,8===e.nodeType?la(e.parentNode,n):1===e.nodeType&&la(e,n),Zt(e)):la(dl,n.stateNode));break;case 4:r=dl,a=pl,dl=n.stateNode.containerInfo,pl=!0,fl(e,t,n),dl=r,pl=a;break;case 0:case 11:case 14:case 15:if(!Gs&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){a=r=r.next;do{var o=a,i=o.destroy;o=o.tag,void 0!==i&&(0!==(2&o)||0!==(4&o))&&tl(n,t,i),a=a.next}while(a!==r)}fl(e,t,n);break;case 1:if(!Gs&&(el(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){Eu(n,t,s)}fl(e,t,n);break;case 21:fl(e,t,n);break;case 22:1&n.mode?(Gs=(r=Gs)||null!==n.memoizedState,fl(e,t,n),Gs=r):fl(e,t,n);break;default:fl(e,t,n)}}function ml(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Ys),t.forEach((function(t){var r=Tu.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function gl(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var a=n[r];try{var i=e,s=t,l=s;e:for(;null!==l;){switch(l.tag){case 5:dl=l.stateNode,pl=!1;break e;case 3:case 4:dl=l.stateNode.containerInfo,pl=!0;break e}l=l.return}if(null===dl)throw Error(o(160));hl(i,s,a),dl=null,pl=!1;var u=a.alternate;null!==u&&(u.return=null),a.return=null}catch(c){Eu(a,t,c)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)vl(t,e),t=t.sibling}function vl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(gl(t,e),yl(e),4&r){try{rl(3,e,e.return),al(3,e)}catch(g){Eu(e,e.return,g)}try{rl(5,e,e.return)}catch(g){Eu(e,e.return,g)}}break;case 1:gl(t,e),yl(e),512&r&&null!==n&&el(n,n.return);break;case 5:if(gl(t,e),yl(e),512&r&&null!==n&&el(n,n.return),32&e.flags){var a=e.stateNode;try{pe(a,"")}catch(g){Eu(e,e.return,g)}}if(4&r&&null!=(a=e.stateNode)){var i=e.memoizedProps,s=null!==n?n.memoizedProps:i,l=e.type,u=e.updateQueue;if(e.updateQueue=null,null!==u)try{"input"===l&&"radio"===i.type&&null!=i.name&&G(a,i),_e(l,s);var c=_e(l,i);for(s=0;s<u.length;s+=2){var d=u[s],p=u[s+1];"style"===d?ge(a,p):"dangerouslySetInnerHTML"===d?de(a,p):"children"===d?pe(a,p):_(a,d,p,c)}switch(l){case"input":Y(a,i);break;case"textarea":oe(a,i);break;case"select":var f=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!i.multiple;var h=i.value;null!=h?ne(a,!!i.multiple,h,!1):f!==!!i.multiple&&(null!=i.defaultValue?ne(a,!!i.multiple,i.defaultValue,!0):ne(a,!!i.multiple,i.multiple?[]:"",!1))}a[fa]=i}catch(g){Eu(e,e.return,g)}}break;case 6:if(gl(t,e),yl(e),4&r){if(null===e.stateNode)throw Error(o(162));a=e.stateNode,i=e.memoizedProps;try{a.nodeValue=i}catch(g){Eu(e,e.return,g)}}break;case 3:if(gl(t,e),yl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Zt(t.containerInfo)}catch(g){Eu(e,e.return,g)}break;case 4:default:gl(t,e),yl(e);break;case 13:gl(t,e),yl(e),8192&(a=e.child).flags&&(i=null!==a.memoizedState,a.stateNode.isHidden=i,!i||null!==a.alternate&&null!==a.alternate.memoizedState||(Zl=Ge())),4&r&&ml(e);break;case 22:if(d=null!==n&&null!==n.memoizedState,1&e.mode?(Gs=(c=Gs)||d,gl(t,e),Gs=c):gl(t,e),yl(e),8192&r){if(c=null!==e.memoizedState,(e.stateNode.isHidden=c)&&!d&&0!==(1&e.mode))for(Xs=e,d=e.child;null!==d;){for(p=Xs=d;null!==Xs;){switch(h=(f=Xs).child,f.tag){case 0:case 11:case 14:case 15:rl(4,f,f.return);break;case 1:el(f,f.return);var m=f.stateNode;if("function"===typeof m.componentWillUnmount){r=f,n=f.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(g){Eu(r,n,g)}}break;case 5:el(f,f.return);break;case 22:if(null!==f.memoizedState){kl(p);continue}}null!==h?(h.return=f,Xs=h):kl(p)}d=d.sibling}e:for(d=null,p=e;;){if(5===p.tag){if(null===d){d=p;try{a=p.stateNode,c?"function"===typeof(i=a.style).setProperty?i.setProperty("display","none","important"):i.display="none":(l=p.stateNode,s=void 0!==(u=p.memoizedProps.style)&&null!==u&&u.hasOwnProperty("display")?u.display:null,l.style.display=me("display",s))}catch(g){Eu(e,e.return,g)}}}else if(6===p.tag){if(null===d)try{p.stateNode.nodeValue=c?"":p.memoizedProps}catch(g){Eu(e,e.return,g)}}else if((22!==p.tag&&23!==p.tag||null===p.memoizedState||p===e)&&null!==p.child){p.child.return=p,p=p.child;continue}if(p===e)break e;for(;null===p.sibling;){if(null===p.return||p.return===e)break e;d===p&&(d=null),p=p.return}d===p&&(d=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:gl(t,e),yl(e),4&r&&ml(e);case 21:}}function yl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(sl(n)){var r=n;break e}n=n.return}throw Error(o(160))}switch(r.tag){case 5:var a=r.stateNode;32&r.flags&&(pe(a,""),r.flags&=-33),cl(e,ll(e),a);break;case 3:case 4:var i=r.stateNode.containerInfo;ul(e,ll(e),i);break;default:throw Error(o(161))}}catch(s){Eu(e,e.return,s)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function _l(e,t,n){Xs=e,bl(e,t,n)}function bl(e,t,n){for(var r=0!==(1&e.mode);null!==Xs;){var a=Xs,o=a.child;if(22===a.tag&&r){var i=null!==a.memoizedState||Js;if(!i){var s=a.alternate,l=null!==s&&null!==s.memoizedState||Gs;s=Js;var u=Gs;if(Js=i,(Gs=l)&&!u)for(Xs=a;null!==Xs;)l=(i=Xs).child,22===i.tag&&null!==i.memoizedState?Al(a):null!==l?(l.return=i,Xs=l):Al(a);for(;null!==o;)Xs=o,bl(o,t,n),o=o.sibling;Xs=a,Js=s,Gs=u}wl(e)}else 0!==(8772&a.subtreeFlags)&&null!==o?(o.return=a,Xs=o):wl(e)}}function wl(e){for(;null!==Xs;){var t=Xs;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Gs||al(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Gs)if(null===n)r.componentDidMount();else{var a=t.elementType===t.type?n.memoizedProps:vo(t.type,n.memoizedProps);r.componentDidUpdate(a,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;null!==i&&Fo(t,i,r);break;case 3:var s=t.updateQueue;if(null!==s){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Fo(t,s,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var c=t.alternate;if(null!==c){var d=c.memoizedState;if(null!==d){var p=d.dehydrated;null!==p&&Zt(p)}}}break;default:throw Error(o(163))}Gs||512&t.flags&&ol(t)}catch(f){Eu(t,t.return,f)}}if(t===e){Xs=null;break}if(null!==(n=t.sibling)){n.return=t.return,Xs=n;break}Xs=t.return}}function kl(e){for(;null!==Xs;){var t=Xs;if(t===e){Xs=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Xs=n;break}Xs=t.return}}function Al(e){for(;null!==Xs;){var t=Xs;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{al(4,t)}catch(l){Eu(t,n,l)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var a=t.return;try{r.componentDidMount()}catch(l){Eu(t,a,l)}}var o=t.return;try{ol(t)}catch(l){Eu(t,o,l)}break;case 5:var i=t.return;try{ol(t)}catch(l){Eu(t,i,l)}}}catch(l){Eu(t,t.return,l)}if(t===e){Xs=null;break}var s=t.sibling;if(null!==s){s.return=t.return,Xs=s;break}Xs=t.return}}var xl,El=Math.ceil,Sl=b.ReactCurrentDispatcher,Il=b.ReactCurrentOwner,Cl=b.ReactCurrentBatchConfig,Tl=0,Ol=null,Pl=null,Ml=0,Nl=0,Rl=xa(0),Dl=0,zl=null,jl=0,Ll=0,Fl=0,Ul=null,Bl=null,Zl=0,Wl=1/0,ql=null,Vl=!1,$l=null,Kl=null,Hl=!1,Ql=null,Jl=0,Gl=0,Yl=null,Xl=-1,eu=0;function tu(){return 0!==(6&Tl)?Ge():-1!==Xl?Xl:Xl=Ge()}function nu(e){return 0===(1&e.mode)?1:0!==(2&Tl)&&0!==Ml?Ml&-Ml:null!==go.transition?(0===eu&&(eu=mt()),eu):0!==(e=_t)?e:e=void 0===(e=window.event)?16:Jt(e.type)}function ru(e,t,n,r){if(50<Gl)throw Gl=0,Yl=null,Error(o(185));vt(e,n,r),0!==(2&Tl)&&e===Ol||(e===Ol&&(0===(2&Tl)&&(Ll|=n),4===Dl&&lu(e,Ml)),au(e,r),1===n&&0===Tl&&0===(1&t.mode)&&(Wl=Ge()+500,Fa&&Za()))}function au(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,a=e.expirationTimes,o=e.pendingLanes;0<o;){var i=31-it(o),s=1<<i,l=a[i];-1===l?0!==(s&n)&&0===(s&r)||(a[i]=ft(s,t)):l<=t&&(e.expiredLanes|=s),o&=~s}}(e,t);var r=pt(e,e===Ol?Ml:0);if(0===r)null!==n&&He(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&He(n),1===t)0===e.tag?function(e){Fa=!0,Ba(e)}(uu.bind(null,e)):Ba(uu.bind(null,e)),ia((function(){0===(6&Tl)&&Za()})),n=null;else{switch(bt(r)){case 1:n=Xe;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Ou(n,ou.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ou(e,t){if(Xl=-1,eu=0,0!==(6&Tl))throw Error(o(327));var n=e.callbackNode;if(Au()&&e.callbackNode!==n)return null;var r=pt(e,e===Ol?Ml:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=vu(e,r);else{t=r;var a=Tl;Tl|=2;var i=mu();for(Ol===e&&Ml===t||(ql=null,Wl=Ge()+500,fu(e,t));;)try{_u();break}catch(l){hu(e,l)}ko(),Sl.current=i,Tl=a,null!==Pl?t=0:(Ol=null,Ml=0,t=Dl)}if(0!==t){if(2===t&&(0!==(a=ht(e))&&(r=a,t=iu(e,a))),1===t)throw n=zl,fu(e,0),lu(e,r),au(e,Ge()),n;if(6===t)lu(e,r);else{if(a=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var a=n[r],o=a.getSnapshot;a=a.value;try{if(!sr(o(),a))return!1}catch(s){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(a)&&(2===(t=vu(e,r))&&(0!==(i=ht(e))&&(r=i,t=iu(e,i))),1===t))throw n=zl,fu(e,0),lu(e,r),au(e,Ge()),n;switch(e.finishedWork=a,e.finishedLanes=r,t){case 0:case 1:throw Error(o(345));case 2:case 5:ku(e,Bl,ql);break;case 3:if(lu(e,r),(130023424&r)===r&&10<(t=Zl+500-Ge())){if(0!==pt(e,0))break;if(((a=e.suspendedLanes)&r)!==r){tu(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=ra(ku.bind(null,e,Bl,ql),t);break}ku(e,Bl,ql);break;case 4:if(lu(e,r),(4194240&r)===r)break;for(t=e.eventTimes,a=-1;0<r;){var s=31-it(r);i=1<<s,(s=t[s])>a&&(a=s),r&=~i}if(r=a,10<(r=(120>(r=Ge()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*El(r/1960))-r)){e.timeoutHandle=ra(ku.bind(null,e,Bl,ql),r);break}ku(e,Bl,ql);break;default:throw Error(o(329))}}}return au(e,Ge()),e.callbackNode===n?ou.bind(null,e):null}function iu(e,t){var n=Ul;return e.current.memoizedState.isDehydrated&&(fu(e,t).flags|=256),2!==(e=vu(e,t))&&(t=Bl,Bl=n,null!==t&&su(t)),e}function su(e){null===Bl?Bl=e:Bl.push.apply(Bl,e)}function lu(e,t){for(t&=~Fl,t&=~Ll,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-it(t),r=1<<n;e[n]=-1,t&=~r}}function uu(e){if(0!==(6&Tl))throw Error(o(327));Au();var t=pt(e,0);if(0===(1&t))return au(e,Ge()),null;var n=vu(e,t);if(0!==e.tag&&2===n){var r=ht(e);0!==r&&(t=r,n=iu(e,r))}if(1===n)throw n=zl,fu(e,0),lu(e,t),au(e,Ge()),n;if(6===n)throw Error(o(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,ku(e,Bl,ql),au(e,Ge()),null}function cu(e,t){var n=Tl;Tl|=1;try{return e(t)}finally{0===(Tl=n)&&(Wl=Ge()+500,Fa&&Za())}}function du(e){null!==Ql&&0===Ql.tag&&0===(6&Tl)&&Au();var t=Tl;Tl|=1;var n=Cl.transition,r=_t;try{if(Cl.transition=null,_t=1,e)return e()}finally{_t=r,Cl.transition=n,0===(6&(Tl=t))&&Za()}}function pu(){Nl=Rl.current,Ea(Rl)}function fu(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,aa(n)),null!==Pl)for(n=Pl.return;null!==n;){var r=n;switch(to(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Na();break;case 3:oi(),Ea(Ta),Ea(Ca),di();break;case 5:si(r);break;case 4:oi();break;case 13:case 19:Ea(li);break;case 10:Ao(r.type._context);break;case 22:case 23:pu()}n=n.return}if(Ol=e,Pl=e=Ru(e.current,null),Ml=Nl=t,Dl=0,zl=null,Fl=Ll=jl=0,Bl=Ul=null,null!==Io){for(t=0;t<Io.length;t++)if(null!==(r=(n=Io[t]).interleaved)){n.interleaved=null;var a=r.next,o=n.pending;if(null!==o){var i=o.next;o.next=a,r.next=i}n.pending=r}Io=null}return e}function hu(e,t){for(;;){var n=Pl;try{if(ko(),pi.current=is,yi){for(var r=mi.memoizedState;null!==r;){var a=r.queue;null!==a&&(a.pending=null),r=r.next}yi=!1}if(hi=0,vi=gi=mi=null,_i=!1,bi=0,Il.current=null,null===n||null===n.return){Dl=1,zl=t,Pl=null;break}e:{var i=e,s=n.return,l=n,u=t;if(t=Ml,l.flags|=32768,null!==u&&"object"===typeof u&&"function"===typeof u.then){var c=u,d=l,p=d.tag;if(0===(1&d.mode)&&(0===p||11===p||15===p)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var h=vs(s);if(null!==h){h.flags&=-257,ys(h,s,l,0,t),1&h.mode&&gs(i,c,t),u=c;var m=(t=h).updateQueue;if(null===m){var g=new Set;g.add(u),t.updateQueue=g}else m.add(u);break e}if(0===(1&t)){gs(i,c,t),gu();break e}u=Error(o(426))}else if(ao&&1&l.mode){var v=vs(s);if(null!==v){0===(65536&v.flags)&&(v.flags|=256),ys(v,s,l,0,t),mo(cs(u,l));break e}}i=u=cs(u,l),4!==Dl&&(Dl=2),null===Ul?Ul=[i]:Ul.push(i),i=s;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t,jo(i,hs(0,u,t));break e;case 1:l=u;var y=i.type,_=i.stateNode;if(0===(128&i.flags)&&("function"===typeof y.getDerivedStateFromError||null!==_&&"function"===typeof _.componentDidCatch&&(null===Kl||!Kl.has(_)))){i.flags|=65536,t&=-t,i.lanes|=t,jo(i,ms(i,l,t));break e}}i=i.return}while(null!==i)}wu(n)}catch(b){t=b,Pl===n&&null!==n&&(Pl=n=n.return);continue}break}}function mu(){var e=Sl.current;return Sl.current=is,null===e?is:e}function gu(){0!==Dl&&3!==Dl&&2!==Dl||(Dl=4),null===Ol||0===(268435455&jl)&&0===(268435455&Ll)||lu(Ol,Ml)}function vu(e,t){var n=Tl;Tl|=2;var r=mu();for(Ol===e&&Ml===t||(ql=null,fu(e,t));;)try{yu();break}catch(a){hu(e,a)}if(ko(),Tl=n,Sl.current=r,null!==Pl)throw Error(o(261));return Ol=null,Ml=0,Dl}function yu(){for(;null!==Pl;)bu(Pl)}function _u(){for(;null!==Pl&&!Qe();)bu(Pl)}function bu(e){var t=xl(e.alternate,e,Nl);e.memoizedProps=e.pendingProps,null===t?wu(e):Pl=t,Il.current=null}function wu(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Hs(n,t,Nl)))return void(Pl=n)}else{if(null!==(n=Qs(n,t)))return n.flags&=32767,void(Pl=n);if(null===e)return Dl=6,void(Pl=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Pl=t);Pl=t=e}while(null!==t);0===Dl&&(Dl=5)}function ku(e,t,n){var r=_t,a=Cl.transition;try{Cl.transition=null,_t=1,function(e,t,n,r){do{Au()}while(null!==Ql);if(0!==(6&Tl))throw Error(o(327));n=e.finishedWork;var a=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(o(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var a=31-it(n),o=1<<a;t[a]=0,r[a]=-1,e[a]=-1,n&=~o}}(e,i),e===Ol&&(Pl=Ol=null,Ml=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Hl||(Hl=!0,Ou(tt,(function(){return Au(),null}))),i=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||i){i=Cl.transition,Cl.transition=null;var s=_t;_t=1;var l=Tl;Tl|=4,Il.current=null,function(e,t){if(ea=qt,fr(e=pr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var a=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch(w){n=null;break e}var s=0,l=-1,u=-1,c=0,d=0,p=e,f=null;t:for(;;){for(var h;p!==n||0!==a&&3!==p.nodeType||(l=s+a),p!==i||0!==r&&3!==p.nodeType||(u=s+r),3===p.nodeType&&(s+=p.nodeValue.length),null!==(h=p.firstChild);)f=p,p=h;for(;;){if(p===e)break t;if(f===n&&++c===a&&(l=s),f===i&&++d===r&&(u=s),null!==(h=p.nextSibling))break;f=(p=f).parentNode}p=h}n=-1===l||-1===u?null:{start:l,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(ta={focusedElem:e,selectionRange:n},qt=!1,Xs=t;null!==Xs;)if(e=(t=Xs).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Xs=e;else for(;null!==Xs;){t=Xs;try{var m=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var g=m.memoizedProps,v=m.memoizedState,y=t.stateNode,_=y.getSnapshotBeforeUpdate(t.elementType===t.type?g:vo(t.type,g),v);y.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var b=t.stateNode.containerInfo;1===b.nodeType?b.textContent="":9===b.nodeType&&b.documentElement&&b.removeChild(b.documentElement);break;default:throw Error(o(163))}}catch(w){Eu(t,t.return,w)}if(null!==(e=t.sibling)){e.return=t.return,Xs=e;break}Xs=t.return}m=nl,nl=!1}(e,n),vl(n,e),hr(ta),qt=!!ea,ta=ea=null,e.current=n,_l(n,e,a),Je(),Tl=l,_t=s,Cl.transition=i}else e.current=n;if(Hl&&(Hl=!1,Ql=e,Jl=a),i=e.pendingLanes,0===i&&(Kl=null),function(e){if(ot&&"function"===typeof ot.onCommitFiberRoot)try{ot.onCommitFiberRoot(at,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),au(e,Ge()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)a=t[n],r(a.value,{componentStack:a.stack,digest:a.digest});if(Vl)throw Vl=!1,e=$l,$l=null,e;0!==(1&Jl)&&0!==e.tag&&Au(),i=e.pendingLanes,0!==(1&i)?e===Yl?Gl++:(Gl=0,Yl=e):Gl=0,Za()}(e,t,n,r)}finally{Cl.transition=a,_t=r}return null}function Au(){if(null!==Ql){var e=bt(Jl),t=Cl.transition,n=_t;try{if(Cl.transition=null,_t=16>e?16:e,null===Ql)var r=!1;else{if(e=Ql,Ql=null,Jl=0,0!==(6&Tl))throw Error(o(331));var a=Tl;for(Tl|=4,Xs=e.current;null!==Xs;){var i=Xs,s=i.child;if(0!==(16&Xs.flags)){var l=i.deletions;if(null!==l){for(var u=0;u<l.length;u++){var c=l[u];for(Xs=c;null!==Xs;){var d=Xs;switch(d.tag){case 0:case 11:case 15:rl(8,d,i)}var p=d.child;if(null!==p)p.return=d,Xs=p;else for(;null!==Xs;){var f=(d=Xs).sibling,h=d.return;if(il(d),d===c){Xs=null;break}if(null!==f){f.return=h,Xs=f;break}Xs=h}}}var m=i.alternate;if(null!==m){var g=m.child;if(null!==g){m.child=null;do{var v=g.sibling;g.sibling=null,g=v}while(null!==g)}}Xs=i}}if(0!==(2064&i.subtreeFlags)&&null!==s)s.return=i,Xs=s;else e:for(;null!==Xs;){if(0!==(2048&(i=Xs).flags))switch(i.tag){case 0:case 11:case 15:rl(9,i,i.return)}var y=i.sibling;if(null!==y){y.return=i.return,Xs=y;break e}Xs=i.return}}var _=e.current;for(Xs=_;null!==Xs;){var b=(s=Xs).child;if(0!==(2064&s.subtreeFlags)&&null!==b)b.return=s,Xs=b;else e:for(s=_;null!==Xs;){if(0!==(2048&(l=Xs).flags))try{switch(l.tag){case 0:case 11:case 15:al(9,l)}}catch(k){Eu(l,l.return,k)}if(l===s){Xs=null;break e}var w=l.sibling;if(null!==w){w.return=l.return,Xs=w;break e}Xs=l.return}}if(Tl=a,Za(),ot&&"function"===typeof ot.onPostCommitFiberRoot)try{ot.onPostCommitFiberRoot(at,e)}catch(k){}r=!0}return r}finally{_t=n,Cl.transition=t}}return!1}function xu(e,t,n){e=Do(e,t=hs(0,t=cs(n,t),1),1),t=tu(),null!==e&&(vt(e,1,t),au(e,t))}function Eu(e,t,n){if(3===e.tag)xu(e,e,n);else for(;null!==t;){if(3===t.tag){xu(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Kl||!Kl.has(r))){t=Do(t,e=ms(t,e=cs(n,e),1),1),e=tu(),null!==t&&(vt(t,1,e),au(t,e));break}}t=t.return}}function Su(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=tu(),e.pingedLanes|=e.suspendedLanes&n,Ol===e&&(Ml&n)===n&&(4===Dl||3===Dl&&(130023424&Ml)===Ml&&500>Ge()-Zl?fu(e,0):Fl|=n),au(e,t)}function Iu(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ct,0===(130023424&(ct<<=1))&&(ct=4194304)));var n=tu();null!==(e=Oo(e,t))&&(vt(e,t,n),au(e,n))}function Cu(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Iu(e,n)}function Tu(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,a=e.memoizedState;null!==a&&(n=a.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(o(314))}null!==r&&r.delete(t),Iu(e,n)}function Ou(e,t){return Ke(e,t)}function Pu(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Mu(e,t,n,r){return new Pu(e,t,n,r)}function Nu(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Ru(e,t){var n=e.alternate;return null===n?((n=Mu(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Du(e,t,n,r,a,i){var s=2;if(r=e,"function"===typeof e)Nu(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case A:return zu(n.children,a,i,t);case x:s=8,a|=8;break;case E:return(e=Mu(12,n,t,2|a)).elementType=E,e.lanes=i,e;case T:return(e=Mu(13,n,t,a)).elementType=T,e.lanes=i,e;case O:return(e=Mu(19,n,t,a)).elementType=O,e.lanes=i,e;case N:return ju(n,a,i,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case S:s=10;break e;case I:s=9;break e;case C:s=11;break e;case P:s=14;break e;case M:s=16,r=null;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=Mu(s,n,t,a)).elementType=e,t.type=r,t.lanes=i,t}function zu(e,t,n,r){return(e=Mu(7,e,r,t)).lanes=n,e}function ju(e,t,n,r){return(e=Mu(22,e,r,t)).elementType=N,e.lanes=n,e.stateNode={isHidden:!1},e}function Lu(e,t,n){return(e=Mu(6,e,null,t)).lanes=n,e}function Fu(e,t,n){return(t=Mu(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Uu(e,t,n,r,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=r,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function Bu(e,t,n,r,a,o,i,s,l){return e=new Uu(e,t,n,s,l),1===t?(t=1,!0===o&&(t|=8)):t=0,o=Mu(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Mo(o),e}function Zu(e){if(!e)return Ia;e:{if(Ze(e=e._reactInternals)!==e||1!==e.tag)throw Error(o(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ma(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(o(171))}if(1===e.tag){var n=e.type;if(Ma(n))return Da(e,n,t)}return t}function Wu(e,t,n,r,a,o,i,s,l){return(e=Bu(n,r,!0,e,0,o,0,s,l)).context=Zu(null),n=e.current,(o=Ro(r=tu(),a=nu(n))).callback=void 0!==t&&null!==t?t:null,Do(n,o,a),e.current.lanes=a,vt(e,a,r),au(e,r),e}function qu(e,t,n,r){var a=t.current,o=tu(),i=nu(a);return n=Zu(n),null===t.context?t.context=n:t.pendingContext=n,(t=Ro(o,i)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Do(a,t,i))&&(ru(e,a,i,o),zo(e,a,i)),i}function Vu(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function $u(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Ku(e,t){$u(e,t),(e=e.alternate)&&$u(e,t)}xl=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ta.current)bs=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return bs=!1,function(e,t,n){switch(t.tag){case 3:Os(t),ho();break;case 5:ii(t);break;case 1:Ma(t.type)&&za(t);break;case 4:ai(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,a=t.memoizedProps.value;Sa(yo,r._currentValue),r._currentValue=a;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Sa(li,1&li.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Ls(e,t,n):(Sa(li,1&li.current),null!==(e=Vs(e,t,n))?e.sibling:null);Sa(li,1&li.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Ws(e,t,n);t.flags|=128}if(null!==(a=t.memoizedState)&&(a.rendering=null,a.tail=null,a.lastEffect=null),Sa(li,li.current),r)break;return null;case 22:case 23:return t.lanes=0,Es(e,t,n)}return Vs(e,t,n)}(e,t,n);bs=0!==(131072&e.flags)}else bs=!1,ao&&0!==(1048576&t.flags)&&Xa(t,$a,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;qs(e,t),e=t.pendingProps;var a=Pa(t,Ca.current);Eo(t,n),a=xi(null,t,r,e,a,n);var i=Ei();return t.flags|=1,"object"===typeof a&&null!==a&&"function"===typeof a.render&&void 0===a.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ma(r)?(i=!0,za(t)):i=!1,t.memoizedState=null!==a.state&&void 0!==a.state?a.state:null,Mo(t),a.updater=Zo,t.stateNode=a,a._reactInternals=t,$o(t,r,e,n),t=Ts(null,t,r,!0,i,n)):(t.tag=0,ao&&i&&eo(t),ws(null,t,a,n),t=t.child),t;case 16:r=t.elementType;e:{switch(qs(e,t),e=t.pendingProps,r=(a=r._init)(r._payload),t.type=r,a=t.tag=function(e){if("function"===typeof e)return Nu(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===C)return 11;if(e===P)return 14}return 2}(r),e=vo(r,e),a){case 0:t=Is(null,t,r,e,n);break e;case 1:t=Cs(null,t,r,e,n);break e;case 11:t=ks(null,t,r,e,n);break e;case 14:t=As(null,t,r,vo(r.type,e),n);break e}throw Error(o(306,r,""))}return t;case 0:return r=t.type,a=t.pendingProps,Is(e,t,r,a=t.elementType===r?a:vo(r,a),n);case 1:return r=t.type,a=t.pendingProps,Cs(e,t,r,a=t.elementType===r?a:vo(r,a),n);case 3:e:{if(Os(t),null===e)throw Error(o(387));r=t.pendingProps,a=(i=t.memoizedState).element,No(e,t),Lo(t,r,null,n);var s=t.memoizedState;if(r=s.element,i.isDehydrated){if(i={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=i,t.memoizedState=i,256&t.flags){t=Ps(e,t,r,n,a=cs(Error(o(423)),t));break e}if(r!==a){t=Ps(e,t,r,n,a=cs(Error(o(424)),t));break e}for(ro=ua(t.stateNode.containerInfo.firstChild),no=t,ao=!0,oo=null,n=Yo(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(ho(),r===a){t=Vs(e,t,n);break e}ws(e,t,r,n)}t=t.child}return t;case 5:return ii(t),null===e&&uo(t),r=t.type,a=t.pendingProps,i=null!==e?e.memoizedProps:null,s=a.children,na(r,a)?s=null:null!==i&&na(r,i)&&(t.flags|=32),Ss(e,t),ws(e,t,s,n),t.child;case 6:return null===e&&uo(t),null;case 13:return Ls(e,t,n);case 4:return ai(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Go(t,null,r,n):ws(e,t,r,n),t.child;case 11:return r=t.type,a=t.pendingProps,ks(e,t,r,a=t.elementType===r?a:vo(r,a),n);case 7:return ws(e,t,t.pendingProps,n),t.child;case 8:case 12:return ws(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,a=t.pendingProps,i=t.memoizedProps,s=a.value,Sa(yo,r._currentValue),r._currentValue=s,null!==i)if(sr(i.value,s)){if(i.children===a.children&&!Ta.current){t=Vs(e,t,n);break e}}else for(null!==(i=t.child)&&(i.return=t);null!==i;){var l=i.dependencies;if(null!==l){s=i.child;for(var u=l.firstContext;null!==u;){if(u.context===r){if(1===i.tag){(u=Ro(-1,n&-n)).tag=2;var c=i.updateQueue;if(null!==c){var d=(c=c.shared).pending;null===d?u.next=u:(u.next=d.next,d.next=u),c.pending=u}}i.lanes|=n,null!==(u=i.alternate)&&(u.lanes|=n),xo(i.return,n,t),l.lanes|=n;break}u=u.next}}else if(10===i.tag)s=i.type===t.type?null:i.child;else if(18===i.tag){if(null===(s=i.return))throw Error(o(341));s.lanes|=n,null!==(l=s.alternate)&&(l.lanes|=n),xo(s,n,t),s=i.sibling}else s=i.child;if(null!==s)s.return=i;else for(s=i;null!==s;){if(s===t){s=null;break}if(null!==(i=s.sibling)){i.return=s.return,s=i;break}s=s.return}i=s}ws(e,t,a.children,n),t=t.child}return t;case 9:return a=t.type,r=t.pendingProps.children,Eo(t,n),r=r(a=So(a)),t.flags|=1,ws(e,t,r,n),t.child;case 14:return a=vo(r=t.type,t.pendingProps),As(e,t,r,a=vo(r.type,a),n);case 15:return xs(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:vo(r,a),qs(e,t),t.tag=1,Ma(r)?(e=!0,za(t)):e=!1,Eo(t,n),qo(t,r,a),$o(t,r,a,n),Ts(null,t,r,!0,e,n);case 19:return Ws(e,t,n);case 22:return Es(e,t,n)}throw Error(o(156,t.tag))};var Hu="function"===typeof reportError?reportError:function(e){console.error(e)};function Qu(e){this._internalRoot=e}function Ju(e){this._internalRoot=e}function Gu(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Yu(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Xu(){}function ec(e,t,n,r,a){var o=n._reactRootContainer;if(o){var i=o;if("function"===typeof a){var s=a;a=function(){var e=Vu(i);s.call(e)}}qu(t,i,e,a)}else i=function(e,t,n,r,a){if(a){if("function"===typeof r){var o=r;r=function(){var e=Vu(i);o.call(e)}}var i=Wu(t,r,e,0,null,!1,0,"",Xu);return e._reactRootContainer=i,e[ha]=i.current,Zr(8===e.nodeType?e.parentNode:e),du(),i}for(;a=e.lastChild;)e.removeChild(a);if("function"===typeof r){var s=r;r=function(){var e=Vu(l);s.call(e)}}var l=Bu(e,0,!1,null,0,!1,0,"",Xu);return e._reactRootContainer=l,e[ha]=l.current,Zr(8===e.nodeType?e.parentNode:e),du((function(){qu(t,l,n,r)})),l}(n,t,e,a,r);return Vu(i)}Ju.prototype.render=Qu.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(o(409));qu(e,t,null,null)},Ju.prototype.unmount=Qu.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;du((function(){qu(null,e,null,null)})),t[ha]=null}},Ju.prototype.unstable_scheduleHydration=function(e){if(e){var t=xt();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Nt.length&&0!==t&&t<Nt[n].priority;n++);Nt.splice(n,0,e),0===n&&jt(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=dt(t.pendingLanes);0!==n&&(yt(t,1|n),au(t,Ge()),0===(6&Tl)&&(Wl=Ge()+500,Za()))}break;case 13:du((function(){var t=Oo(e,1);if(null!==t){var n=tu();ru(t,e,1,n)}})),Ku(e,1)}},kt=function(e){if(13===e.tag){var t=Oo(e,134217728);if(null!==t)ru(t,e,134217728,tu());Ku(e,134217728)}},At=function(e){if(13===e.tag){var t=nu(e),n=Oo(e,t);if(null!==n)ru(n,e,t,tu());Ku(e,t)}},xt=function(){return _t},Et=function(e,t){var n=_t;try{return _t=e,t()}finally{_t=n}},ke=function(e,t,n){switch(t){case"input":if(Y(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var a=wa(r);if(!a)throw Error(o(90));K(r),Y(r,a)}}}break;case"textarea":oe(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ce=cu,Te=du;var tc={usingClientEntryPoint:!1,Events:[_a,ba,wa,Se,Ie,cu]},nc={findFiberByHostInstance:ya,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},rc={bundleType:nc.bundleType,version:nc.version,rendererPackageName:nc.rendererPackageName,rendererConfig:nc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ve(e))?null:e.stateNode},findFiberByHostInstance:nc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ac=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ac.isDisabled&&ac.supportsFiber)try{at=ac.inject(rc),ot=ac}catch(ce){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tc,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Gu(t))throw Error(o(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:k,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Gu(e))throw Error(o(299));var n=!1,r="",a=Hu;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(a=t.onRecoverableError)),t=Bu(e,1,!1,null,0,n,0,r,a),e[ha]=t.current,Zr(8===e.nodeType?e.parentNode:e),new Qu(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw e=Object.keys(e).join(","),Error(o(268,e))}return e=null===(e=Ve(t))?null:e.stateNode},t.flushSync=function(e){return du(e)},t.hydrate=function(e,t,n){if(!Yu(t))throw Error(o(200));return ec(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Gu(e))throw Error(o(405));var r=null!=n&&n.hydratedSources||null,a=!1,i="",s=Hu;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(a=!0),void 0!==n.identifierPrefix&&(i=n.identifierPrefix),void 0!==n.onRecoverableError&&(s=n.onRecoverableError)),t=Wu(t,null,e,1,null!=n?n:null,a,0,i,s),e[ha]=t.current,Zr(e),r)for(e=0;e<r.length;e++)a=(a=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,a]:t.mutableSourceEagerHydrationData.push(n,a);return new Ju(t)},t.render=function(e,t,n){if(!Yu(t))throw Error(o(200));return ec(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Yu(e))throw Error(o(40));return!!e._reactRootContainer&&(du((function(){ec(null,null,e,!1,(function(){e._reactRootContainer=null,e[ha]=null}))})),!0)},t.unstable_batchedUpdates=cu,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Yu(n))throw Error(o(200));if(null==e||void 0===e._reactInternals)throw Error(o(38));return ec(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},391:(e,t,n)=>{"use strict";var r=n(950);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},950:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(730)},686:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=s(n(173)),o=n(43),i=s(o);function s(e){return e&&e.__esModule?e:{default:e}}var l={bgColor:a.default.oneOfType([a.default.object,a.default.string]).isRequired,bgD:a.default.string.isRequired,fgColor:a.default.oneOfType([a.default.object,a.default.string]).isRequired,fgD:a.default.string.isRequired,size:a.default.number.isRequired,title:a.default.string,viewBoxSize:a.default.number.isRequired,xmlns:a.default.string},u=(0,o.forwardRef)((function(e,t){var n=e.bgColor,a=e.bgD,o=e.fgD,s=e.fgColor,l=e.size,u=e.title,c=e.viewBoxSize,d=e.xmlns,p=void 0===d?"http://www.w3.org/2000/svg":d,f=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["bgColor","bgD","fgD","fgColor","size","title","viewBoxSize","xmlns"]);return i.default.createElement("svg",r({},f,{height:l,ref:t,viewBox:"0 0 "+c+" "+c,width:l,xmlns:p}),u?i.default.createElement("title",null,u):null,i.default.createElement("path",{d:a,fill:n}),i.default.createElement("path",{d:o,fill:s}))}));u.displayName="QRCodeSvg",u.propTypes=l,t.default=u},245:(e,t,n)=>{"use strict";var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=c(n(173)),o=c(n(742)),i=c(n(612)),s=n(43),l=c(s),u=c(n(686));function c(e){return e&&e.__esModule?e:{default:e}}var d={bgColor:a.default.oneOfType([a.default.object,a.default.string]),fgColor:a.default.oneOfType([a.default.object,a.default.string]),level:a.default.string,size:a.default.number,value:a.default.string.isRequired},p=(0,s.forwardRef)((function(e,t){var n=e.bgColor,a=void 0===n?"#FFFFFF":n,s=e.fgColor,c=void 0===s?"#000000":s,d=e.level,p=void 0===d?"L":d,f=e.size,h=void 0===f?256:f,m=e.value,g=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["bgColor","fgColor","level","size","value"]),v=new i.default(-1,o.default[p]);v.addData(m),v.make();var y=v.modules;return l.default.createElement(u.default,r({},g,{bgColor:a,bgD:y.map((function(e,t){return e.map((function(e,n){return e?"":"M "+n+" "+t+" l 1 0 0 1 -1 0 Z"})).join(" ")})).join(" "),fgColor:c,fgD:y.map((function(e,t){return e.map((function(e,n){return e?"M "+n+" "+t+" l 1 0 0 1 -1 0 Z":""})).join(" ")})).join(" "),ref:t,size:h,viewBoxSize:y.length}))}));p.displayName="QRCode",p.propTypes=d,t.Ay=p},153:(e,t,n)=>{"use strict";var r=n(43),a=Symbol.for("react.element"),o=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function u(e,t,n){var r,o={},u=null,c=null;for(r in void 0!==n&&(u=""+n),void 0!==t.key&&(u=""+t.key),void 0!==t.ref&&(c=t.ref),t)i.call(t,r)&&!l.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===o[r]&&(o[r]=t[r]);return{$$typeof:a,type:e,key:u,ref:c,props:o,_owner:s.current}}t.Fragment=o,t.jsx=u,t.jsxs=u},202:(e,t)=>{"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),f=Symbol.iterator;var h={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function v(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||h}function y(){}function _(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||h}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=v.prototype;var b=_.prototype=new y;b.constructor=_,m(b,v.prototype),b.isPureReactComponent=!0;var w=Array.isArray,k=Object.prototype.hasOwnProperty,A={current:null},x={key:!0,ref:!0,__self:!0,__source:!0};function E(e,t,r){var a,o={},i=null,s=null;if(null!=t)for(a in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(i=""+t.key),t)k.call(t,a)&&!x.hasOwnProperty(a)&&(o[a]=t[a]);var l=arguments.length-2;if(1===l)o.children=r;else if(1<l){for(var u=Array(l),c=0;c<l;c++)u[c]=arguments[c+2];o.children=u}if(e&&e.defaultProps)for(a in l=e.defaultProps)void 0===o[a]&&(o[a]=l[a]);return{$$typeof:n,type:e,key:i,ref:s,props:o,_owner:A.current}}function S(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var I=/\/+/g;function C(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function T(e,t,a,o,i){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var l=!1;if(null===e)l=!0;else switch(s){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return i=i(l=e),e=""===o?"."+C(l,0):o,w(i)?(a="",null!=e&&(a=e.replace(I,"$&/")+"/"),T(i,t,a,"",(function(e){return e}))):null!=i&&(S(i)&&(i=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(i,a+(!i.key||l&&l.key===i.key?"":(""+i.key).replace(I,"$&/")+"/")+e)),t.push(i)),1;if(l=0,o=""===o?".":o+":",w(e))for(var u=0;u<e.length;u++){var c=o+C(s=e[u],u);l+=T(s,t,a,c,i)}else if(c=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"===typeof c)for(e=c.call(e),u=0;!(s=e.next()).done;)l+=T(s=s.value,t,a,c=o+C(s,u++),i);else if("object"===s)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function O(e,t,n){if(null==e)return e;var r=[],a=0;return T(e,r,"","",(function(e){return t.call(n,e,a++)})),r}function P(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var M={current:null},N={transition:null},R={ReactCurrentDispatcher:M,ReactCurrentBatchConfig:N,ReactCurrentOwner:A};t.Children={map:O,forEach:function(e,t,n){O(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return O(e,(function(){t++})),t},toArray:function(e){return O(e,(function(e){return e}))||[]},only:function(e){if(!S(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=v,t.Fragment=a,t.Profiler=i,t.PureComponent=_,t.StrictMode=o,t.Suspense=c,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=R,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var a=m({},e.props),o=e.key,i=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(i=t.ref,s=A.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(u in t)k.call(t,u)&&!x.hasOwnProperty(u)&&(a[u]=void 0===t[u]&&void 0!==l?l[u]:t[u])}var u=arguments.length-2;if(1===u)a.children=r;else if(1<u){l=Array(u);for(var c=0;c<u;c++)l[c]=arguments[c+2];a.children=l}return{$$typeof:n,type:e.type,key:o,ref:i,props:a,_owner:s}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=E,t.createFactory=function(e){var t=E.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:u,render:e}},t.isValidElement=S,t.lazy=function(e){return{$$typeof:p,_payload:{_status:-1,_result:e},_init:P}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=N.transition;N.transition={};try{e()}finally{N.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return M.current.useCallback(e,t)},t.useContext=function(e){return M.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return M.current.useDeferredValue(e)},t.useEffect=function(e,t){return M.current.useEffect(e,t)},t.useId=function(){return M.current.useId()},t.useImperativeHandle=function(e,t,n){return M.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return M.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return M.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return M.current.useMemo(e,t)},t.useReducer=function(e,t,n){return M.current.useReducer(e,t,n)},t.useRef=function(e){return M.current.useRef(e)},t.useState=function(e){return M.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return M.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return M.current.useTransition()},t.version="18.2.0"},43:(e,t,n)=>{"use strict";e.exports=n(202)},579:(e,t,n)=>{"use strict";e.exports=n(153)},234:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,a=e[r];if(!(0<o(a,t)))break e;e[r]=t,e[n]=a,n=r}}function r(e){return 0===e.length?null:e[0]}function a(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,a=e.length,i=a>>>1;r<i;){var s=2*(r+1)-1,l=e[s],u=s+1,c=e[u];if(0>o(l,n))u<a&&0>o(c,l)?(e[r]=c,e[u]=n,r=u):(e[r]=l,e[s]=n,r=s);else{if(!(u<a&&0>o(c,n)))break e;e[r]=c,e[u]=n,r=u}}}return t}function o(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var i=performance;t.unstable_now=function(){return i.now()}}else{var s=Date,l=s.now();t.unstable_now=function(){return s.now()-l}}var u=[],c=[],d=1,p=null,f=3,h=!1,m=!1,g=!1,v="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,_="undefined"!==typeof setImmediate?setImmediate:null;function b(e){for(var t=r(c);null!==t;){if(null===t.callback)a(c);else{if(!(t.startTime<=e))break;a(c),t.sortIndex=t.expirationTime,n(u,t)}t=r(c)}}function w(e){if(g=!1,b(e),!m)if(null!==r(u))m=!0,N(k);else{var t=r(c);null!==t&&R(w,t.startTime-e)}}function k(e,n){m=!1,g&&(g=!1,y(S),S=-1),h=!0;var o=f;try{for(b(n),p=r(u);null!==p&&(!(p.expirationTime>n)||e&&!T());){var i=p.callback;if("function"===typeof i){p.callback=null,f=p.priorityLevel;var s=i(p.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?p.callback=s:p===r(u)&&a(u),b(n)}else a(u);p=r(u)}if(null!==p)var l=!0;else{var d=r(c);null!==d&&R(w,d.startTime-n),l=!1}return l}finally{p=null,f=o,h=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var A,x=!1,E=null,S=-1,I=5,C=-1;function T(){return!(t.unstable_now()-C<I)}function O(){if(null!==E){var e=t.unstable_now();C=e;var n=!0;try{n=E(!0,e)}finally{n?A():(x=!1,E=null)}}else x=!1}if("function"===typeof _)A=function(){_(O)};else if("undefined"!==typeof MessageChannel){var P=new MessageChannel,M=P.port2;P.port1.onmessage=O,A=function(){M.postMessage(null)}}else A=function(){v(O,0)};function N(e){E=e,x||(x=!0,A())}function R(e,n){S=v((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||h||(m=!0,N(k))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(u)},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,a,o){var i=t.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?i+o:i:o=i,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:d++,callback:a,priorityLevel:e,startTime:o,expirationTime:s=o+s,sortIndex:-1},o>i?(e.sortIndex=o,n(c,e),null===r(u)&&e===r(c)&&(g?(y(S),S=-1):g=!0,R(w,o-i))):(e.sortIndex=s,n(u,e),m||h||(m=!0,N(k))),e},t.unstable_shouldYield=T,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},853:(e,t,n)=>{"use strict";e.exports=n(234)},50:()=>{},555:(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function a(e){var t=function(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t||"default");if("object"!=r(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==r(t)?t:t+""}function o(e,t,n){return(t=a(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}n.d(t,{A:()=>s})}},__webpack_module_cache__={};function __webpack_require__(e){var t=__webpack_module_cache__[e];if(void 0!==t)return t.exports;var n=__webpack_module_cache__[e]={exports:{}};return __webpack_modules__[e](n,n.exports,__webpack_require__),n.exports}__webpack_require__.m=__webpack_modules__,__webpack_require__.d=(e,t)=>{for(var n in t)__webpack_require__.o(t,n)&&!__webpack_require__.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},__webpack_require__.f={},__webpack_require__.e=e=>Promise.all(Object.keys(__webpack_require__.f).reduce(((t,n)=>(__webpack_require__.f[n](e,t),t)),[])),__webpack_require__.u=e=>"static/js/"+e+".ad07704e.chunk.js",__webpack_require__.miniCssF=e=>{},__webpack_require__.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),__webpack_require__.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="dinner-debt:";__webpack_require__.l=(n,r,a,o)=>{if(e[n])e[n].push(r);else{var i,s;if(void 0!==a)for(var l=document.getElementsByTagName("script"),u=0;u<l.length;u++){var c=l[u];if(c.getAttribute("src")==n||c.getAttribute("data-webpack")==t+a){i=c;break}}i||(s=!0,(i=document.createElement("script")).charset="utf-8",i.timeout=120,__webpack_require__.nc&&i.setAttribute("nonce",__webpack_require__.nc),i.setAttribute("data-webpack",t+a),i.src=n),e[n]=[r];var d=(t,r)=>{i.onerror=i.onload=null,clearTimeout(p);var a=e[n];if(delete e[n],i.parentNode&&i.parentNode.removeChild(i),a&&a.forEach((e=>e(r))),t)return t(r)},p=setTimeout(d.bind(null,void 0,{type:"timeout",target:i}),12e4);i.onerror=d.bind(null,i.onerror),i.onload=d.bind(null,i.onload),s&&document.head.appendChild(i)}}})(),__webpack_require__.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},__webpack_require__.p="/dinner-debt/",(()=>{var e={792:0};__webpack_require__.f.j=(t,n)=>{var r=__webpack_require__.o(e,t)?e[t]:void 0;if(0!==r)if(r)n.push(r[2]);else{var a=new Promise(((n,a)=>r=e[t]=[n,a]));n.push(r[2]=a);var o=__webpack_require__.p+__webpack_require__.u(t),i=new Error;__webpack_require__.l(o,(n=>{if(__webpack_require__.o(e,t)&&(0!==(r=e[t])&&(e[t]=void 0),r)){var a=n&&("load"===n.type?"missing":n.type),o=n&&n.target&&n.target.src;i.message="Loading chunk "+t+" failed.\n("+a+": "+o+")",i.name="ChunkLoadError",i.type=a,i.request=o,r[1](i)}}),"chunk-"+t,t)}};var t=(t,n)=>{var r,a,o=n[0],i=n[1],s=n[2],l=0;if(o.some((t=>0!==e[t]))){for(r in i)__webpack_require__.o(i,r)&&(__webpack_require__.m[r]=i[r]);if(s)s(__webpack_require__)}for(t&&t(n);l<o.length;l++)a=o[l],__webpack_require__.o(e,a)&&e[a]&&e[a][0](),e[a]=0},n=self.webpackChunkdinner_debt=self.webpackChunkdinner_debt||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})();var __webpack_exports__={};(()=>{"use strict";var e=__webpack_require__(43),t=__webpack_require__(391),n=__webpack_require__(772);const r=e=>{e&&e instanceof Function&&__webpack_require__.e(453).then(__webpack_require__.bind(__webpack_require__,453)).then((t=>{let{getCLS:n,getFID:r,getFCP:a,getLCP:o,getTTFB:i}=t;n(e),r(e),a(e),o(e),i(e)}))};var a=__webpack_require__(579);t.createRoot(document.getElementById("root")).render((0,a.jsx)(e.StrictMode,{children:(0,a.jsx)(n.A,{})})),r()})()})();
//# sourceMappingURL=main.0c56caf0.js.map